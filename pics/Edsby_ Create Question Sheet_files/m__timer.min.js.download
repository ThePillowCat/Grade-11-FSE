/*
Copyright CoreFour Inc.
Version: baf4caef7b0dd7471dd76c3dc5db25e58fe75145ce31e12f9f3da02c27b2a1fb
Compiled: 1674920008
*/
cf.resources.confirm("m__timer", function(){

/*timer*/
"use strict";cf.module("timer",function(t,e,a){var r=function(t,e){var a,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(""===e)return!1;if(i){a=0,r=e.split(":");for(var n=0;n<t.format.length;n++)"h"===t.format[n].charAt(0).toLowerCase()?a+=3600*parseInt(r[n]):"m"===t.format[n].charAt(0).toLowerCase()?a+=60*parseInt(r[n]):"s"===t.format[n].charAt(0).toLowerCase()&&(a+=parseInt(r[n]))}else{var s=~~((r=parseInt(e))/3600),o=~~(r%3600/60),c=~~r%60;a="",s>0&&(a+=s+":"+(o<10?"0":"")),a+=o+":"+(c<10?"0":""),a+=""+c}return a},i={time: function  timer_time(t){var e=t.state.get("currentTime")||t.data,a=t.state.peek("timeroptions");!1===e&&t.exitBlank(),t.displayVal=r(a,e,!1)},timer: function  timer_timer(t){t.xds.scopeState=!0;var e={startTime:t.state.get("tstart"),duration:t.state.get("tduration")||"00:00:00",ascending:t.state.get(t.arg("tascending"))||!0,format:(t.state.get(t.arg("tformat"))||"hh:mm:ss").split(":"),active:t.state.get("tactive")||!1,global:t.state.get(t.arg("tglobal"))||!1,alertText:t.state.get(t.arg("talerttext"))||""};t.state.set("timeroptions",e);var a,n=0,s=t.state.get("tstart");s&&(n=r(e,s)),t.on("xds-removed",function(t,e,a){t.exit()}),t.state.set("currentTime",n);t.on("timerActivate",function(t,r,s){e.active=!0,function(t){t.state.set("currentTime",n),i.timerMark=setInterval(function(){if(e.active){if(n=o(n),e.ascending&&a?n>a&&t.addStyle("color","#931506"):!e.ascending&&e.alertText&&n<a&&t.addStyle("color","#931506"),n<0)return;t.state.set("currentTime",n)}},1e3)}(t)}),t.on("timerDeactivate",function(t,a,r){e.active=!1,clearTimeout(i.timerMark)}),t.on("timerReset",function(t,a,r){e.duration=t.state.get("tduration")||"00:00:00",e.ascending=t.state.get(t.arg("tascending"))||!0,e.format=(t.state.get(t.arg("tformat"))||"hh:mm:ss").split(":"),e.active=t.state.get("tactive")||!1,e.global=t.state.get(t.arg("tglobal"))||!1,e.alertText=t.state.get(t.arg("talerttext"))||""}),t.on("timerDeactivateAndExit",function(t,a,r){e.active=!1,clearTimeout(i.timerMark),t.exit()});var o=function(t){if(!e.global)return e.ascending?parseInt(t)+1:parseInt(t)-1;e.ascending};t.ready(function(t){n=r(e,e.duration),a=r(e,e.alertText)}),t.addChild({id:"time",type:"timer.time",sparse:!0})}};return t.timer=i,i});
});