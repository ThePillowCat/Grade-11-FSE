/*
Copyright CoreFour Inc.
Version: baf4caef7b0dd7471dd76c3dc5db25e58fe75145ce31e12f9f3da02c27b2a1fb
Compiled: 1674919995
*/
cf.resources.confirm("m__searchutils-groupRecommender", function(){

/*searchutils*/
"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],a=!0,r=!1,o=void 0;try{for(var i,g=t[Symbol.iterator]();!(a=(i=g.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){r=!0,o=t}finally{try{a||null==g.return||g.return()}finally{if(r)throw o}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}cf.module("searchutils",function(t){var e={types:{aggregationResult: function  searchutils_aggregationResult(e){if(e.inherit("div"),t.is_obj(e.data)){for(var n=[],a=Object.entries(e.data),r=0;r<a.length;r++){var o=_slicedToArray(a[r],2),i=o[0],g=o[1],s=t.lookup("nt",i);s&&s.string&&n.push(g+" "+s.str()+(g>1?"s":""))}e.displayVal=n.join(", ")}},collatedAggregations: function  searchutils_collatedAggregations(e){var n=t.lookup("SearchGroups"),a={},r={};for(var o in n)if("_reverse"!==o){for(var i=o.split(","),g=0;g<i.length;g++)a[i[g]]=n[o];r[n[o].params.id]=n[o]}e.inherit("div");var s={};if(t.is_obj(e.data))for(var d=Object.entries(e.data),l=0;l<d.length;l++){var p=_slicedToArray(d[l],2),_=p[0],c=p[1],v=a[_];v&&(s[v.params.id]||(s[v.params.id]=0),s[v.params.id]=s[v.params.id]+c)}var u=[];for(var m in s){var x=r[m],h=x.params.title;s[m]>1&&x.params.titleMulti&&(h=x.params.titleMulti),u.push("".concat(s[m]," ").concat(h))}e.displayVal=u.join(", ")}},events:{do_full_search: function  searchutils_do_full_search(t,e,n){t.newEvent("loadPage",{xds:t.get_arg("xds"),pattern:escape(t.get_setting("pattern"))})},open_container: function  searchutils_open_container(t,e,n){!t.state.get("member")&&t.state.get("invitation")?(t.e.stopPropagation(),t.newEvent("lightbox",{xds:t.get_arg("xdsKnock"),noPath:!0})):(t.e.stopPropagation(),t.newEvent("loadPage",{xds:t.get_arg("xdsView")}))},open_document: function  searchutils_open_document(t){var n=t.nt("rnode"),a=t.get_val("nodetype","rnode");e.events.open_document_call(t,a,n)},open_document_call: function  searchutils_open_document_call(e,n,a){e.state.get("ptype")===t.nt.Container.Application()?(e.e.stopPropagation(),e.newEvent("loadPage",{xds:e.get_val("pname"),nid:e.get_val("pnid")})):!e.get_val("member")&&e.get_val("invitation")&&n==t.nt.Container()&&e.get_arg("xdsKnock")?e.newEvent("lightbox",{xds:e.get_arg("xdsKnock"),noPath:!0,vpatt:e.get_setting("pattern")}):a==t.nt.Document.Form()&&e.get_arg("xdsKnowledge")?e.newEvent("loadPage",{nid:e.get_val("pnid"),xds:e.get_arg("xdsKnowledge"),targetNID:e.nid(),vpatt:e.get_setting("pattern")}):[t.nt.Document.Content(),t.nt.Document.Section(),t.nt.Document.Link()].includes(a)&&e.get_arg("xdsContent")?e.newEvent("loadPage",{nid:e.get_val("pnid"),xds:e.get_arg("xdsContent"),targetNID:e.nid(),vpatt:e.get_setting("pattern")}):a===t.nt.Document.ReportComment()&&e.get_arg("xdsReportComment")?(e.e.stopPropagation(),e.newEvent("loadPage",{xds:e.get_arg("xdsReportComment"),nid:e.get_val("pnid"),targetNID:e.nid()})):a===t.nt.Document.LearningObject()&&e.get_arg("xdsLearningObject")?(e.e.stopPropagation(),e.newEvent("lightbox",{xds:e.get_arg("xdsLearningObject"),nid:e.get_val("pnid"),targetNID:e.nid(),thread:e.get_val("thread")||e.nid(),vpatt:e.get_setting("pattern")})):[t.nt.Document.Form(),t.nt.Document.Poll(),t.nt.Document.ReportComment()].includes(a)||[t.nt.Message(),t.nt.User(),t.nt.Group(),t.nt.Container()].includes(n)||!e.get_arg("xdsLightbox")?a==t.nt.Message.News()&&e.get_arg("xdsNews")?e.newEvent("lightbox",{xds:e.get_arg("xdsNews"),vpatt:e.get_setting("pattern"),nid:e.nid()}):(n==t.nt.Message()&&a!=t.nt.Message.News()||a==t.nt.Document.Poll())&&e.get_arg("xdsThread")?e.newEvent("lightbox",{xds:e.get_arg("xdsThread"),vpatt:e.get_setting("pattern"),nid:e.get_val("pnid"),thread:e.get_val("thread")||e.nid(),noPath:!0,targetNid:e.nid()}):a!=t.nt.Document.ReportComment()&&e.get_arg("xdsView")&&e.newEvent("loadPage",{xds:e.get_arg("xdsView"),vpatt:e.get_setting("pattern")}):e.newEvent("lightbox",{xds:e.get_arg("xdsLightbox"),vpatt:e.get_setting("pattern"),nid:e.get_val("pnid")+"/"+e.nid()})},open_document_state: function  searchutils_open_document_state(t,n,a){var r=""+t.state.get("nodetype"),o=[r,t.state.get("nodesubtype")].join(".");e.events.open_document_call(t,r,o)}}};return e});

/*groupRecommender*/
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cf.resource("groupRecommender",function(t,e,o){return new(function(e){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,_getPrototypeOf(o).call(this,"groupRecommender",{lastActive:function(e){var o,n,r=e.data.hour||0,i=e.data.day||0,c=e.data.week||0;r>0?(o="var(--ui-presence-online)",n=t.lang("Trending")):i>0?(o="var(--ui-presence-online)",n=t.lang("Active today")):c>0&&(o="var(--ui-presence-recent)",n=t.lang("Active this week")),e.addStyle({color:o}),e.addChild({id:"laicon",type:"fa.icon",icon:"circle",fa_class:"fas",_styles:[{styles:{display:"inline-block","font-size":"8px","margin-right":"5px"}}]}),o&&(e.data.latext=n,e.addChild({id:"latext",cdid:"latext",sparse:"true"}))}},{myevent:function(t){}},{},{},{}))}return _inherits(o,t.classes.XDSResource),o}())});
});