function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function e(t,a,i){function n(o,s){if(!a[o]){if(!t[o]){var d="function"==typeof require&&require;if(!s&&d)return d(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=a[o]={exports:{}};t[o][0].call(c.exports,function(e){return n(t[o][1][e]||e)},c,c.exports,e,t,a,i)}return a[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e,t,a){e(276),e(212),e(214),e(213),e(216),e(218),e(223),e(217),e(215),e(225),e(224),e(220),e(221),e(219),e(211),e(222),e(226),e(227),e(178),e(180),e(179),e(229),e(228),e(199),e(209),e(210),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(263),e(268),e(275),e(266),e(258),e(259),e(264),e(269),e(271),e(254),e(255),e(256),e(257),e(260),e(261),e(262),e(265),e(267),e(270),e(272),e(273),e(274),e(173),e(175),e(174),e(177),e(176),e(161),e(159),e(166),e(163),e(169),e(171),e(158),e(165),e(155),e(170),e(153),e(168),e(167),e(160),e(164),e(152),e(154),e(157),e(156),e(172),e(162),e(245),e(246),e(252),e(247),e(248),e(249),e(250),e(251),e(230),e(181),e(253),e(288),e(289),e(277),e(278),e(283),e(286),e(287),e(281),e(284),e(282),e(285),e(279),e(280),e(231),e(232),e(233),e(234),e(235),e(238),e(236),e(237),e(239),e(240),e(241),e(242),e(244),e(243),t.exports=e(50)},{152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,50:50}],2:[function(e,t,a){e(290),t.exports=e(50).Array.flatMap},{290:290,50:50}],3:[function(e,t,a){e(291),t.exports=e(50).Array.includes},{291:291,50:50}],4:[function(e,t,a){e(292),t.exports=e(50).Object.entries},{292:292,50:50}],5:[function(e,t,a){e(293),t.exports=e(50).Object.getOwnPropertyDescriptors},{293:293,50:50}],6:[function(e,t,a){e(294),t.exports=e(50).Object.values},{294:294,50:50}],7:[function(e,t,a){"use strict";e(230),e(295),t.exports=e(50).Promise.finally},{230:230,295:295,50:50}],8:[function(e,t,a){e(296),t.exports=e(50).String.padEnd},{296:296,50:50}],9:[function(e,t,a){e(297),t.exports=e(50).String.padStart},{297:297,50:50}],10:[function(e,t,a){e(299),t.exports=e(50).String.trimRight},{299:299,50:50}],11:[function(e,t,a){e(298),t.exports=e(50).String.trimLeft},{298:298,50:50}],12:[function(e,t,a){e(300),t.exports=e(149).f("asyncIterator")},{149:149,300:300}],13:[function(e,t,a){e(30),t.exports=e(16).global},{16:16,30:30}],14:[function(e,t,a){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],15:[function(e,t,a){var i=e(26);t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{26:26}],16:[function(e,t,a){var i=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},{}],17:[function(e,t,a){var i=e(14);t.exports=function(e,t,a){if(i(e),void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,i){return e.call(t,a,i)};case 3:return function(a,i,n){return e.call(t,a,i,n)}}return function(){return e.apply(t,arguments)}}},{14:14}],18:[function(e,t,a){t.exports=!e(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{21:21}],19:[function(e,t,a){var i=e(26),n=e(22).document,r=i(n)&&i(n.createElement);t.exports=function(e){return r?n.createElement(e):{}}},{22:22,26:26}],20:[function(e,t,a){var i=e(22),n=e(16),r=e(17),o=e(24),s=e(23),d="prototype",l=function(e,t,a){var c,u,f,g=e&l.F,p=e&l.G,h=e&l.S,m=e&l.P,v=e&l.B,b=e&l.W,_=p?n:n[t]||(n[t]={}),y=_[d],x=p?i:h?i[t]:(i[t]||{})[d];for(c in p&&(a=t),a)(u=!g&&x&&void 0!==x[c])&&s(_,c)||(f=u?x[c]:a[c],_[c]=p&&"function"!=typeof x[c]?a[c]:v&&u?r(f,i):b&&x[c]==f?function(e){function t(t,a,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,a)}return new e(t,a,i)}return e.apply(this,arguments)}return t[d]=e[d],t}(f):m&&"function"==typeof f?r(Function.call,f):f,m&&((_.virtual||(_.virtual={}))[c]=f,e&l.R&&y&&!y[c]&&o(y,c,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{16:16,17:17,22:22,23:23,24:24}],21:[function(e,t,a){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],22:[function(e,t,a){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],23:[function(e,t,a){var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}},{}],24:[function(e,t,a){var i=e(27),n=e(28);t.exports=e(18)?function(e,t,a){return i.f(e,t,n(1,a))}:function(e,t,a){return e[t]=a,e}},{18:18,27:27,28:28}],25:[function(e,t,a){t.exports=!e(18)&&!e(21)(function(){return 7!=Object.defineProperty(e(19)("div"),"a",{get:function(){return 7}}).a})},{18:18,19:19,21:21}],26:[function(e,t,a){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],27:[function(e,t,a){var i=e(15),n=e(25),r=e(29),o=Object.defineProperty;a.f=e(18)?Object.defineProperty:function(e,t,a){if(i(e),t=r(t,!0),i(a),n)try{return o(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},{15:15,18:18,25:25,29:29}],28:[function(e,t,a){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],29:[function(e,t,a){var i=e(26);t.exports=function(e,t){if(!i(e))return e;var a,n;if(t&&"function"==typeof(a=e.toString)&&!i(n=a.call(e)))return n;if("function"==typeof(a=e.valueOf)&&!i(n=a.call(e)))return n;if(!t&&"function"==typeof(a=e.toString)&&!i(n=a.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{26:26}],30:[function(e,t,a){var i=e(20);i(i.G,{global:e(22)})},{20:20,22:22}],31:[function(e,t,a){arguments[4][14][0].apply(a,arguments)},{14:14}],32:[function(e,t,a){var i=e(46);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},{46:46}],33:[function(e,t,a){var i=e(150)("unscopables"),n=Array.prototype;null==n[i]&&e(70)(n,i,{}),t.exports=function(e){n[i][e]=!0}},{150:150,70:70}],34:[function(e,t,a){"use strict";var i=e(127)(!0);t.exports=function(e,t,a){return t+(a?i(e,t).length:1)}},{127:127}],35:[function(e,t,a){t.exports=function(e,t,a,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(a+": incorrect invocation!");return e}},{}],36:[function(e,t,a){arguments[4][15][0].apply(a,arguments)},{15:15,79:79}],37:[function(e,t,a){"use strict";var i=e(140),n=e(135),r=e(139);t.exports=[].copyWithin||function(e,t){var a=i(this),o=r(a.length),s=n(e,o),d=n(t,o),l=2<arguments.length?arguments[2]:void 0,c=Math.min((void 0===l?o:n(l,o))-d,o-s),u=1;for(d<s&&s<d+c&&(u=-1,d+=c-1,s+=c-1);0<c--;)d in a?a[s]=a[d]:delete a[s],s+=u,d+=u;return a}},{135:135,139:139,140:140}],38:[function(e,t,a){"use strict";var i=e(140),n=e(135),r=e(139);t.exports=function(e){for(var t=i(this),a=r(t.length),o=arguments.length,s=n(1<o?arguments[1]:void 0,a),d=2<o?arguments[2]:void 0,l=void 0===d?a:n(d,a);s<l;)t[s++]=e;return t}},{135:135,139:139,140:140}],39:[function(e,t,a){var i=e(138),n=e(139),r=e(135);t.exports=function(e){return function(t,a,o){var s,d=i(t),l=n(d.length),c=r(o,l);if(e&&a!=a){for(;c<l;)if((s=d[c++])!=s)return!0}else for(;c<l;c++)if((e||c in d)&&d[c]===a)return e||c||0;return!e&&-1}}},{135:135,138:138,139:139}],40:[function(e,t,a){var i=e(52),n=e(75),r=e(140),o=e(139),s=e(43);t.exports=function(e,t){var a=1==e,d=2==e,l=3==e,c=4==e,u=6==e,f=5==e||u,g=t||s;return function(t,s,p){for(var h,m,v=r(t),b=n(v),_=i(s,p,3),y=o(b.length),x=0,w=a?g(t,y):d?g(t,0):void 0;x<y;x++)if((f||x in b)&&(m=_(h=b[x],x,v),e))if(a)w[x]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return x;case 2:w.push(h)}else if(c)return!1;return u?-1:l||c?c:w}}},{139:139,140:140,43:43,52:52,75:75}],41:[function(e,t,a){var i=e(31),n=e(140),r=e(75),o=e(139);t.exports=function(e,t,a,s,d){i(t);var l=n(e),c=r(l),u=o(l.length),f=d?u-1:0,g=d?-1:1;if(a<2)for(;;){if(f in c){s=c[f],f+=g;break}if(f+=g,d?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;d?0<=f:f<u;f+=g)f in c&&(s=t(s,c[f],f,l));return s}},{139:139,140:140,31:31,75:75}],42:[function(e,t,a){var i=e(79),n=e(77),r=e(150)("species");t.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},{150:150,77:77,79:79}],43:[function(e,t,a){var i=e(42);t.exports=function(e,t){return new(i(e))(t)}},{42:42}],44:[function(e,t,a){"use strict";var i=e(31),n=e(79),r=e(74),o=[].slice,s={};t.exports=Function.bind||function(e){var t=i(this),a=o.call(arguments,1),d=function(){var i=a.concat(o.call(arguments));return this instanceof d?function(e,t,a){if(!(t in s)){for(var i=[],n=0;n<t;n++)i[n]="a["+n+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,a)}(t,i.length,i):r(t,i,e)};return n(t.prototype)&&(d.prototype=t.prototype),d}},{31:31,74:74,79:79}],45:[function(e,t,a){var i=e(46),n=e(150)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,a,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?a:r?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},{150:150,46:46}],46:[function(e,t,a){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],47:[function(e,t,a){"use strict";function i(e,t){var a,i=p(t);if("F"!==i)return e._i[i];for(a=e._f;a;a=a.n)if(a.k==t)return a}var n=e(97).f,r=e(96),o=e(115),s=e(52),d=e(35),l=e(66),c=e(83),u=e(85),f=e(121),g=e(56),p=e(92).fastKey,h=e(147),m=g?"_s":"size";t.exports={getConstructor:function(e,t,a,c){var u=e(function(e,i){d(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,null!=i&&l(i,a,e[c],e)});return o(u.prototype,{clear:function(){for(var e=h(this,t),a=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var a=h(this,t),n=i(a,e);if(n){var r=n.n,o=n.p;delete a._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),a._f==n&&(a._f=r),a._l==n&&(a._l=o),a[m]--}return!!n},forEach:function(e){h(this,t);for(var a,i=s(e,1<arguments.length?arguments[1]:void 0,3);a=a?a.n:this._f;)for(i(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!i(h(this,t),e)}}),g&&n(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,a){var n,r,o=i(e,t);return o?o.v=a:(e._l=o={i:r=p(t,!0),k:t,v:a,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:i,setStrong:function(e,t,a){c(e,t,function(e,a){this._t=h(e,t),this._k=a,this._l=void 0},function(){for(var e=this,t=e._k,a=e._l;a&&a.r;)a=a.p;return e._t&&(e._l=a=a?a.n:e._t._f)?u(0,"keys"==t?a.k:"values"==t?a.v:[a.k,a.v]):(e._t=void 0,u(1))},a?"entries":"values",!a,!0),f(t)}}},{115:115,121:121,147:147,35:35,52:52,56:56,66:66,83:83,85:85,92:92,96:96,97:97}],48:[function(e,t,a){"use strict";function i(e){return e._l||(e._l=new v)}function n(e,t){return p(e.a,function(e){return e[0]===t})}var r=e(115),o=e(92).getWeak,s=e(36),d=e(79),l=e(35),c=e(66),u=e(40),f=e(69),g=e(147),p=u(5),h=u(6),m=0,v=function(){this.a=[]};v.prototype={get:function(e){var t=n(this,e);if(t)return t[1]},has:function(e){return!!n(this,e)},set:function(e,t){var a=n(this,e);a?a[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,a,n){var s=e(function(e,i){l(e,s,t,"_i"),e._t=t,e._i=m++,e._l=void 0,null!=i&&c(i,a,e[n],e)});return r(s.prototype,{delete:function(e){if(!d(e))return!1;var a=o(e);return!0===a?i(g(this,t)).delete(e):a&&f(a,this._i)&&delete a[this._i]},has:function(e){if(!d(e))return!1;var a=o(e);return!0===a?i(g(this,t)).has(e):a&&f(a,this._i)}}),s},def:function(e,t,a){var n=o(s(t),!0);return!0===n?i(e).set(t,a):n[e._i]=a,e},ufstore:i}},{115:115,147:147,35:35,36:36,40:40,66:66,69:69,79:79,92:92}],49:[function(e,t,a){"use strict";var i=e(68),n=e(60),r=e(116),o=e(115),s=e(92),d=e(66),l=e(35),c=e(79),u=e(62),f=e(84),g=e(122),p=e(73);t.exports=function(e,t,a,h,m,v){function b(e){var t=w[e];r(w,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,a){return t.call(this,0===e?0:e,a),this})}var _=i[e],y=_,x=m?"set":"add",w=y&&y.prototype,C={};if("function"==typeof y&&(v||w.forEach&&!u(function(){(new y).entries().next()}))){var k=new y,S=k[x](v?{}:-0,1)!=k,T=u(function(){k.has(1)}),M=f(function(e){new y(e)}),I=!v&&u(function(){for(var e=new y,t=5;t--;)e[x](t,t);return!e.has(-0)});M||(((y=t(function(t,a){l(t,y,e);var i=p(new _,t,y);return null!=a&&d(a,m,i[x],i),i})).prototype=w).constructor=y),(T||I)&&(b("delete"),b("has"),m&&b("get")),(I||S)&&b(x),v&&w.clear&&delete w.clear}else y=h.getConstructor(t,e,m,x),o(y.prototype,a),s.NEED=!0;return g(y,e),C[e]=y,n(n.G+n.W+n.F*(y!=_),C),v||h.setStrong(y,e,m),y}},{115:115,116:116,122:122,35:35,60:60,62:62,66:66,68:68,73:73,79:79,84:84,92:92}],50:[function(e,t,a){arguments[4][16][0].apply(a,arguments)},{16:16}],51:[function(e,t,a){"use strict";var i=e(97),n=e(114);t.exports=function(e,t,a){t in e?i.f(e,t,n(0,a)):e[t]=a}},{114:114,97:97}],52:[function(e,t,a){arguments[4][17][0].apply(a,arguments)},{17:17,31:31}],53:[function(e,t,a){"use strict";function i(e){return 9<e?e:"0"+e}var n=e(62),r=Date.prototype.getTime,o=Date.prototype.toISOString;t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),a=e.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+(99<a?a:"0"+i(a))+"Z"}:o},{62:62}],54:[function(e,t,a){"use strict";var i=e(36),n=e(141);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return n(i(this),"number"!=e)}},{141:141,36:36}],55:[function(e,t,a){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],56:[function(e,t,a){arguments[4][18][0].apply(a,arguments)},{18:18,62:62}],57:[function(e,t,a){arguments[4][19][0].apply(a,arguments)},{19:19,68:68,79:79}],58:[function(e,t,a){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],59:[function(e,t,a){var i=e(105),n=e(102),r=e(106);t.exports=function(e){var t=i(e),a=n.f;if(a)for(var o,s=a(e),d=r.f,l=0;s.length>l;)d.call(e,o=s[l++])&&t.push(o);return t}},{102:102,105:105,106:106}],60:[function(e,t,a){var i=e(68),n=e(50),r=e(70),o=e(116),s=e(52),d="prototype",l=function(e,t,a){var c,u,f,g,p=e&l.F,h=e&l.G,m=e&l.S,v=e&l.P,b=e&l.B,_=h?i:m?i[t]||(i[t]={}):(i[t]||{})[d],y=h?n:n[t]||(n[t]={}),x=y[d]||(y[d]={});for(c in h&&(a=t),a)f=((u=!p&&_&&void 0!==_[c])?_:a)[c],g=b&&u?s(f,i):v&&"function"==typeof f?s(Function.call,f):f,_&&o(_,c,f,e&l.U),y[c]!=f&&r(y,c,g),v&&x[c]!=f&&(x[c]=f)};i.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{116:116,50:50,52:52,68:68,70:70}],61:[function(e,t,a){var i=e(150)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},{150:150}],62:[function(e,t,a){arguments[4][21][0].apply(a,arguments)},{21:21}],63:[function(e,t,a){"use strict";e(246);var i=e(116),n=e(70),r=e(62),o=e(55),s=e(150),d=e(118),l=s("species"),c=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),u=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(e,t,a){var f=s(e),g=!r(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),p=g?!r(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[l]=function(){return a}),a[f](""),!t}):void 0;if(!g||!p||"replace"===e&&!c||"split"===e&&!u){var h=/./[f],m=a(o,f,""[e],function(e,t,a,i,n){return t.exec===d?g&&!n?{done:!0,value:h.call(t,a,i)}:{done:!0,value:e.call(a,t,i)}:{done:!1}}),v=m[0],b=m[1];i(String.prototype,e,v),n(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},{116:116,118:118,150:150,246:246,55:55,62:62,70:70}],64:[function(e,t,a){"use strict";var i=e(36);t.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{36:36}],65:[function(e,t,a){"use strict";var i=e(77),n=e(79),r=e(139),o=e(52),s=e(150)("isConcatSpreadable");t.exports=function e(t,a,d,l,c,u,f,g){for(var p,h,m=c,v=0,b=!!f&&o(f,g,3);v<l;){if(v in d){if(p=b?b(d[v],v,a):d[v],h=!1,n(p)&&(h=void 0!==(h=p[s])?!!h:i(p)),h&&0<u)m=e(t,a,p,r(p.length),m,u-1)-1;else{if(9007199254740991<=m)throw TypeError();t[m]=p}m++}v++}return m}},{139:139,150:150,52:52,77:77,79:79}],66:[function(e,t,a){var i=e(52),n=e(81),r=e(76),o=e(36),s=e(139),d=e(151),l={},c={};(a=t.exports=function(e,t,a,u,f){var g,p,h,m,v=f?function(){return e}:d(e),b=i(a,u,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(g=s(e.length);_<g;_++)if((m=t?b(o(p=e[_])[0],p[1]):b(e[_]))===l||m===c)return m}else for(h=v.call(e);!(p=h.next()).done;)if((m=n(h,b,p.value,t))===l||m===c)return m}).BREAK=l,a.RETURN=c},{139:139,151:151,36:36,52:52,76:76,81:81}],67:[function(e,t,a){t.exports=e(124)("native-function-to-string",Function.toString)},{124:124}],68:[function(e,t,a){arguments[4][22][0].apply(a,arguments)},{22:22}],69:[function(e,t,a){arguments[4][23][0].apply(a,arguments)},{23:23}],70:[function(e,t,a){arguments[4][24][0].apply(a,arguments)},{114:114,24:24,56:56,97:97}],71:[function(e,t,a){var i=e(68).document;t.exports=i&&i.documentElement},{68:68}],72:[function(e,t,a){arguments[4][25][0].apply(a,arguments)},{25:25,56:56,57:57,62:62}],73:[function(e,t,a){var i=e(79),n=e(120).set;t.exports=function(e,t,a){var r,o=t.constructor;return o!==a&&"function"==typeof o&&(r=o.prototype)!==a.prototype&&i(r)&&n&&n(e,r),e}},{120:120,79:79}],74:[function(e,t,a){t.exports=function(e,t,a){var i=void 0===a;switch(t.length){case 0:return i?e():e.call(a);case 1:return i?e(t[0]):e.call(a,t[0]);case 2:return i?e(t[0],t[1]):e.call(a,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(a,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(a,t[0],t[1],t[2],t[3])}return e.apply(a,t)}},{}],75:[function(e,t,a){var i=e(46);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},{46:46}],76:[function(e,t,a){var i=e(86),n=e(150)("iterator"),r=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||r[n]===e)}},{150:150,86:86}],77:[function(e,t,a){var i=e(46);t.exports=Array.isArray||function(e){return"Array"==i(e)}},{46:46}],78:[function(e,t,a){var i=e(79),n=Math.floor;t.exports=function(e){return!i(e)&&isFinite(e)&&n(e)===e}},{79:79}],79:[function(e,t,a){arguments[4][26][0].apply(a,arguments)},{26:26}],80:[function(e,t,a){var i=e(79),n=e(46),r=e(150)("match");t.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},{150:150,46:46,79:79}],81:[function(e,t,a){var i=e(36);t.exports=function(e,t,a,n){try{return n?t(i(a)[0],a[1]):t(a)}catch(t){var r=e.return;throw void 0!==r&&i(r.call(e)),t}}},{36:36}],82:[function(e,t,a){"use strict";var i=e(96),n=e(114),r=e(122),o={};e(70)(o,e(150)("iterator"),function(){return this}),t.exports=function(e,t,a){e.prototype=i(o,{next:n(1,a)}),r(e,t+" Iterator")}},{114:114,122:122,150:150,70:70,96:96}],83:[function(e,t,a){"use strict";function i(){return this}var n=e(87),r=e(60),o=e(116),s=e(70),d=e(86),l=e(82),c=e(122),u=e(103),f=e(150)("iterator"),g=!([].keys&&"next"in[].keys()),p="values";t.exports=function(e,t,a,h,m,v,b){function _(e){if(!g&&e in T)return T[e];switch(e){case"keys":case p:return function(){return new a(this,e)}}return function(){return new a(this,e)}}l(a,t,h);var y,x,w,C=t+" Iterator",k=m==p,S=!1,T=e.prototype,M=T[f]||T["@@iterator"]||m&&T[m],I=M||_(m),A=m?k?_("entries"):I:void 0,D="Array"==t&&T.entries||M;if(D&&(w=u(D.call(new e)))!==Object.prototype&&w.next&&(c(w,C,!0),n||"function"==typeof w[f]||s(w,f,i)),k&&M&&M.name!==p&&(S=!0,I=function(){return M.call(this)}),n&&!b||!g&&!S&&T[f]||s(T,f,I),d[t]=I,d[C]=i,m)if(y={values:k?I:_(p),keys:v?I:_("keys"),entries:A},b)for(x in y)x in T||o(T,x,y[x]);else r(r.P+r.F*(g||S),t,y);return y}},{103:103,116:116,122:122,150:150,60:60,70:70,82:82,86:86,87:87}],84:[function(e,t,a){var i=e(150)("iterator"),n=!1;try{var r=[7][i]();r.return=function(){n=!0},Array.from(r,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!n)return!1;var a=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:a=!0}},r[i]=function(){return o},e(r)}catch(e){}return a}},{150:150}],85:[function(e,t,a){t.exports=function(e,t){return{value:t,done:!!e}}},{}],86:[function(e,t,a){t.exports={}},{}],87:[function(e,t,a){t.exports=!1},{}],88:[function(e,t,a){var i=Math.expm1;t.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:i},{}],89:[function(e,t,a){var i=e(91),n=Math.pow,r=n(2,-52),o=n(2,-23),s=n(2,127)*(2-o),d=n(2,-126);t.exports=Math.fround||function(e){var t,a,n=Math.abs(e),l=i(e);return n<d?l*(n/d/o+1/r-1/r)*d*o:s<(a=(t=(1+o/r)*n)-(t-n))||a!=a?l*(1/0):l*a}},{91:91}],90:[function(e,t,a){t.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],91:[function(e,t,a){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],92:[function(e,t,a){function i(e){s(e,n,{value:{i:"O"+ ++d,w:{}}})}var n=e(145)("meta"),r=e(79),o=e(69),s=e(97).f,d=0,l=Object.isExtensible||function(){return!0},c=!e(62)(function(){return l(Object.preventExtensions({}))}),u=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!l(e))return"F";if(!t)return"E";i(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!l(e))return!0;if(!t)return!1;i(e)}return e[n].w},onFreeze:function(e){return c&&u.NEED&&l(e)&&!o(e,n)&&i(e),e}}},{145:145,62:62,69:69,79:79,97:97}],93:[function(e,t,a){var i=e(68),n=e(134).set,r=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,d="process"==e(46)(o);t.exports=function(){function e(){var e,i;for(d&&(e=o.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?l():a=void 0,e}}a=void 0,e&&e.enter()}var t,a,l;if(d)l=function(){o.nextTick(e)};else if(!r||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);l=function(){c.then(e)}}else l=function(){n.call(i,e)};else{var u=!0,f=document.createTextNode("");new r(e).observe(f,{characterData:!0}),l=function(){f.data=u=!u}}return function(e){var i={fn:e,next:void 0};a&&(a.next=i),t||(t=i,l()),a=i}}},{134:134,46:46,68:68}],94:[function(e,t,a){"use strict";var i=e(31);function n(e){var t,a;this.promise=new e(function(e,i){if(void 0!==t||void 0!==a)throw TypeError("Bad Promise constructor");t=e,a=i}),this.resolve=i(t),this.reject=i(a)}t.exports.f=function(e){return new n(e)}},{31:31}],95:[function(e,t,a){"use strict";var i=e(56),n=e(105),r=e(102),o=e(106),s=e(140),d=e(75),l=Object.assign;t.exports=!l||e(62)(function(){var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var a=s(e),l=arguments.length,c=1,u=r.f,f=o.f;c<l;)for(var g,p=d(arguments[c++]),h=u?n(p).concat(u(p)):n(p),m=h.length,v=0;v<m;)g=h[v++],i&&!f.call(p,g)||(a[g]=p[g]);return a}:l},{102:102,105:105,106:106,140:140,56:56,62:62,75:75}],96:[function(e,t,a){function i(){}var n=e(36),r=e(98),o=e(58),s=e(123)("IE_PROTO"),d="prototype",l=function(){var t,a=e(57)("iframe"),i=o.length;for(a.style.display="none",e(71).appendChild(a),a.src="javascript:",(t=a.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[d][o[i]];return l()};t.exports=Object.create||function(e,t){var a;return null!==e?(i[d]=n(e),a=new i,i[d]=null,a[s]=e):a=l(),void 0===t?a:r(a,t)}},{123:123,36:36,57:57,58:58,71:71,98:98}],97:[function(e,t,a){arguments[4][27][0].apply(a,arguments)},{141:141,27:27,36:36,56:56,72:72}],98:[function(e,t,a){var i=e(97),n=e(36),r=e(105);t.exports=e(56)?Object.defineProperties:function(e,t){n(e);for(var a,o=r(t),s=o.length,d=0;d<s;)i.f(e,a=o[d++],t[a]);return e}},{105:105,36:36,56:56,97:97}],99:[function(e,t,a){var i=e(106),n=e(114),r=e(138),o=e(141),s=e(69),d=e(72),l=Object.getOwnPropertyDescriptor;a.f=e(56)?l:function(e,t){if(e=r(e),t=o(t,!0),d)try{return l(e,t)}catch(e){}if(s(e,t))return n(!i.f.call(e,t),e[t])}},{106:106,114:114,138:138,141:141,56:56,69:69,72:72}],100:[function(e,t,a){var i=e(138),n=e(101).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return n(e)}catch(e){return o.slice()}}(e):n(i(e))}},{101:101,138:138}],101:[function(e,t,a){var i=e(104),n=e(58).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},{104:104,58:58}],102:[function(e,t,a){a.f=Object.getOwnPropertySymbols},{}],103:[function(e,t,a){var i=e(69),n=e(140),r=e(123)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{123:123,140:140,69:69}],104:[function(e,t,a){var i=e(69),n=e(138),r=e(39)(!1),o=e(123)("IE_PROTO");t.exports=function(e,t){var a,s=n(e),d=0,l=[];for(a in s)a!=o&&i(s,a)&&l.push(a);for(;t.length>d;)i(s,a=t[d++])&&(~r(l,a)||l.push(a));return l}},{123:123,138:138,39:39,69:69}],105:[function(e,t,a){var i=e(104),n=e(58);t.exports=Object.keys||function(e){return i(e,n)}},{104:104,58:58}],106:[function(e,t,a){a.f={}.propertyIsEnumerable},{}],107:[function(e,t,a){var i=e(60),n=e(50),r=e(62);t.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],o={};o[e]=t(a),i(i.S+i.F*r(function(){a(1)}),"Object",o)}},{50:50,60:60,62:62}],108:[function(e,t,a){var i=e(56),n=e(105),r=e(138),o=e(106).f;t.exports=function(e){return function(t){for(var a,s=r(t),d=n(s),l=d.length,c=0,u=[];c<l;)a=d[c++],i&&!o.call(s,a)||u.push(e?[a,s[a]]:s[a]);return u}}},{105:105,106:106,138:138,56:56}],109:[function(e,t,a){var i=e(101),n=e(102),r=e(36),o=e(68).Reflect;t.exports=o&&o.ownKeys||function(e){var t=i.f(r(e)),a=n.f;return a?t.concat(a(e)):t}},{101:101,102:102,36:36,68:68}],110:[function(e,t,a){var i=e(68).parseFloat,n=e(132).trim;t.exports=1/i(e(133)+"-0")!=-1/0?function(e){var t=n(String(e),3),a=i(t);return 0===a&&"-"==t.charAt(0)?-0:a}:i},{132:132,133:133,68:68}],111:[function(e,t,a){var i=e(68).parseInt,n=e(132).trim,r=e(133),o=/^[-+]?0[xX]/;t.exports=8!==i(r+"08")||22!==i(r+"0x16")?function(e,t){var a=n(String(e),3);return i(a,t>>>0||(o.test(a)?16:10))}:i},{132:132,133:133,68:68}],112:[function(e,t,a){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],113:[function(e,t,a){var i=e(36),n=e(79),r=e(94);t.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var a=r.f(e);return(0,a.resolve)(t),a.promise}},{36:36,79:79,94:94}],114:[function(e,t,a){arguments[4][28][0].apply(a,arguments)},{28:28}],115:[function(e,t,a){var i=e(116);t.exports=function(e,t,a){for(var n in t)i(e,n,t[n],a);return e}},{116:116}],116:[function(e,t,a){var i=e(68),n=e(70),r=e(69),o=e(145)("src"),s=e(67),d="toString",l=(""+s).split(d);e(50).inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,a,s){var d="function"==typeof a;d&&(r(a,"name")||n(a,"name",t)),e[t]!==a&&(d&&(r(a,o)||n(a,o,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=a:s?e[t]?e[t]=a:n(e,t,a):(delete e[t],n(e,t,a)))})(Function.prototype,d,function(){return"function"==typeof this&&this[o]||s.call(this)})},{145:145,50:50,67:67,68:68,69:69,70:70}],117:[function(e,t,a){"use strict";var i=e(45),n=RegExp.prototype.exec;t.exports=function(e,t){var a=e.exec;if("function"==typeof a){var r=a.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},{45:45}],118:[function(e,t,a){"use strict";var i,n,r=e(64),o=RegExp.prototype.exec,s=String.prototype.replace,d=o,l="lastIndex",c=(i=/a/,n=/b*/g,o.call(i,"a"),o.call(n,"a"),0!==i[l]||0!==n[l]),u=void 0!==/()??/.exec("")[1];(c||u)&&(d=function(e){var t,a,i,n,d=this;return u&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),c&&(t=d[l]),i=o.call(d,e),c&&i&&(d[l]=d.global?i.index+i[0].length:t),u&&i&&1<i.length&&s.call(i[0],a,function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(i[n]=void 0)}),i}),t.exports=d},{64:64}],119:[function(e,t,a){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],120:[function(e,t,a){function i(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=e(79),r=e(36);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,a,n){try{(n=e(52)(Function.call,e(99).f(Object.prototype,"__proto__").set,2))(t,[]),a=!(t instanceof Array)}catch(t){a=!0}return function(e,t){return i(e,t),a?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{36:36,52:52,79:79,99:99}],121:[function(e,t,a){"use strict";var i=e(68),n=e(97),r=e(56),o=e(150)("species");t.exports=function(e){var t=i[e];r&&t&&!t[o]&&n.f(t,o,{configurable:!0,get:function(){return this}})}},{150:150,56:56,68:68,97:97}],122:[function(e,t,a){var i=e(97).f,n=e(69),r=e(150)("toStringTag");t.exports=function(e,t,a){e&&!n(e=a?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},{150:150,69:69,97:97}],123:[function(e,t,a){var i=e(124)("keys"),n=e(145);t.exports=function(e){return i[e]||(i[e]=n(e))}},{124:124,145:145}],124:[function(e,t,a){var i=e(50),n=e(68),r="__core-js_shared__",o=n[r]||(n[r]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:e(87)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{50:50,68:68,87:87}],125:[function(e,t,a){var i=e(36),n=e(31),r=e(150)("species");t.exports=function(e,t){var a,o=i(e).constructor;return void 0===o||null==(a=i(o)[r])?t:n(a)}},{150:150,31:31,36:36}],126:[function(e,t,a){"use strict";var i=e(62);t.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},{62:62}],127:[function(e,t,a){var i=e(137),n=e(55);t.exports=function(e){return function(t,a){var r,o,s=String(n(t)),d=i(a),l=s.length;return d<0||l<=d?e?"":void 0:(r=s.charCodeAt(d))<55296||56319<r||d+1===l||(o=s.charCodeAt(d+1))<56320||57343<o?e?s.charAt(d):r:e?s.slice(d,d+2):o-56320+(r-55296<<10)+65536}}},{137:137,55:55}],128:[function(e,t,a){var i=e(80),n=e(55);t.exports=function(e,t,a){if(i(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(e))}},{55:55,80:80}],129:[function(e,t,a){function i(e,t,a,i){var n=String(o(e)),r="<"+t;return""!==a&&(r+=" "+a+'="'+String(i).replace(s,"&quot;")+'"'),r+">"+n+"</"+t+">"}var n=e(60),r=e(62),o=e(55),s=/"/g;t.exports=function(e,t){var a={};a[e]=t(i),n(n.P+n.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",a)}},{55:55,60:60,62:62}],130:[function(e,t,a){var i=e(139),n=e(131),r=e(55);t.exports=function(e,t,a,o){var s=String(r(e)),d=s.length,l=void 0===a?" ":String(a),c=i(t);if(c<=d||""==l)return s;var u=c-d,f=n.call(l,Math.ceil(u/l.length));return f.length>u&&(f=f.slice(0,u)),o?f+s:s+f}},{131:131,139:139,55:55}],131:[function(e,t,a){"use strict";var i=e(137),n=e(55);t.exports=function(e){var t=String(n(this)),a="",r=i(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},{137:137,55:55}],132:[function(e,t,a){function i(e,t,a){var i={},r=o(function(){return!!s[e]()||"​"!="​"[e]()}),d=i[e]=r?t(u):s[e];a&&(i[a]=d),n(n.P+n.F*r,"String",i)}var n=e(60),r=e(55),o=e(62),s=e(133),d="["+s+"]",l=RegExp("^"+d+d+"*"),c=RegExp(d+d+"*$"),u=i.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};t.exports=i},{133:133,55:55,60:60,62:62}],133:[function(e,t,a){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],134:[function(e,t,a){function i(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}}function n(e){i.call(e.data)}var r,o,s,d=e(52),l=e(74),c=e(71),u=e(57),f=e(68),g=f.process,p=f.setImmediate,h=f.clearImmediate,m=f.MessageChannel,v=f.Dispatch,b=0,_={},y="onreadystatechange";p&&h||(p=function(e){for(var t=[],a=1;a<arguments.length;)t.push(arguments[a++]);return _[++b]=function(){l("function"==typeof e?e:Function(e),t)},r(b),b},h=function(e){delete _[e]},"process"==e(46)(g)?r=function(e){g.nextTick(d(i,e,1))}:v&&v.now?r=function(e){v.now(d(i,e,1))}:m?(s=(o=new m).port2,o.port1.onmessage=n,r=d(s.postMessage,s,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",n,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),i.call(e)}}:function(e){setTimeout(d(i,e,1),0)}),t.exports={set:p,clear:h}},{46:46,52:52,57:57,68:68,71:71,74:74}],135:[function(e,t,a){var i=e(137),n=Math.max,r=Math.min;t.exports=function(e,t){return(e=i(e))<0?n(e+t,0):r(e,t)}},{137:137}],136:[function(e,t,a){var i=e(137),n=e(139);t.exports=function(e){if(void 0===e)return 0;var t=i(e),a=n(t);if(t!==a)throw RangeError("Wrong length!");return a}},{137:137,139:139}],137:[function(e,t,a){var i=Math.ceil,n=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?n:i)(e)}},{}],138:[function(e,t,a){var i=e(75),n=e(55);t.exports=function(e){return i(n(e))}},{55:55,75:75}],139:[function(e,t,a){var i=e(137),n=Math.min;t.exports=function(e){return 0<e?n(i(e),9007199254740991):0}},{137:137}],140:[function(e,t,a){var i=e(55);t.exports=function(e){return Object(i(e))}},{55:55}],141:[function(e,t,a){arguments[4][29][0].apply(a,arguments)},{29:29,79:79}],142:[function(e,t,a){"use strict";if(e(56)){var i=e(87),n=e(68),r=e(62),o=e(60),s=e(144),d=e(143),l=e(52),c=e(35),u=e(114),f=e(70),g=e(115),p=e(137),h=e(139),m=e(136),v=e(135),b=e(141),_=e(69),y=e(45),x=e(79),w=e(140),C=e(76),k=e(96),S=e(103),T=e(101).f,M=e(151),I=e(145),A=e(150),D=e(40),L=e(39),E=e(125),N=e(162),P=e(86),j=e(84),O=e(121),R=e(38),F=e(37),B=e(97),z=e(99),U=B.f,H=z.f,W=n.RangeError,q=n.TypeError,V=n.Uint8Array,Y="ArrayBuffer",G="Shared"+Y,$="BYTES_PER_ELEMENT",Q="prototype",X=Array[Q],J=d.ArrayBuffer,K=d.DataView,Z=D(0),ee=D(2),te=D(3),ae=D(4),ie=D(5),ne=D(6),re=L(!0),oe=L(!1),se=N.values,de=N.keys,le=N.entries,ce=X.lastIndexOf,ue=X.reduce,fe=X.reduceRight,ge=X.join,pe=X.sort,he=X.slice,me=X.toString,ve=X.toLocaleString,be=A("iterator"),_e=A("toStringTag"),ye=I("typed_constructor"),xe=I("def_constructor"),we=s.CONSTR,Ce=s.TYPED,ke=s.VIEW,Se="Wrong length!",Te=D(1,function(e,t){return Le(E(e,e[xe]),t)}),Me=r(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ie=!!V&&!!V[Q].set&&r(function(){new V(1).set({})}),Ae=function(e,t){var a=p(e);if(a<0||a%t)throw W("Wrong offset!");return a},De=function(e){if(x(e)&&Ce in e)return e;throw q(e+" is not a typed array!")},Le=function(e,t){if(!(x(e)&&ye in e))throw q("It is not a typed array constructor!");return new e(t)},Ee=function(e,t){return Ne(E(e,e[xe]),t)},Ne=function(e,t){for(var a=0,i=t.length,n=Le(e,i);a<i;)n[a]=t[a++];return n},Pe=function(e,t,a){U(e,t,{get:function(){return this._d[a]}})},je=function(e){var t,a,i,n,r,o,s=w(e),d=arguments.length,c=1<d?arguments[1]:void 0,u=void 0!==c,f=M(s);if(null!=f&&!C(f)){for(o=f.call(s),i=[],t=0;!(r=o.next()).done;t++)i.push(r.value);s=i}for(u&&2<d&&(c=l(c,arguments[2],2)),t=0,a=h(s.length),n=Le(this,a);t<a;t++)n[t]=u?c(s[t],t):s[t];return n},Oe=function(){for(var e=0,t=arguments.length,a=Le(this,t);e<t;)a[e]=arguments[e++];return a},Re=!!V&&r(function(){ve.call(new V(1))}),Fe=function(){return ve.apply(Re?he.call(De(this)):De(this),arguments)},Be={copyWithin:function(e,t){return F.call(De(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return ae(De(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return R.apply(De(this),arguments)},filter:function(e){return Ee(this,ee(De(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return ie(De(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ne(De(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){Z(De(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return oe(De(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return re(De(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return ge.apply(De(this),arguments)},lastIndexOf:function(e){return ce.apply(De(this),arguments)},map:function(e){return Te(De(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return ue.apply(De(this),arguments)},reduceRight:function(e){return fe.apply(De(this),arguments)},reverse:function(){for(var e,t=this,a=De(t).length,i=Math.floor(a/2),n=0;n<i;)e=t[n],t[n++]=t[--a],t[a]=e;return t},some:function(e){return te(De(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return pe.call(De(this),e)},subarray:function(e,t){var a=De(this),i=a.length,n=v(e,i);return new(E(a,a[xe]))(a.buffer,a.byteOffset+n*a.BYTES_PER_ELEMENT,h((void 0===t?i:v(t,i))-n))}},ze=function(e,t){return Ee(this,he.call(De(this),e,t))},Ue=function(e){De(this);var t=Ae(arguments[1],1),a=this.length,i=w(e),n=h(i.length),r=0;if(a<n+t)throw W(Se);for(;r<n;)this[t+r]=i[r++]},He={entries:function(){return le.call(De(this))},keys:function(){return de.call(De(this))},values:function(){return se.call(De(this))}},We=function(e,t){return x(e)&&e[Ce]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return We(e,t=b(t,!0))?u(2,e[t]):H(e,t)},Ve=function(e,t,a){return!(We(e,t=b(t,!0))&&x(a)&&_(a,"value"))||_(a,"get")||_(a,"set")||a.configurable||_(a,"writable")&&!a.writable||_(a,"enumerable")&&!a.enumerable?U(e,t,a):(e[t]=a.value,e)};we||(z.f=qe,B.f=Ve),o(o.S+o.F*!we,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Ve}),r(function(){me.call({})})&&(me=ve=function(){return ge.call(this)});var Ye=g({},Be);g(Ye,He),f(Ye,be,He.values),g(Ye,{slice:ze,set:Ue,constructor:function(){},toString:me,toLocaleString:Fe}),Pe(Ye,"buffer","b"),Pe(Ye,"byteOffset","o"),Pe(Ye,"byteLength","l"),Pe(Ye,"length","e"),U(Ye,_e,{get:function(){return this[Ce]}}),t.exports=function(e,t,a,d){function l(e,a){U(e,a,{get:function(){return e=a,(i=this._d).v[g](e*t+i.o,Me);var e,i},set:function(e){return i=a,n=e,r=this._d,d&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void r.v[p](i*t+r.o,n,Me);var i,n,r},enumerable:!0})}var u=e+((d=!!d)?"Clamped":"")+"Array",g="get"+e,p="set"+e,v=n[u],b=v||{},_=v&&S(v),w=!v||!s.ABV,C={},M=v&&v[Q];w?(v=a(function(e,a,i,n){c(e,v,u,"_d");var r,o,s,d,g=0,p=0;if(x(a)){if(!(a instanceof J||(d=y(a))==Y||d==G))return Ce in a?Ne(v,a):je.call(v,a);r=a,p=Ae(i,t);var b=a.byteLength;if(void 0===n){if(b%t)throw W(Se);if((o=b-p)<0)throw W(Se)}else if(b<(o=h(n)*t)+p)throw W(Se);s=o/t}else s=m(a),r=new J(o=s*t);for(f(e,"_d",{b:r,o:p,l:o,e:s,v:new K(r)});g<s;)l(e,g++)}),M=v[Q]=k(Ye),f(M,"constructor",v)):r(function(){v(1)})&&r(function(){new v(-1)})&&j(function(e){new v,new v(null),new v(1.5),new v(e)},!0)||(v=a(function(e,a,i,n){var r;return c(e,v,u),x(a)?a instanceof J||(r=y(a))==Y||r==G?void 0!==n?new b(a,Ae(i,t),n):void 0!==i?new b(a,Ae(i,t)):new b(a):Ce in a?Ne(v,a):je.call(v,a):new b(m(a))}),Z(_!==Function.prototype?T(b).concat(T(_)):T(b),function(e){e in v||f(v,e,b[e])}),v[Q]=M,i||(M.constructor=v));var I=M[be],A=!!I&&("values"==I.name||null==I.name),D=He.values;f(v,ye,!0),f(M,Ce,u),f(M,ke,!0),f(M,xe,v),(d?new v(1)[_e]==u:_e in M)||U(M,_e,{get:function(){return u}}),C[u]=v,o(o.G+o.W+o.F*(v!=b),C),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*r(function(){b.of.call(v,1)}),u,{from:je,of:Oe}),$ in M||f(M,$,t),o(o.P,u,Be),O(u),o(o.P+o.F*Ie,u,{set:Ue}),o(o.P+o.F*!A,u,He),i||M.toString==me||(M.toString=me),o(o.P+o.F*r(function(){new v(1).slice()}),u,{slice:ze}),o(o.P+o.F*(r(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!r(function(){M.toLocaleString.call([1,2])})),u,{toLocaleString:Fe}),P[u]=A?I:D,i||A||f(M,be,D)}}else t.exports=function(){}},{101:101,103:103,114:114,115:115,121:121,125:125,135:135,136:136,137:137,139:139,140:140,141:141,143:143,144:144,145:145,150:150,151:151,162:162,35:35,37:37,38:38,39:39,40:40,45:45,52:52,56:56,60:60,62:62,68:68,69:69,70:70,76:76,79:79,84:84,86:86,87:87,96:96,97:97,99:99}],143:[function(e,t,a){"use strict";var i=e(68),n=e(56),r=e(87),o=e(144),s=e(70),d=e(115),l=e(62),c=e(35),u=e(137),f=e(139),g=e(136),p=e(101).f,h=e(97).f,m=e(38),v=e(122),b="ArrayBuffer",_="DataView",y="prototype",x="Wrong index!",w=i[b],C=i[_],k=i.Math,S=i.RangeError,T=i.Infinity,M=w,I=k.abs,A=k.pow,D=k.floor,L=k.log,E=k.LN2,N="byteLength",P="byteOffset",j=n?"_b":"buffer",O=n?"_l":N,R=n?"_o":P;function F(e,t,a){var i,n,r,o=new Array(a),s=8*a-t-1,d=(1<<s)-1,l=d>>1,c=23===t?A(2,-24)-A(2,-77):0,u=0,f=e<0||0===e&&1/e<0?1:0;for((e=I(e))!=e||e===T?(n=e!=e?1:0,i=d):(i=D(L(e)/E),e*(r=A(2,-i))<1&&(i--,r*=2),2<=(e+=1<=i+l?c/r:c*A(2,1-l))*r&&(i++,r/=2),d<=i+l?(n=0,i=d):1<=i+l?(n=(e*r-1)*A(2,t),i+=l):(n=e*A(2,l-1)*A(2,t),i=0));8<=t;o[u++]=255&n,n/=256,t-=8);for(i=i<<t|n,s+=t;0<s;o[u++]=255&i,i/=256,s-=8);return o[--u]|=128*f,o}function B(e,t,a){var i,n=8*a-t-1,r=(1<<n)-1,o=r>>1,s=n-7,d=a-1,l=e[d--],c=127&l;for(l>>=7;0<s;c=256*c+e[d],d--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=t;0<s;i=256*i+e[d],d--,s-=8);if(0===c)c=1-o;else{if(c===r)return i?NaN:l?-T:T;i+=A(2,t),c-=o}return(l?-1:1)*i*A(2,c-t)}function z(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function U(e){return[255&e]}function H(e){return[255&e,e>>8&255]}function W(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function q(e){return F(e,52,8)}function V(e){return F(e,23,4)}function Y(e,t,a){h(e[y],t,{get:function(){return this[a]}})}function G(e,t,a,i){var n=g(+a);if(n+t>e[O])throw S(x);var r=e[j]._b,o=n+e[R],s=r.slice(o,o+t);return i?s:s.reverse()}function $(e,t,a,i,n,r){var o=g(+a);if(o+t>e[O])throw S(x);for(var s=e[j]._b,d=o+e[R],l=i(+n),c=0;c<t;c++)s[d+c]=l[r?c:t-c-1]}if(o.ABV){if(!l(function(){w(1)})||!l(function(){new w(-1)})||l(function(){return new w,new w(1.5),new w(NaN),w.name!=b})){for(var Q,X=(w=function(e){return c(this,w),new M(g(e))})[y]=M[y],J=p(M),K=0;J.length>K;)(Q=J[K++])in w||s(w,Q,M[Q]);r||(X.constructor=w)}var Z=new C(new w(2)),ee=C[y].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||d(C[y],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else w=function(e){c(this,w,b);var t=g(e);this._b=m.call(new Array(t),0),this[O]=t},C=function(e,t,a){c(this,C,_),c(e,w,_);var i=e[O],n=u(t);if(n<0||i<n)throw S("Wrong offset!");if(i<n+(a=void 0===a?i-n:f(a)))throw S("Wrong length!");this[j]=e,this[R]=n,this[O]=a},n&&(Y(w,N,"_l"),Y(C,"buffer","_b"),Y(C,N,"_l"),Y(C,P,"_o")),d(C[y],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return z(G(this,4,e,arguments[1]))},getUint32:function(e){return z(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,U,t)},setUint8:function(e,t){$(this,1,e,U,t)},setInt16:function(e,t){$(this,2,e,H,t,arguments[2])},setUint16:function(e,t){$(this,2,e,H,t,arguments[2])},setInt32:function(e,t){$(this,4,e,W,t,arguments[2])},setUint32:function(e,t){$(this,4,e,W,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,V,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,q,t,arguments[2])}});v(w,b),v(C,_),s(C[y],o.VIEW,!0),a[b]=w,a[_]=C},{101:101,115:115,122:122,136:136,137:137,139:139,144:144,35:35,38:38,56:56,62:62,68:68,70:70,87:87,97:97}],144:[function(e,t,a){for(var i,n=e(68),r=e(70),o=e(145),s=o("typed_array"),d=o("view"),l=!(!n.ArrayBuffer||!n.DataView),c=l,u=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(i=n[f[u++]])?(r(i.prototype,s,!0),r(i.prototype,d,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:d}},{145:145,68:68,70:70}],145:[function(e,t,a){var i=0,n=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},{}],146:[function(e,t,a){var i=e(68).navigator;t.exports=i&&i.userAgent||""},{68:68}],147:[function(e,t,a){var i=e(79);t.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{79:79}],148:[function(e,t,a){var i=e(68),n=e(50),r=e(87),o=e(149),s=e(97).f;t.exports=function(e){var t=n.Symbol||(n.Symbol=r?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},{149:149,50:50,68:68,87:87,97:97}],149:[function(e,t,a){a.f=e(150)},{150:150}],150:[function(e,t,a){var i=e(124)("wks"),n=e(145),r=e(68).Symbol,o="function"==typeof r;(t.exports=function(e){return i[e]||(i[e]=o&&r[e]||(o?r:n)("Symbol."+e))}).store=i},{124:124,145:145,68:68}],151:[function(e,t,a){var i=e(45),n=e(150)("iterator"),r=e(86);t.exports=e(50).getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||r[i(e)]}},{150:150,45:45,50:50,86:86}],152:[function(e,t,a){var i=e(60);i(i.P,"Array",{copyWithin:e(37)}),e(33)("copyWithin")},{33:33,37:37,60:60}],153:[function(e,t,a){"use strict";var i=e(60),n=e(40)(4);i(i.P+i.F*!e(126)([].every,!0),"Array",{every:function(e){return n(this,e,arguments[1])}})},{126:126,40:40,60:60}],154:[function(e,t,a){var i=e(60);i(i.P,"Array",{fill:e(38)}),e(33)("fill")},{33:33,38:38,60:60}],155:[function(e,t,a){"use strict";var i=e(60),n=e(40)(2);i(i.P+i.F*!e(126)([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},{126:126,40:40,60:60}],156:[function(e,t,a){"use strict";var i=e(60),n=e(40)(6),r="findIndex",o=!0;r in[]&&Array(1)[r](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),e(33)(r)},{33:33,40:40,60:60}],157:[function(e,t,a){"use strict";var i=e(60),n=e(40)(5),r="find",o=!0;r in[]&&Array(1)[r](function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),e(33)(r)},{33:33,40:40,60:60}],158:[function(e,t,a){"use strict";var i=e(60),n=e(40)(0),r=e(126)([].forEach,!0);i(i.P+i.F*!r,"Array",{forEach:function(e){return n(this,e,arguments[1])}})},{126:126,40:40,60:60}],159:[function(e,t,a){"use strict";var i=e(52),n=e(60),r=e(140),o=e(81),s=e(76),d=e(139),l=e(51),c=e(151);n(n.S+n.F*!e(84)(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,n,u,f=r(e),g="function"==typeof this?this:Array,p=arguments.length,h=1<p?arguments[1]:void 0,m=void 0!==h,v=0,b=c(f);if(m&&(h=i(h,2<p?arguments[2]:void 0,2)),null==b||g==Array&&s(b))for(a=new g(t=d(f.length));v<t;v++)l(a,v,m?h(f[v],v):f[v]);else for(u=b.call(f),a=new g;!(n=u.next()).done;v++)l(a,v,m?o(u,h,[n.value,v],!0):n.value);return a.length=v,a}})},{139:139,140:140,151:151,51:51,52:52,60:60,76:76,81:81,84:84}],160:[function(e,t,a){"use strict";var i=e(60),n=e(39)(!1),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!e(126)(r)),"Array",{indexOf:function(e){return o?r.apply(this,arguments)||0:n(this,e,arguments[1])}})},{126:126,39:39,60:60}],161:[function(e,t,a){var i=e(60);i(i.S,"Array",{isArray:e(77)})},{60:60,77:77}],162:[function(e,t,a){"use strict";var i=e(33),n=e(85),r=e(86),o=e(138);t.exports=e(83)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,a=this._i++;return!e||a>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?a:"values"==t?e[a]:[a,e[a]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},{138:138,33:33,83:83,85:85,86:86}],163:[function(e,t,a){"use strict";var i=e(60),n=e(138),r=[].join;i(i.P+i.F*(e(75)!=Object||!e(126)(r)),"Array",{join:function(e){return r.call(n(this),void 0===e?",":e)}})},{126:126,138:138,60:60,75:75}],164:[function(e,t,a){"use strict";var i=e(60),n=e(138),r=e(137),o=e(139),s=[].lastIndexOf,d=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(d||!e(126)(s)),"Array",{lastIndexOf:function(e){if(d)return s.apply(this,arguments)||0;var t=n(this),a=o(t.length),i=a-1;for(1<arguments.length&&(i=Math.min(i,r(arguments[1]))),i<0&&(i=a+i);0<=i;i--)if(i in t&&t[i]===e)return i||0;return-1}})},{126:126,137:137,138:138,139:139,60:60}],165:[function(e,t,a){"use strict";var i=e(60),n=e(40)(1);i(i.P+i.F*!e(126)([].map,!0),"Array",{map:function(e){return n(this,e,arguments[1])}})},{126:126,40:40,60:60}],166:[function(e,t,a){"use strict";var i=e(60),n=e(51);i(i.S+i.F*e(62)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,a=new("function"==typeof this?this:Array)(t);e<t;)n(a,e,arguments[e++]);return a.length=t,a}})},{51:51,60:60,62:62}],167:[function(e,t,a){"use strict";var i=e(60),n=e(41);i(i.P+i.F*!e(126)([].reduceRight,!0),"Array",{reduceRight:function(e){return n(this,e,arguments.length,arguments[1],!0)}})},{126:126,41:41,60:60}],168:[function(e,t,a){"use strict";var i=e(60),n=e(41);i(i.P+i.F*!e(126)([].reduce,!0),"Array",{reduce:function(e){return n(this,e,arguments.length,arguments[1],!1)}})},{126:126,41:41,60:60}],169:[function(e,t,a){"use strict";var i=e(60),n=e(71),r=e(46),o=e(135),s=e(139),d=[].slice;i(i.P+i.F*e(62)(function(){n&&d.call(n)}),"Array",{slice:function(e,t){var a=s(this.length),i=r(this);if(t=void 0===t?a:t,"Array"==i)return d.call(this,e,t);for(var n=o(e,a),l=o(t,a),c=s(l-n),u=new Array(c),f=0;f<c;f++)u[f]="String"==i?this.charAt(n+f):this[n+f];return u}})},{135:135,139:139,46:46,60:60,62:62,71:71}],170:[function(e,t,a){"use strict";var i=e(60),n=e(40)(3);i(i.P+i.F*!e(126)([].some,!0),"Array",{some:function(e){return n(this,e,arguments[1])}})},{126:126,40:40,60:60}],171:[function(e,t,a){"use strict";var i=e(60),n=e(31),r=e(140),o=e(62),s=[].sort,d=[1,2,3];i(i.P+i.F*(o(function(){d.sort(void 0)})||!o(function(){d.sort(null)})||!e(126)(s)),"Array",{sort:function(e){return void 0===e?s.call(r(this)):s.call(r(this),n(e))}})},{126:126,140:140,31:31,60:60,62:62}],172:[function(e,t,a){e(121)("Array")},{121:121}],173:[function(e,t,a){var i=e(60);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{60:60}],174:[function(e,t,a){var i=e(60),n=e(53);i(i.P+i.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},{53:53,60:60}],175:[function(e,t,a){"use strict";var i=e(60),n=e(140),r=e(141);i(i.P+i.F*e(62)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=n(this),a=r(t);return"number"!=typeof a||isFinite(a)?t.toISOString():null}})},{140:140,141:141,60:60,62:62}],176:[function(e,t,a){var i=e(150)("toPrimitive"),n=Date.prototype;i in n||e(70)(n,i,e(54))},{150:150,54:54,70:70}],177:[function(e,t,a){var i=Date.prototype,n="Invalid Date",r="toString",o=i[r],s=i.getTime;new Date(NaN)+""!=n&&e(116)(i,r,function(){var e=s.call(this);return e==e?o.call(this):n})},{116:116}],178:[function(e,t,a){var i=e(60);i(i.P,"Function",{bind:e(44)})},{44:44,60:60}],179:[function(e,t,a){"use strict";var i=e(79),n=e(103),r=e(150)("hasInstance"),o=Function.prototype;r in o||e(97).f(o,r,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=n(e);)if(this.prototype===e)return!0;return!1}})},{103:103,150:150,79:79,97:97}],180:[function(e,t,a){var i=e(97).f,n=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in n||e(56)&&i(n,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},{56:56,97:97}],181:[function(e,t,a){"use strict";var i=e(47),n=e(147);t.exports=e(49)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(n(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(n(this,"Map"),0===e?0:e,t)}},i,!0)},{147:147,47:47,49:49}],182:[function(e,t,a){var i=e(60),n=e(90),r=Math.sqrt,o=Math.acosh;i(i.S+i.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:n(e-1+r(e-1)*r(e+1))}})},{60:60,90:90}],183:[function(e,t,a){var i=e(60),n=Math.asinh;i(i.S+i.F*!(n&&0<1/n(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{60:60}],184:[function(e,t,a){var i=e(60),n=Math.atanh;i(i.S+i.F*!(n&&1/n(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{60:60}],185:[function(e,t,a){var i=e(60),n=e(91);i(i.S,"Math",{cbrt:function(e){return n(e=+e)*Math.pow(Math.abs(e),1/3)}})},{60:60,91:91}],186:[function(e,t,a){var i=e(60);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{60:60}],187:[function(e,t,a){var i=e(60),n=Math.exp;i(i.S,"Math",{cosh:function(e){return(n(e=+e)+n(-e))/2}})},{60:60}],188:[function(e,t,a){var i=e(60),n=e(88);i(i.S+i.F*(n!=Math.expm1),"Math",{expm1:n})},{60:60,88:88}],189:[function(e,t,a){var i=e(60);i(i.S,"Math",{fround:e(89)})},{60:60,89:89}],190:[function(e,t,a){var i=e(60),n=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var a,i,r=0,o=0,s=arguments.length,d=0;o<s;)d<(a=n(arguments[o++]))?(r=r*(i=d/a)*i+1,d=a):r+=0<a?(i=a/d)*i:a;return d===1/0?1/0:d*Math.sqrt(r)}})},{60:60}],191:[function(e,t,a){var i=e(60),n=Math.imul;i(i.S+i.F*e(62)(function(){return-5!=n(4294967295,5)||2!=n.length}),"Math",{imul:function(e,t){var a=65535,i=+e,n=+t,r=a&i,o=a&n;return 0|r*o+((a&i>>>16)*o+r*(a&n>>>16)<<16>>>0)}})},{60:60,62:62}],192:[function(e,t,a){var i=e(60);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{60:60}],193:[function(e,t,a){var i=e(60);i(i.S,"Math",{log1p:e(90)})},{60:60,90:90}],194:[function(e,t,a){var i=e(60);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{60:60}],195:[function(e,t,a){var i=e(60);i(i.S,"Math",{sign:e(91)})},{60:60,91:91}],196:[function(e,t,a){var i=e(60),n=e(88),r=Math.exp;i(i.S+i.F*e(62)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(n(e)-n(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},{60:60,62:62,88:88}],197:[function(e,t,a){var i=e(60),n=e(88),r=Math.exp;i(i.S,"Math",{tanh:function(e){var t=n(e=+e),a=n(-e);return t==1/0?1:a==1/0?-1:(t-a)/(r(e)+r(-e))}})},{60:60,88:88}],198:[function(e,t,a){var i=e(60);i(i.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},{60:60}],199:[function(e,t,a){"use strict";function i(e){var t=d(e,!1);if("string"==typeof t&&2<t.length){var a,i,n,r=(t=_?t.trim():g(t,3)).charCodeAt(0);if(43===r||45===r){if(88===(a=t.charCodeAt(2))||120===a)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var o,s=t.slice(2),l=0,c=s.length;l<c;l++)if((o=s.charCodeAt(l))<48||n<o)return NaN;return parseInt(s,i)}}return+t}var n=e(68),r=e(69),o=e(46),s=e(73),d=e(141),l=e(62),c=e(101).f,u=e(99).f,f=e(97).f,g=e(132).trim,p="Number",h=n[p],m=h,v=h.prototype,b=o(e(96)(v))==p,_="trim"in String.prototype;if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof h&&(b?l(function(){v.valueOf.call(a)}):o(a)!=p)?s(new m(i(t)),a,h):i(t)};for(var y,x=e(56)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)r(m,y=x[w])&&!r(h,y)&&f(h,y,u(m,y));(h.prototype=v).constructor=h,e(116)(n,p,h)}},{101:101,116:116,132:132,141:141,46:46,56:56,62:62,68:68,69:69,73:73,96:96,97:97,99:99}],200:[function(e,t,a){var i=e(60);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{60:60}],201:[function(e,t,a){var i=e(60),n=e(68).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&n(e)}})},{60:60,68:68}],202:[function(e,t,a){var i=e(60);i(i.S,"Number",{isInteger:e(78)})},{60:60,78:78}],203:[function(e,t,a){var i=e(60);i(i.S,"Number",{isNaN:function(e){return e!=e}})},{60:60}],204:[function(e,t,a){var i=e(60),n=e(78),r=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return n(e)&&r(e)<=9007199254740991}})},{60:60,78:78}],205:[function(e,t,a){var i=e(60);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{60:60}],206:[function(e,t,a){var i=e(60);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{60:60}],207:[function(e,t,a){var i=e(60),n=e(110);i(i.S+i.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},{110:110,60:60}],208:[function(e,t,a){var i=e(60),n=e(111);i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},{111:111,60:60}],209:[function(e,t,a){"use strict";function i(e,t){for(var a=-1,i=t;++a<6;)i+=e*f[a],f[a]=i%1e7,i=u(i/1e7)}function n(e){for(var t=6,a=0;0<=--t;)a+=f[t],f[t]=u(a/e),a=a%e*1e7}function r(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==f[e]){var a=String(f[e]);t=""===t?a:t+l.call("0",7-a.length)+a}return t}var o=e(60),s=e(137),d=e(32),l=e(131),c=1..toFixed,u=Math.floor,f=[0,0,0,0,0,0],g="Number.toFixed: incorrect invocation!",p=function(e,t,a){return 0===t?a:t%2==1?p(e,t-1,a*e):p(e*e,t/2,a)};o(o.P+o.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(62)(function(){c.call({})})),"Number",{toFixed:function(e){var t,a,o,c,u=d(this,g),f=s(e),h="",m="0";if(f<0||20<f)throw RangeError(g);if(u!=u)return"NaN";if(u<=-1e21||1e21<=u)return String(u);if(u<0&&(h="-",u=-u),1e-21<u)if(a=(t=function(e){for(var t=0,a=u*p(2,69,1);4096<=a;)t+=12,a/=4096;for(;2<=a;)t+=1,a/=2;return t}()-69)<0?u*p(2,-t,1):u/p(2,t,1),a*=4503599627370496,0<(t=52-t)){for(i(0,a),o=f;7<=o;)i(1e7,0),o-=7;for(i(p(10,o,1),0),o=t-1;23<=o;)n(1<<23),o-=23;n(1<<o),i(1,1),n(2),m=r()}else i(0,a),i(1<<-t,0),m=r()+l.call("0",f);return 0<f?h+((c=m.length)<=f?"0."+l.call("0",f-c)+m:m.slice(0,c-f)+"."+m.slice(c-f)):h+m}})},{131:131,137:137,32:32,60:60,62:62}],210:[function(e,t,a){"use strict";var i=e(60),n=e(62),r=e(32),o=1..toPrecision;i(i.P+i.F*(n(function(){return"1"!==o.call(1,void 0)})||!n(function(){o.call({})})),"Number",{toPrecision:function(e){var t=r(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},{32:32,60:60,62:62}],211:[function(e,t,a){var i=e(60);i(i.S+i.F,"Object",{assign:e(95)})},{60:60,95:95}],212:[function(e,t,a){var i=e(60);i(i.S,"Object",{create:e(96)})},{60:60,96:96}],213:[function(e,t,a){var i=e(60);i(i.S+i.F*!e(56),"Object",{defineProperties:e(98)})},{56:56,60:60,98:98}],214:[function(e,t,a){var i=e(60);i(i.S+i.F*!e(56),"Object",{defineProperty:e(97).f})},{56:56,60:60,97:97}],215:[function(e,t,a){var i=e(79),n=e(92).onFreeze;e(107)("freeze",function(e){return function(t){return e&&i(t)?e(n(t)):t}})},{107:107,79:79,92:92}],216:[function(e,t,a){var i=e(138),n=e(99).f;e(107)("getOwnPropertyDescriptor",function(){return function(e,t){return n(i(e),t)}})},{107:107,138:138,99:99}],217:[function(e,t,a){e(107)("getOwnPropertyNames",function(){return e(100).f})},{100:100,107:107}],218:[function(e,t,a){var i=e(140),n=e(103);e(107)("getPrototypeOf",function(){return function(e){return n(i(e))}})},{103:103,107:107,140:140}],219:[function(e,t,a){var i=e(79);e(107)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},{107:107,79:79}],220:[function(e,t,a){var i=e(79);e(107)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{107:107,79:79}],221:[function(e,t,a){var i=e(79);e(107)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{107:107,79:79}],222:[function(e,t,a){var i=e(60);i(i.S,"Object",{is:e(119)})},{119:119,60:60}],223:[function(e,t,a){var i=e(140),n=e(105);e(107)("keys",function(){return function(e){return n(i(e))}})},{105:105,107:107,140:140}],224:[function(e,t,a){var i=e(79),n=e(92).onFreeze;e(107)("preventExtensions",function(e){return function(t){return e&&i(t)?e(n(t)):t}})},{107:107,79:79,92:92}],225:[function(e,t,a){var i=e(79),n=e(92).onFreeze;e(107)("seal",function(e){return function(t){return e&&i(t)?e(n(t)):t}})},{107:107,79:79,92:92}],226:[function(e,t,a){var i=e(60);i(i.S,"Object",{setPrototypeOf:e(120).set})},{120:120,60:60}],227:[function(e,t,a){"use strict";var i=e(45),n={};n[e(150)("toStringTag")]="z",n+""!="[object z]"&&e(116)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{116:116,150:150,45:45}],228:[function(e,t,a){var i=e(60),n=e(110);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},{110:110,60:60}],229:[function(e,t,a){var i=e(60),n=e(111);i(i.G+i.F*(parseInt!=n),{parseInt:n})},{111:111,60:60}],230:[function(e,t,a){"use strict";function i(){}function n(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t}function r(e,t){if(!e._n){e._n=!0;var a=e._c;w(function(){for(var i=e._v,r=1==e._s,o=0,s=function(t){var a,o,s,d=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{d?(r||(2==e._h&&F(e),e._h=1),!0===d?a=i:(u&&u.enter(),a=d(i),u&&(u.exit(),s=!0)),a===t.promise?c(I("Promise-chain cycle")):(o=n(a))?o.call(a,l,c):l(a)):c(i)}catch(t){u&&!s&&u.exit(),c(t)}};a.length>o;)s(a[o++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}}function o(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),r(t,!0))}var s,d,l,c,u=e(87),f=e(68),g=e(52),p=e(45),h=e(60),m=e(79),v=e(31),b=e(35),_=e(66),y=e(125),x=e(134).set,w=e(93)(),C=e(94),k=e(112),S=e(146),T=e(113),M="Promise",I=f.TypeError,A=f.process,D=A&&A.versions,L=D&&D.v8||"",E=f[M],N="process"==p(A),P=d=C.f,j=!!function(){try{var t=E.resolve(1),a=(t.constructor={})[e(150)("species")]=function(e){e(i,i)};return(N||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof a&&0!==L.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),O=function(e){x.call(f,function(){var t,a,i,n=e._v,r=R(e);if(r&&(t=k(function(){N?A.emit("unhandledRejection",n,e):(a=f.onunhandledrejection)?a({promise:e,reason:n}):(i=f.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=N||R(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){x.call(f,function(){var t;N?A.emit("rejectionHandled",e):(t=f.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===e)throw I("Promise can't be resolved itself");(t=n(e))?w(function(){var i={_w:a,_d:!1};try{t.call(e,g(B,i,1),g(o,i,1))}catch(e){o.call(i,e)}}):(a._v=e,a._s=1,r(a,!1))}catch(e){o.call({_w:a,_d:!1},e)}}};j||(E=function(e){b(this,E,M,"_h"),v(e),s.call(this);try{e(g(B,this,1),g(o,this,1))}catch(e){o.call(this,e)}},(s=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(115)(E.prototype,{then:function(e,t){var a=P(y(this,E));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=N?A.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&r(this,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new s;this.promise=e,this.resolve=g(B,e,1),this.reject=g(o,e,1)},C.f=P=function(e){return e===E||e===c?new l(e):d(e)}),h(h.G+h.W+h.F*!j,{Promise:E}),e(122)(E,M),e(121)(M),c=e(50)[M],h(h.S+h.F*!j,M,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(u||!j),M,{resolve:function(e){return T(u&&this===c?E:this,e)}}),h(h.S+h.F*!(j&&e(84)(function(e){E.all(e).catch(i)})),M,{all:function(e){var t=this,a=P(t),i=a.resolve,n=a.reject,r=k(function(){var a=[],r=0,o=1;_(e,!1,function(e){var s=r++,d=!1;a.push(void 0),o++,t.resolve(e).then(function(e){d||(d=!0,a[s]=e,--o||i(a))},n)}),--o||i(a)});return r.e&&n(r.v),a.promise},race:function(e){var t=this,a=P(t),i=a.reject,n=k(function(){_(e,!1,function(e){t.resolve(e).then(a.resolve,i)})});return n.e&&i(n.v),a.promise}})},{112:112,113:113,115:115,121:121,122:122,125:125,134:134,146:146,150:150,31:31,35:35,45:45,50:50,52:52,60:60,66:66,68:68,79:79,84:84,87:87,93:93,94:94}],231:[function(e,t,a){var i=e(60),n=e(31),r=e(36),o=(e(68).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!e(62)(function(){o(function(){})}),"Reflect",{apply:function(e,t,a){var i=n(e),d=r(a);return o?o(i,t,d):s.call(i,t,d)}})},{31:31,36:36,60:60,62:62,68:68}],232:[function(e,t,a){var i=e(60),n=e(96),r=e(31),o=e(36),s=e(79),d=e(62),l=e(44),c=(e(68).Reflect||{}).construct,u=d(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!d(function(){c(function(){})});i(i.S+i.F*(u||f),"Reflect",{construct:function(e,t){r(e),o(t);var a=arguments.length<3?e:r(arguments[2]);if(f&&!u)return c(e,t,a);if(e==a){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(l.apply(e,i))}var d=a.prototype,g=n(s(d)?d:Object.prototype),p=Function.apply.call(e,g,t);return s(p)?p:g}})},{31:31,36:36,44:44,60:60,62:62,68:68,79:79,96:96}],233:[function(e,t,a){var i=e(97),n=e(60),r=e(36),o=e(141);n(n.S+n.F*e(62)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,a){r(e),t=o(t,!0),r(a);try{return i.f(e,t,a),!0}catch(e){return!1}}})},{141:141,36:36,60:60,62:62,97:97}],234:[function(e,t,a){var i=e(60),n=e(99).f,r=e(36);i(i.S,"Reflect",{deleteProperty:function(e,t){var a=n(r(e),t);return!(a&&!a.configurable)&&delete e[t]}})},{36:36,60:60,99:99}],235:[function(e,t,a){"use strict";function i(e){this._t=r(e),this._i=0;var t,a=this._k=[];for(t in e)a.push(t)}var n=e(60),r=e(36);e(82)(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},{36:36,60:60,82:82}],236:[function(e,t,a){var i=e(99),n=e(60),r=e(36);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(r(e),t)}})},{36:36,60:60,99:99}],237:[function(e,t,a){var i=e(60),n=e(103),r=e(36);i(i.S,"Reflect",{getPrototypeOf:function(e){return n(r(e))}})},{103:103,36:36,60:60}],238:[function(e,t,a){var i=e(99),n=e(103),r=e(69),o=e(60),s=e(79),d=e(36);o(o.S,"Reflect",{get:function e(t,a){var o,l,c=arguments.length<3?t:arguments[2];return d(t)===c?t[a]:(o=i.f(t,a))?r(o,"value")?o.value:void 0!==o.get?o.get.call(c):void 0:s(l=n(t))?e(l,a,c):void 0}})},{103:103,36:36,60:60,69:69,79:79,99:99}],239:[function(e,t,a){var i=e(60);i(i.S,"Reflect",{has:function(e,t){return t in e}})},{60:60}],240:[function(e,t,a){var i=e(60),n=e(36),r=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return n(e),!r||r(e)}})},{36:36,60:60}],241:[function(e,t,a){var i=e(60);i(i.S,"Reflect",{ownKeys:e(109)})},{109:109,60:60}],242:[function(e,t,a){var i=e(60),n=e(36),r=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){n(e);try{return r&&r(e),!0}catch(e){return!1}}})},{36:36,60:60}],243:[function(e,t,a){var i=e(60),n=e(120);n&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){n.check(e,t);try{return n.set(e,t),!0}catch(e){return!1}}})},{120:120,60:60}],244:[function(e,t,a){var i=e(97),n=e(99),r=e(103),o=e(69),s=e(60),d=e(114),l=e(36),c=e(79);s(s.S,"Reflect",{set:function e(t,a,s){var u,f,g=arguments.length<4?t:arguments[3],p=n.f(l(t),a);if(!p){if(c(f=r(t)))return e(f,a,s,g);p=d(0)}if(o(p,"value")){if(!1===p.writable||!c(g))return!1;if(u=n.f(g,a)){if(u.get||u.set||!1===u.writable)return!1;u.value=s,i.f(g,a,u)}else i.f(g,a,d(0,s));return!0}return void 0!==p.set&&(p.set.call(g,s),!0)}})},{103:103,114:114,36:36,60:60,69:69,79:79,97:97,99:99}],245:[function(e,t,a){var i=e(68),n=e(73),r=e(97).f,o=e(101).f,s=e(80),d=e(64),l=i.RegExp,c=l,u=l.prototype,f=/a/g,g=/a/g,p=new l(f)!==f;if(e(56)&&(!p||e(62)(function(){return g[e(150)("match")]=!1,l(f)!=f||l(g)==g||"/a/i"!=l(f,"i")}))){function h(e){e in l||r(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}l=function(e,t){var a=this instanceof l,i=s(e),r=void 0===t;return!a&&i&&e.constructor===l&&r?e:n(p?new c(i&&!r?e.source:e,t):c((i=e instanceof l)?e.source:e,i&&r?d.call(e):t),a?this:u,l)};for(var m=o(c),v=0;m.length>v;)h(m[v++]);(u.constructor=l).prototype=u,e(116)(i,"RegExp",l)}e(121)("RegExp")},{101:101,116:116,121:121,150:150,56:56,62:62,64:64,68:68,73:73,80:80,97:97}],246:[function(e,t,a){"use strict";var i=e(118);e(60)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},{118:118,60:60}],247:[function(e,t,a){e(56)&&"g"!=/./g.flags&&e(97).f(RegExp.prototype,"flags",{configurable:!0,get:e(64)})},{56:56,64:64,97:97}],248:[function(e,t,a){"use strict";var i=e(36),n=e(139),r=e(34),o=e(117);e(63)("match",1,function(e,t,a,s){return[function(a){var i=e(this),n=null==a?void 0:a[t];return void 0!==n?n.call(a,i):new RegExp(a)[t](String(i))},function(e){var t=s(a,e,this);if(t.done)return t.value;var d=i(e),l=String(this);if(!d.global)return o(d,l);for(var c,u=d.unicode,f=[],g=d.lastIndex=0;null!==(c=o(d,l));){var p=String(c[0]);""===(f[g]=p)&&(d.lastIndex=r(l,n(d.lastIndex),u)),g++}return 0===g?null:f}]})},{117:117,139:139,34:34,36:36,63:63}],249:[function(e,t,a){"use strict";var i=e(36),n=e(140),r=e(139),o=e(137),s=e(34),d=e(117),l=Math.max,c=Math.min,u=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g;e(63)("replace",2,function(e,t,a,p){return[function(i,n){var r=e(this),o=null==i?void 0:i[t];return void 0!==o?o.call(i,r,n):a.call(String(r),i,n)},function(e,t){var n=p(a,e,this,t);if(n.done)return n.value;var u=i(e),f=String(this),g="function"==typeof t;g||(t=String(t));var m=u.global;if(m){var v=u.unicode;u.lastIndex=0}for(var b=[];;){var _=d(u,f);if(null===_)break;if(b.push(_),!m)break;""===String(_[0])&&(u.lastIndex=s(f,r(u.lastIndex),v))}for(var y,x="",w=0,C=0;C<b.length;C++){_=b[C];for(var k=String(_[0]),S=l(c(o(_.index),f.length),0),T=[],M=1;M<_.length;M++)T.push(void 0===(y=_[M])?y:String(y));var I=_.groups;if(g){var A=[k].concat(T,S,f);void 0!==I&&A.push(I);var D=String(t.apply(void 0,A))}else D=h(k,f,S,T,I,t);w<=S&&(x+=f.slice(w,S)+D,w=S+k.length)}return x+f.slice(w)}];function h(e,t,i,r,o,s){var d=i+e.length,l=r.length,c=g;return void 0!==o&&(o=n(o),c=f),a.call(s,c,function(a,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(d);case"<":s=o[n.slice(1,-1)];break;default:var c=+n;if(0==c)return a;if(l<c){var f=u(c/10);return 0===f?a:f<=l?void 0===r[f-1]?n.charAt(1):r[f-1]+n.charAt(1):a}s=r[c-1]}return void 0===s?"":s})}})},{117:117,137:137,139:139,140:140,34:34,36:36,63:63}],250:[function(e,t,a){"use strict";var i=e(36),n=e(119),r=e(117);e(63)("search",1,function(e,t,a,o){return[function(a){var i=e(this),n=null==a?void 0:a[t];return void 0!==n?n.call(a,i):new RegExp(a)[t](String(i))},function(e){var t=o(a,e,this);if(t.done)return t.value;var s=i(e),d=String(this),l=s.lastIndex;n(l,0)||(s.lastIndex=0);var c=r(s,d);return n(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]})},{117:117,119:119,36:36,63:63}],251:[function(e,t,a){"use strict";var i=e(80),n=e(36),r=e(125),o=e(34),s=e(139),d=e(117),l=e(118),c=e(62),u=Math.min,f=[].push,g="split",p="length",h="lastIndex",m=4294967295,v=!c(function(){RegExp(m,"y")});e(63)("split",2,function(e,t,a,c){var b;return b="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[p]||2!="ab"[g](/(?:ab)*/)[p]||4!="."[g](/(.?)(.?)/)[p]||1<"."[g](/()()/)[p]||""[g](/.?/)[p]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return a.call(n,e,t);for(var r,o,s,d=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,g=void 0===t?m:t>>>0,v=new RegExp(e.source,c+"g");(r=l.call(v,n))&&!(u<(o=v[h])&&(d.push(n.slice(u,r.index)),1<r[p]&&r.index<n[p]&&f.apply(d,r.slice(1)),s=r[0][p],u=o,d[p]>=g));)v[h]===r.index&&v[h]++;return u===n[p]?!s&&v.test("")||d.push(""):d.push(n.slice(u)),d[p]>g?d.slice(0,g):d}:"0"[g](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,i){var n=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,n,i):b.call(String(n),a,i)},function(e,t){var i=c(b,e,this,t,b!==a);if(i.done)return i.value;var l=n(e),f=String(this),g=r(l,RegExp),p=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),_=new g(v?l:"^(?:"+l.source+")",h),y=void 0===t?m:t>>>0;if(0==y)return[];if(0===f.length)return null===d(_,f)?[f]:[];for(var x=0,w=0,C=[];w<f.length;){_.lastIndex=v?w:0;var k,S=d(_,v?f:f.slice(w));if(null===S||(k=u(s(_.lastIndex+(v?0:w)),f.length))===x)w=o(f,w,p);else{if(C.push(f.slice(x,w)),C.length===y)return C;for(var T=1;T<=S.length-1;T++)if(C.push(S[T]),C.length===y)return C;w=x=k}}return C.push(f.slice(x)),C}]})},{117:117,118:118,125:125,139:139,34:34,36:36,62:62,63:63,80:80}],252:[function(e,t,a){"use strict";function i(t){e(116)(RegExp.prototype,s,t,!0)}e(247);var n=e(36),r=e(64),o=e(56),s="toString",d=/./[s];e(62)(function(){return"/a/b"!=d.call({source:"a",flags:"b"})})?i(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):d.name!=s&&i(function(){return d.call(this)})},{116:116,247:247,36:36,56:56,62:62,64:64}],253:[function(e,t,a){"use strict";var i=e(47),n=e(147);t.exports=e(49)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,"Set"),e=0===e?0:e,e)}},i)},{147:147,47:47,49:49}],254:[function(e,t,a){"use strict";e(129)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{129:129}],255:[function(e,t,a){"use strict";e(129)("big",function(e){return function(){return e(this,"big","","")}})},{129:129}],256:[function(e,t,a){"use strict";e(129)("blink",function(e){return function(){return e(this,"blink","","")}})},{129:129}],257:[function(e,t,a){"use strict";e(129)("bold",function(e){return function(){return e(this,"b","","")}})},{129:129}],258:[function(e,t,a){"use strict";var i=e(60),n=e(127)(!1);i(i.P,"String",{codePointAt:function(e){return n(this,e)}})},{127:127,60:60}],259:[function(e,t,a){"use strict";var i=e(60),n=e(139),r=e(128),o="endsWith",s=""[o];i(i.P+i.F*e(61)(o),"String",{endsWith:function(e){var t=r(this,e,o),a=1<arguments.length?arguments[1]:void 0,i=n(t.length),d=void 0===a?i:Math.min(n(a),i),l=String(e);return s?s.call(t,l,d):t.slice(d-l.length,d)===l}})},{128:128,139:139,60:60,61:61}],260:[function(e,t,a){"use strict";e(129)("fixed",function(e){return function(){return e(this,"tt","","")}})},{129:129}],261:[function(e,t,a){"use strict";e(129)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{129:129}],262:[function(e,t,a){"use strict";e(129)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{129:129}],263:[function(e,t,a){var i=e(60),n=e(135),r=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,a=[],i=arguments.length,o=0;o<i;){if(t=+arguments[o++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");a.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return a.join("")}})},{135:135,60:60}],264:[function(e,t,a){"use strict";var i=e(60),n=e(128),r="includes";i(i.P+i.F*e(61)(r),"String",{includes:function(e){return!!~n(this,e,r).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},{128:128,60:60,61:61}],265:[function(e,t,a){"use strict";e(129)("italics",function(e){return function(){return e(this,"i","","")}})},{129:129}],266:[function(e,t,a){"use strict";var i=e(127)(!0);e(83)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=i(t,a),this._i+=e.length,{value:e,done:!1})})},{127:127,83:83}],267:[function(e,t,a){"use strict";e(129)("link",function(e){return function(t){return e(this,"a","href",t)}})},{129:129}],268:[function(e,t,a){var i=e(60),n=e(138),r=e(139);i(i.S,"String",{raw:function(e){for(var t=n(e.raw),a=r(t.length),i=arguments.length,o=[],s=0;s<a;)o.push(String(t[s++])),s<i&&o.push(String(arguments[s]));return o.join("")}})},{138:138,139:139,60:60}],269:[function(e,t,a){var i=e(60);i(i.P,"String",{repeat:e(131)})},{131:131,60:60}],270:[function(e,t,a){"use strict";e(129)("small",function(e){return function(){return e(this,"small","","")}})},{129:129}],271:[function(e,t,a){"use strict";var i=e(60),n=e(139),r=e(128),o="startsWith",s=""[o];i(i.P+i.F*e(61)(o),"String",{startsWith:function(e){var t=r(this,e,o),a=n(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),i=String(e);return s?s.call(t,i,a):t.slice(a,a+i.length)===i}})},{128:128,139:139,60:60,61:61}],272:[function(e,t,a){"use strict";e(129)("strike",function(e){return function(){return e(this,"strike","","")}})},{129:129}],273:[function(e,t,a){"use strict";e(129)("sub",function(e){return function(){return e(this,"sub","","")}})},{129:129}],274:[function(e,t,a){"use strict";e(129)("sup",function(e){return function(){return e(this,"sup","","")}})},{129:129}],275:[function(e,t,a){"use strict";e(132)("trim",function(e){return function(){return e(this,3)}})},{132:132}],276:[function(e,t,a){"use strict";function i(e){var t=G[e]=D(B[H]);return t._k=e,t}function n(e,t){k(e);for(var a,i=w(t=M(t)),n=0,r=i.length;n<r;)te(e,a=i[n++],t[a]);return e}function r(e){var t=V.call(this,e=I(e,!0));return!(this===Q&&c(G,e)&&!c($,e))&&(!(t||!c(this,e)||!c(G,e)||c(this,W)&&this[W][e])||t)}function o(e,t){if(e=M(e),t=I(t,!0),e!==Q||!c(G,t)||c($,t)){var a=O(e,t);return!a||!c(G,t)||c(e,W)&&e[W][t]||(a.enumerable=!0),a}}function s(e){for(var t,a=F(M(e)),i=[],n=0;a.length>n;)c(G,t=a[n++])||t==W||t==p||i.push(t);return i}function d(e){for(var t,a=e===Q,i=F(a?$:M(e)),n=[],r=0;i.length>r;)!c(G,t=i[r++])||a&&!c(Q,t)||n.push(G[t]);return n}var l=e(68),c=e(69),u=e(56),f=e(60),g=e(116),p=e(92).KEY,h=e(62),m=e(124),v=e(122),b=e(145),_=e(150),y=e(149),x=e(148),w=e(59),C=e(77),k=e(36),S=e(79),T=e(140),M=e(138),I=e(141),A=e(114),D=e(96),L=e(100),E=e(99),N=e(102),P=e(97),j=e(105),O=E.f,R=P.f,F=L.f,B=l.Symbol,z=l.JSON,U=z&&z.stringify,H="prototype",W=_("_hidden"),q=_("toPrimitive"),V={}.propertyIsEnumerable,Y=m("symbol-registry"),G=m("symbols"),$=m("op-symbols"),Q=Object[H],X="function"==typeof B&&!!N.f,J=l.QObject,K=!J||!J[H]||!J[H].findChild,Z=u&&h(function(){return 7!=D(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,a){var i=O(Q,t);i&&delete Q[t],R(e,t,a),i&&e!==Q&&R(Q,t,i)}:R,ee=X&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},te=function(e,t,a){return e===Q&&te($,t,a),k(e),t=I(t,!0),k(a),c(G,t)?(a.enumerable?(c(e,W)&&e[W][t]&&(e[W][t]=!1),a=D(a,{enumerable:A(0,!1)})):(c(e,W)||R(e,W,A(1,{})),e[W][t]=!0),Z(e,t,a)):R(e,t,a)};X||(g((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=b(0<arguments.length?arguments[0]:void 0),t=function(a){this===Q&&t.call($,a),c(this,W)&&c(this[W],e)&&(this[W][e]=!1),Z(this,e,A(1,a))};return u&&K&&Z(Q,e,{configurable:!0,set:t}),i(e)})[H],"toString",function(){return this._k}),E.f=o,P.f=te,e(101).f=L.f=s,e(106).f=r,N.f=d,u&&!e(87)&&g(Q,"propertyIsEnumerable",r,!0),y.f=function(e){return i(_(e))}),f(f.G+f.W+f.F*!X,{Symbol:B});for(var ae="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ae.length>ie;)_(ae[ie++]);for(var ne=j(_.store),re=0;ne.length>re;)x(ne[re++]);f(f.S+f.F*!X,"Symbol",{for:function(e){return c(Y,e+="")?Y[e]:Y[e]=B(e)},keyFor:function(e){if(!ee(e))throw TypeError(e+" is not a symbol!");for(var t in Y)if(Y[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),f(f.S+f.F*!X,"Object",{create:function(e,t){return void 0===t?D(e):n(D(e),t)},defineProperty:te,defineProperties:n,getOwnPropertyDescriptor:o,getOwnPropertyNames:s,getOwnPropertySymbols:d});var oe=h(function(){N.f(1)});f(f.S+f.F*oe,"Object",{getOwnPropertySymbols:function(e){return N.f(T(e))}}),z&&f(f.S+f.F*(!X||h(function(){var e=B();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))})),"JSON",{stringify:function(e){for(var t,a,i=[e],n=1;n<arguments.length;)i.push(arguments[n++]);if(a=t=i[1],(S(t)||void 0!==e)&&!ee(e))return C(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ee(t))return t}),i[1]=t,U.apply(z,i)}}),B[H][q]||e(70)(B[H],q,B[H].valueOf),v(B,"Symbol"),v(Math,"Math",!0),v(l.JSON,"JSON",!0)},{100:100,101:101,102:102,105:105,106:106,114:114,116:116,122:122,124:124,138:138,140:140,141:141,145:145,148:148,149:149,150:150,36:36,56:56,59:59,60:60,62:62,68:68,69:69,70:70,77:77,79:79,87:87,92:92,96:96,97:97,99:99}],277:[function(e,t,a){"use strict";var i=e(60),n=e(144),r=e(143),o=e(36),s=e(135),d=e(139),l=e(79),c=e(68).ArrayBuffer,u=e(125),f=r.ArrayBuffer,g=r.DataView,p=n.ABV&&c.isView,h=f.prototype.slice,m=n.VIEW,v="ArrayBuffer";i(i.G+i.W+i.F*(c!==f),{ArrayBuffer:f}),i(i.S+i.F*!n.CONSTR,v,{isView:function(e){return p&&p(e)||l(e)&&m in e}}),i(i.P+i.U+i.F*e(62)(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(o(this),e);for(var a=o(this).byteLength,i=s(e,a),n=s(void 0===t?a:t,a),r=new(u(this,f))(d(n-i)),l=new g(this),c=new g(r),p=0;i<n;)c.setUint8(p++,l.getUint8(i++));return r}}),e(121)(v)},{121:121,125:125,135:135,139:139,143:143,144:144,36:36,60:60,62:62,68:68,79:79}],278:[function(e,t,a){var i=e(60);i(i.G+i.W+i.F*!e(144).ABV,{DataView:e(143).DataView})},{143:143,144:144,60:60}],279:[function(e,t,a){e(142)("Float32",4,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],280:[function(e,t,a){e(142)("Float64",8,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],281:[function(e,t,a){e(142)("Int16",2,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],282:[function(e,t,a){e(142)("Int32",4,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],283:[function(e,t,a){e(142)("Int8",1,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],284:[function(e,t,a){e(142)("Uint16",2,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],285:[function(e,t,a){e(142)("Uint32",4,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],286:[function(e,t,a){e(142)("Uint8",1,function(e){return function(t,a,i){return e(this,t,a,i)}})},{142:142}],287:[function(e,t,a){e(142)("Uint8",1,function(e){return function(t,a,i){return e(this,t,a,i)}},!0)},{142:142}],288:[function(e,t,a){"use strict";function i(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var n,r=e(68),o=e(40)(0),s=e(116),d=e(92),l=e(95),c=e(48),u=e(79),f=e(147),g=e(147),p=!r.ActiveXObject&&"ActiveXObject"in r,h="WeakMap",m=d.getWeak,v=Object.isExtensible,b=c.ufstore,_={get:function(e){if(u(e)){var t=m(e);return!0===t?b(f(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,h),e,t)}},y=t.exports=e(49)(h,i,_,c,!0,!0);g&&p&&(l((n=c.getConstructor(i,h)).prototype,_),d.NEED=!0,o(["delete","has","get","set"],function(e){var t=y.prototype,a=t[e];s(t,e,function(t,i){if(!u(t)||v(t))return a.call(this,t,i);this._f||(this._f=new n);var r=this._f[e](t,i);return"set"==e?this:r})}))},{116:116,147:147,40:40,48:48,49:49,68:68,79:79,92:92,95:95}],289:[function(e,t,a){"use strict";var i=e(48),n=e(147),r="WeakSet";e(49)(r,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,r),e,!0)}},i,!1,!0)},{147:147,48:48,49:49}],290:[function(e,t,a){"use strict";var i=e(60),n=e(65),r=e(140),o=e(139),s=e(31),d=e(43);i(i.P,"Array",{flatMap:function(e){var t,a,i=r(this);return s(e),t=o(i.length),a=d(i,0),n(a,i,i,t,0,1,e,arguments[1]),a}}),e(33)("flatMap")},{139:139,140:140,31:31,33:33,43:43,60:60,65:65}],291:[function(e,t,a){"use strict";var i=e(60),n=e(39)(!0);i(i.P,"Array",{includes:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),e(33)("includes")},{33:33,39:39,60:60}],292:[function(e,t,a){var i=e(60),n=e(108)(!0);i(i.S,"Object",{entries:function(e){return n(e)}})},{108:108,60:60}],293:[function(e,t,a){var i=e(60),n=e(109),r=e(138),o=e(99),s=e(51);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,a,i=r(e),d=o.f,l=n(i),c={},u=0;l.length>u;)void 0!==(a=d(i,t=l[u++]))&&s(c,t,a);return c}})},{109:109,138:138,51:51,60:60,99:99}],294:[function(e,t,a){var i=e(60),n=e(108)(!1);i(i.S,"Object",{values:function(e){return n(e)}})},{108:108,60:60}],295:[function(e,t,a){"use strict";var i=e(60),n=e(50),r=e(68),o=e(125),s=e(113);i(i.P+i.R,"Promise",{finally:function(e){var t=o(this,n.Promise||r.Promise),a="function"==typeof e;return this.then(a?function(a){return s(t,e()).then(function(){return a})}:e,a?function(a){return s(t,e()).then(function(){throw a})}:e)}})},{113:113,125:125,50:50,60:60,68:68}],296:[function(e,t,a){"use strict";var i=e(60),n=e(130),r=e(146),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);i(i.P+i.F*o,"String",{padEnd:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},{130:130,146:146,60:60}],297:[function(e,t,a){"use strict";var i=e(60),n=e(130),r=e(146),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);i(i.P+i.F*o,"String",{padStart:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},{130:130,146:146,60:60}],298:[function(e,t,a){"use strict";e(132)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{132:132}],299:[function(e,t,a){"use strict";e(132)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{132:132}],300:[function(e,t,a){e(148)("asyncIterator")},{148:148}],301:[function(e,t,a){for(var i=e(162),n=e(105),r=e(116),o=e(68),s=e(70),d=e(86),l=e(150),c=l("iterator"),u=l("toStringTag"),f=d.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(g),h=0;h<p.length;h++){var m,v=p[h],b=g[v],_=o[v],y=_&&_.prototype;if(y&&(y[c]||s(y,c,f),y[u]||s(y,u,v),d[v]=f,b))for(m in i)y[m]||r(y,m,i[m],!0)}},{105:105,116:116,150:150,162:162,68:68,70:70,86:86}],302:[function(e,t,a){var i=e(60),n=e(134);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},{134:134,60:60}],303:[function(e,t,a){function i(e){return function(t,a){var i=2<arguments.length,n=i&&s.call(arguments,2);return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,a)}}var n=e(68),r=e(60),o=e(146),s=[].slice,d=/MSIE .\./.test(o);r(r.G+r.B+r.F*d,{setTimeout:i(n.setTimeout),setInterval:i(n.setInterval)})},{146:146,60:60,68:68}],304:[function(e,t,a){e(303),e(302),e(301),t.exports=e(50)},{301:301,302:302,303:303,50:50}],305:[function(e,t,a){var i=function(e){"use strict";var t,a=Object.prototype,i=a.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function d(e,t,a,i){var n=t&&t.prototype instanceof h?t:h,r=Object.create(n.prototype),o=new M(i||[]);return r._invoke=function(e,t,a){var i=c;return function(n,r){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===n)throw r;return A()}for(a.method=n,a.arg=r;;){var o=a.delegate;if(o){var s=k(o,a);if(s){if(s===p)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===c)throw i=g,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=f;var d=l(e,t,a);if("normal"===d.type){if(i=a.done?g:u,d.arg===p)continue;return{value:d.arg,done:a.done}}"throw"===d.type&&(i=g,a.method="throw",a.arg=d.arg)}}}(e,a,o),r}function l(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var c="suspendedStart",u="suspendedYield",f="executing",g="completed",p={};function h(){}function m(){}function v(){}var b={};b[r]=function(){return this};var _=Object.getPrototypeOf,y=_&&_(_(I([])));y&&y!==a&&i.call(y,r)&&(b=y);var x=v.prototype=h.prototype=Object.create(b);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e,t){var a;this._invoke=function(n,r){function o(){return new t(function(a,o){!function a(n,r,o,s){var d=l(e[n],e,r);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then(function(e){a("next",e,o,s)},function(e){a("throw",e,o,s)}):t.resolve(u).then(function(e){c.value=e,o(c)},function(e){return a("throw",e,o,s)})}s(d.arg)}(n,r,a,o)})}return a=a?a.then(o,o):o()}}function k(e,a){var i=e.iterator[a.method];if(i===t){if(a.delegate=null,"throw"===a.method){if(e.iterator.return&&(a.method="return",a.arg=t,k(e,a),"throw"===a.method))return p;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(i,e.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,p;var r=n.arg;return r?r.done?(a[e.resultName]=r.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,p):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var a=e[r];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function a(){for(;++n<e.length;)if(i.call(e,n))return a.value=e[n],a.done=!1,a;return a.value=t,a.done=!0,a};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=x.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(C.prototype),C.prototype[o]=function(){return this},e.AsyncIterator=C,e.async=function(t,a,i,n,r){void 0===r&&(r=Promise);var o=new C(d(t,a,i,n),r);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(x),x[s]="Generator",x[r]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var i=t.pop();if(i in e)return a.value=i,a.done=!1,a}return a.done=!0,a}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(i,n){return s.type="throw",s.arg=e,a.next=i,n&&(a.method="next",a.arg=t),!!n}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var d=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(d&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;0<=a;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),T(a),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var i=a.completion;if("throw"===i.type){var n=i.arg;T(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,i){return this.delegate={iterator:I(e),resultName:a,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},{}],306:[function(e,t,a){"use strict";e(307);var i=function(e){return e&&e.__esModule?e:{default:e}}(e(13));i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},{13:13,307:307}],307:[function(e,t,a){"use strict";e(1),e(3),e(2),e(9),e(8),e(11),e(10),e(12),e(5),e(6),e(4),e(7),e(304),e(305)},{1:1,10:10,11:11,12:12,2:2,3:3,304:304,305:305,4:4,5:5,6:6,7:7,8:8,9:9}]},{},[306]),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var a=[],i=Object.getPrototypeOf,n=a.slice,r=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},o=a.push,s=a.indexOf,d={},l=d.toString,c=d.hasOwnProperty,u=c.toString,f=u.call(Object),g={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},h=function(e){return null!=e&&e===e.window},m=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,a){var i,n,r=(a=a||m).createElement("script");if(r.text=e,t)for(i in v)(n=t[i]||t.getAttribute&&t.getAttribute(i))&&r.setAttribute(i,n);a.head.appendChild(r).parentNode.removeChild(r)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[l.call(e)]||"object":typeof e}var y=function(e,t){return new y.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,a=_(e);return!p(e)&&!h(e)&&("array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e)}y.fn=y.prototype={jquery:"3.6.1",constructor:y,length:0,toArray:function(){return n.call(this)},get:function(e){return null==e?n.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return y.each(this,e)},map:function(e){return this.pushStack(y.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,a=+e+(e<0?t:0);return this.pushStack(a>=0&&a<t?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:a.sort,splice:a.splice},y.extend=y.fn.extend=function(){var e,t,a,i,n,r,o=arguments[0]||{},s=1,d=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||p(o)||(o={}),s===d&&(o=this,s--);s<d;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&o!==i&&(l&&i&&(y.isPlainObject(i)||(n=Array.isArray(i)))?(a=o[t],r=n&&!Array.isArray(a)?[]:n||y.isPlainObject(a)?a:{},n=!1,o[t]=y.extend(l,r,i)):void 0!==i&&(o[t]=i));return o},y.extend({expando:"jQuery"+("3.6.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,a;return!(!e||"[object Object]"!==l.call(e))&&(!(t=i(e))||"function"==typeof(a=c.call(t,"constructor")&&t.constructor)&&u.call(a)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,a){b(e,{nonce:t&&t.nonce},a)},each:function(e,t){var a,i=0;if(x(e))for(a=e.length;i<a&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var a=t||[];return null!=e&&(x(Object(e))?y.merge(a,"string"==typeof e?[e]:e):o.call(a,e)),a},inArray:function(e,t,a){return null==t?-1:s.call(t,e,a)},merge:function(e,t){for(var a=+t.length,i=0,n=e.length;i<a;i++)e[n++]=t[i];return e.length=n,e},grep:function(e,t,a){for(var i=[],n=0,r=e.length,o=!a;n<r;n++)!t(e[n],n)!==o&&i.push(e[n]);return i},map:function(e,t,a){var i,n,o=0,s=[];if(x(e))for(i=e.length;o<i;o++)null!=(n=t(e[o],o,a))&&s.push(n);else for(o in e)null!=(n=t(e[o],o,a))&&s.push(n);return r(s)},guid:1,support:g}),"function"==typeof Symbol&&(y.fn[Symbol.iterator]=a[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var w=function(e){var t,a,i,n,r,o,s,d,l,c,u,f,g,p,h,m,v,b,_,y="sizzle"+1*new Date,x=e.document,w=0,C=0,k=de(),S=de(),T=de(),M=de(),I=function(e,t){return e===t&&(u=!0),0},A={}.hasOwnProperty,D=[],L=D.pop,E=D.push,N=D.push,P=D.slice,j=function(e,t){for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(R+"+","g"),H=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),W=new RegExp("^"+R+"*,"+R+"*"),q=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),V=new RegExp(R+"|>"),Y=new RegExp(z),G=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),ae=function(e,t){var a="0x"+e.slice(1)-65536;return t||(a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},oe=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(D=P.call(x.childNodes),x.childNodes),D[x.childNodes.length].nodeType}catch(e){N={apply:D.length?function(e,t){E.apply(e,P.call(t))}:function(e,t){for(var a=e.length,i=0;e[a++]=t[i++];);e.length=a-1}}}function se(e,t,i,n){var r,s,l,c,u,p,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!n&&(f(t),t=t||g,h)){if(11!==x&&(u=Z.exec(e)))if(r=u[1]){if(9===x){if(!(l=t.getElementById(r)))return i;if(l.id===r)return i.push(l),i}else if(b&&(l=b.getElementById(r))&&_(t,l)&&l.id===r)return i.push(l),i}else{if(u[2])return N.apply(i,t.getElementsByTagName(e)),i;if((r=u[3])&&a.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(r)),i}if(a.qsa&&!M[e+" "]&&(!m||!m.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===x&&(V.test(e)||q.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&a.scope||((c=t.getAttribute("id"))?c=c.replace(ie,ne):t.setAttribute("id",c=y)),s=(p=o(e)).length;s--;)p[s]=(c?"#"+c:":scope")+" "+_e(p[s]);v=p.join(",")}try{return N.apply(i,b.querySelectorAll(v)),i}catch(t){M(e,!0)}finally{c===y&&t.removeAttribute("id")}}}return d(e.replace(H,"$1"),t,i,n)}function de(){var e=[];return function t(a,n){return e.push(a+" ")>i.cacheLength&&delete t[e.shift()],t[a+" "]=n}}function le(e){return e[y]=!0,e}function ce(e){var t=g.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var a=e.split("|"),n=a.length;n--;)i.attrHandle[a[n]]=t}function fe(e,t){var a=t&&e,i=a&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function ge(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var a=t.nodeName.toLowerCase();return("input"===a||"button"===a)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return le(function(t){return t=+t,le(function(a,i){for(var n,r=e([],a.length,t),o=r.length;o--;)a[n=r[o]]&&(a[n]=!(i[n]=a[n]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in a=se.support={},r=se.isXML=function(e){var t=e&&e.namespaceURI,a=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||a&&a.nodeName||"HTML")},f=se.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:x;return o!=g&&9===o.nodeType&&o.documentElement?(p=(g=o).documentElement,h=!r(g),x!=g&&(n=g.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",re,!1):n.attachEvent&&n.attachEvent("onunload",re)),a.scope=ce(function(e){return p.appendChild(e).appendChild(g.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),a.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),a.getElementsByTagName=ce(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),a.getElementsByClassName=K.test(g.getElementsByClassName),a.getById=ce(function(e){return p.appendChild(e).id=y,!g.getElementsByName||!g.getElementsByName(y).length}),a.getById?(i.filter.ID=function(e){var t=e.replace(te,ae);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var a=t.getElementById(e);return a?[a]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ae);return function(e){var a=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return a&&a.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var a,i,n,r=t.getElementById(e);if(r){if((a=r.getAttributeNode("id"))&&a.value===e)return[r];for(n=t.getElementsByName(e),i=0;r=n[i++];)if((a=r.getAttributeNode("id"))&&a.value===e)return[r]}return[]}}),i.find.TAG=a.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):a.qsa?t.querySelectorAll(e):void 0}:function(e,t){var a,i=[],n=0,r=t.getElementsByTagName(e);if("*"===e){for(;a=r[n++];)1===a.nodeType&&i.push(a);return i}return r},i.find.CLASS=a.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},v=[],m=[],(a.qsa=K.test(g.querySelectorAll))&&(ce(function(e){var t;p.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+y+"-]").length||m.push("~="),(t=g.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=g.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(a.matchesSelector=K.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce(function(e){a.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(p.compareDocumentPosition),_=t||K.test(p.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(a.contains?a.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!a.sortDetached&&t.compareDocumentPosition(e)===i?e==g||e.ownerDocument==x&&_(x,e)?-1:t==g||t.ownerDocument==x&&_(x,t)?1:c?j(c,e)-j(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var a,i=0,n=e.parentNode,r=t.parentNode,o=[e],s=[t];if(!n||!r)return e==g?-1:t==g?1:n?-1:r?1:c?j(c,e)-j(c,t):0;if(n===r)return fe(e,t);for(a=e;a=a.parentNode;)o.unshift(a);for(a=t;a=a.parentNode;)s.unshift(a);for(;o[i]===s[i];)i++;return i?fe(o[i],s[i]):o[i]==x?-1:s[i]==x?1:0},g):g},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),a.matchesSelector&&h&&!M[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=b.call(e,t);if(i||a.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){M(t,!0)}return se(t,g,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=g&&f(e),_(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=g&&f(e);var n=i.attrHandle[t.toLowerCase()],r=n&&A.call(i.attrHandle,t.toLowerCase())?n(e,t,!h):void 0;return void 0!==r?r:a.attributes||!h?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(ie,ne)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],n=0,r=0;if(u=!a.detectDuplicates,c=!a.sortStable&&e.slice(0),e.sort(I),u){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return c=null,e},n=se.getText=function(e){var t,a="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=n(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)a+=n(t);return a},(i=se.selectors={cacheLength:50,createPseudo:le,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,a=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&Y.test(a)&&(t=o(a,!0))&&(t=a.indexOf(")",a.length-t)-a.length)&&(e[0]=e[0].slice(0,t),e[2]=a.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,a){return function(i){var n=se.attr(i,e);return null==n?"!="===t:!t||(n+="","="===t?n===a:"!="===t?n!==a:"^="===t?a&&0===n.indexOf(a):"*="===t?a&&n.indexOf(a)>-1:"$="===t?a&&n.slice(-a.length)===a:"~="===t?(" "+n.replace(U," ")+" ").indexOf(a)>-1:"|="===t&&(n===a||n.slice(0,a.length+1)===a+"-"))}},CHILD:function(e,t,a,i,n){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,a,d){var l,c,u,f,g,p,h=r!==o?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!d&&!s,_=!1;if(m){if(r){for(;h;){for(f=t;f=f[h];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&b){for(_=(g=(l=(c=(u=(f=m)[y]||(f[y]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===w&&l[1])&&l[2],f=g&&m.childNodes[g];f=++g&&f&&f[h]||(_=g=0)||p.pop();)if(1===f.nodeType&&++_&&f===t){c[e]=[w,g,_];break}}else if(b&&(_=g=(l=(c=(u=(f=t)[y]||(f[y]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===w&&l[1]),!1===_)for(;(f=++g&&f&&f[h]||(_=g=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(b&&((c=(u=f[y]||(f[y]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]=[w,_]),f!==t)););return(_-=n)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,t){var a,n=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return n[y]?n(t):n.length>1?(a=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,a){for(var i,r=n(e,t),o=r.length;o--;)e[i=j(e,r[o])]=!(a[i]=r[o])}):function(e){return n(e,0,a)}):n}},pseudos:{not:le(function(e){var t=[],a=[],i=s(e.replace(H,"$1"));return i[y]?le(function(e,t,a,n){for(var r,o=i(e,null,n,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,n,r){return t[0]=e,i(t,null,r,a),t[0]=null,!a.pop()}}),has:le(function(e){return function(t){return se(e,t).length>0}}),contains:le(function(e){return e=e.replace(te,ae),function(t){return(t.textContent||n(t)).indexOf(e)>-1}}),lang:le(function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ae).toLowerCase(),function(t){var a;do{if(a=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(a=a.toLowerCase())===e||0===a.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var a=e.location&&e.location.hash;return a&&a.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,a){return[a<0?a+t:a]}),even:me(function(e,t){for(var a=0;a<t;a+=2)e.push(a);return e}),odd:me(function(e,t){for(var a=1;a<t;a+=2)e.push(a);return e}),lt:me(function(e,t,a){for(var i=a<0?a+t:a>t?t:a;--i>=0;)e.push(i);return e}),gt:me(function(e,t,a){for(var i=a<0?a+t:a;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ge(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function be(){}function _e(e){for(var t=0,a=e.length,i="";t<a;t++)i+=e[t].value;return i}function ye(e,t,a){var i=t.dir,n=t.next,r=n||i,o=a&&"parentNode"===r,s=C++;return t.first?function(t,a,n){for(;t=t[i];)if(1===t.nodeType||o)return e(t,a,n);return!1}:function(t,a,d){var l,c,u,f=[w,s];if(d){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,a,d))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(c=(u=t[y]||(t[y]={}))[t.uniqueID]||(u[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=c[r])&&l[0]===w&&l[1]===s)return f[2]=l[2];if(c[r]=f,f[2]=e(t,a,d))return!0}return!1}}function xe(e){return e.length>1?function(t,a,i){for(var n=e.length;n--;)if(!e[n](t,a,i))return!1;return!0}:e[0]}function we(e,t,a,i,n){for(var r,o=[],s=0,d=e.length,l=null!=t;s<d;s++)(r=e[s])&&(a&&!a(r,i,n)||(o.push(r),l&&t.push(s)));return o}function Ce(e,t,a,i,n,r){return i&&!i[y]&&(i=Ce(i)),n&&!n[y]&&(n=Ce(n,r)),le(function(r,o,s,d){var l,c,u,f=[],g=[],p=o.length,h=r||function(e,t,a){for(var i=0,n=t.length;i<n;i++)se(e,t[i],a);return a}(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?h:we(h,f,e,s,d),v=a?n||(r?e:p||i)?[]:o:m;if(a&&a(m,v,s,d),i)for(l=we(v,g),i(l,[],s,d),c=l.length;c--;)(u=l[c])&&(v[g[c]]=!(m[g[c]]=u));if(r){if(n||e){if(n){for(l=[],c=v.length;c--;)(u=v[c])&&l.push(m[c]=u);n(null,v=[],l,d)}for(c=v.length;c--;)(u=v[c])&&(l=n?j(r,u):f[c])>-1&&(r[l]=!(o[l]=u))}}else v=we(v===o?v.splice(p,v.length):v),n?n(null,o,v,d):N.apply(o,v)})}function ke(e){for(var t,a,n,r=e.length,o=i.relative[e[0].type],s=o||i.relative[" "],d=o?1:0,c=ye(function(e){return e===t},s,!0),u=ye(function(e){return j(t,e)>-1},s,!0),f=[function(e,a,i){var n=!o&&(i||a!==l)||((t=a).nodeType?c(e,a,i):u(e,a,i));return t=null,n}];d<r;d++)if(a=i.relative[e[d].type])f=[ye(xe(f),a)];else{if((a=i.filter[e[d].type].apply(null,e[d].matches))[y]){for(n=++d;n<r&&!i.relative[e[n].type];n++);return Ce(d>1&&xe(f),d>1&&_e(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(H,"$1"),a,d<n&&ke(e.slice(d,n)),n<r&&ke(e=e.slice(n)),n<r&&_e(e))}f.push(a)}return xe(f)}return be.prototype=i.filters=i.pseudos,i.setFilters=new be,o=se.tokenize=function(e,t){var a,n,r,o,s,d,l,c=S[e+" "];if(c)return t?0:c.slice(0);for(s=e,d=[],l=i.preFilter;s;){for(o in a&&!(n=W.exec(s))||(n&&(s=s.slice(n[0].length)||s),d.push(r=[])),a=!1,(n=q.exec(s))&&(a=n.shift(),r.push({value:a,type:n[0].replace(H," ")}),s=s.slice(a.length)),i.filter)!(n=$[o].exec(s))||l[o]&&!(n=l[o](n))||(a=n.shift(),r.push({value:a,type:o,matches:n}),s=s.slice(a.length));if(!a)break}return t?s.length:s?se.error(e):S(e,d).slice(0)},s=se.compile=function(e,t){var a,n=[],r=[],s=T[e+" "];if(!s){for(t||(t=o(e)),a=t.length;a--;)(s=ke(t[a]))[y]?n.push(s):r.push(s);(s=T(e,function(e,t){var a=t.length>0,n=e.length>0,r=function(r,o,s,d,c){var u,p,m,v=0,b="0",_=r&&[],y=[],x=l,C=r||n&&i.find.TAG("*",c),k=w+=null==x?1:Math.random()||.1,S=C.length;for(c&&(l=o==g||o||c);b!==S&&null!=(u=C[b]);b++){if(n&&u){for(p=0,o||u.ownerDocument==g||(f(u),s=!h);m=e[p++];)if(m(u,o||g,s)){d.push(u);break}c&&(w=k)}a&&((u=!m&&u)&&v--,r&&_.push(u))}if(v+=b,a&&b!==v){for(p=0;m=t[p++];)m(_,y,o,s);if(r){if(v>0)for(;b--;)_[b]||y[b]||(y[b]=L.call(d));y=we(y)}N.apply(d,y),c&&!r&&y.length>0&&v+t.length>1&&se.uniqueSort(d)}return c&&(w=k,l=x),_};return a?le(r):r}(r,n))).selector=e}return s},d=se.select=function(e,t,a,n){var r,d,l,c,u,f="function"==typeof e&&e,g=!n&&o(e=f.selector||e);if(a=a||[],1===g.length){if((d=g[0]=g[0].slice(0)).length>2&&"ID"===(l=d[0]).type&&9===t.nodeType&&h&&i.relative[d[1].type]){if(!(t=(i.find.ID(l.matches[0].replace(te,ae),t)||[])[0]))return a;f&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(r=$.needsContext.test(e)?0:d.length;r--&&(l=d[r],!i.relative[c=l.type]);)if((u=i.find[c])&&(n=u(l.matches[0].replace(te,ae),ee.test(d[0].type)&&ve(t.parentNode)||t))){if(d.splice(r,1),!(e=n.length&&_e(d)))return N.apply(a,n),a;break}}return(f||s(e,g))(n,t,!h,a,!t||ee.test(e)&&ve(t.parentNode)||t),a},a.sortStable=y.split("").sort(I).join("")===y,a.detectDuplicates=!!u,f(),a.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(g.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,a){if(!a)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),a.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,a){if(!a&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||ue(O,function(e,t,a){var i;if(!a)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(e);y.find=w,y.expr=w.selectors,y.expr[":"]=y.expr.pseudos,y.uniqueSort=y.unique=w.uniqueSort,y.text=w.getText,y.isXMLDoc=w.isXML,y.contains=w.contains,y.escapeSelector=w.escape;var C=function(e,t,a){for(var i=[],n=void 0!==a;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&y(e).is(a))break;i.push(e)}return i},k=function(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a},S=y.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,a){return p(t)?y.grep(e,function(e,i){return!!t.call(e,i,e)!==a}):t.nodeType?y.grep(e,function(e){return e===t!==a}):"string"!=typeof t?y.grep(e,function(e){return s.call(t,e)>-1!==a}):y.filter(t,e,a)}y.filter=function(e,t,a){var i=t[0];return a&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?y.find.matchesSelector(i,e)?[i]:[]:y.find.matches(e,y.grep(t,function(e){return 1===e.nodeType}))},y.fn.extend({find:function(e){var t,a,i=this.length,n=this;if("string"!=typeof e)return this.pushStack(y(e).filter(function(){for(t=0;t<i;t++)if(y.contains(n[t],this))return!0}));for(a=this.pushStack([]),t=0;t<i;t++)y.find(e,n[t],a);return i>1?y.uniqueSort(a):a},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&S.test(e)?y(e):e||[],!1).length}});var A,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(y.fn.init=function(e,t,a){var i,n;if(!e)return this;if(a=a||A,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!i[1]&&t)return!t||t.jquery?(t||a).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof y?t[0]:t,y.merge(this,y.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),M.test(i[1])&&y.isPlainObject(t))for(i in t)p(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=m.getElementById(i[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==a.ready?a.ready(e):e(y):y.makeArray(e,this)}).prototype=y.fn,A=y(m);var L=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}y.fn.extend({has:function(e){var t=y(e,this),a=t.length;return this.filter(function(){for(var e=0;e<a;e++)if(y.contains(this,t[e]))return!0})},closest:function(e,t){var a,i=0,n=this.length,r=[],o="string"!=typeof e&&y(e);if(!S.test(e))for(;i<n;i++)for(a=this[i];a&&a!==t;a=a.parentNode)if(a.nodeType<11&&(o?o.index(a)>-1:1===a.nodeType&&y.find.matchesSelector(a,e))){r.push(a);break}return this.pushStack(r.length>1?y.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?s.call(y(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,a){return C(e,"parentNode",a)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,a){return C(e,"nextSibling",a)},prevUntil:function(e,t,a){return C(e,"previousSibling",a)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),y.merge([],e.childNodes))}},function(e,t){y.fn[e]=function(a,i){var n=y.map(this,t,a);return"Until"!==e.slice(-5)&&(i=a),i&&"string"==typeof i&&(n=y.filter(i,n)),this.length>1&&(E[e]||y.uniqueSort(n),L.test(e)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function j(e){return e}function O(e){throw e}function R(e,t,a,i){var n;try{e&&p(n=e.promise)?n.call(e).done(t).fail(a):e&&p(n=e.then)?n.call(e,t,a):t.apply(void 0,[e].slice(i))}catch(e){a.apply(void 0,[e])}}y.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return y.each(e.match(P)||[],function(e,a){t[a]=!0}),t}(e):y.extend({},e);var t,a,i,n,r=[],o=[],s=-1,d=function(){for(n=n||e.once,i=t=!0;o.length;s=-1)for(a=o.shift();++s<r.length;)!1===r[s].apply(a[0],a[1])&&e.stopOnFalse&&(s=r.length,a=!1);e.memory||(a=!1),t=!1,n&&(r=a?[]:"")},l={add:function(){return r&&(a&&!t&&(s=r.length-1,o.push(a)),function t(a){y.each(a,function(a,i){p(i)?e.unique&&l.has(i)||r.push(i):i&&i.length&&"string"!==_(i)&&t(i)})}(arguments),a&&!t&&d()),this},remove:function(){return y.each(arguments,function(e,t){for(var a;(a=y.inArray(t,r,a))>-1;)r.splice(a,1),a<=s&&s--}),this},has:function(e){return e?y.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return n=o=[],r=a="",this},disabled:function(){return!r},lock:function(){return n=o=[],a||t||(r=a=""),this},locked:function(){return!!n},fireWith:function(e,a){return n||(a=[e,(a=a||[]).slice?a.slice():a],o.push(a),t||d()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},y.extend({Deferred:function(t){var a=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return y.Deferred(function(t){y.each(a,function(a,i){var n=p(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=n&&n.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(t,i,n){var r=0;function o(t,a,i,n){return function(){var s=this,d=arguments,l=function(){var e,l;if(!(t<r)){if((e=i.apply(s,d))===a.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,p(l)?n?l.call(e,o(r,a,j,n),o(r,a,O,n)):(r++,l.call(e,o(r,a,j,n),o(r,a,O,n),o(r,a,j,a.notifyWith))):(i!==j&&(s=void 0,d=[e]),(n||a.resolveWith)(s,d))}},c=n?l:function(){try{l()}catch(e){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(e,c.stackTrace),t+1>=r&&(i!==O&&(s=void 0,d=[e]),a.rejectWith(s,d))}};t?c():(y.Deferred.getStackHook&&(c.stackTrace=y.Deferred.getStackHook()),e.setTimeout(c))}}return y.Deferred(function(e){a[0][3].add(o(0,e,p(n)?n:j,e.notifyWith)),a[1][3].add(o(0,e,p(t)?t:j)),a[2][3].add(o(0,e,p(i)?i:O))}).promise()},promise:function(e){return null!=e?y.extend(e,n):n}},r={};return y.each(a,function(e,t){var o=t[2],s=t[5];n[t[1]]=o.add,s&&o.add(function(){i=s},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),o.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=o.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,a=t,i=Array(a),r=n.call(arguments),o=y.Deferred(),s=function(e){return function(a){i[e]=this,r[e]=arguments.length>1?n.call(arguments):a,--t||o.resolveWith(i,r)}};if(t<=1&&(R(e,o.done(s(a)).resolve,o.reject,!t),"pending"===o.state()||p(r[a]&&r[a].then)))return o.then();for(;a--;)R(r[a],s(a),o.reject);return o.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(t,a){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,a)},y.readyException=function(t){e.setTimeout(function(){throw t})};var B=y.Deferred();function z(){m.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),y.ready()}y.fn.ready=function(e){return B.then(e).catch(function(e){y.readyException(e)}),this},y.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--y.readyWait:y.isReady)||(y.isReady=!0,!0!==e&&--y.readyWait>0||B.resolveWith(m,[y]))}}),y.ready.then=B.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(y.ready):(m.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var U=function(e,t,a,i,n,r,o){var s=0,d=e.length,l=null==a;if("object"===_(a))for(s in n=!0,a)U(e,t,s,a[s],!0,r,o);else if(void 0!==i&&(n=!0,p(i)||(o=!0),l&&(o?(t.call(e,i),t=null):(l=t,t=function(e,t,a){return l.call(y(e),a)})),t))for(;s<d;s++)t(e[s],a,o?i:i.call(e[s],s,t(e[s],a)));return n?e:l?t.call(e):d?t(e[0],a):r},H=/^-ms-/,W=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function V(e){return e.replace(H,"ms-").replace(W,q)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=y.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,a){var i,n=this.cache(e);if("string"==typeof t)n[V(t)]=a;else for(i in t)n[V(i)]=t[i];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,a){return void 0===t||t&&"string"==typeof t&&void 0===a?this.get(e,t):(this.set(e,t,a),void 0!==a?a:t)},remove:function(e,t){var a,i=e[this.expando];if(void 0!==i){if(void 0!==t){a=(t=Array.isArray(t)?t.map(V):(t=V(t))in i?[t]:t.match(P)||[]).length;for(;a--;)delete i[t[a]]}(void 0===t||y.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!y.isEmptyObject(t)}};var $=new G,Q=new G,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function K(e,t,a){var i;if(void 0===a&&1===e.nodeType)if(i="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(a=e.getAttribute(i))){try{a=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(a)}catch(e){}Q.set(e,t,a)}else a=void 0;return a}y.extend({hasData:function(e){return Q.hasData(e)||$.hasData(e)},data:function(e,t,a){return Q.access(e,t,a)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,a){return $.access(e,t,a)},_removeData:function(e,t){$.remove(e,t)}}),y.fn.extend({data:function(e,t){var a,i,n,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(n=Q.get(r),1===r.nodeType&&!$.get(r,"hasDataAttrs"))){for(a=o.length;a--;)o[a]&&0===(i=o[a].name).indexOf("data-")&&(i=V(i.slice(5)),K(r,i,n[i]));$.set(r,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){Q.set(this,e)}):U(this,function(t){var a;if(r&&void 0===t)return void 0!==(a=Q.get(r,e))?a:void 0!==(a=K(r,e))?a:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),y.extend({queue:function(e,t,a){var i;if(e)return t=(t||"fx")+"queue",i=$.get(e,t),a&&(!i||Array.isArray(a)?i=$.access(e,t,y.makeArray(a)):i.push(a)),i||[]},dequeue:function(e,t){t=t||"fx";var a=y.queue(e,t),i=a.length,n=a.shift(),r=y._queueHooks(e,t);"inprogress"===n&&(n=a.shift(),i--),n&&("fx"===t&&a.unshift("inprogress"),delete r.stop,n.call(e,function(){y.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return $.get(e,a)||$.access(e,a,{empty:y.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",a])})})}}),y.fn.extend({queue:function(e,t){var a=2;return"string"!=typeof e&&(t=e,e="fx",a--),arguments.length<a?y.queue(this[0],e):void 0===t?this:this.each(function(){var a=y.queue(this,e,t);y._queueHooks(this,e),"fx"===e&&"inprogress"!==a[0]&&y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){y.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var a,i=1,n=y.Deferred(),r=this,o=this.length,s=function(){--i||n.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(a=$.get(r[o],e+"queueHooks"))&&a.empty&&(i++,a.empty.add(s));return s(),n.promise(t)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ae=m.documentElement,ie=function(e){return y.contains(e.ownerDocument,e)},ne={composed:!0};ae.getRootNode&&(ie=function(e){return y.contains(e.ownerDocument,e)||e.getRootNode(ne)===e.ownerDocument});var re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===y.css(e,"display")};function oe(e,t,a,i){var n,r,o=20,s=i?function(){return i.cur()}:function(){return y.css(e,t,"")},d=s(),l=a&&a[3]||(y.cssNumber[t]?"":"px"),c=e.nodeType&&(y.cssNumber[t]||"px"!==l&&+d)&&ee.exec(y.css(e,t));if(c&&c[3]!==l){for(d/=2,l=l||c[3],c=+d||1;o--;)y.style(e,t,c+l),(1-r)*(1-(r=s()/d||.5))<=0&&(o=0),c/=r;c*=2,y.style(e,t,c+l),a=a||[]}return a&&(c=+c||+d||0,n=a[1]?c+(a[1]+1)*a[2]:+a[2],i&&(i.unit=l,i.start=c,i.end=n)),n}var se={};function de(e){var t,a=e.ownerDocument,i=e.nodeName,n=se[i];return n||(t=a.body.appendChild(a.createElement(i)),n=y.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),se[i]=n,n)}function le(e,t){for(var a,i,n=[],r=0,o=e.length;r<o;r++)(i=e[r]).style&&(a=i.style.display,t?("none"===a&&(n[r]=$.get(i,"display")||null,n[r]||(i.style.display="")),""===i.style.display&&re(i)&&(n[r]=de(i))):"none"!==a&&(n[r]="none",$.set(i,"display",a)));for(r=0;r<o;r++)null!=n[r]&&(e[r].style.display=n[r]);return e}y.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?y(this).show():y(this).hide()})}});var ce,ue,fe=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;ce=m.createDocumentFragment().appendChild(m.createElement("div")),(ue=m.createElement("input")).setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),ce.appendChild(ue),g.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",g.option=!!ce.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var a;return a=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?y.merge([e],a):a}function ve(e,t){for(var a=0,i=e.length;a<i;a++)$.set(e[a],"globalEval",!t||$.get(t[a],"globalEval"))}he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,g.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function _e(e,t,a,i,n){for(var r,o,s,d,l,c,u=t.createDocumentFragment(),f=[],g=0,p=e.length;g<p;g++)if((r=e[g])||0===r)if("object"===_(r))y.merge(f,r.nodeType?[r]:r);else if(be.test(r)){for(o=o||u.appendChild(t.createElement("div")),s=(ge.exec(r)||["",""])[1].toLowerCase(),d=he[s]||he._default,o.innerHTML=d[1]+y.htmlPrefilter(r)+d[2],c=d[0];c--;)o=o.lastChild;y.merge(f,o.childNodes),(o=u.firstChild).textContent=""}else f.push(t.createTextNode(r));for(u.textContent="",g=0;r=f[g++];)if(i&&y.inArray(r,i)>-1)n&&n.push(r);else if(l=ie(r),o=me(u.appendChild(r),"script"),l&&ve(o),a)for(c=0;r=o[c++];)pe.test(r.type||"")&&a.push(r);return u}var ye=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function we(){return!1}function Ce(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,a,i,n,r){var o,s;if("object"==typeof t){for(s in"string"!=typeof a&&(i=i||a,a=void 0),t)ke(e,s,a,i,t[s],r);return e}if(null==i&&null==n?(n=a,i=a=void 0):null==n&&("string"==typeof a?(n=i,i=void 0):(n=i,i=a,a=void 0)),!1===n)n=we;else if(!n)return e;return 1===r&&(o=n,(n=function(e){return y().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=y.guid++)),e.each(function(){y.event.add(this,t,n,i,a)})}function Se(e,t,a){a?($.set(e,t,!1),y.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=$.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(y.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=n.call(arguments),$.set(this,t,o),i=a(this,t),this[t](),o!==(r=$.get(this,t))||i?$.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else o.length&&($.set(this,t,{value:y.event.trigger(y.extend(o[0],y.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&y.event.add(e,t,xe)}y.event={global:{},add:function(e,t,a,i,n){var r,o,s,d,l,c,u,f,g,p,h,m=$.get(e);if(Y(e))for(a.handler&&(a=(r=a).handler,n=r.selector),n&&y.find.matchesSelector(ae,n),a.guid||(a.guid=y.guid++),(d=m.events)||(d=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==y&&y.event.triggered!==t.type?y.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(P)||[""]).length;l--;)g=h=(s=ye.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),g&&(u=y.event.special[g]||{},g=(n?u.delegateType:u.bindType)||g,u=y.event.special[g]||{},c=y.extend({type:g,origType:h,data:i,handler:a,guid:a.guid,selector:n,needsContext:n&&y.expr.match.needsContext.test(n),namespace:p.join(".")},r),(f=d[g])||((f=d[g]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,p,o)||e.addEventListener&&e.addEventListener(g,o)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=a.guid)),n?f.splice(f.delegateCount++,0,c):f.push(c),y.event.global[g]=!0)},remove:function(e,t,a,i,n){var r,o,s,d,l,c,u,f,g,p,h,m=$.hasData(e)&&$.get(e);if(m&&(d=m.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(g=h=(s=ye.exec(t[l])||[])[1],p=(s[2]||"").split(".").sort(),g){for(u=y.event.special[g]||{},f=d[g=(i?u.delegateType:u.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=f.length;r--;)c=f[r],!n&&h!==c.origType||a&&a.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(r,1),c.selector&&f.delegateCount--,u.remove&&u.remove.call(e,c));o&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,p,m.handle)||y.removeEvent(e,g,m.handle),delete d[g])}else for(g in d)y.event.remove(e,g+t[l],a,i,!0);y.isEmptyObject(d)&&$.remove(e,"handle events")}},dispatch:function(e){var t,a,i,n,r,o,s=new Array(arguments.length),d=y.event.fix(e),l=($.get(this,"events")||Object.create(null))[d.type]||[],c=y.event.special[d.type]||{};for(s[0]=d,t=1;t<arguments.length;t++)s[t]=arguments[t];if(d.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,d)){for(o=y.event.handlers.call(this,d,l),t=0;(n=o[t++])&&!d.isPropagationStopped();)for(d.currentTarget=n.elem,a=0;(r=n.handlers[a++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&!1!==r.namespace&&!d.rnamespace.test(r.namespace)||(d.handleObj=r,d.data=r.data,void 0!==(i=((y.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,s))&&!1===(d.result=i)&&(d.preventDefault(),d.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,d),d.result}},handlers:function(e,t){var a,i,n,r,o,s=[],d=t.delegateCount,l=e.target;if(d&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(r=[],o={},a=0;a<d;a++)void 0===o[n=(i=t[a]).selector+" "]&&(o[n]=i.needsContext?y(n,this).index(l)>-1:y.find(n,this,null,[l]).length),o[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return l=this,d<t.length&&s.push({elem:l,handlers:t.slice(d)}),s},addProp:function(e,t){Object.defineProperty(y.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[y.expando]?e:new y.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Se(t,"click",xe),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&T(t,"input")&&$.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},y.removeEvent=function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a)},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(e,t){y.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(t){return $.get(t.target,e)},delegateType:t}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var a,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||y.contains(this,i))||(e.type=n.origType,a=n.handler.apply(this,arguments),e.type=t),a}}}),y.fn.extend({on:function(e,t,a,i){return ke(this,e,t,a,i)},one:function(e,t,a,i){return ke(this,e,t,a,i,1)},off:function(e,t,a){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,y(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(a=t,t=void 0),!1===a&&(a=we),this.each(function(){y.event.remove(this,e,a,t)})}});var Te=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ae(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&y(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ee(e,t){var a,i,n,r,o,s;if(1===t.nodeType){if($.hasData(e)&&(s=$.get(e).events))for(n in $.remove(t,"handle events"),s)for(a=0,i=s[n].length;a<i;a++)y.event.add(t,n,s[n][a]);Q.hasData(e)&&(r=Q.access(e),o=y.extend({},r),Q.set(t,o))}}function Ne(e,t,a,i){t=r(t);var n,o,s,d,l,c,u=0,f=e.length,h=f-1,m=t[0],v=p(m);if(v||f>1&&"string"==typeof m&&!g.checkClone&&Me.test(m))return e.each(function(n){var r=e.eq(n);v&&(t[0]=m.call(this,n,r.html())),Ne(r,t,a,i)});if(f&&(o=(n=_e(t,e[0].ownerDocument,!1,e,i)).firstChild,1===n.childNodes.length&&(n=o),o||i)){for(d=(s=y.map(me(n,"script"),De)).length;u<f;u++)l=n,u!==h&&(l=y.clone(l,!0,!0),d&&y.merge(s,me(l,"script"))),a.call(e[u],l,u);if(d)for(c=s[s.length-1].ownerDocument,y.map(s,Le),u=0;u<d;u++)l=s[u],pe.test(l.type||"")&&!$.access(l,"globalEval")&&y.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?y._evalUrl&&!l.noModule&&y._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):b(l.textContent.replace(Ie,""),l,c))}return e}function Pe(e,t,a){for(var i,n=t?y.filter(t,e):e,r=0;null!=(i=n[r]);r++)a||1!==i.nodeType||y.cleanData(me(i)),i.parentNode&&(a&&ie(i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}y.extend({htmlPrefilter:function(e){return e},clone:function(e,t,a){var i,n,r,o,s,d,l,c=e.cloneNode(!0),u=ie(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||y.isXMLDoc(e)))for(o=me(c),i=0,n=(r=me(e)).length;i<n;i++)s=r[i],d=o[i],l=void 0,"input"===(l=d.nodeName.toLowerCase())&&fe.test(s.type)?d.checked=s.checked:"input"!==l&&"textarea"!==l||(d.defaultValue=s.defaultValue);if(t)if(a)for(r=r||me(e),o=o||me(c),i=0,n=r.length;i<n;i++)Ee(r[i],o[i]);else Ee(e,c);return(o=me(c,"script")).length>0&&ve(o,!u&&me(e,"script")),c},cleanData:function(e){for(var t,a,i,n=y.event.special,r=0;void 0!==(a=e[r]);r++)if(Y(a)){if(t=a[$.expando]){if(t.events)for(i in t.events)n[i]?y.event.remove(a,i):y.removeEvent(a,i,t.handle);a[$.expando]=void 0}a[Q.expando]&&(a[Q.expando]=void 0)}}}),y.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return U(this,function(e){return void 0===e?y.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ne(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return Ne(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(y.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return y.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},a=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!he[(ge.exec(e)||["",""])[1].toLowerCase()]){e=y.htmlPrefilter(e);try{for(;a<i;a++)1===(t=this[a]||{}).nodeType&&(y.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ne(this,arguments,function(t){var a=this.parentNode;y.inArray(this,e)<0&&(y.cleanData(me(this)),a&&a.replaceChild(t,this))},e)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){y.fn[e]=function(e){for(var a,i=[],n=y(e),r=n.length-1,s=0;s<=r;s++)a=s===r?this:this.clone(!0),y(n[s])[t](a),o.apply(i,a.get());return this.pushStack(i)}});var je=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Oe=/^--/,Re=function(t){var a=t.ownerDocument.defaultView;return a&&a.opener||(a=e),a.getComputedStyle(t)},Fe=function(e,t,a){var i,n,r={};for(n in t)r[n]=e.style[n],e.style[n]=t[n];for(n in i=a.call(e),t)e.style[n]=r[n];return i},Be=new RegExp(te.join("|"),"i"),ze=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");function Ue(e,t,a){var i,n,r,o,s=Oe.test(t),d=e.style;return(a=a||Re(e))&&(o=a.getPropertyValue(t)||a[t],s&&(o=o.replace(ze,"$1")),""!==o||ie(e)||(o=y.style(e,t)),!g.pixelBoxStyles()&&je.test(o)&&Be.test(t)&&(i=d.width,n=d.minWidth,r=d.maxWidth,d.minWidth=d.maxWidth=d.width=o,o=a.width,d.width=i,d.minWidth=n,d.maxWidth=r)),void 0!==o?o+"":o}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,d=12===a(t.marginLeft),c.style.right="60%",o=36===a(t.right),n=36===a(t.width),c.style.position="absolute",r=12===a(c.offsetWidth/3),ae.removeChild(l),c=null}}function a(e){return Math.round(parseFloat(e))}var i,n,r,o,s,d,l=m.createElement("div"),c=m.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,y.extend(g,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),d},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,a,i,n;return null==s&&(t=m.createElement("table"),a=m.createElement("tr"),i=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",a.style.cssText="border:1px solid",a.style.height="1px",i.style.height="9px",i.style.display="block",ae.appendChild(t).appendChild(a).appendChild(i),n=e.getComputedStyle(a),s=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===a.offsetHeight,ae.removeChild(t)),s}}))}();var We=["Webkit","Moz","ms"],qe=m.createElement("div").style,Ve={};function Ye(e){var t=y.cssProps[e]||Ve[e];return t||(e in qe?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),a=We.length;a--;)if((e=We[a]+t)in qe)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,$e={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Xe(e,t,a){var i=ee.exec(t);return i?Math.max(0,i[2]-(a||0))+(i[3]||"px"):t}function Je(e,t,a,i,n,r){var o="width"===t?1:0,s=0,d=0;if(a===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===a&&(d+=y.css(e,a+te[o],!0,n)),i?("content"===a&&(d-=y.css(e,"padding"+te[o],!0,n)),"margin"!==a&&(d-=y.css(e,"border"+te[o]+"Width",!0,n))):(d+=y.css(e,"padding"+te[o],!0,n),"padding"!==a?d+=y.css(e,"border"+te[o]+"Width",!0,n):s+=y.css(e,"border"+te[o]+"Width",!0,n));return!i&&r>=0&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-d-s-.5))||0),d}function Ke(e,t,a){var i=Re(e),n=(!g.boxSizingReliable()||a)&&"border-box"===y.css(e,"boxSizing",!1,i),r=n,o=Ue(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(o)){if(!a)return o;o="auto"}return(!g.boxSizingReliable()&&n||!g.reliableTrDimensions()&&T(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===y.css(e,"display",!1,i))&&e.getClientRects().length&&(n="border-box"===y.css(e,"boxSizing",!1,i),(r=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Je(e,t,a||(n?"border":"content"),r,i,o)+"px"}function Ze(e,t,a,i,n){return new Ze.prototype.init(e,t,a,i,n)}y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=Ue(e,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,a,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,r,o,s=V(t),d=Oe.test(t),l=e.style;if(d||(t=Ye(s)),o=y.cssHooks[t]||y.cssHooks[s],void 0===a)return o&&"get"in o&&void 0!==(n=o.get(e,!1,i))?n:l[t];"string"===(r=typeof a)&&(n=ee.exec(a))&&n[1]&&(a=oe(e,t,n),r="number"),null!=a&&a==a&&("number"!==r||d||(a+=n&&n[3]||(y.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==a||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(a=o.set(e,a,i))||(d?l.setProperty(t,a):l[t]=a))}},css:function(e,t,a,i){var n,r,o,s=V(t);return Oe.test(t)||(t=Ye(s)),(o=y.cssHooks[t]||y.cssHooks[s])&&"get"in o&&(n=o.get(e,!0,a)),void 0===n&&(n=Ue(e,t,i)),"normal"===n&&t in Qe&&(n=Qe[t]),""===a||a?(r=parseFloat(n),!0===a||isFinite(r)?r||0:n):n}}),y.each(["height","width"],function(e,t){y.cssHooks[t]={get:function(e,a,i){if(a)return!Ge.test(y.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ke(e,t,i):Fe(e,$e,function(){return Ke(e,t,i)})},set:function(e,a,i){var n,r=Re(e),o=!g.scrollboxSize()&&"absolute"===r.position,s=(o||i)&&"border-box"===y.css(e,"boxSizing",!1,r),d=i?Je(e,t,i,s,r):0;return s&&o&&(d-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-Je(e,t,"border",!1,r)-.5)),d&&(n=ee.exec(a))&&"px"!==(n[3]||"px")&&(e.style[t]=a,a=y.css(e,t)),Xe(0,a,d)}}}),y.cssHooks.marginLeft=He(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(e,t){y.cssHooks[e+t]={expand:function(a){for(var i=0,n={},r="string"==typeof a?a.split(" "):[a];i<4;i++)n[e+te[i]+t]=r[i]||r[i-2]||r[0];return n}},"margin"!==e&&(y.cssHooks[e+t].set=Xe)}),y.fn.extend({css:function(e,t){return U(this,function(e,t,a){var i,n,r={},o=0;if(Array.isArray(t)){for(i=Re(e),n=t.length;o<n;o++)r[t[o]]=y.css(e,t[o],!1,i);return r}return void 0!==a?y.style(e,t,a):y.css(e,t)},e,t,arguments.length>1)}}),y.Tween=Ze,Ze.prototype={constructor:Ze,init:function(e,t,a,i,n,r){this.elem=e,this.prop=a,this.easing=n||y.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(y.cssNumber[a]?"":"px")},cur:function(){var e=Ze.propHooks[this.prop];return e&&e.get?e.get(this):Ze.propHooks._default.get(this)},run:function(e){var t,a=Ze.propHooks[this.prop];return this.options.duration?this.pos=t=y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Ze.propHooks._default.set(this),this}},Ze.prototype.init.prototype=Ze.prototype,Ze.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=y.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){y.fx.step[e.prop]?y.fx.step[e.prop](e):1!==e.elem.nodeType||!y.cssHooks[e.prop]&&null==e.elem.style[Ye(e.prop)]?e.elem[e.prop]=e.now:y.style(e.elem,e.prop,e.now+e.unit)}}},Ze.propHooks.scrollTop=Ze.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},y.fx=Ze.prototype.init,y.fx.step={};var et,tt,at=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function nt(){tt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(nt):e.setTimeout(nt,y.fx.interval),y.fx.tick())}function rt(){return e.setTimeout(function(){et=void 0}),et=Date.now()}function ot(e,t){var a,i=0,n={height:e};for(t=t?1:0;i<4;i+=2-t)n["margin"+(a=te[i])]=n["padding"+a]=e;return t&&(n.opacity=n.width=e),n}function st(e,t,a){for(var i,n=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),r=0,o=n.length;r<o;r++)if(i=n[r].call(a,t,e))return i}function dt(e,t,a){var i,n,r=0,o=dt.prefilters.length,s=y.Deferred().always(function(){delete d.elem}),d=function(){if(n)return!1;for(var t=et||rt(),a=Math.max(0,l.startTime+l.duration-t),i=1-(a/l.duration||0),r=0,o=l.tweens.length;r<o;r++)l.tweens[r].run(i);return s.notifyWith(e,[l,i,a]),i<1&&o?a:(o||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:y.extend({},t),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},a),originalProperties:t,originalOptions:a,startTime:et||rt(),duration:a.duration,tweens:[],createTween:function(t,a){var i=y.Tween(e,l.opts,t,a,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var a=0,i=t?l.tweens.length:0;if(n)return this;for(n=!0;a<i;a++)l.tweens[a].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var a,i,n,r,o;for(a in e)if(n=t[i=V(a)],r=e[a],Array.isArray(r)&&(n=r[1],r=e[a]=r[0]),a!==i&&(e[i]=r,delete e[a]),(o=y.cssHooks[i])&&"expand"in o)for(a in r=o.expand(r),delete e[i],r)a in e||(e[a]=r[a],t[a]=n);else t[i]=n}(c,l.opts.specialEasing);r<o;r++)if(i=dt.prefilters[r].call(l,e,c,l.opts))return p(i.stop)&&(y._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return y.map(c,st,l),p(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),y.fx.timer(y.extend(d,{elem:e,anim:l,queue:l.opts.queue})),l}y.Animation=y.extend(dt,{tweeners:{"*":[function(e,t){var a=this.createTween(e,t);return oe(a.elem,e,ee.exec(t),a),a}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(P);for(var a,i=0,n=e.length;i<n;i++)a=e[i],dt.tweeners[a]=dt.tweeners[a]||[],dt.tweeners[a].unshift(t)},prefilters:[function(e,t,a){var i,n,r,o,s,d,l,c,u="width"in t||"height"in t,f=this,g={},p=e.style,h=e.nodeType&&re(e),m=$.get(e,"fxshow");for(i in a.queue||(null==(o=y._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,y.queue(e,"fx").length||o.empty.fire()})})),t)if(n=t[i],at.test(n)){if(delete t[i],r=r||"toggle"===n,n===(h?"hide":"show")){if("show"!==n||!m||void 0===m[i])continue;h=!0}g[i]=m&&m[i]||y.style(e,i)}if((d=!y.isEmptyObject(t))||!y.isEmptyObject(g))for(i in u&&1===e.nodeType&&(a.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=$.get(e,"display")),"none"===(c=y.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=y.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===y.css(e,"float")&&(d||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),a.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=a.overflow[0],p.overflowX=a.overflow[1],p.overflowY=a.overflow[2]})),d=!1,g)d||(m?"hidden"in m&&(h=m.hidden):m=$.access(e,"fxshow",{display:l}),r&&(m.hidden=!h),h&&le([e],!0),f.done(function(){for(i in h||le([e]),$.remove(e,"fxshow"),g)y.style(e,i,g[i])})),d=st(h?m[i]:0,i,f),i in m||(m[i]=d.start,h&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),y.speed=function(e,t,a){var i=e&&"object"==typeof e?y.extend({},e):{complete:a||!a&&t||p(e)&&e,duration:e,easing:a&&t||t&&!p(t)&&t};return y.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in y.fx.speeds?i.duration=y.fx.speeds[i.duration]:i.duration=y.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){p(i.old)&&i.old.call(this),i.queue&&y.dequeue(this,i.queue)},i},y.fn.extend({fadeTo:function(e,t,a,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,a,i)},animate:function(e,t,a,i){var n=y.isEmptyObject(e),r=y.speed(t,a,i),o=function(){var t=dt(this,y.extend({},e),r);(n||$.get(this,"finish"))&&t.stop(!0)};return o.finish=o,n||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,a){var i=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof e&&(a=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=y.timers,o=$.get(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&it.test(n)&&i(o[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(a),t=!1,r.splice(n,1));!t&&a||y.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,a=$.get(this),i=a[e+"queue"],n=a[e+"queueHooks"],r=y.timers,o=i?i.length:0;for(a.finish=!0,y.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete a.finish})}}),y.each(["toggle","show","hide"],function(e,t){var a=y.fn[t];y.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(ot(t,!0),e,i,n)}}),y.each({slideDown:ot("show"),slideUp:ot("hide"),slideToggle:ot("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){y.fn[e]=function(e,a,i){return this.animate(t,e,a,i)}}),y.timers=[],y.fx.tick=function(){var e,t=0,a=y.timers;for(et=Date.now();t<a.length;t++)(e=a[t])()||a[t]!==e||a.splice(t--,1);a.length||y.fx.stop(),et=void 0},y.fx.timer=function(e){y.timers.push(e),y.fx.start()},y.fx.interval=13,y.fx.start=function(){tt||(tt=!0,nt())},y.fx.stop=function(){tt=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(t,a){return t=y.fx&&y.fx.speeds[t]||t,a=a||"fx",this.queue(a,function(a,i){var n=e.setTimeout(a,t);i.stop=function(){e.clearTimeout(n)}})},function(){var e=m.createElement("input"),t=m.createElement("select").appendChild(m.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=m.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var lt,ct=y.expr.attrHandle;y.fn.extend({attr:function(e,t){return U(this,y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){y.removeAttr(this,e)})}}),y.extend({attr:function(e,t,a){var i,n,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?y.prop(e,t,a):(1===r&&y.isXMLDoc(e)||(n=y.attrHooks[t.toLowerCase()]||(y.expr.match.bool.test(t)?lt:void 0)),void 0!==a?null===a?void y.removeAttr(e,t):n&&"set"in n&&void 0!==(i=n.set(e,a,t))?i:(e.setAttribute(t,a+""),a):n&&"get"in n&&null!==(i=n.get(e,t))?i:null==(i=y.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}},removeAttr:function(e,t){var a,i=0,n=t&&t.match(P);if(n&&1===e.nodeType)for(;a=n[i++];)e.removeAttribute(a)}}),lt={set:function(e,t,a){return!1===t?y.removeAttr(e,a):e.setAttribute(a,a),a}},y.each(y.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ct[t]||y.find.attr;ct[t]=function(e,t,i){var n,r,o=t.toLowerCase();return i||(r=ct[o],ct[o]=n,n=null!=a(e,t,i)?o:null,ct[o]=r),n}});var ut=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function gt(e){return(e.match(P)||[]).join(" ")}function pt(e){return e.getAttribute&&e.getAttribute("class")||""}function ht(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}y.fn.extend({prop:function(e,t){return U(this,y.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[y.propFix[e]||e]})}}),y.extend({prop:function(e,t,a){var i,n,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&y.isXMLDoc(e)||(t=y.propFix[t]||t,n=y.propHooks[t]),void 0!==a?n&&"set"in n&&void 0!==(i=n.set(e,a,t))?i:e[t]=a:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=y.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(y.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this}),y.fn.extend({addClass:function(e){var t,a,i,n,r,o;return p(e)?this.each(function(t){y(this).addClass(e.call(this,t,pt(this)))}):(t=ht(e)).length?this.each(function(){if(i=pt(this),a=1===this.nodeType&&" "+gt(i)+" "){for(r=0;r<t.length;r++)n=t[r],a.indexOf(" "+n+" ")<0&&(a+=n+" ");o=gt(a),i!==o&&this.setAttribute("class",o)}}):this},removeClass:function(e){var t,a,i,n,r,o;return p(e)?this.each(function(t){y(this).removeClass(e.call(this,t,pt(this)))}):arguments.length?(t=ht(e)).length?this.each(function(){if(i=pt(this),a=1===this.nodeType&&" "+gt(i)+" "){for(r=0;r<t.length;r++)for(n=t[r];a.indexOf(" "+n+" ")>-1;)a=a.replace(" "+n+" "," ");o=gt(a),i!==o&&this.setAttribute("class",o)}}):this:this.attr("class","")},toggleClass:function(e,t){var a,i,n,r,o=typeof e,s="string"===o||Array.isArray(e);return p(e)?this.each(function(a){y(this).toggleClass(e.call(this,a,pt(this),t),t)}):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(a=ht(e),this.each(function(){if(s)for(r=y(this),n=0;n<a.length;n++)i=a[n],r.hasClass(i)?r.removeClass(i):r.addClass(i);else void 0!==e&&"boolean"!==o||((i=pt(this))&&$.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":$.get(this,"__className__")||""))}))},hasClass:function(e){var t,a,i=0;for(t=" "+e+" ";a=this[i++];)if(1===a.nodeType&&(" "+gt(pt(a))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;y.fn.extend({val:function(e){var t,a,i,n=this[0];return arguments.length?(i=p(e),this.each(function(a){var n;1===this.nodeType&&(null==(n=i?e.call(this,a,y(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=y.map(n,function(e){return null==e?"":e+""})),(t=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=y.valHooks[n.type]||y.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(a=t.get(n,"value"))?a:"string"==typeof(a=n.value)?a.replace(mt,""):null==a?"":a:void 0}}),y.extend({valHooks:{option:{get:function(e){var t=y.find.attr(e,"value");return null!=t?t:gt(y.text(e))}},select:{get:function(e){var t,a,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type,s=o?null:[],d=o?r+1:n.length;for(i=r<0?d:o?r:0;i<d;i++)if(((a=n[i]).selected||i===r)&&!a.disabled&&(!a.parentNode.disabled||!T(a.parentNode,"optgroup"))){if(t=y(a).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var a,i,n=e.options,r=y.makeArray(t),o=n.length;o--;)((i=n[o]).selected=y.inArray(y.valHooks.option.get(i),r)>-1)&&(a=!0);return a||(e.selectedIndex=-1),r}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=y.inArray(y(e).val(),t)>-1}},g.checkOn||(y.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};y.extend(y.event,{trigger:function(t,a,i,n){var r,o,s,d,l,u,f,g,v=[i||m],b=c.call(t,"type")?t.type:t,_=c.call(t,"namespace")?t.namespace.split("."):[];if(o=g=s=i=i||m,3!==i.nodeType&&8!==i.nodeType&&!vt.test(b+y.event.triggered)&&(b.indexOf(".")>-1&&(_=b.split("."),b=_.shift(),_.sort()),l=b.indexOf(":")<0&&"on"+b,(t=t[y.expando]?t:new y.Event(b,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),a=null==a?[t]:y.makeArray(a,[t]),f=y.event.special[b]||{},n||!f.trigger||!1!==f.trigger.apply(i,a))){if(!n&&!f.noBubble&&!h(i)){for(d=f.delegateType||b,vt.test(d+b)||(o=o.parentNode);o;o=o.parentNode)v.push(o),s=o;s===(i.ownerDocument||m)&&v.push(s.defaultView||s.parentWindow||e)}for(r=0;(o=v[r++])&&!t.isPropagationStopped();)g=o,t.type=r>1?d:f.bindType||b,(u=($.get(o,"events")||Object.create(null))[t.type]&&$.get(o,"handle"))&&u.apply(o,a),(u=l&&o[l])&&u.apply&&Y(o)&&(t.result=u.apply(o,a),!1===t.result&&t.preventDefault());return t.type=b,n||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),a)||!Y(i)||l&&p(i[b])&&!h(i)&&((s=i[l])&&(i[l]=null),y.event.triggered=b,t.isPropagationStopped()&&g.addEventListener(b,bt),i[b](),t.isPropagationStopped()&&g.removeEventListener(b,bt),y.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(e,t,a){var i=y.extend(new y.Event,a,{type:e,isSimulated:!0});y.event.trigger(i,null,t)}}),y.fn.extend({trigger:function(e,t){return this.each(function(){y.event.trigger(e,t,this)})},triggerHandler:function(e,t){var a=this[0];if(a)return y.event.trigger(e,t,a,!0)}}),g.focusin||y.each({focus:"focusin",blur:"focusout"},function(e,t){var a=function(e){y.event.simulate(t,e.target,y.event.fix(e))};y.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,n=$.access(i,t);n||i.addEventListener(e,a,!0),$.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,n=$.access(i,t)-1;n?$.access(i,t,n):(i.removeEventListener(e,a,!0),$.remove(i,t))}}});var _t=e.location,yt={guid:Date.now()},xt=/\?/;y.parseXML=function(t){var a,i;if(!t||"string"!=typeof t)return null;try{a=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return i=a&&a.getElementsByTagName("parsererror")[0],a&&!i||y.error("Invalid XML: "+(i?y.map(i.childNodes,function(e){return e.textContent}).join("\n"):t)),a};var wt=/\[\]$/,Ct=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,a,i){var n;if(Array.isArray(t))y.each(t,function(t,n){a||wt.test(e)?i(e,n):Tt(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,a,i)});else if(a||"object"!==_(t))i(e,t);else for(n in t)Tt(e+"["+n+"]",t[n],a,i)}y.param=function(e,t){var a,i=[],n=function(e,t){var a=p(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==a?"":a)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!y.isPlainObject(e))y.each(e,function(){n(this.name,this.value)});else for(a in e)Tt(a,e[a],t,n);return i.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=y.prop(this,"elements");return e?y.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!y(this).is(":disabled")&&St.test(this.nodeName)&&!kt.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var a=y(this).val();return null==a?null:Array.isArray(a)?y.map(a,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:a.replace(Ct,"\r\n")}}).get()}});var Mt=/%20/g,It=/#.*$/,At=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Et=/^\/\//,Nt={},Pt={},jt="*/".concat("*"),Ot=m.createElement("a");function Rt(e){return function(t,a){"string"!=typeof t&&(a=t,t="*");var i,n=0,r=t.toLowerCase().match(P)||[];if(p(a))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(a)):(e[i]=e[i]||[]).push(a)}}function Ft(e,t,a,i){var n={},r=e===Pt;function o(s){var d;return n[s]=!0,y.each(e[s]||[],function(e,s){var l=s(t,a,i);return"string"!=typeof l||r||n[l]?r?!(d=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),d}return o(t.dataTypes[0])||!n["*"]&&o("*")}function Bt(e,t){var a,i,n=y.ajaxSettings.flatOptions||{};for(a in t)void 0!==t[a]&&((n[a]?e:i||(i={}))[a]=t[a]);return i&&y.extend(!0,e,i),e}Ot.href=_t.href,y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,y.ajaxSettings),t):Bt(y.ajaxSettings,e)},ajaxPrefilter:Rt(Nt),ajaxTransport:Rt(Pt),ajax:function(t,a){"object"==typeof t&&(a=t,t=void 0),a=a||{};var i,n,r,o,s,d,l,c,u,f,g=y.ajaxSetup({},a),p=g.context||g,h=g.context&&(p.nodeType||p.jquery)?y(p):y.event,v=y.Deferred(),b=y.Callbacks("once memory"),_=g.statusCode||{},x={},w={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(l){if(!o)for(o={};t=Dt.exec(r);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?r:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)k.always(e[k.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),S(0,t),this}};if(v.promise(k),g.url=((t||g.url||_t.href)+"").replace(Et,_t.protocol+"//"),g.type=a.method||a.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(P)||[""],null==g.crossDomain){d=m.createElement("a");try{d.href=g.url,d.href=d.href,g.crossDomain=Ot.protocol+"//"+Ot.host!=d.protocol+"//"+d.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=y.param(g.data,g.traditional)),Ft(Nt,g,a,k),l)return k;for(u in(c=y.event&&g.global)&&0==y.active++&&y.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Lt.test(g.type),n=g.url.replace(It,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Mt,"+")):(f=g.url.slice(n.length),g.data&&(g.processData||"string"==typeof g.data)&&(n+=(xt.test(n)?"&":"?")+g.data,delete g.data),!1===g.cache&&(n=n.replace(At,"$1"),f=(xt.test(n)?"&":"?")+"_="+yt.guid+++f),g.url=n+f),g.ifModified&&(y.lastModified[n]&&k.setRequestHeader("If-Modified-Since",y.lastModified[n]),y.etag[n]&&k.setRequestHeader("If-None-Match",y.etag[n])),(g.data&&g.hasContent&&!1!==g.contentType||a.contentType)&&k.setRequestHeader("Content-Type",g.contentType),k.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+jt+"; q=0.01":""):g.accepts["*"]),g.headers)k.setRequestHeader(u,g.headers[u]);if(g.beforeSend&&(!1===g.beforeSend.call(p,k,g)||l))return k.abort();if(C="abort",b.add(g.complete),k.done(g.success),k.fail(g.error),i=Ft(Pt,g,a,k)){if(k.readyState=1,c&&h.trigger("ajaxSend",[k,g]),l)return k;g.async&&g.timeout>0&&(s=e.setTimeout(function(){k.abort("timeout")},g.timeout));try{l=!1,i.send(x,S)}catch(e){if(l)throw e;S(-1,e)}}else S(-1,"No Transport");function S(t,a,o,d){var u,f,m,x,w,C=a;l||(l=!0,s&&e.clearTimeout(s),i=void 0,r=d||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,o&&(x=function(e,t,a){for(var i,n,r,o,s=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(n in s)if(s[n]&&s[n].test(i)){d.unshift(n);break}if(d[0]in a)r=d[0];else{for(n in a){if(!d[0]||e.converters[n+" "+d[0]]){r=n;break}o||(o=n)}r=r||o}if(r)return r!==d[0]&&d.unshift(r),a[r]}(g,k,o)),!u&&y.inArray("script",g.dataTypes)>-1&&y.inArray("json",g.dataTypes)<0&&(g.converters["text script"]=function(){}),x=function(e,t,a,i){var n,r,o,s,d,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(a[e.responseFields[r]]=t),!d&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=r,r=c.shift())if("*"===r)r=d;else if("*"!==d&&d!==r){if(!(o=l[d+" "+r]||l["* "+r]))for(n in l)if((s=n.split(" "))[1]===r&&(o=l[d+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[n]:!0!==l[n]&&(r=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+d+" to "+r}}}return{state:"success",data:t}}(g,x,k,u),u?(g.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(y.lastModified[n]=w),(w=k.getResponseHeader("etag"))&&(y.etag[n]=w)),204===t||"HEAD"===g.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,u=!(m=x.error))):(m=C,!t&&C||(C="error",t<0&&(t=0))),k.status=t,k.statusText=(a||C)+"",u?v.resolveWith(p,[f,C,k]):v.rejectWith(p,[k,C,m]),k.statusCode(_),_=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[k,g,u?f:m]),b.fireWith(p,[k,C]),c&&(h.trigger("ajaxComplete",[k,g]),--y.active||y.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,a){return y.get(e,t,a,"json")},getScript:function(e,t){return y.get(e,void 0,t,"script")}}),y.each(["get","post"],function(e,t){y[t]=function(e,a,i,n){return p(a)&&(n=n||i,i=a,a=void 0),y.ajax(y.extend({url:e,type:t,dataType:n,data:a,success:i},y.isPlainObject(e)&&e))}}),y.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),y._evalUrl=function(e,t,a){return y.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){y.globalEval(e,t,a)}})},y.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=y(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return p(e)?this.each(function(t){y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=y(this),a=t.contents();a.length?a.wrapAll(e):t.append(e)})},wrap:function(e){var t=p(e);return this.each(function(a){y(this).wrapAll(t?e.call(this,a):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(e){return!y.expr.pseudos.visible(e)},y.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Ut=y.ajaxSettings.xhr();g.cors=!!Ut&&"withCredentials"in Ut,g.ajax=Ut=!!Ut,y.ajaxTransport(function(t){var a,i;if(g.cors||Ut&&!t.crossDomain)return{send:function(n,r){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)s.setRequestHeader(o,n[o]);a=function(e){return function(){a&&(a=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=a(),i=s.onerror=s.ontimeout=a("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){a&&i()})},a=a("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),y.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return y.globalEval(e),e}}}),y.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),y.ajaxTransport("script",function(e){var t,a;if(e.crossDomain||e.scriptAttrs)return{send:function(i,n){t=y("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",a=function(e){t.remove(),a=null,e&&n("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){a&&a()}}});var Ht,Wt=[],qt=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||y.expando+"_"+yt.guid++;return this[e]=!0,e}}),y.ajaxPrefilter("json jsonp",function(t,a,i){var n,r,o,s=!1!==t.jsonp&&(qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qt,"$1"+n):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||y.error(n+" was not called"),o[0]},t.dataTypes[0]="json",r=e[n],e[n]=function(){o=arguments},i.always(function(){void 0===r?y(e).removeProp(n):e[n]=r,t[n]&&(t.jsonpCallback=a.jsonpCallback,Wt.push(n)),o&&p(r)&&r(o[0]),o=r=void 0}),"script"}),g.createHTMLDocument=((Ht=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),y.parseHTML=function(e,t,a){return"string"!=typeof e?[]:("boolean"==typeof t&&(a=t,t=!1),t||(g.createHTMLDocument?((i=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(i)):t=m),r=!a&&[],(n=M.exec(e))?[t.createElement(n[1])]:(n=_e([e],t,r),r&&r.length&&y(r).remove(),y.merge([],n.childNodes)));var i,n,r},y.fn.load=function(e,t,a){var i,n,r,o=this,s=e.indexOf(" ");return s>-1&&(i=gt(e.slice(s)),e=e.slice(0,s)),p(t)?(a=t,t=void 0):t&&"object"==typeof t&&(n="POST"),o.length>0&&y.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(i?y("<div>").append(y.parseHTML(e)).find(i):e)}).always(a&&function(e,t){o.each(function(){a.apply(this,r||[e.responseText,t,e])})}),this},y.expr.pseudos.animated=function(e){return y.grep(y.timers,function(t){return e===t.elem}).length},y.offset={setOffset:function(e,t,a){var i,n,r,o,s,d,l=y.css(e,"position"),c=y(e),u={};"static"===l&&(e.style.position="relative"),s=c.offset(),r=y.css(e,"top"),d=y.css(e,"left"),("absolute"===l||"fixed"===l)&&(r+d).indexOf("auto")>-1?(o=(i=c.position()).top,n=i.left):(o=parseFloat(r)||0,n=parseFloat(d)||0),p(t)&&(t=t.call(e,a,y.extend({},s))),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+n),"using"in t?t.using.call(e,u):c.css(u)}},y.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){y.offset.setOffset(this,e,t)});var t,a,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),a=i.ownerDocument.defaultView,{top:t.top+a.pageYOffset,left:t.left+a.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,a,i=this[0],n={top:0,left:0};if("fixed"===y.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),a=i.ownerDocument,e=i.offsetParent||a.documentElement;e&&(e===a.body||e===a.documentElement)&&"static"===y.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((n=y(e).offset()).top+=y.css(e,"borderTopWidth",!0),n.left+=y.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-y.css(i,"marginTop",!0),left:t.left-n.left-y.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===y.css(e,"position");)e=e.offsetParent;return e||ae})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var a="pageYOffset"===t;y.fn[e]=function(i){return U(this,function(e,i,n){var r;if(h(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[t]:e[i];r?r.scrollTo(a?r.pageXOffset:n,a?n:r.pageYOffset):e[i]=n},e,i,arguments.length)}}),y.each(["top","left"],function(e,t){y.cssHooks[t]=He(g.pixelPosition,function(e,a){if(a)return a=Ue(e,t),je.test(a)?y(e).position()[t]+"px":a})}),y.each({Height:"height",Width:"width"},function(e,t){y.each({padding:"inner"+e,content:t,"":"outer"+e},function(a,i){y.fn[i]=function(n,r){var o=arguments.length&&(a||"boolean"!=typeof n),s=a||(!0===n||!0===r?"margin":"border");return U(this,function(t,a,n){var r;return h(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?y.css(t,a,s):y.style(t,a,n,s)},t,o?n:void 0,o)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){y.fn[t]=function(e){return this.on(t,e)}}),y.fn.extend({bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,i){return this.on(t,e,a,i)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){y.fn[t]=function(e,a){return arguments.length>0?this.on(t,null,e,a):this.trigger(t)}});var Vt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(e,t){var a,i,r;if("string"==typeof t&&(a=e[t],t=e,e=a),p(e))return i=n.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(n.call(arguments)))}).guid=e.guid=e.guid||y.guid++,r},y.holdReady=function(e){e?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=T,y.isFunction=p,y.isWindow=h,y.camelCase=V,y.type=_,y.now=Date.now,y.isNumeric=function(e){var t=y.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},y.trim=function(e){return null==e?"":(e+"").replace(Vt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return y});var Yt=e.jQuery,Gt=e.$;return y.noConflict=function(t){return e.$===y&&(e.$=Gt),t&&e.jQuery===y&&(e.jQuery=Yt),y},void 0===t&&(e.jQuery=e.$=y),y}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),window):e(jQuery,window)}(function(e,t){"use strict";function a(t){return function(e,t){var a,i=/^(\d+)\.(\d+)\.(\d+)/,n=i.exec(e)||[],r=i.exec(t)||[];for(a=1;a<=3;a++){if(+n[a]>+r[a])return 1;if(+n[a]<+r[a])return-1}return 0}(e.fn.jquery,t)>=0}e.migrateVersion="3.4.0";var i=Object.create(null);e.migrateDisablePatches=function(){var e;for(e=0;e<arguments.length;e++)i[arguments[e]]=!0},e.migrateEnablePatches=function(){var e;for(e=0;e<arguments.length;e++)delete i[arguments[e]]},e.migrateIsPatchEnabled=function(e){return!i[e]},t.console&&t.console.log&&(e&&a("3.0.0")||t.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),e.migrateWarnings&&t.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion));var n={};function r(a,i){var r=t.console;!e.migrateIsPatchEnabled(a)||e.migrateDeduplicateWarnings&&n[i]||(n[i]=!0,e.migrateWarnings.push(i+" ["+a+"]"),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+i),e.migrateTrace&&r.trace&&r.trace()))}function o(e,t,a,i,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return r(i,n),a},set:function(e){r(i,n),a=e}})}function s(t,a,i,n,o){var s=t[a];t[a]=function(){return o&&r(n,o),(e.migrateIsPatchEnabled(n)?i:s||e.noop).apply(this,arguments)}}function d(e,t,a,i,n){if(!n)throw new Error("No warning message provided");return s(e,t,a,i,n)}function l(e,t,a,i){return s(e,t,a,i)}e.migrateDeduplicateWarnings=!0,e.migrateWarnings=[],void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){n={},e.migrateWarnings.length=0},"BackCompat"===t.document.compatMode&&r("quirks","jQuery is not compatible with Quirks Mode");var c,u={},f=e.fn.init,g=e.find,p=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,h=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(c in l(e.fn,"init",function(t){var a=Array.prototype.slice.call(arguments);return e.migrateIsPatchEnabled("selector-empty-id")&&"string"==typeof t&&"#"===t&&(r("selector-empty-id","jQuery( '#' ) is not a valid selector"),a[0]=[]),f.apply(this,a)},"selector-empty-id"),e.fn.init.prototype=e.fn,l(e,"find",function(e){var a=Array.prototype.slice.call(arguments);if("string"==typeof e&&p.test(e))try{t.document.querySelector(e)}catch(i){e=e.replace(h,function(e,t,a,i){return"["+t+a+'"'+i+'"]'});try{t.document.querySelector(e),r("selector-hash","Attribute selector with '#' must be quoted: "+a[0]),a[0]=e}catch(e){r("selector-hash","Attribute selector with '#' was not fixed: "+a[0])}}return g.apply(this,a)},"selector-hash"),g)Object.prototype.hasOwnProperty.call(g,c)&&(e.find[c]=g[c]);if(d(e.fn,"size",function(){return this.length},"size","jQuery.fn.size() is deprecated and removed; use the .length property"),d(e,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"parseJSON","jQuery.parseJSON is deprecated; use JSON.parse"),d(e,"holdReady",e.holdReady,"holdReady","jQuery.holdReady is deprecated"),d(e,"unique",e.uniqueSort,"unique","jQuery.unique is deprecated; use jQuery.uniqueSort"),o(e.expr,"filters",e.expr.pseudos,"expr-pre-pseudos","jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),o(e.expr,":",e.expr.pseudos,"expr-pre-pseudos","jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),a("3.1.1")&&d(e,"trim",function(e){return null==e?"":(e+"").replace(m,"")},"trim","jQuery.trim is deprecated; use String.prototype.trim"),a("3.2.0")&&(d(e,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"nodeName","jQuery.nodeName is deprecated"),d(e,"isArray",Array.isArray,"isArray","jQuery.isArray is deprecated; use Array.isArray")),a("3.3.0")&&(d(e,"isNumeric",function(e){var t=typeof e;return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"isNumeric","jQuery.isNumeric() is deprecated"),e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()}),d(e,"type",function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[Object.prototype.toString.call(e)]||"object":typeof e},"type","jQuery.type is deprecated"),d(e,"isFunction",function(e){return"function"==typeof e},"isFunction","jQuery.isFunction() is deprecated"),d(e,"isWindow",function(e){return null!=e&&e===e.window},"isWindow","jQuery.isWindow() is deprecated")),e.ajax){var v=e.ajax,b=/(=)\?(?=&|$)|\?\?/;l(e,"ajax",function(){var e=v.apply(this,arguments);return e.promise&&(d(e,"success",e.done,"jqXHR-methods","jQXHR.success is deprecated and removed"),d(e,"error",e.fail,"jqXHR-methods","jQXHR.error is deprecated and removed"),d(e,"complete",e.always,"jqXHR-methods","jQXHR.complete is deprecated and removed")),e},"jqXHR-methods"),a("4.0.0")||e.ajaxPrefilter("+json",function(e){!1!==e.jsonp&&(b.test(e.url)||"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&b.test(e.data))&&r("jsonp-promotion","JSON-to-JSONP auto-promotion is deprecated")})}var _=e.fn.removeAttr,y=e.fn.toggleClass,x=/\S+/g;function w(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}l(e.fn,"removeAttr",function(t){var a=this;return e.each(t.match(x),function(t,i){e.expr.match.bool.test(i)&&(r("removeAttr-bool","jQuery.fn.removeAttr no longer sets boolean properties: "+i),a.prop(i,!1))}),_.apply(this,arguments)},"removeAttr-bool"),l(e.fn,"toggleClass",function(t){return void 0!==t&&"boolean"!=typeof t?y.apply(this,arguments):(r("toggleClass-bool","jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var a=this.getAttribute&&this.getAttribute("class")||"";a&&e.data(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===t?"":e.data(this,"__className__")||"")}))},"toggleClass-bool");var C,k=!1,S=/^[a-z]/,T=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,a){var i=e.cssHooks[a]&&e.cssHooks[a].get;i&&(e.cssHooks[a].get=function(){var e;return k=!0,e=i.apply(this,arguments),k=!1,e})}),l(e,"swap",function(e,t,a,i){var n,o,s={};for(o in k||r("swap","jQuery.swap() is undocumented and deprecated"),t)s[o]=e.style[o],e.style[o]=t[o];for(o in n=a.apply(e,i||[]),t)e.style[o]=s[o];return n},"swap"),a("3.4.0")&&"undefined"!=typeof Proxy&&(e.cssProps=new Proxy(e.cssProps||{},{set:function(){return r("cssProps","jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}})),a("4.0.0")&&"undefined"!=typeof Proxy&&(e.cssNumber=new Proxy({animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},{get:function(){return r("css-number","jQuery.cssNumber is deprecated"),Reflect.get.apply(this,arguments)},set:function(){return r("css-number","jQuery.cssNumber is deprecated"),Reflect.set.apply(this,arguments)}})),C=e.fn.css,l(e.fn,"css",function(t,a){var i,n,o=this;return t&&"object"==typeof t&&!Array.isArray(t)?(e.each(t,function(t,a){e.fn.css.call(o,t,a)}),this):("number"==typeof a&&(i=w(t),n=i,S.test(n)&&T.test(n[0].toUpperCase()+n.slice(1))||e.cssNumber[i]||r("css-number",'Number-typed values are deprecated for jQuery.fn.css( "'+t+'", value )')),C.apply(this,arguments))},"css-number");var M=e.data;if(l(e,"data",function(t,a,i){var n,o,s;if(a&&"object"==typeof a&&2===arguments.length){for(s in n=e.hasData(t)&&M.call(this,t),o={},a)s!==w(s)?(r("data-camelCase","jQuery.data() always sets/gets camelCased names: "+s),n[s]=a[s]):o[s]=a[s];return M.call(this,t,o),a}return a&&"string"==typeof a&&a!==w(a)&&(n=e.hasData(t)&&M.call(this,t))&&a in n?(r("data-camelCase","jQuery.data() always sets/gets camelCased names: "+a),arguments.length>2&&(n[a]=i),n[a]):M.apply(this,arguments)},"data-camelCase"),e.fx){var I,A=e.Tween.prototype.run,D=function(e){return e};l(e.Tween.prototype,"run",function(){e.easing[this.easing].length>1&&(r("easing-one-arg","'jQuery.easing."+this.easing.toString()+"' should use only one argument"),e.easing[this.easing]=D),A.apply(this,arguments)},"easing-one-arg"),I=e.fx.interval,"jQuery.fx.interval is deprecated",t.requestAnimationFrame&&Object.defineProperty(e.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return t.document.hidden||r("fx-interval","jQuery.fx.interval is deprecated"),e.migrateIsPatchEnabled("fx-interval")&&void 0===I?13:I},set:function(e){r("fx-interval","jQuery.fx.interval is deprecated"),I=e}})}var L=e.fn.load,E=e.event.add,N=e.event.fix;e.event.props=[],e.event.fixHooks={},o(e.event.props,"concat",e.event.props.concat,"event-old-patch","jQuery.event.props.concat() is deprecated and removed"),l(e.event,"fix",function(t){var a,i=t.type,n=this.fixHooks[i],o=e.event.props;if(o.length)for(r("event-old-patch","jQuery.event.props are deprecated and removed: "+o.join());o.length;)e.event.addProp(o.pop());if(n&&!n._migrated_&&(n._migrated_=!0,r("event-old-patch","jQuery.event.fixHooks are deprecated and removed: "+i),(o=n.props)&&o.length))for(;o.length;)e.event.addProp(o.pop());return a=N.call(this,t),n&&n.filter?n.filter(a,t):a},"event-old-patch"),l(e.event,"add",function(e,a){return e===t&&"load"===a&&"complete"===t.document.readyState&&r("load-after-event","jQuery(window).on('load'...) called after load event occurred"),E.apply(this,arguments)},"load-after-event"),e.each(["load","unload","error"],function(t,a){l(e.fn,a,function(){var e=Array.prototype.slice.call(arguments,0);return"load"===a&&"string"==typeof e[0]?L.apply(this,e):(r("shorthand-removed-v3","jQuery.fn."+a+"() is deprecated"),e.splice(0,0,a),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))},"shorthand-removed-v3")}),e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,a){d(e.fn,a,function(e,t){return arguments.length>0?this.on(a,null,e,t):this.trigger(a)},"shorthand-deprecated-v3","jQuery.fn."+a+"() event shorthand is deprecated")}),e(function(){e(t.document).triggerHandler("ready")}),e.event.special.ready={setup:function(){this===t.document&&r("ready-event","'ready' event is deprecated")}},d(e.fn,"bind",function(e,t,a){return this.on(e,null,t,a)},"pre-on-methods","jQuery.fn.bind() is deprecated"),d(e.fn,"unbind",function(e,t){return this.off(e,null,t)},"pre-on-methods","jQuery.fn.unbind() is deprecated"),d(e.fn,"delegate",function(e,t,a,i){return this.on(t,e,a,i)},"pre-on-methods","jQuery.fn.delegate() is deprecated"),d(e.fn,"undelegate",function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)},"pre-on-methods","jQuery.fn.undelegate() is deprecated"),d(e.fn,"hover",function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)},"pre-on-methods","jQuery.fn.hover() is deprecated");var P=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,j=function(e){var a=t.document.implementation.createHTMLDocument("");return a.body.innerHTML=e,a.body&&a.body.innerHTML};e.UNSAFE_restoreLegacyHtmlPrefilter=function(){e.migrateEnablePatches("self-closed-tags")},l(e,"htmlPrefilter",function(e){return function(e){var t=e.replace(P,"<$1></$2>");t!==e&&j(e)!==j(t)&&r("self-closed-tags","HTML tags must be properly nested and closed: "+e)}(e),e.replace(P,"<$1></$2>")},"self-closed-tags"),e.migrateDisablePatches("self-closed-tags");var O=e.fn.offset;if(l(e.fn,"offset",function(){var e=this[0];return!e||e.nodeType&&e.getBoundingClientRect?O.apply(this,arguments):(r("offset-valid-elem","jQuery.fn.offset() requires a valid DOM element"),arguments.length?this:void 0)},"offset-valid-elem"),e.ajax){var R=e.param;l(e,"param",function(t,a){var i=e.ajaxSettings&&e.ajaxSettings.traditional;return void 0===a&&i&&(r("param-ajax-traditional","jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),a=i),R.call(this,t,a)},"param-ajax-traditional")}if(d(e.fn,"andSelf",e.fn.addBack,"andSelf","jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),e.Deferred){var F=e.Deferred,B=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];l(e,"Deferred",function(t){var a=F(),i=a.promise();function n(){var t=arguments;return e.Deferred(function(n){e.each(B,function(e,r){var o="function"==typeof t[e]&&t[e];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),t=null}).promise()}return d(a,"pipe",n,"deferred-pipe","deferred.pipe() is deprecated"),d(i,"pipe",n,"deferred-pipe","deferred.pipe() is deprecated"),t&&t.call(a,a),a},"deferred-pipe"),e.Deferred.exceptionHook=F.exceptionHook}return e}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";e.ui=e.ui||{};e.ui.version="1.13.2";var t,a=0,i=Array.prototype.hasOwnProperty,n=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(a){var i,n,r;for(r=0;null!=(n=a[r]);r++)(i=e._data(n,"events"))&&i.remove&&e(n).triggerHandler("remove");t(a)}),e.widget=function(t,a,i){var n,r,o,s={},d=t.split(".")[0],l=d+"-"+(t=t.split(".")[1]);return i||(i=a,a=e.Widget),Array.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr.pseudos[l.toLowerCase()]=function(t){return!!e.data(t,l)},e[d]=e[d]||{},n=e[d][t],r=e[d][t]=function(e,t){if(!this||!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,n,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(o=new a).options=e.widget.extend({},o.options),e.each(i,function(e,t){s[e]="function"==typeof t?function(){function i(){return a.prototype[e].apply(this,arguments)}function n(t){return a.prototype[e].apply(this,t)}return function(){var e,a=this._super,r=this._superApply;return this._super=i,this._superApply=n,e=t.apply(this,arguments),this._super=a,this._superApply=r,e}}():t}),r.prototype=e.widget.extend(o,{widgetEventPrefix:n&&o.widgetEventPrefix||t},s,{constructor:r,namespace:d,widgetName:t,widgetFullName:l}),n?(e.each(n._childConstructors,function(t,a){var i=a.prototype;e.widget(i.namespace+"."+i.widgetName,r,a._proto)}),delete n._childConstructors):a._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var a,r,o=n.call(arguments,1),s=0,d=o.length;s<d;s++)for(a in o[s])r=o[s][a],i.call(o[s],a)&&void 0!==r&&(e.isPlainObject(r)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],r):e.widget.extend({},r):t[a]=r);return t},e.widget.bridge=function(t,a){var i=a.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,s=n.call(arguments,1),d=this;return o?this.length||"instance"!==r?this.each(function(){var a,n=e.data(this,i);return"instance"===r?(d=n,!1):n?"function"!=typeof n[r]||"_"===r.charAt(0)?e.error("no such method '"+r+"' for "+t+" widget instance"):(a=n[r].apply(n,s))!==n&&void 0!==a?(d=a&&a.jquery?d.pushStack(a.get()):a,!1):void 0:e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):d=void 0:(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new a(r,this))})),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,a){t._removeClass(a,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,a){var i,n,r,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(n=o[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=a}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=a}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var a,i,n;for(a in t)n=this.classesElementLookup[a],t[a]!==this.options.classes[a]&&n&&n.length&&(i=e(n.get()),this._removeClass(n,a),i.addClass(this._classes({element:i,keys:a,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var a=[],i=this;function n(){var a=[];t.element.each(function(t,n){e.map(i.classesElementLookup,function(e){return e}).some(function(e){return e.is(n)})||a.push(n)}),i._on(e(a),{remove:"_untrackClassesElement"})}function r(r,o){var s,d;for(d=0;d<r.length;d++)s=i.classesElementLookup[r[d]]||e(),t.add?(n(),s=e(e.uniqueSort(s.get().concat(t.element.get())))):s=e(s.not(t.element).get()),i.classesElementLookup[r[d]]=s,a.push(r[d]),o&&t.classes[r[d]]&&a.push(t.classes[r[d]])}return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(t){var a=this;e.each(a.classesElementLookup,function(i,n){-1!==e.inArray(t.target,n)&&(a.classesElementLookup[i]=e(n.not(t.target).get()))}),this._off(e(t.target))},_removeClass:function(e,t,a){return this._toggleClass(e,t,a,!1)},_addClass:function(e,t,a){return this._toggleClass(e,t,a,!0)},_toggleClass:function(e,t,a,i){i="boolean"==typeof i?i:a;var n="string"==typeof e||null===e,r={extra:n?t:a,keys:n?e:t,element:n?this.element:e,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(t,a,i){var n,r=this;"boolean"!=typeof t&&(i=a,a=t,t=!1),i?(a=n=e(a),this.bindings=this.bindings.add(a)):(i=a,a=this.element,n=this.widget()),e.each(i,function(i,o){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var d=i.match(/^([\w:-]*)\s*(.*)$/),l=d[1]+r.eventNamespace,c=d[2];c?n.on(l,c,s):a.on(l,s)})},_off:function(t,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(a),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var a=this;return setTimeout(function(){return("string"==typeof e?a[e]:e).apply(a,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,a,i){var n,r,o=this.options[t];if(i=i||{},(a=e.Event(a)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],r=a.originalEvent)for(n in r)n in a||(a[n]=r[n]);return this.element.trigger(a,i),!("function"==typeof o&&!1===o.apply(this.element[0],[a].concat(i))||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,a){e.Widget.prototype["_"+t]=function(i,n,r){var o;"string"==typeof n&&(n={effect:n});var s=n?!0===n||"number"==typeof n?a:n.effect||a:t;"number"==typeof(n=n||{})?n={duration:n}:!0===n&&(n={}),o=!e.isEmptyObject(n),n.complete=r,n.delay&&i.delay(n.delay),o&&e.effects&&e.effects.effect[s]?i[t](n):s!==t&&i[s]?i[s](n.duration,n.easing,r):i.queue(function(a){e(this)[t](),r&&r.call(i[0]),a()})}});e.widget;!function(){var t,a=Math.max,i=Math.abs,n=/left|center|right/,r=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,d=/%$/,l=e.fn.position;function c(e,t,a){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?a/100:1)]}function u(t,a){return parseInt(e.css(t,a),10)||0}function f(e){return null!=e&&e===e.window}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var a,i,n=e("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),a=r.offsetWidth,n.css("overflow","scroll"),a===(i=r.offsetWidth)&&(i=n[0].clientWidth),n.remove(),t=a-i},getScrollInfo:function(t){var a=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===a||"auto"===a&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var a=e(t||window),i=f(a[0]),n=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:i,isDocument:n,offset:!i&&!n?e(t).offset():{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:a.outerWidth(),height:a.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return l.apply(this,arguments);var d,g,p,h,m,v,b,_,y="string"==typeof(t=e.extend({},t)).of?e(document).find(t.of):e(t.of),x=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(x),C=(t.collision||"flip").split(" "),k={};return v=9===(_=(b=y)[0]).nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:f(_)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:_.preventDefault?{width:0,height:0,offset:{top:_.pageY,left:_.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()},y[0].preventDefault&&(t.at="left top"),g=v.width,p=v.height,h=v.offset,m=e.extend({},h),e.each(["my","at"],function(){var e,a,i=(t[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):r.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=r.test(i[1])?i[1]:"center",e=o.exec(i[0]),a=o.exec(i[1]),k[this]=[e?e[0]:0,a?a[0]:0],t[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===t.at[0]?m.left+=g:"center"===t.at[0]&&(m.left+=g/2),"bottom"===t.at[1]?m.top+=p:"center"===t.at[1]&&(m.top+=p/2),d=c(k.at,g,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,r,o=e(this),s=o.outerWidth(),l=o.outerHeight(),f=u(this,"marginLeft"),v=u(this,"marginTop"),b=s+f+u(this,"marginRight")+w.width,_=l+v+u(this,"marginBottom")+w.height,S=e.extend({},m),T=c(k.my,o.outerWidth(),o.outerHeight());"right"===t.my[0]?S.left-=s:"center"===t.my[0]&&(S.left-=s/2),"bottom"===t.my[1]?S.top-=l:"center"===t.my[1]&&(S.top-=l/2),S.left+=T[0],S.top+=T[1],n={marginLeft:f,marginTop:v},e.each(["left","top"],function(a,i){e.ui.position[C[a]]&&e.ui.position[C[a]][i](S,{targetWidth:g,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:b,collisionHeight:_,offset:[d[0]+T[0],d[1]+T[1]],my:t.my,at:t.at,within:x,elem:o})}),t.using&&(r=function(e){var n=h.left-S.left,r=n+g-s,d=h.top-S.top,c=d+p-l,u={target:{element:y,left:h.left,top:h.top,width:g,height:p},element:{element:o,left:S.left,top:S.top,width:s,height:l},horizontal:r<0?"left":n>0?"right":"center",vertical:c<0?"top":d>0?"bottom":"middle"};g<s&&i(n+r)<g&&(u.horizontal="center"),p<l&&i(d+c)<p&&(u.vertical="middle"),a(i(n),i(r))>a(i(d),i(c))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),o.offset(e.extend(S,{using:r}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,s=e.left-t.collisionPosition.marginLeft,d=r-s,l=s+t.collisionWidth-o-r;t.collisionWidth>o?d>0&&l<=0?(i=e.left+d+t.collisionWidth-o-r,e.left+=d-i):e.left=l>0&&d<=0?r:d>l?r+o-t.collisionWidth:r:d>0?e.left+=d:l>0?e.left-=l:e.left=a(e.left-s,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,d=r-s,l=s+t.collisionHeight-o-r;t.collisionHeight>o?d>0&&l<=0?(i=e.top+d+t.collisionHeight-o-r,e.top+=d-i):e.top=l>0&&d<=0?r:d>l?r+o-t.collisionHeight:r:d>0?e.top+=d:l>0?e.top-=l:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var a,n,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,d=r.isWindow?r.scrollLeft:r.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-d,u=l+t.collisionWidth-s-d,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,g="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((a=e.left+f+g+p+t.collisionWidth-s-o)<0||a<i(c))&&(e.left+=f+g+p):u>0&&((n=e.left-t.collisionPosition.marginLeft+f+g+p-d)>0||i(n)<u)&&(e.left+=f+g+p)},top:function(e,t){var a,n,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,d=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-d,u=l+t.collisionHeight-s-d,f="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,g="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];c<0?((n=e.top+f+g+p+t.collisionHeight-s-o)<0||n<i(c))&&(e.top+=f+g+p):u>0&&((a=e.top-t.collisionPosition.marginTop+f+g+p-d)>0||i(a)<u)&&(e.top+=f+g+p)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();e.ui.position,e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(a){return!!e.data(a,t)}}):function(t,a,i){return!!e.data(t,i[3])}}),e.fn.extend({disableSelection:(r="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(r+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var r,o,s=e,d={},l=d.toString,c=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=s.Color=function(e,t,a,i){return new s.Color.fn.parse(e,t,a,i)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=f.support={},m=s("<p>")[0],v=s.each;function b(e){return null==e?e+"":"object"==typeof e?d[l.call(e)]||"object":typeof e}function _(e,t,a){var i=p[t.type]||{};return null==e?a||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:Math.min(i.max,Math.max(0,e)))}function y(e){var t=f(),a=t._rgba=[];return e=e.toLowerCase(),v(u,function(i,n){var r,o=n.re.exec(e),s=o&&n.parse(o),d=n.space||"rgba";if(s)return r=t[d](s),t[g[d].cache]=r[g[d].cache],a=t._rgba=r._rgba,!1}),a.length?("0,0,0,0"===a.join()&&s.extend(a,o.transparent),t):o[e]}function x(e,t,a){return 6*(a=(a+1)%1)<1?e+(t-e)*a*6:2*a<1?t:3*a<2?e+(t-e)*(2/3-a)*6:e}m.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=m.style.backgroundColor.indexOf("rgba")>-1,v(g,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()}),f.fn=s.extend(f.prototype,{parse:function(e,t,a,i){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=s(e).css(t),t=void 0);var n=this,r=b(e),d=this._rgba=[];return void 0!==t&&(e=[e,t,a,i],r="array"),"string"===r?this.parse(y(e)||o._default):"array"===r?(v(g.rgba.props,function(t,a){d[a.idx]=_(e[a.idx],a)}),this):"object"===r?(v(g,e instanceof f?function(t,a){e[a.cache]&&(n[a.cache]=e[a.cache].slice())}:function(t,a){var i=a.cache;v(a.props,function(t,r){if(!n[i]&&a.to){if("alpha"===t||null==e[t])return;n[i]=a.to(n._rgba)}n[i][r.idx]=_(e[t],r,!0)}),n[i]&&s.inArray(null,n[i].slice(0,3))<0&&(null==n[i][3]&&(n[i][3]=1),a.from&&(n._rgba=a.from(n[i])))}),this):void 0},is:function(e){var t=f(e),a=!0,i=this;return v(g,function(e,n){var r,o=t[n.cache];return o&&(r=i[n.cache]||n.to&&n.to(i._rgba)||[],v(n.props,function(e,t){if(null!=o[t.idx])return a=o[t.idx]===r[t.idx]})),a}),a},_space:function(){var e=[],t=this;return v(g,function(a,i){t[i.cache]&&e.push(a)}),e.pop()},transition:function(e,t){var a=f(e),i=a._space(),n=g[i],r=0===this.alpha()?f("transparent"):this,o=r[n.cache]||n.to(r._rgba),s=o.slice();return a=a[n.cache],v(n.props,function(e,i){var n=i.idx,r=o[n],d=a[n],l=p[i.type]||{};null!==d&&(null===r?s[n]=d:(l.mod&&(d-r>l.mod/2?r+=l.mod:r-d>l.mod/2&&(r-=l.mod)),s[n]=_((d-r)*t+r,i)))}),this[i](s)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),a=t.pop(),i=f(e)._rgba;return f(s.map(t,function(e,t){return(1-a)*i[t]+a*e}))},toRgbaString:function(){var e="rgba(",t=s.map(this._rgba,function(e,t){return null!=e?e:t>2?1:0});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=s.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),a=t.pop();return e&&t.push(~~(255*a)),"#"+s.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,a,i=e[0]/255,n=e[1]/255,r=e[2]/255,o=e[3],s=Math.max(i,n,r),d=Math.min(i,n,r),l=s-d,c=s+d,u=.5*c;return t=d===s?0:i===s?60*(n-r)/l+360:n===s?60*(r-i)/l+120:60*(i-n)/l+240,a=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(t)%360,a,u,null==o?1:o]},g.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,a=e[1],i=e[2],n=e[3],r=i<=.5?i*(1+a):i+a-i*a,o=2*i-r;return[Math.round(255*x(o,r,t+1/3)),Math.round(255*x(o,r,t)),Math.round(255*x(o,r,t-1/3)),n]},v(g,function(e,t){var a=t.props,i=t.cache,n=t.to,r=t.from;f.fn[e]=function(e){if(n&&!this[i]&&(this[i]=n(this._rgba)),void 0===e)return this[i].slice();var t,o=b(e),s="array"===o||"object"===o?e:arguments,d=this[i].slice();return v(a,function(e,t){var a=s["object"===o?e:t.idx];null==a&&(a=d[t.idx]),d[t.idx]=_(a,t)}),r?((t=f(r(d)))[i]=d,t):f(d)},v(a,function(t,a){f.fn[t]||(f.fn[t]=function(i){var n,r,o,s,d=b(i);return r=(n=this[s="alpha"===t?this._hsla?"hsla":"rgba":e]())[a.idx],"undefined"===d?r:("function"===d&&(d=b(i=i.call(this,r))),null==i&&a.empty?this:("string"===d&&(o=c.exec(i))&&(i=r+parseFloat(o[2])*("+"===o[1]?1:-1)),n[a.idx]=i,this[s](n)))})})}),f.hook=function(e){var t=e.split(" ");v(t,function(e,t){s.cssHooks[t]={set:function(e,a){var i,n,r="";if("transparent"!==a&&("string"!==b(a)||(i=y(a)))){if(a=f(i||a),!h.rgba&&1!==a._rgba[3]){for(n="backgroundColor"===t?e.parentNode:e;(""===r||"transparent"===r)&&n&&n.style;)try{r=s.css(n,"backgroundColor"),n=n.parentNode}catch(e){}a=a.blend(r&&"transparent"!==r?r:"_default")}a=a.toRgbaString()}try{e.style[t]=a}catch(e){}}},s.fx.step[t]=function(e){e.colorInit||(e.start=f(e.elem,t),e.end=f(e.end),e.colorInit=!0),s.cssHooks[t].set(e.elem,e.start.transition(e.end,e.pos))}})},f.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),s.cssHooks.borderColor={expand:function(e){var t={};return v(["Top","Right","Bottom","Left"],function(a,i){t["border"+i+"Color"]=e}),t}},o=s.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var w,C="ui-effects-animated";e.effects={effect:{}},function(){var t,a=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function n(e){var t,a,i,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(n&&n.length&&n[0]&&n[n[0]])for(a=n.length;a--;)"string"==typeof n[t=n[a]]&&(r[(i=t,i.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}))]=n[t]);else for(t in n)"string"==typeof n[t]&&(r[t]=n[t]);return r}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,a){e.fx.step[a]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(s.style(e.elem,a,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,r,o,s){var d=e.speed(r,o,s);return this.queue(function(){var r,o=e(this),s=o.attr("class")||"",l=d.children?o.find("*").addBack():o;l=l.map(function(){return{el:e(this),start:n(this)}}),(r=function(){e.each(a,function(e,a){t[a]&&o[a+"Class"](t[a])})})(),l=l.map(function(){return this.end=n(this.el[0]),this.diff=function(t,a){var n,r,o={};for(n in a)r=a[n],t[n]!==r&&(i[n]||!e.fx.step[n]&&isNaN(parseFloat(r))||(o[n]=r));return o}(this.start,this.end),this}),o.attr("class",s),l=l.map(function(){var t=this,a=e.Deferred(),i=e.extend({},d,{queue:!1,complete:function(){a.resolve(t)}});return this.el.animate(this.diff,i),a.promise()}),e.when.apply(e,l.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),d.complete.call(o[0])})})},e.fn.extend({addClass:(t=e.fn.addClass,function(a,i,n,r){return i?e.effects.animateClass.call(this,{add:a},i,n,r):t.apply(this,arguments)}),removeClass:function(t){return function(a,i,n,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:a},i,n,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(a,i,n,r,o){return"boolean"==typeof i||void 0===i?n?e.effects.animateClass.call(this,i?{add:a}:{remove:a},n,r,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:a},i,n,r)}}(e.fn.toggleClass),switchClass:function(t,a,i,n,r){return e.effects.animateClass.call(this,{add:a,remove:t},i,n,r)}})}(),function(){var t;function a(t,a,i,n){return e.isPlainObject(t)&&(a=t,t=t.effect),t={effect:t},null==a&&(a={}),"function"==typeof a&&(n=a,i=null,a={}),("number"==typeof a||e.fx.speeds[a])&&(n=i,i=a,a={}),"function"==typeof i&&(n=i,i=null),a&&e.extend(t,a),i=i||a.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=n||a.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||("function"==typeof t||"object"==typeof t&&!t.effect))}function n(e,t){var a=t.outerWidth(),i=t.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,a,i,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?a:parseFloat(n[2]),bottom:"auto"===n[3]?i:parseFloat(n[3]),left:parseFloat(n[4])||0}}e.expr&&e.expr.pseudos&&e.expr.pseudos.animated&&(e.expr.pseudos.animated=(t=e.expr.pseudos.animated,function(a){return!!e(a).data(C)||t(a)})),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var a=0,i=t.length;a<i;a++)null!==t[a]&&e.data("ui-effects-"+t[a],e[0].style[t[a]])},restore:function(e,t){for(var a,i=0,n=t.length;i<n;i++)null!==t[i]&&(a=e.data("ui-effects-"+t[i]),e.css(t[i],a))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var a={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(i),(t[0]===r||e.contains(t[0],r))&&e(r).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(a,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){a[i]=t.css(i),isNaN(parseInt(a[i],10))&&(a[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),i.css(a).show()},removeWrapper:function(t){var a=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===a||e.contains(t[0],a))&&e(a).trigger("focus")),t}}),e.extend(e.effects,{version:"1.13.2",define:function(t,a,i){return i||(i=a,a="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=a,i},scaledDimensions:function(e,t,a){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==a?(t||100)/100:1,n="vertical"!==a?(t||100)/100:1;return{height:e.height()*n,width:e.width()*i,outerHeight:e.outerHeight()*n,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,a){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,a))),e.dequeue()},saveStyle:function(e){e.data("ui-effects-style",e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data("ui-effects-style")||"",e.removeData("ui-effects-style")},mode:function(e,t){var a=e.is(":hidden");return"toggle"===t&&(t=a?"show":"hide"),(a?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var a,i;switch(e[0]){case"top":a=0;break;case"middle":a=.5;break;case"bottom":a=1;break;default:a=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:a}},createPlaceholder:function(t){var a,i=t.css("position"),n=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",a=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data("ui-effects-placeholder",a)),t.css({position:i,left:n.left,top:n.top}),a},removePlaceholder:function(e){var t="ui-effects-placeholder",a=e.data(t);a&&(a.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,a,i,n){return n=n||{},e.each(a,function(e,a){var r=t.cssUnit(a);r[0]>0&&(n[a]=r[0]*i+r[1])}),n}}),e.fn.extend({effect:function(){var t=a.apply(this,arguments),i=e.effects.effect[t.effect],n=i.mode,r=t.queue,o=r||"fx",s=t.complete,d=t.mode,l=[],c=function(t){var a=e(this),i=e.effects.mode(a,d)||n;a.data(C,!0),l.push(i),n&&("show"===i||i===n&&"hide"===i)&&a.show(),n&&"none"===i||e.effects.saveStyle(a),"function"==typeof t&&t()};if(e.fx.off||!i)return d?this[d](t.duration,s):this.each(function(){s&&s.call(this)});function u(a){var r=e(this);function o(){"function"==typeof s&&s.call(r[0]),"function"==typeof a&&a()}t.mode=l.shift(),!1===e.uiBackCompat||n?"none"===t.mode?(r[d](),o()):i.call(r[0],t,function(){r.removeData(C),e.effects.cleanUp(r),"hide"===t.mode&&r.hide(),o()}):(r.is(":hidden")?"hide"===d:"show"===d)?(r[d](),o()):i.call(r[0],t,o)}return!1===r?this.each(c).each(u):this.queue(o,c).queue(o,u)},show:function(e){return function(t){if(i(t))return e.apply(this,arguments);var n=a.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(t){if(i(t))return e.apply(this,arguments);var n=a.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(i(t)||"boolean"==typeof t)return e.apply(this,arguments);var n=a.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var a=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){a.indexOf(t)>0&&(i=[parseFloat(a),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):n(this.css("clip"),this)},transfer:function(t,a){var i=e(this),n=e(t.to),r="fixed"===n.css("position"),o=e("body"),s=r?o.scrollTop():0,d=r?o.scrollLeft():0,l=n.offset(),c={top:l.top-s,left:l.left-d,height:n.innerHeight(),width:n.innerWidth()},u=i.offset(),f=e("<div class='ui-effects-transfer'></div>");f.appendTo("body").addClass(t.className).css({top:u.top-s,left:u.left-d,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){f.remove(),"function"==typeof a&&a()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=n(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),w={},e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){w[t]=function(t){return Math.pow(t,e+2)}}),e.extend(w,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,a=4;e<((t=Math.pow(2,--a))-1)/11;);return 1/Math.pow(4,3-a)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(w,function(t,a){e.easing["easeIn"+t]=a,e.easing["easeOut"+t]=function(e){return 1-a(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?a(2*e)/2:1-a(-2*e+2)/2}});e.effects,e.effects.define("blind","hide",function(t,a){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=e(this),r=t.direction||"up",o=n.cssClip(),s={clip:e.extend({},o)},d=e.effects.createPlaceholder(n);s.clip[i[r][0]]=s.clip[i[r][1]],"show"===t.mode&&(n.cssClip(s.clip),d&&d.css(e.effects.clipToBox(s)),s.clip=o),d&&d.animate(e.effects.clipToBox(s),t.duration,t.easing),n.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:a})}),e.effects.define("bounce",function(t,a){var i,n,r,o=e(this),s=t.mode,d="hide"===s,l="show"===s,c=t.direction||"up",u=t.distance,f=t.times||5,g=2*f+(l||d?1:0),p=t.duration/g,h=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,b=0,_=o.queue().length;for(e.effects.createPlaceholder(o),r=o.css(m),u||(u=o["top"===m?"outerHeight":"outerWidth"]()/3),l&&((n={opacity:1})[m]=r,o.css("opacity",0).css(m,v?2*-u:2*u).animate(n,p,h)),d&&(u/=Math.pow(2,f-1)),(n={})[m]=r;b<f;b++)(i={})[m]=(v?"-=":"+=")+u,o.animate(i,p,h).animate(n,p,h),u=d?2*u:u/2;d&&((i={opacity:0})[m]=(v?"-=":"+=")+u,o.animate(i,p,h)),o.queue(a),e.effects.unshift(o,_,g+1)}),e.effects.define("clip","hide",function(t,a){var i,n={},r=e(this),o=t.direction||"vertical",s="both"===o,d=s||"horizontal"===o,l=s||"vertical"===o;i=r.cssClip(),n.clip={top:l?(i.bottom-i.top)/2:i.top,right:d?(i.right-i.left)/2:i.right,bottom:l?(i.bottom-i.top)/2:i.bottom,left:d?(i.right-i.left)/2:i.left},e.effects.createPlaceholder(r),"show"===t.mode&&(r.cssClip(n.clip),n.clip=i),r.animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:a})}),e.effects.define("drop","hide",function(t,a){var i,n=e(this),r="show"===t.mode,o=t.direction||"left",s="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o?"-=":"+=",l="+="===d?"-=":"+=",c={opacity:0};e.effects.createPlaceholder(n),i=t.distance||n["top"===s?"outerHeight":"outerWidth"](!0)/2,c[s]=d+i,r&&(n.css(c),c[s]=l+i,c.opacity=1),n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:a})}),e.effects.define("explode","hide",function(t,a){var i,n,r,o,s,d,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=l,u=e(this),f="show"===t.mode,g=u.show().css("visibility","hidden").offset(),p=Math.ceil(u.outerWidth()/c),h=Math.ceil(u.outerHeight()/l),m=[];function v(){m.push(this),m.length===l*c&&(u.css({visibility:"visible"}),e(m).remove(),a())}for(i=0;i<l;i++)for(o=g.top+i*h,d=i-(l-1)/2,n=0;n<c;n++)r=g.left+n*p,s=n-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*p,top:-i*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:h,left:r+(f?s*p:0),top:o+(f?d*h:0),opacity:f?0:1}).animate({left:r+(f?0:s*p),top:o+(f?0:d*h),opacity:f?1:0},t.duration||500,t.easing,v)}),e.effects.define("fade","toggle",function(t,a){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:a})}),e.effects.define("fold","hide",function(t,a){var i=e(this),n=t.mode,r="show"===n,o="hide"===n,s=t.size||15,d=/([0-9]+)%/.exec(s),l=!!t.horizFirst?["right","bottom"]:["bottom","right"],c=t.duration/2,u=e.effects.createPlaceholder(i),f=i.cssClip(),g={clip:e.extend({},f)},p={clip:e.extend({},f)},h=[f[l[0]],f[l[1]]],m=i.queue().length;d&&(s=parseInt(d[1],10)/100*h[o?0:1]),g.clip[l[0]]=s,p.clip[l[0]]=s,p.clip[l[1]]=0,r&&(i.cssClip(p.clip),u&&u.css(e.effects.clipToBox(p)),p.clip=f),i.queue(function(a){u&&u.animate(e.effects.clipToBox(g),c,t.easing).animate(e.effects.clipToBox(p),c,t.easing),a()}).animate(g,c,t.easing).animate(p,c,t.easing).queue(a),e.effects.unshift(i,m,4)}),e.effects.define("highlight","show",function(t,a){var i=e(this),n={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(n.opacity=0),e.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:a})}),e.effects.define("size",function(t,a){var i,n,r,o=e(this),s=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.mode,u="effect"!==c,f=t.scale||"both",g=t.origin||["middle","center"],p=o.css("position"),h=o.position(),m=e.effects.scaledDimensions(o),v=t.from||m,b=t.to||e.effects.scaledDimensions(o,0);e.effects.createPlaceholder(o),"show"===c&&(r=v,v=b,b=r),n={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==f&&"both"!==f||(n.from.y!==n.to.y&&(v=e.effects.setTransition(o,d,n.from.y,v),b=e.effects.setTransition(o,d,n.to.y,b)),n.from.x!==n.to.x&&(v=e.effects.setTransition(o,l,n.from.x,v),b=e.effects.setTransition(o,l,n.to.x,b))),"content"!==f&&"both"!==f||n.from.y!==n.to.y&&(v=e.effects.setTransition(o,s,n.from.y,v),b=e.effects.setTransition(o,s,n.to.y,b)),g&&(i=e.effects.getBaseline(g,m),v.top=(m.outerHeight-v.outerHeight)*i.y+h.top,v.left=(m.outerWidth-v.outerWidth)*i.x+h.left,b.top=(m.outerHeight-b.outerHeight)*i.y+h.top,b.left=(m.outerWidth-b.outerWidth)*i.x+h.left),delete v.outerHeight,delete v.outerWidth,o.css(v),"content"!==f&&"both"!==f||(d=d.concat(["marginTop","marginBottom"]).concat(s),l=l.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var a=e(this),i=e.effects.scaledDimensions(a),r={height:i.height*n.from.y,width:i.width*n.from.x,outerHeight:i.outerHeight*n.from.y,outerWidth:i.outerWidth*n.from.x},o={height:i.height*n.to.y,width:i.width*n.to.x,outerHeight:i.height*n.to.y,outerWidth:i.width*n.to.x};n.from.y!==n.to.y&&(r=e.effects.setTransition(a,d,n.from.y,r),o=e.effects.setTransition(a,d,n.to.y,o)),n.from.x!==n.to.x&&(r=e.effects.setTransition(a,l,n.from.x,r),o=e.effects.setTransition(a,l,n.to.x,o)),u&&e.effects.saveStyle(a),a.css(r),a.animate(o,t.duration,t.easing,function(){u&&e.effects.restoreStyle(a)})})),o.animate(b,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=o.offset();0===b.opacity&&o.css("opacity",v.opacity),u||(o.css("position","static"===p?"relative":p).offset(t),e.effects.saveStyle(o)),a()}})}),e.effects.define("scale",function(t,a){var i=e(this),n=t.mode,r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==n?0:100),o=e.extend(!0,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,r,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),e.effects.effect.size.call(this,o,a)}),e.effects.define("puff","hide",function(t,a){var i=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,a)}),e.effects.define("pulsate","show",function(t,a){var i=e(this),n=t.mode,r="show"===n,o=r||"hide"===n,s=2*(t.times||5)+(o?1:0),d=t.duration/s,l=0,c=1,u=i.queue().length;for(!r&&i.is(":visible")||(i.css("opacity",0).show(),l=1);c<s;c++)i.animate({opacity:l},d,t.easing),l=1-l;i.animate({opacity:l},d,t.easing),i.queue(a),e.effects.unshift(i,u,s+1)}),e.effects.define("shake",function(t,a){var i=1,n=e(this),r=t.direction||"left",o=t.distance||20,s=t.times||3,d=2*s+1,l=Math.round(t.duration/d),c="up"===r||"down"===r?"top":"left",u="up"===r||"left"===r,f={},g={},p={},h=n.queue().length;for(e.effects.createPlaceholder(n),f[c]=(u?"-=":"+=")+o,g[c]=(u?"+=":"-=")+2*o,p[c]=(u?"-=":"+=")+2*o,n.animate(f,l,t.easing);i<s;i++)n.animate(g,l,t.easing).animate(p,l,t.easing);n.animate(g,l,t.easing).animate(f,l/2,t.easing).queue(a),e.effects.unshift(n,h,d+1)}),e.effects.define("slide","show",function(t,a){var i,n,r=e(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,d=t.direction||"left",l="up"===d||"down"===d?"top":"left",c="up"===d||"left"===d,u=t.distance||r["top"===l?"outerHeight":"outerWidth"](!0),f={};e.effects.createPlaceholder(r),i=r.cssClip(),n=r.position()[l],f[l]=(c?-1:1)*u+n,f.clip=r.cssClip(),f.clip[o[d][1]]=f.clip[o[d][0]],"show"===s&&(r.cssClip(f.clip),r.css(l,f[l]),f.clip=i,f[l]=n),r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:a})});!1!==e.uiBackCompat&&e.effects.define("transfer",function(t,a){e(this).transfer(t,a)});e.ui.focusable=function(t,a){var i,n,r,o,s,d=t.nodeName.toLowerCase();return"area"===d?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&((r=e("img[usemap='#"+n+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(d)?(o=!t.disabled)&&(s=e(t).closest("fieldset")[0])&&(o=!s.disabled):o="a"===d&&t.href||a,o&&e(t).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"visible"===t}(e(t)))},e.extend(e.expr.pseudos,{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable,e.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var a=t.data("ui-form-reset-instances");e.each(a,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if(e.expr.pseudos||(e.expr.pseudos=e.expr[":"]),e.uniqueSort||(e.uniqueSort=e.unique),!e.escapeSelector){var k=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,S=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};e.escapeSelector=function(e){return(e+"").replace(k,S)}}e.fn.even&&e.fn.odd||e.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}});var T;e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.labels=function(){var t,a,i,n,r;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(i=this.attr("id"))&&(r=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),a="label[for='"+e.escapeSelector(i)+"']",n=n.add(r.find(a).addBack(a))),this.pushStack(n)):this.pushStack([])},e.fn.scrollParent=function(t){var a=this.css("position"),i="absolute"===a,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==a&&r.length?r:e(this[0].ownerDocument||document)},e.extend(e.expr.pseudos,{tabbable:function(t){var a=e.attr(t,"tabindex"),i=null!=a;return(!i||a>=0)&&e.ui.focusable(t,i)}}),e.fn.extend({uniqueId:(T=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++T)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,a,i=this.options.icons;i&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),a=this.active.children(".ui-accordion-header-icon"),this._removeClass(a,i.header)._addClass(a,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var a=e.ui.keyCode,i=this.headers.length,n=this.headers.index(t.target),r=!1;switch(t.keyCode){case a.RIGHT:case a.DOWN:r=this.headers[(n+1)%i];break;case a.LEFT:case a.UP:r=this.headers[(n-1+i)%i];break;case a.SPACE:case a.ENTER:this._eventHandler(t);break;case a.HOME:r=this.headers[0];break;case a.END:r=this.headers[i-1]}r&&(e(t.target).attr("tabIndex",-1),e(r).attr("tabIndex",0),e(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,a=this.options,i=a.heightStyle,n=this.element.parent();this.active=this._findActive(a.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=e(this),a=t.uniqueId().attr("id"),i=t.next(),n=i.uniqueId().attr("id");t.attr("aria-controls",n),i.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===i?(t=n.height(),this.element.siblings(":visible").each(function(){var a=e(this),i=a.css("position");"absolute"!==i&&"fixed"!==i&&(t-=a.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){var a=e(this).is(":visible");a||e(this).show(),t=Math.max(t,e(this).css("height","").height()),a||e(this).hide()}).height(t))},_activate:function(t){var a=this._findActive(t)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var a={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){a[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var a,i,n=this.options,r=this.active,o=e(t.currentTarget),s=o[0]===r[0],d=s&&n.collapsible,l=d?e():o.next(),c=r.next(),u={oldHeader:r,oldPanel:c,newHeader:d?e():o,newPanel:l};t.preventDefault(),s&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!d&&this.headers.index(o),this.active=s?e():o,this._toggle(u),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),n.icons&&(a=r.children(".ui-accordion-header-icon"),this._removeClass(a,null,n.icons.activeHeader)._addClass(a,null,n.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.header)._addClass(i,null,n.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var a=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=a,this.prevHide=i,this.options.animate?this._animate(a,i,t):(i.hide(),a.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):a.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),a.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,a){var i,n,r,o=this,s=0,d=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},u=l&&c.down||c,f=function(){o._toggleComplete(a)};return"number"==typeof u&&(r=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,r=r||u.duration||c.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:r,easing:n,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:r,easing:n,complete:f,step:function(e,a){a.now=Math.round(e),"height"!==a.prop?"content-box"===d&&(s+=a.now):"content"!==o.options.heightStyle&&(a.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,r,n,f):e.animate(this.showProps,r,n,f)},_toggleComplete:function(e){var t=e.oldPanel,a=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(a,"ui-accordion-header-active")._addClass(a,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(a){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(t){var a=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var a=this.active||this._menuItems().first();t||this.focus(e,a)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(t){if(!this.previousFilter&&(t.clientX!==this.lastMousePosition.x||t.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:t.clientX,y:t.clientY};var a=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);a[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i)))}},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var a,i,n,r,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",r=!1,n=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),n===i?r=!0:n=i+n,a=this._filterMenuItems(n),(a=r&&-1!==a.index(this.active.next())?this.active.nextAll(".ui-menu-item"):a).length||(n=String.fromCharCode(t.keyCode),a=this._filterMenuItems(n)),a.length?(this.focus(t,a),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,a,i,n,r=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),a=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),a=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+o),a.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",a.attr("id"))}),this._addClass(a,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),n=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var a=this.element.find(".ui-menu-icon");this._removeClass(a,null,this.options.icons.submenu)._addClass(a,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var a,i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(a=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(a),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var a,i,n,r,o,s;this._hasScroll()&&(a=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-a-i,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),n<0?this.activeMenu.scrollTop(r+n):n+s>o&&this.activeMenu.scrollTop(r+n-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var a=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(t,a){clearTimeout(this.timer),this.timer=this._delay(function(){var i=a?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},a?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,a){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first()),i&&i.length&&this.active||(i=this._menuItems(this.activeMenu)[t]()),this.focus(a,i)},nextPage:function(t){var a,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.innerHeight(),0===e.fn.jquery.indexOf("3.2.")&&(n+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(a=e(this)).offset().top-i-n<0}),this.focus(t,a)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var a,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.innerHeight(),0===e.fn.jquery.indexOf("3.2.")&&(n+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return(a=e(this)).offset().top-i+n>0}),this.focus(t,a)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,a)},_filterMenuItems:function(t){var a=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(String.prototype.trim.call(e(this).children(".ui-menu-item-wrapper").text()))})}});e.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var t,a,i,n=this.element[0].nodeName.toLowerCase(),r="textarea"===n,o="input"===n;this.isMultiLine=r||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,i=!0,void(a=!0);t=!1,i=!1,a=!1;var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",n);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case r.UP:t=!0,this._keyEvent("previous",n);break;case r.DOWN:t=!0,this._keyEvent("next",n);break;case r.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case r.TAB:this.menu.active&&this.menu.select(n);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:a=!0,this._searchTimeout(n)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!a){var n=e.ui.keyCode;switch(i.keyCode){case n.PAGE_UP:this._move("previousPage",i);break;case n.PAGE_DOWN:this._move("nextPage",i);break;case n.UP:this._keyEvent("previous",i);break;case n.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(t,a){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});n=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(i=a.item.attr("aria-label")||n.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(e("<div>").text(i))},100))},menuselect:function(t,a){var i=a.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var a=this.menu.element[0];return t.target===this.element[0]||t.target===a||e.contains(a,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,a,i=this;Array.isArray(this.options.source)?(t=this.options.source,this.source=function(a,i){i(e.ui.autocomplete.filter(t,a.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(t,n){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:a,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),a=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||a||i)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var a=this.menu.element.empty();this._renderMenu(a,t),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,a){var i=this;e.each(a,function(e,a){i._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,a){return e("<li>").append(e("<div>").text(a.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,a){var i=new RegExp(e.ui.autocomplete.escapeRegex(a),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(e("<div>").text(a))},100))}});e.ui.autocomplete;var M=/ui-corner-([a-z]){2,6}/g;e.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,a=[];e.each(this.options.items,function(i,n){var r,o={};if(n)return"controlgroupLabel"===i?((r=t.element.find(n)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(r.get()))):void(e.fn[i]&&(o=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}},t.element.find(n).each(function(){var n=e(this),r=n[i]("instance"),s=e.widget.extend({},o);if("button"!==i||!n.parent(".ui-spinner").length){r||(r=n[i]()[i]("instance")),r&&(s.classes=t._resolveClassesValues(s.classes,r)),n[i](s);var d=n[i]("widget");e.data(d[0],"ui-controlgroup-data",r||n[i]("instance")),a.push(d[0])}})))}),this.childWidgets=e(e.uniqueSort(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var a=e(this).data("ui-controlgroup-data");a&&a[t]&&a[t]()})},_updateCornerClass:function(e,t){var a=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,a)},_buildSimpleOptions:function(e,t){var a="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(a?"top":"left"),last:"ui-corner-"+(a?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,a){var i={};return e.each(t,function(e){var n=a.options.classes[e]||"";n=String.prototype.trim.call(n.replace(M,"")),i[e]=(n+" "+t[e]).replace(/\s+/g," ")}),i},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,a=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,i){var n=t[i]().data("ui-controlgroup-data");if(n&&a["_"+n.widgetName+"Options"]){var r=a["_"+n.widgetName+"Options"](1===t.length?"only":i);r.classes=a._resolveClassesValues(r.classes,n),n.element[n.widgetName](r)}else a._updateCornerClass(t[i](),i)}),this._callChildMethod("refresh"))}});e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,a,i,n=this._super()||{};return this._readType(),a=this.element.labels(),this.label=e(a[a.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",(i=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=i.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(n.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(n.disabled=t),n},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,a="input[name='"+e.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(a):e(a).filter(function(){return 0===e(this)._form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var a="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(a+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):a+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",a),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);e.ui.checkboxradio;e.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,a){var i="iconPosition"!==t,n=i?this.options.iconPosition:a,r="top"===n||"bottom"===n;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,a),this._attachIcon(n),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,a=void 0===e.icon?this.options.icon:e.icon;t||a||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=function(t){return function(a){var i="string"==typeof a,n=Array.prototype.slice.call(arguments,1),r=this;return i?this.length||"instance"!==a?this.each(function(){var t,i=e(this).attr("type"),o="checkbox"!==i&&"radio"!==i?"button":"checkboxradio",s=e.data(this,"ui-"+o);return"instance"===a?(r=s,!1):s?"function"!=typeof s[a]||"_"===a.charAt(0)?e.error("no such method '"+a+"' for button widget instance"):(t=s[a].apply(s,n))!==s&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:e.error("cannot call methods on button prior to initialization; attempted to call method '"+a+"'")}):r=void 0:(n.length&&(a=e.widget.extend.apply(null,[a].concat(n))),this.each(function(){var i=e(this).attr("type"),n="checkbox"!==i&&"radio"!==i?"button":"checkboxradio",r=e.data(this,"ui-"+n);if(r)r.option(a||{}),r._init&&r._init();else{if("button"===n)return void t.call(e(this),a);e(this).checkboxradio(e.extend({icon:!1},a))}})),r}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var I;e.ui.button;function A(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=D(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function D(t){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",a,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",a,L)}function L(){e.datepicker._isDisabledDatepicker(I.inline?I.dpDiv.parent()[0]:I.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function E(t,a){for(var i in e.extend(t,a),a)null==a[i]&&(t[i]=a[i]);return t}e.extend(e.ui,{datepicker:{version:"1.13.2"}}),e.extend(A.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return E(this._defaults,e||{}),this},_attachDatepicker:function(t,a){var i,n,r;n="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst(e(t),n)).settings=e.extend({},a||{}),"input"===i?this._connectDatepicker(t,r):n&&this._inlineDatepicker(t,r)},_newInst:function(t,a){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?D(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,a){var i=e(t);a.append=e([]),a.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(a),e.data(t,"datepicker",a),a.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,a){var i,n,r,o=this._get(a,"appendText"),s=this._get(a,"isRTL");a.append&&a.append.remove(),o&&(a.append=e("<span>").addClass(this._appendClass).text(o),t[s?"before":"after"](a.append)),t.off("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),"focus"!==(i=this._get(a,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(a,"buttonText"),r=this._get(a,"buttonImage"),this._get(a,"buttonImageOnly")?a.trigger=e("<img>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):(a.trigger=e("<button type='button'>").addClass(this._triggerClass),r?a.trigger.html(e("<img>").attr({src:r,alt:n,title:n})):a.trigger.text(n)),t[s?"before":"after"](a.trigger),a.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,a,i,n,r=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(a=0,i=0,n=0;n<e.length;n++)e[n].length>a&&(a=e[n].length,i=n);return i},r.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,a){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),e.data(t,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(t),a.dpDiv.css("display","block"))},_dialogDatepicker:function(t,a,i,n,r){var o,s,d,l,c,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",u)),E(u.settings,n||{}),a=a&&a.constructor===Date?this._formatDate(u,a):a,this._dialogInput.val(a),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(s=document.documentElement.clientWidth,d=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,d/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var a,i=e(t),n=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===a?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==a&&"span"!==a||i.removeClass(this.markerClassName).empty(),I===n&&(I=null,this._curInst=null))},_enableDatepicker:function(t){var a,i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(a=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==a&&"span"!==a||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var a,i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(a=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==a&&"span"!==a||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,a,i){var n,r,o,s,d=this._getInst(t);if(2===arguments.length&&"string"==typeof a)return"defaults"===a?e.extend({},e.datepicker._defaults):d?"all"===a?e.extend({},d.settings):this._get(d,a):null;n=a||{},"string"==typeof a&&((n={})[a]=i),d&&(this._curInst===d&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(d,"min"),s=this._getMinMaxDate(d,"max"),E(d.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(d.settings.minDate=this._formatDate(d,o)),null!==s&&void 0!==n.dateFormat&&void 0===n.maxDate&&(d.settings.maxDate=this._formatDate(d,s)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),d),this._autoSize(d),this._setDate(d,r),this._updateAlternate(d),this._updateDatepicker(d))},_changeDatepicker:function(e,t,a){this._optionDatepicker(e,t,a)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var a=this._getInst(e);a&&(this._setDate(a,t),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(e,t){var a=this._getInst(e);return a&&!a.inline&&this._setDateFromField(a,t),a?this._getDate(a):null},_doKeyDown:function(t){var a,i,n,r=e.datepicker._getInst(t.target),o=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv))[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,n[0]),(a=e.datepicker._get(r,"onSelect"))?(i=e.datepicker._formatDate(r),a.apply(r.input?r.input[0]:null,[i,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var a,i,n=e.datepicker._getInst(t.target);if(e.datepicker._get(n,"constrainInput"))return a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!a||a.indexOf(i)>-1},_doKeyUp:function(t){var a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a))&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(e){}return!0},_showDatepicker:function(t){var a,i,n,r,o,s,d;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(a=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==a&&(e.datepicker._curInst.dpDiv.stop(!0,!0),a&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(n=(i=e.datepicker._get(a,"beforeShow"))?i.apply(t,[t,a]):{})&&(E(a.settings,n),a.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(a),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return!(r|="fixed"===e(this).css("position"))}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(a),o=e.datepicker._checkOffset(a,o,r),a.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),a.inline||(s=e.datepicker._get(a,"showAnim"),d=e.datepicker._get(a,"duration"),a.dpDiv.css("z-index",function(e){for(var t,a;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(a=parseInt(e.css("zIndex"),10),!isNaN(a)&&0!==a))return a;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[s]?a.dpDiv.show(s,e.datepicker._get(a,"showOptions"),d):a.dpDiv[s||"show"](s?d:null),e.datepicker._shouldFocusInput(a)&&a.input.trigger("focus"),e.datepicker._curInst=a)))},_updateDatepicker:function(t){this.maxRows=4,I=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var a,i=this._getNumberOfMonths(t),n=i[1],r=t.dpDiv.find("."+this._dayOverClass+" a"),o=e.datepicker._get(t,"onUpdateDatepicker");r.length>0&&L.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(a=t.yearshtml,setTimeout(function(){a===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml),a=t.yearshtml=null},0)),o&&o.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,a,i){var n=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,d=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return a.left-=this._get(t,"isRTL")?n-o:0,a.left-=i&&a.left===t.input.offset().left?e(document).scrollLeft():0,a.top-=i&&a.top===t.input.offset().top+s?e(document).scrollTop():0,a.left-=Math.min(a.left,a.left+n>d&&d>n?Math.abs(a.left+n-d):0),a.top-=Math.min(a.top,a.top+r>l&&l>r?Math.abs(r+s):0),a},_findPos:function(t){for(var a,i=this._getInst(t),n=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.pseudos.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return[(a=e(t).offset()).left,a.top]},_hideDatepicker:function(t){var a,i,n,r,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(a=this._get(o,"showAnim"),i=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[a]||e.effects[a])?o.dpDiv.hide(a,e.datepicker._get(o,"showOptions"),i,n):o.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,n),a||n(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var a=e(t.target),i=e.datepicker._getInst(a[0]);(a[0].id===e.datepicker._mainDivId||0!==a.parents("#"+e.datepicker._mainDivId).length||a.hasClass(e.datepicker.markerClassName)||a.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!a.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,a,i){var n=e(t),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,a,i),this._updateDatepicker(r))},_gotoToday:function(t){var a,i=e(t),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(a=new Date,n.selectedDay=a.getDate(),n.drawMonth=n.selectedMonth=a.getMonth(),n.drawYear=n.selectedYear=a.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(t,a,i){var n=e(t),r=this._getInst(n[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(t,a,i,n){var r,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=parseInt(e("a",n).attr("data-date")),r.selectedMonth=r.currentMonth=a,r.selectedYear=r.currentYear=i,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var a=e(t);this._selectDate(a,"")},_selectDate:function(t,a){var i,n=e(t),r=this._getInst(n[0]);a=null!=a?a:this._formatDate(r),r.input&&r.input.val(a),this._updateAlternate(r),(i=this._get(r,"onSelect"))?i.apply(r.input?r.input[0]:null,[a,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var a,i,n,r=this._get(t,"altField");r&&(a=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),n=this.formatDate(a,i,this._getFormatConfig(t)),e(document).find(r).val(n))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,a=new Date(e.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),t=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((t-a)/864e5)/7)+1},parseDate:function(t,a,i){if(null==t||null==a)throw"Invalid arguments";if(""===(a="object"==typeof a?a.toString():a+""))return null;var n,r,o,s,d=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,g=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,m=-1,v=-1,b=-1,_=!1,y=function(e){var a=n+1<t.length&&t.charAt(n+1)===e;return a&&n++,a},x=function(e){var t=y(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),r=a.substring(d).match(n);if(!r)throw"Missing number at position "+d;return d+=r[0].length,parseInt(r[0],10)},w=function(t,i,n){var r=-1,o=e.map(y(t)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var i=t[1];if(a.substr(d,i.length).toLowerCase()===i.toLowerCase())return r=t[0],d+=i.length,!1}),-1!==r)return r+1;throw"Unknown name at position "+d},C=function(){if(a.charAt(d)!==t.charAt(n))throw"Unexpected literal at position "+d;d++};for(n=0;n<t.length;n++)if(_)"'"!==t.charAt(n)||y("'")?C():_=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",u,f);break;case"o":b=x("o");break;case"m":m=x("m");break;case"M":m=w("M",g,p);break;case"y":h=x("y");break;case"@":h=(s=new Date(x("@"))).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":h=(s=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":y("'")?C():_=!0;break;default:C()}if(d<a.length&&(o=a.substr(d),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=c?0:-100)),b>-1)for(m=1,v=b;;){if(v<=(r=this._getDaysInMonth(h,m-1)))break;m++,v-=r}if((s=this._daylightSavingAdjust(new Date(h,m-1,v))).getFullYear()!==h||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,a){if(!t)return"";var i,n=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,r=(a?a.dayNames:null)||this._defaults.dayNames,o=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,s=(a?a.monthNames:null)||this._defaults.monthNames,d=function(t){var a=i+1<e.length&&e.charAt(i+1)===t;return a&&i++,a},l=function(e,t,a){var i=""+t;if(d(e))for(;i.length<a;)i="0"+i;return i},c=function(e,t,a,i){return d(e)?i[t]:a[t]},u="",f=!1;if(t)for(i=0;i<e.length;i++)if(f)"'"!==e.charAt(i)||d("'")?u+=e.charAt(i):f=!1;else switch(e.charAt(i)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),n,r);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),o,s);break;case"y":u+=d("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":d("'")?u+="'":f=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,a="",i=!1,n=function(a){var i=t+1<e.length&&e.charAt(t+1)===a;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||n("'")?a+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":n("'")?a+="'":i=!0;break;default:a+=e.charAt(t)}return a},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var a=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),r=n,o=this._getFormatConfig(e);try{r=this.parseDate(a,i,o)||n}catch(e){i=t?"":i}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=i?r.getDate():0,e.currentMonth=i?r.getMonth():0,e.currentYear=i?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,a,i){var n=null==a||""===a?i:"string"==typeof a?function(a){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),a,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(a.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=i.getFullYear(),r=i.getMonth(),o=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=s.exec(a);d;){switch(d[2]||"d"){case"d":case"D":o+=parseInt(d[1],10);break;case"w":case"W":o+=7*parseInt(d[1],10);break;case"m":case"M":r+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}d=s.exec(a)}return new Date(n,r,o)}(a):"number"==typeof a?isNaN(a)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(a):new Date(a.getTime());return(n=n&&"Invalid Date"===n.toString()?i:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,a){var i=!t,n=e.selectedMonth,r=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&r===e.selectedYear||a||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var a=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-a,"M")},next:function(){e.datepicker._adjustDate(i,+a,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var a,i,n,r,o,s,d,l,c,u,f,g,p,h,m,v,b,_,y,x,w,C,k,S,T,M,I,A,D,L,E,N,P,j,O,R,F,B,z,U=new Date,H=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),W=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),$=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),X=1!==G[0]||1!==G[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),ee=t.drawMonth-$,te=t.drawYear;if(ee<0&&(ee+=12,te--),Z)for(a=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-G[0]*G[1]+1,Z.getDate())),a=K&&a<K?K:a;this._daylightSavingAdjust(new Date(te,ee,1))>a;)--ee<0&&(ee=11,te--);for(t.drawMonth=ee,t.drawYear=te,i=this._get(t,"prevText"),i=Y?this.formatDate(i,this._daylightSavingAdjust(new Date(te,ee-Q,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,ee)?e("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:i}).append(e("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(W?"e":"w")).text(i))[0].outerHTML:V?"":e("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:i}).append(e("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(W?"e":"w")).text(i))[0].outerHTML,r=this._get(t,"nextText"),r=Y?this.formatDate(r,this._daylightSavingAdjust(new Date(te,ee+Q,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,ee)?e("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:r}).append(e("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(W?"w":"e")).text(r))[0].outerHTML:V?"":e("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:r}).append(e("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(W?"w":"e")).text(r))[0].outerHTML,s=this._get(t,"currentText"),d=this._get(t,"gotoCurrent")&&t.currentDay?J:H,s=Y?this.formatDate(s,d,this._getFormatConfig(t)):s,l="",t.inline||(l=e("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),c="",q&&(c=e("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(W?l:"").append(this._isInRange(t,d)?e("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(s):"").append(W?"":l)[0].outerHTML),u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,f=this._get(t,"showWeek"),g=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),h=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),v=this._get(t,"beforeShowDay"),b=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),x="",C=0;C<G[0];C++){for(k="",this.maxRows=4,S=0;S<G[1];S++){if(T=this._daylightSavingAdjust(new Date(te,ee,t.selectedDay)),M=" ui-corner-all",I="",X){if(I+="<div class='ui-datepicker-group",G[1]>1)switch(S){case 0:I+=" ui-datepicker-group-first",M=" ui-corner-"+(W?"right":"left");break;case G[1]-1:I+=" ui-datepicker-group-last",M=" ui-corner-"+(W?"left":"right");break;default:I+=" ui-datepicker-group-middle",M=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===C?W?o:n:"")+(/all|right/.test(M)&&0===C?W?n:o:"")+this._generateMonthYearHeader(t,ee,te,K,Z,C>0||S>0,h,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=f?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)A+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+g[D=(w+u)%7]+"'>"+p[D]+"</span></th>";for(I+=A+"</tr></thead><tbody>",L=this._getDaysInMonth(te,ee),te===t.selectedYear&&ee===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,L)),E=(this._getFirstDayOfMonth(te,ee)-u+7)%7,N=Math.ceil((E+L)/7),P=X&&this.maxRows>N?this.maxRows:N,this.maxRows=P,j=this._daylightSavingAdjust(new Date(te,ee,1-E)),O=0;O<P;O++){for(I+="<tr>",R=f?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(j)+"</td>":"",w=0;w<7;w++)F=v?v.apply(t.input?t.input[0]:null,[j]):[!0,""],z=(B=j.getMonth()!==ee)&&!_||!F[0]||K&&j<K||Z&&j>Z,R+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(j.getTime()===T.getTime()&&ee===t.selectedMonth&&t._keyEvent||y.getTime()===j.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!b?"":" "+F[1]+(j.getTime()===J.getTime()?" "+this._currentClass:"")+(j.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(B&&!b||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(B&&!b?"&#xa0;":z?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===H.getTime()?" ui-state-highlight":"")+(j.getTime()===J.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#' aria-current='"+(j.getTime()===J.getTime()?"true":"false")+"' data-date='"+j.getDate()+"'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);I+=R+"</tr>"}++ee>11&&(ee=0,te++),k+=I+="</tbody></table>"+(X?"</div>"+(G[0]>0&&S===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}x+=k}return x+=c,t._keyEvent=!1,x},_generateMonthYearHeader:function(e,t,a,i,n,r,o,s){var d,l,c,u,f,g,p,h,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),_=this._get(e,"selectMonthLabel"),y=this._get(e,"selectYearLabel"),x="<div class='ui-datepicker-title'>",w="";if(r||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(d=i&&i.getFullYear()===a,l=n&&n.getFullYear()===a,w+="<select class='ui-datepicker-month' aria-label='"+_+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!d||c>=i.getMonth())&&(!l||c<=n.getMonth())&&(w+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(b||(x+=w+(!r&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)x+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(u=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),p=(g=function(e){var t=e.match(/c[+\-].*/)?a+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t})(u[0]),h=Math.max(p,g(u[1]||"")),p=i?Math.max(p,i.getFullYear()):p,h=n?Math.min(h,n.getFullYear()):h,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+y+"' data-handler='selectYear' data-event='change'>";p<=h;p++)e.yearshtml+="<option value='"+p+"'"+(p===a?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",x+=e.yearshtml,e.yearshtml=null}return x+=this._get(e,"yearSuffix"),b&&(x+=(!r&&m&&v?"":"&#xa0;")+w),x+="</div>"},_adjustInstDate:function(e,t,a){var i=e.selectedYear+("Y"===a?t:0),n=e.selectedMonth+("M"===a?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,n))+("D"===a?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,n,r)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==a&&"Y"!==a||this._notifyChange(e)},_restrictMinMax:function(e,t){var a=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),n=a&&t<a?a:t;return i&&n>i?i:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,a,i){var n=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(a,i+(t<0?t:n[0]*n[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var a,i,n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),o=null,s=null,d=this._get(e,"yearRange");return d&&(a=d.split(":"),i=(new Date).getFullYear(),o=parseInt(a[0],10),s=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(o+=i),a[1].match(/[+\-].*/)&&(s+=i)),(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,a,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,a,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(a)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a))},e.datepicker=new A,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.13.2";e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var N=!1;e(document).on("mouseup",function(){N=!1});e.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(a){if(!0===e.data(a.target,t.widgetName+".preventClickEvent"))return e.removeData(a.target,t.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!N){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var a=this,i=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),N=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,N=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,a,i){var n,r=e.ui[t].prototype;for(n in i)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([a,i[n]])},call:function(e,t,a,i){var n,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<r.length;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,a)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};e.widget("ui.draggable",e.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var a=this.options;return!(this.helper||a.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===a.iframeFix?"iframe":a.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var a=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(a).length||e.ui.safeBlur(a)},_mouseStart:function(t){var a=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var a=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==a._trigger("stop",t)&&a._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var a=this.options,i="function"==typeof a.helper,n=i?e(a.helper.apply(this.element[0],[t])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,a,i,n=this.options,r=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(a=e(n.containment))[0])&&(t=/(scroll|auto)/.test(a.css("overflow")),this.containment=[(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=a)):this.containment=n.containment:this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var a="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*a,left:t.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*a}},_generatePosition:function(e,t){var a,i,n,r,o=this.options,s=this._isRootNode(this.scrollParent[0]),d=e.pageX,l=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),a=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):a=this.containment,e.pageX-this.offset.click.left<a[0]&&(d=a[0]+this.offset.click.left),e.pageY-this.offset.click.top<a[1]&&(l=a[1]+this.offset.click.top),e.pageX-this.offset.click.left>a[2]&&(d=a[2]+this.offset.click.left),e.pageY-this.offset.click.top>a[3]&&(l=a[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=a?n-this.offset.click.top>=a[1]||n-this.offset.click.top>a[3]?n:n-this.offset.click.top>=a[1]?n-o.grid[1]:n+o.grid[1]:n,r=o.grid[0]?this.originalPageX+Math.round((d-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,d=a?r-this.offset.click.left>=a[0]||r-this.offset.click.left>a[2]?r:r-this.offset.click.left>=a[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(d=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,a,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[a,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,a,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,a,i){var n=e.extend({},a,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var a=e(this).sortable("instance");a&&!a.options.disabled&&(i.sortables.push(a),a.refreshPositions(),a._trigger("activate",t,n))})},stop:function(t,a,i){var n=e.extend({},a,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,n))})},drag:function(t,a,i){e.each(i.sortables,function(){var n=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(n=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(n=!1),n})),n?(r.isOver||(r.isOver=1,i._parent=a.helper.parent(),r.currentItem=a.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return a.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",t),i.dropped=r.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(t),a.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),a.helper.appendTo(i._parent),i._refreshOffsets(t),a.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,a,i){var n=e("body"),r=i.options;n.css("cursor")&&(r._cursor=n.css("cursor")),n.css("cursor",r.cursor)},stop:function(t,a,i){var n=i.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,a,i){var n=e(a.helper),r=i.options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(t,a,i){var n=i.options;n._opacity&&e(a.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,a){a.scrollParentNotHidden||(a.scrollParentNotHidden=a.helper.scrollParent(!1)),a.scrollParentNotHidden[0]!==a.document[0]&&"HTML"!==a.scrollParentNotHidden[0].tagName&&(a.overflowOffset=a.scrollParentNotHidden.offset())},drag:function(t,a,i){var n=i.options,r=!1,o=i.scrollParentNotHidden[0],s=i.document[0];o!==s&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=r=o.scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(s).scrollTop()<n.scrollSensitivity?r=e(s).scrollTop(e(s).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<n.scrollSensitivity&&(r=e(s).scrollTop(e(s).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(s).scrollLeft()<n.scrollSensitivity?r=e(s).scrollLeft(e(s).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<n.scrollSensitivity&&(r=e(s).scrollLeft(e(s).scrollLeft()+n.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,a,i){var n=i.options;i.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),a=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:a.top,left:a.left})})},drag:function(t,a,i){var n,r,o,s,d,l,c,u,f,g,p=i.options,h=p.snapTolerance,m=a.offset.left,v=m+i.helperProportions.width,b=a.offset.top,_=b+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=(d=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,u=(c=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<d-h||m>l+h||_<c-h||b>u+h||!e.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(c-_)<=h,r=Math.abs(u-b)<=h,o=Math.abs(d-v)<=h,s=Math.abs(l-m)<=h,n&&(a.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(a.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(a.position.left=i._convertPositionTo("relative",{top:0,left:d-i.helperProportions.width}).left),s&&(a.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),g=n||r||o||s,"outer"!==p.snapMode&&(n=Math.abs(c-b)<=h,r=Math.abs(u-_)<=h,o=Math.abs(d-m)<=h,s=Math.abs(l-v)<=h,n&&(a.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(a.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(a.position.left=i._convertPositionTo("relative",{top:0,left:d}).left),s&&(a.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(n||r||o||s||g)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=n||r||o||s||g)}}),e.ui.plugin.add("draggable","stack",{start:function(t,a,i){var n,r=i.options,o=e.makeArray(e(r.stack)).sort(function(t,a){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(a).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,a,i){var n=e(a.helper),r=i.options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(t,a,i){var n=i.options;n._zIndex&&e(a.helper).css("zIndex",n._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,a){if("hidden"===e(t).css("overflow"))return!1;var i=a&&"left"===a?"scrollLeft":"scrollTop",n=!1;if(t[i]>0)return!0;try{t[i]=1,n=t[i]>0,t[i]=0}catch(e){}return n},_create:function(){var t,a=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),a.autoHide&&e(this.element).on("mouseenter",function(){a.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){a.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,a=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(a(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var t,a,i,n,r,o=this.options,s=this;if(this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this._addedHandles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},a=0;a<i.length;a++)n="ui-resizable-"+(t=String.prototype.trim.call(i[a])),r=e("<div>"),this._addClass(r,"ui-resizable-handle "+n),r.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(r),this._addedHandles=this._addedHandles.add(r));this._renderAxis=function(t){var a,i,n,r;for(a in t=t||this.element,this.handles)this.handles[a].constructor===String?this.handles[a]=this.element.children(this.handles[a]).first().show():(this.handles[a].jquery||this.handles[a].nodeType)&&(this.handles[a]=e(this.handles[a]),this._on(this.handles[a],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[a],this.element),r=/sw|ne|nw|se|n|s/.test(a)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),t.css(n,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[a])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var a,i,n=!1;for(a in this.handles)((i=e(this.handles[a])[0])===t.target||e.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var a,i,n,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),a=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(a+=e(r.containment).scrollLeft()||0,i+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:a,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var a,i,n=this.originalMousePosition,r=this.axis,o=t.pageX-n.left||0,s=t.pageY-n.top||0,d=this._change[r];return this._updatePrevProperties(),!!d&&(a=d.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._updateCache(a),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var a,i,n,r,o,s,d,l=this.options;return this._helper&&(n=(i=(a=this._proportionallyResizeElements).length&&/textarea/i.test(a[0].nodeName))&&this._hasScroll(a[0],"left")?0:this.sizeDiff.height,r=i?0:this.sizeDiff.width,o={width:this.helper.width()-r,height:this.helper.height()-n},s=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,d=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:d,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,a,i,n,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,a=r.maxHeight*this.aspectRatio,n=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),i>r.minHeight&&(r.minHeight=i),a<r.maxWidth&&(r.maxWidth=a),n<r.maxHeight&&(r.maxHeight=n)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,a=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(a.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(a.height-e.height),e.left=t.left+(a.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,a=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,d=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(a),c=/nw|ne|n/.test(a);return r&&(e.width=t.minWidth),o&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),r&&l&&(e.left=s-t.minWidth),i&&l&&(e.left=s-t.maxWidth),o&&c&&(e.top=d-t.minHeight),n&&c&&(e.top=d-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,a=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)a[t]=parseFloat(i[t])||0,a[t]+=parseFloat(n[t])||0;return{height:a[0]+a[2],width:a[1]+a[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,a=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:a.height()-this.outerDimensions.height||0,width:a.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,a=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var a=this.originalSize;return{left:this.originalPosition.left+t,width:a.width-t}},n:function(e,t,a){var i=this.originalSize;return{top:this.originalPosition.top+a,height:i.height-a}},s:function(e,t,a){return{height:this.originalSize.height+a}},se:function(t,a,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,a,i]))},sw:function(t,a,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,a,i]))},ne:function(t,a,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,a,i]))},nw:function(t,a,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,a,i]))}},_propagate:function(t,a){e.ui.plugin.call(this,t,[a,this.ui()]),"resize"!==t&&this._trigger(t,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var a=e(this).resizable("instance"),i=a.options,n=a._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),o=r&&a._hasScroll(n[0],"left")?0:a.sizeDiff.height,s=r?0:a.sizeDiff.width,d={width:a.size.width-s,height:a.size.height-o},l=parseFloat(a.element.css("left"))+(a.position.left-a.originalPosition.left)||null,c=parseFloat(a.element.css("top"))+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(d,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(a.element.css("width")),height:parseFloat(a.element.css("height")),top:parseFloat(a.element.css("top")),left:parseFloat(a.element.css("left"))};n&&n.length&&e(n[0]).css({width:i.width,height:i.height}),a._updateCache(i),a._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,a,i,n,r,o,s,d=e(this).resizable("instance"),l=d.options,c=d.element,u=l.containment,f=u instanceof e?u.get(0):/parent/.test(u)?c.parent().get(0):u;f&&(d.containerElement=e(f),/document/.test(u)||u===document?(d.containerOffset={left:0,top:0},d.containerPosition={left:0,top:0},d.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(f),a=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){a[e]=d._num(t.css("padding"+i))}),d.containerOffset=t.offset(),d.containerPosition=t.position(),d.containerSize={height:t.innerHeight()-a[3],width:t.innerWidth()-a[1]},i=d.containerOffset,n=d.containerSize.height,r=d.containerSize.width,o=d._hasScroll(f,"left")?f.scrollWidth:r,s=d._hasScroll(f)?f.scrollHeight:n,d.parentData={element:f,left:i.left,top:i.top,width:o,height:s}))},resize:function(t){var a,i,n,r,o=e(this).resizable("instance"),s=o.options,d=o.containerOffset,l=o.position,c=o._aspectRatio||t.shiftKey,u={top:0,left:0},f=o.containerElement,g=!0;f[0]!==document&&/static/.test(f.css("position"))&&(u=d),l.left<(o._helper?d.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-d.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,g=!1),o.position.left=s.helper?d.left:0),l.top<(o._helper?d.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-d.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,g=!1),o.position.top=o._helper?d.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),n&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),a=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-d.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-d.top)),a+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-a,c&&(o.size.height=o.size.width/o.aspectRatio,g=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,c&&(o.size.width=o.size.height*o.aspectRatio,g=!1)),g||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),a=t.options,i=t.containerOffset,n=t.containerPosition,r=t.containerElement,o=e(t.helper),s=o.offset(),d=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!a.animate&&/relative/.test(r.css("position"))&&e(this).css({left:s.left-n.left-i.left,width:d,height:l}),t._helper&&!a.animate&&/static/.test(r.css("position"))&&e(this).css({left:s.left-n.left-i.left,width:d,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,a){var i=e(this).resizable("instance"),n=i.options,r=i.originalSize,o=i.originalPosition,s={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),n={},r=t.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var a=(i[t]||0)+(s[t]||0);a&&a>=0&&(n[t]=a||null)}),t.css(n)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),a=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,a=e(this).resizable("instance"),i=a.options,n=a.size,r=a.originalSize,o=a.originalPosition,s=a.axis,d="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=d[0]||1,c=d[1]||1,u=Math.round((n.width-r.width)/l)*l,f=Math.round((n.height-r.height)/c)*c,g=r.width+u,p=r.height+f,h=i.maxWidth&&i.maxWidth<g,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>g,b=i.minHeight&&i.minHeight>p;i.grid=d,v&&(g+=l),b&&(p+=c),h&&(g-=l),m&&(p-=c),/^(se|s|e)$/.test(s)?(a.size.width=g,a.size.height=p):/^(ne)$/.test(s)?(a.size.width=g,a.size.height=p,a.position.top=o.top-f):/^(sw)$/.test(s)?(a.size.width=g,a.size.height=p,a.position.left=o.left-u):((p-c<=0||g-l<=0)&&(t=a._getPaddingPlusBorderDimensions(this)),p-c>0?(a.size.height=p,a.position.top=o.top-f):(p=c-t.height,a.size.height=p,a.position.top=o.top+r.height-p),g-l>0?(a.size.width=g,a.position.left=o.left-u):(g=l-t.width,a.size.width=g,a.position.left=o.left+r.width-g))}});e.ui.resizable;e.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var a=e(this).css(t).offset().top;a<0&&e(this).css("top",t.top-a)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var a=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,a){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),r=Math.max.apply(null,n);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),i=!0),i&&!a&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var a=this.uiDialog.find(":tabbable"),i=a.first(),n=a.last();t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,a=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(a)||Array.isArray(a)&&!a.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(a,function(a,i){var n,r;i="function"==typeof i?{click:i,text:a}:i,i=e.extend({type:"button"},i),n=i.click,r={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,e("<button></button>",i).button(r).appendTo(t.uiButtonSet).on("click",function(){n.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,a=this.options;function i(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,n){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",a,i(n))},drag:function(e,a){t._trigger("drag",e,i(a))},stop:function(n,r){var o=r.offset.left-t.document.scrollLeft(),s=r.offset.top-t.document.scrollTop();a.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",n,i(r))}})},_makeResizable:function(){var t=this,a=this.options,i=a.resizable,n=this.uiDialog.css("position"),r="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,i){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",a,o(i))},resize:function(e,a){t._trigger("resize",e,o(a))},stop:function(i,n){var r=t.uiDialog.offset(),s=r.left-t.document.scrollLeft(),d=r.top-t.document.scrollTop();a.height=t.uiDialog.height(),a.width=t.uiDialog.width(),a.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(d>=0?"+":"")+d,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",i,o(n))}}).css("position",n)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),a=e.inArray(this,t);-1!==a&&t.splice(a,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var a=this,i=!1,n={};e.each(t,function(e,t){a._setOption(e,t),e in a.sizeRelatedOptions&&(i=!0),e in a.resizableRelatedOptions&&(n[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,a){var i,n,r=this.uiDialog;"disabled"!==t&&(this._super(t,a),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=r.is(":data(ui-draggable)"))&&!a&&r.draggable("destroy"),!i&&a&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((n=r.is(":data(ui-resizable)"))&&!a&&r.resizable("destroy"),n&&"string"==typeof a&&r.resizable("option","handles",a),n||!1===a||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,a,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),a="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=e.fn.jquery.substring(0,4),a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(e){if(!a){var i=this._trackingInstances()[0];i._allowInteraction(e)||(e.preventDefault(),i._focusTabbable(),"3.4."!==t&&"3.5."!==t||i._delay(i._restoreTabbableFocus))}}.bind(this)),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});e.ui.dialog;e.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,a=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof a?a:function(e){return e.is(a)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,a){if("accept"===t)this.accept="function"==typeof a?a:function(e){return e.is(a)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(a)}this._super(t,a)},_activate:function(t){var a=e.ui.ddmanager.current;this._addActiveClass(),a&&this._trigger("activate",t,this.ui(a))},_deactivate:function(t){var a=e.ui.ddmanager.current;this._removeActiveClass(),a&&this._trigger("deactivate",t,this.ui(a))},_over:function(t){var a=e.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(a)))},_out:function(t){var a=e.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(a)))},_drop:function(t,a){var i=a||e.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var a=e(this).droppable("instance");if(a.options.greedy&&!a.options.disabled&&a.options.scope===i.options.scope&&a.accept.call(a.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(a,{offset:a.element.offset()}),a.options.tolerance,t))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),e.ui.intersect=function(){function e(e,t,a){return e>=t&&e<t+a}return function(t,a,i,n){if(!a.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,s=r+t.helperProportions.width,d=o+t.helperProportions.height,l=a.offset.left,c=a.offset.top,u=l+a.proportions().width,f=c+a.proportions().height;switch(i){case"fit":return l<=r&&s<=u&&c<=o&&d<=f;case"intersect":return l<r+t.helperProportions.width/2&&s-t.helperProportions.width/2<u&&c<o+t.helperProportions.height/2&&d-t.helperProportions.height/2<f;case"pointer":return e(n.pageY,c,a.proportions().height)&&e(n.pageX,l,a.proportions().width);case"touch":return(o>=c&&o<=f||d>=c&&d<=f||o<c&&d>f)&&(r>=l&&r<=u||s>=l&&s<=u||r<l&&s>u);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,a){var i,n,r=e.ui.ddmanager.droppables[t.options.scope]||[],o=a?a.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<r.length;i++)if(!(r[i].options.disabled||t&&!r[i].accept.call(r[i].element[0],t.currentItem||t.element))){for(n=0;n<s.length;n++)if(s[n]===r[i].element[0]){r[i].proportions().height=0;continue e}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===o&&r[i]._activate.call(r[i],a),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(t,a){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,a)&&(i=this._drop.call(this,a)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,a)))}),i},dragStart:function(t,a){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,a)})},drag:function(t,a){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,a),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,n,r,o=e.ui.intersect(t,this,this.options.tolerance,a),s=!o&&this.isover?"isout":o&&!this.isover?"isover":null;s&&(this.options.greedy&&(n=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n})).length&&((i=e(r[0]).droppable("instance")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,a)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,a),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,a)))}})},dragStop:function(t,a){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,a)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});e.ui.droppable,e.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,a=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(a.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var a=e(this),i=a.offset(),n={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:a,left:n.left,top:n.top,right:n.left+a.outerWidth(),bottom:n.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var a=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(a._removeClass(i.$element,"ui-selected"),i.selected=!1,a._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,a._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,n=e.data(this,"selectable-item");if(n)return i=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),a._removeClass(n.$element,i?"ui-unselecting":"ui-selected")._addClass(n.$element,i?"ui-selecting":"ui-unselecting"),n.unselecting=!i,n.selecting=i,n.selected=i,i?a._trigger("selecting",t,{selecting:n.element}):a._trigger("unselecting",t,{unselecting:n.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var a,i=this,n=this.options,r=this.opos[0],o=this.opos[1],s=t.pageX,d=t.pageY;return r>s&&(a=s,s=r,r=a),o>d&&(a=d,d=o,o=a),this.helper.css({left:r,top:o,width:s-r,height:d-o}),this.selectees.each(function(){var a=e.data(this,"selectable-item"),l=!1,c={};a&&a.element!==i.element[0]&&(c.left=a.left+i.elementPos.left,c.right=a.right+i.elementPos.left,c.top=a.top+i.elementPos.top,c.bottom=a.bottom+i.elementPos.top,"touch"===n.tolerance?l=!(c.left>s||c.right<r||c.top>d||c.bottom<o):"fit"===n.tolerance&&(l=c.left>r&&c.right<s&&c.top>o&&c.bottom<d),l?(a.selected&&(i._removeClass(a.$element,"ui-selected"),a.selected=!1),a.unselecting&&(i._removeClass(a.$element,"ui-unselecting"),a.unselecting=!1),a.selecting||(i._addClass(a.$element,"ui-selecting"),a.selecting=!0,i._trigger("selecting",t,{selecting:a.element}))):(a.selecting&&((t.metaKey||t.ctrlKey)&&a.startselected?(i._removeClass(a.$element,"ui-selecting"),a.selecting=!1,i._addClass(a.$element,"ui-selected"),a.selected=!0):(i._removeClass(a.$element,"ui-selecting"),a.selecting=!1,a.startselected&&(i._addClass(a.$element,"ui-unselecting"),a.unselecting=!0),i._trigger("unselecting",t,{unselecting:a.element}))),a.selected&&(t.metaKey||t.ctrlKey||a.startselected||(i._removeClass(a.$element,"ui-selected"),a.selected=!1,i._addClass(a.$element,"ui-unselecting"),a.unselecting=!0,i._trigger("unselecting",t,{unselecting:a.element})))))}),!1}},_mouseStop:function(t){var a=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");a._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,a._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");a._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,a._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,a=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.trigger("focus"),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a._rendered||a._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,a){e.preventDefault(),t._setSelection(),t._select(a.item.data("ui-selectmenu-item"),e)},focus:function(e,a){var i=a.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var a=e("<span>");return this._setText(a,t.label),this._addClass(a,"ui-selectmenu-text"),a},_renderMenu:function(t,a){var i=this,n="";e.each(a,function(a,r){var o;r.optgroup!==n&&(o=e("<li>",{text:r.optgroup}),i._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(t),n=r.optgroup),i._renderItemData(t,r)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,a){var i=e("<li>"),n=e("<div>",{title:a.element.attr("title")});return a.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(n,a.label),i.append(n).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var a,i,n=".ui-menu-item";this.isOpen?a=this.menuItems.eq(this.focusIndex).parent("li"):(a=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?a["first"===e?"prevAll":"nextAll"](n).eq(-1):a[e+"All"](n).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var a=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),a=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),a=!1}a&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var a=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==a&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var a=this.button.find("span.ui-icon");this._removeClass(a,null,this.options.icons.button)._addClass(a,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var a=this,i=[];t.each(function(t,n){n.hidden||i.push(a._parseOption(e(n),t))}),this.items=i},_parseOption:function(e,t){var a=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,a,i=this.options,n=this.element.find(".ui-slider-handle"),r=[];for(a=i.values&&i.values.length||1,n.length>a&&(n.slice(a).remove(),n=n.slice(0,a)),t=n.length;t<a;t++)r.push("<span tabindex='0'></span>");this.handles=n.add(e(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var a,i,n,r,o,s,d,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),a={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(a),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var a=Math.abs(i-l.values(t));(n>a||n===a&&(t===l._lastChangedValue||l.values(t)===c.min))&&(n=a,r=e(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),d=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=d?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},a=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,a),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,a,i,n,r;return"horizontal"===this.orientation?(t=this.elementSize.width,a=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,a=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=a/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),n=this._valueMax()-this._valueMin(),r=this._valueMin()+i*n,this._trimAlignValue(r)},_uiHash:function(e,t,a){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=a||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,a){var i,n=this.value(),r=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),n=this.values(t),2===this.options.values.length&&!0===this.options.range&&(a=0===t?Math.min(i,a):Math.max(i,a)),r[t]=a),a!==n&&!1!==this._trigger("slide",e,this._uiHash(t,a,r))&&(this._hasMultipleValues()?this.values(t,a):this.value(a))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var a,i,n;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(a=this.options.values,i=arguments[0],n=0;n<a.length;n+=1)a[n]=this._trimAlignValue(i[n]),this._change(null,n);this._refreshValue()},_setOption:function(e,t){var a,i=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(i=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),a=i-1;a>=0;a--)this._change(null,a);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,a,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(a=this.options.values.slice(),i=0;i<a.length;i+=1)a[i]=this._trimAlignValue(a[i]);return a}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,a=(e-this._valueMin())%t,i=e-a;return 2*Math.abs(a)>=t&&(i+=a>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),a=this.options.step;(e=Math.round((e-t)/a)*a+t)>this.options.max&&(e-=a),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),a=t.indexOf(".");return-1===a?0:t.length-a-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,a,i,n,r,o=this.options.range,s=this.options,d=this,l=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){a=(d.values(i)-d._valueMin())/(d._valueMax()-d._valueMin())*100,c["horizontal"===d.orientation?"left":"bottom"]=a+"%",e(this).stop(1,1)[l?"animate":"css"](c,s.animate),!0===d.options.range&&("horizontal"===d.orientation?(0===i&&d.range.stop(1,1)[l?"animate":"css"]({left:a+"%"},s.animate),1===i&&d.range[l?"animate":"css"]({width:a-t+"%"},{queue:!1,duration:s.animate})):(0===i&&d.range.stop(1,1)[l?"animate":"css"]({bottom:a+"%"},s.animate),1===i&&d.range[l?"animate":"css"]({height:a-t+"%"},{queue:!1,duration:s.animate}))),t=a}):(i=this.value(),n=this._valueMin(),r=this._valueMax(),a=r!==n?(i-n)/(r-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=a+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:a+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-a+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:a+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-a+"%"},s.animate))},_handleEvents:{keydown:function(t){var a,i,n,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,r)))return}switch(n=this.options.step,a=i=this._hasMultipleValues()?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(a+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(a-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(a===this._valueMax())return;i=this._trimAlignValue(a+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a===this._valueMin())return;i=this._trimAlignValue(a-n)}this._slide(t,r,i)},keyup:function(t){var a=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,a),this._change(t,a),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,a){return e>=t&&e<t+a},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,a){var i=null,n=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return i=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(i=e(t.target)),!!i&&(!(this.options.handle&&!a&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,a,i){var n,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=e("parent"!==o.appendTo?o.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),e.extend(this.offset,{parent:this._getParentOffset()}),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(e){var t=this.options,a=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),a},_mouseDrag:function(t){var a,i,n,r,o=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},a=this.items.length-1;a>=0;a--)if(n=(i=this.items[a]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===n||e.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],n))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,a){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,a);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var a=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(a).each(function(){var a=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);a&&i.push((t.key||a[1]+"[]")+"="+(t.key&&t.expression?a[1]:a[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var a=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},a.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,a=t+this.helperProportions.width,i=this.positionAbs.top,n=i+this.helperProportions.height,r=e.left,o=r+e.width,s=e.top,d=s+e.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||i+l>s&&i+l<d,f="y"===this.options.axis||t+c>r&&t+c<o,g=u&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?g:r<t+this.helperProportions.width/2&&a-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&n-this.helperProportions.height/2<d},_intersectsWithPointer:function(e){var t,a,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!n)&&(t=this.dragDirection.vertical,a=this.dragDirection.horizontal,this.floating?"right"===a||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this.dragDirection.vertical,n=this.dragDirection.horizontal;return this.floating&&n?"right"===n&&a||"left"===n&&!a:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var a,i,n,r,o=[],s=[],d=this._connectWith();if(d&&t)for(a=d.length-1;a>=0;a--)for(i=(n=e(d[a],this.document[0])).length-1;i>=0;i--)(r=e.data(n[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push(["function"==typeof r.options.items?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function l(){o.push(this)}for(s.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),a=s.length-1;a>=0;a--)s[a][0].each(l);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var a=0;a<t.length;a++)if(t[a]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var a,i,n,r,o,s,d,l,c=this.items,u=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(a=f.length-1;a>=0;a--)for(i=(n=e(f[a],this.document[0])).length-1;i>=0;i--)(r=e.data(n[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push(["function"==typeof r.options.items?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(a=u.length-1;a>=0;a--)for(o=u[a][1],i=0,l=(s=u[a][0]).length;i<l;i++)(d=e(s[i])).data(this.widgetName+"-item",o),c.push({item:d,instance:o,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){var a,i,n,r;for(a=this.items.length-1;a>=0;a--)i=this.items[a],this.currentContainer&&i.instance!==this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),r=n.offset(),i.left=r.left,i.top=r.top)},refreshPositions:function(e){var t,a;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;t>=0;t--)a=this.containers[t].element.offset(),this.containers[t].containerCache.left=a.left,this.containers[t].containerCache.top=a.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(t){var a,i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(a=n.placeholder,i=t.currentItem[0].nodeName.toLowerCase(),n.placeholder={element:function(){var n=e("<"+i+">",t.document[0]);return t._addClass(n,"ui-sortable-placeholder",a||t.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===i?t._createTrPlaceholder(t.currentItem,n):"img"===i&&n.attr("src",t.currentItem.attr("src")),a||n.css("visibility","hidden"),n},update:function(e,r){a&&!n.forcePlaceholderSize||(r.height()&&(!n.forcePlaceholderSize||"tbody"!==i&&"tr"!==i)||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,a){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(a)})},_contactContainers:function(t){var a,i,n,r,o,s,d,l,c,u,f=null,g=null;for(a=this.containers.length-1;a>=0;a--)if(!e.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(f&&e.contains(this.containers[a].element[0],f.element[0]))continue;f=this.containers[a],g=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",t,this._uiHash(this)),this.containers[a].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(n=1e4,r=null,o=(c=f.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",u=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[g].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(d=this.items[i].item.offset()[o],l=!1,t[u]-d>this.items[i][s]/2&&(l=!0),Math.abs(t[u]-d)<n&&(n=Math.abs(t[u]-d),r=this.items[i],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return void(this.currentContainer.containerCache.over||(this.containers[g]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[g].element,!0),this._trigger("change",t,this._uiHash()),this.containers[g]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var a=this.options,i="function"==typeof a.helper?e(a.helper.apply(this.element[0],[t,this.currentItem])):"clone"===a.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||this.appendTo[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!a.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!a.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,a,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],a=e(n.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[a.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,a.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,a){a||(a=this.position);var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:a.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop())*i,left:a.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())*i}},_generatePosition:function(t){var a,i,n=this.options,r=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(a=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?a-this.offset.click.top>=this.containment[1]&&a-this.offset.click.top<=this.containment[3]?a:a-this.offset.click.top>=this.containment[1]?a-n.grid[1]:a+n.grid[1]:a,i=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():d?0:s.scrollLeft())}},_rearrange:function(e,t,a,i){a?a[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var a,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(a in this._storedCSS)"auto"!==this._storedCSS[a]&&"static"!==this._storedCSS[a]||(this._storedCSS[a]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(e,t,a){return function(i){a._trigger(e,i,t._uiHash(t))}}for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),a=this.containers.length-1;a>=0;a--)t||i.push(n("deactivate",this,this.containers[a])),this.containers[a].containerCache.over&&(i.push(n("out",this,this.containers[a])),this.containers[a].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(a=0;a<i.length;a++)i[a].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var a=t||this;return{helper:a.helper,placeholder:a.placeholder||e([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:t?t.element:null}}});function P(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),a=this.element;return e.each(["min","max","step"],function(e,i){var n=a.attr(i);null!=n&&n.length&&(t[i]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(t,a){var i=e.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&a){if(!this.spinning&&!this._start(t))return!1;this._spin((a>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var a;function i(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=a,this._delay(function(){this.previous=a}))}a=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var a=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,a.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-a.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,a){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,a)},e),this._spin(t*this.options.step,a)},_spin:function(e,t){var a=this.value()||0;this.counter||(this.counter=1),a=this._adjustValue(a+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:a})||(this._value(a),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?"function"==typeof t?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),a=t.indexOf(".");return-1===a?0:t.length-a-1},_adjustValue:function(e){var t,a,i=this.options;return a=e-(t=null!==i.min?i.min:0),e=t+(a=Math.round(a/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var a,i,n;if("culture"===e||"numberFormat"===e)return a=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(a));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:P(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var a;""!==e&&null!==(a=this._parse(e))&&(t||(a=this._adjustValue(a)),e=this._format(a)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:P(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:P(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:P(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:P(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());P(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var j;e.ui.spinner;e.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(j=/#.*$/,function(e){var t,a;t=e.href.replace(j,""),a=location.href.replace(j,"");try{t=decodeURIComponent(t)}catch(e){}try{a=decodeURIComponent(a)}catch(e){}return e.hash.length>1&&t===a}),_create:function(){var t=this,a=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,a.collapsible),this._processTabs(),a.active=this._initialActive(),Array.isArray(a.disabled)&&(a.disabled=e.uniqueSort(a.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(a.active):this.active=e(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var t=this.options.active,a=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(a,n){if(e(n).attr("aria-controls")===i)return t=a,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!a&&0),!a&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var a=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(a),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),t.ctrlKey||t.metaKey||(a.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,a){var i=this.tabs.length-1;for(;-1!==e.inArray((t>i&&(t=0),t<0&&(t=i),t),this.options.disabled);)t=a?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,a=this.tablist.children(":has(a[href])");t.disabled=e.map(a.filter(".ui-state-disabled"),function(e){return a.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,a=this.tabs,i=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(a,i){var n,r,o,s=e(i).uniqueId().attr("id"),d=e(i).closest("li"),l=d.attr("aria-controls");t._isLocal(i)?(o=(n=i.hash).substring(1),r=t.element.find(t._sanitizeSelector(n))):(n="#"+(o=d.attr("aria-controls")||e({}).uniqueId()[0].id),(r=t.element.find(n)).length||(r=t._createPanel(o)).insertAfter(t.panels[a-1]||t.tablist),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),l&&d.data("ui-tabs-aria-controls",l),d.attr({"aria-controls":o,"aria-labelledby":s}),r.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),a&&(this._off(a.not(this.tabs)),this._off(i.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var a,i,n;for(Array.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),n=0;i=this.tabs[n];n++)a=e(i),!0===t||-1!==e.inArray(n,t)?(a.attr("aria-disabled","true"),this._addClass(a,null,"ui-state-disabled")):(a.removeAttr("aria-disabled"),this._removeClass(a,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var a={};t&&e.each(t.split(" "),function(e,t){a[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var a,i=this.element.parent();"fill"===t?(a=i.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(a-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,a-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(a=0,this.panels.each(function(){a=Math.max(a,e(this).height("").height())}).height(a))},_eventHandler:function(t){var a=this.options,i=this.active,n=e(t.currentTarget).closest("li"),r=n[0]===i[0],o=r&&a.collapsible,s=o?e():this._getPanelForTab(n),d=i.length?this._getPanelForTab(i):e(),l={oldTab:i,oldPanel:d,newTab:o?e():n,newPanel:s};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!a.collapsible||!1===this._trigger("beforeActivate",t,l)||(a.active=!o&&this.tabs.index(n),this.active=r?e():n,this.xhr&&this.xhr.abort(),d.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(n),t),this._toggle(t,l))},_toggle:function(t,a){var i=this,n=a.newPanel,r=a.oldPanel;function o(){i.running=!1,i._trigger("activate",t,a)}function s(){i._addClass(a.newTab.closest("li"),"ui-tabs-active","ui-state-active"),n.length&&i.options.show?i._show(n,i.options.show,o):(n.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i._removeClass(a.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(a.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),s()),r.attr("aria-hidden","true"),a.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&r.length?a.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false"),a.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var a,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),a=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),a=t.data("ui-tabs-aria-controls");a?t.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var a=this.options.disabled;!1!==a&&(void 0===t?a=!1:(t=this._getIndex(t),a=Array.isArray(a)?e.map(a,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,a){return a!==t?a:null})),this._setOptionDisabled(a))},disable:function(t){var a=this.options.disabled;if(!0!==a){if(void 0===t)a=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,a))return;a=Array.isArray(a)?e.merge([t],a).sort():[t]}this._setOptionDisabled(a)}},load:function(t,a){t=this._getIndex(t);var i=this,n=this.tabs.eq(t),r=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),s={tab:n,panel:o},d=function(e,t){"abort"===t&&i.panels.stop(!1,!0),i._removeClass(n,"ui-tabs-loading"),o.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,a,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),i._trigger("load",a,s),d(n,t)},1)}).fail(function(e,t){setTimeout(function(){d(e,t)},1)})))},_ajaxSettings:function(t,a,i){var n=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,r){return n._trigger("beforeLoad",a,e.extend({jqXHR:t,ajaxSettings:r},i))}}},_getPanelForTab:function(t){var a=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});e.ui.tabs;e.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title");return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var a=(e.attr("aria-describedby")||"").split(/\s+/);a.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",String.prototype.trim.call(a.join(" ")))},_removeDescribedBy:function(t){var a=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(a,i);-1!==n&&i.splice(n,1),t.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,a){var i=this;this._super(t,a),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(a,i){var n=e.Event("blur");n.target=n.currentTarget=i.element[0],t.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var a=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,a.close(t,!0)),i.attr("title")&&(i.uniqueId(),a.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var a,i=this.options.content,n=this,r=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,e,i);(a=i.call(e[0],function(a){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=r),this._open(t,e,a))})}))&&this._open(t,e,a)},_open:function(t,a,i){var n,r,o,s,d=e.extend({},this.options.position);function l(e){d.of=e,r.is(":hidden")||r.position(d)}i&&((n=this._find(a))?n.tooltip.find(".ui-tooltip-content").html(i):(a.is("[title]")&&(t&&"mouseover"===t.type?a.attr("title",""):a.removeAttr("title")),n=this._tooltip(a),r=n.tooltip,this._addDescribedBy(a,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(s=e("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:l}),l(t)):r.position(e.extend({of:a},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(d.of),clearInterval(o))},13)),this._trigger("open",t,{tooltip:r})))},_registerCloseHandlers:function(t,a){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=a[0],this.close(i,!0)}}};a[0]!==this.element[0]&&(i.remove=function(){var e=this._find(a);e&&this._removeTooltip(e.tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,a,i)},close:function(t){var a,i=this,n=e(t?t.currentTarget:this.element),r=this._find(n);r?(a=r.tooltip,r.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),r.hiding=!0,a.stop(!0),this._hide(a,this.options.hide,function(){i._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,a){e(a.element).attr("title",a.title),delete i.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:a}),r.hiding||(r.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(t){var a=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(a),n=a.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(a,"ui-tooltip","ui-widget ui-widget-content"),a.appendTo(this._appendTo(t)),this.tooltips[n]={element:t,tooltip:a}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(a,i){var n=e.Event("blur"),r=i.element;n.target=n.currentTarget=r[0],t.close(n,!0),e("#"+a).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});e.ui.tooltip}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,a){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,a)}function a(e,i,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,a,i){var n=[null];n.push.apply(n,a);var r=new(Function.bind.apply(e,n));return i&&t(r,i.prototype),r}).apply(null,arguments)}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var r=Object.hasOwnProperty,o=Object.setPrototypeOf,s=Object.isFrozen,d=Object.getPrototypeOf,l=Object.getOwnPropertyDescriptor,c=Object.freeze,u=Object.seal,f=Object.create,g="undefined"!=typeof Reflect&&Reflect,p=g.apply,h=g.construct;p||(p=function(e,t,a){return e.apply(t,a)}),c||(c=function(e){return e}),u||(u=function(e){return e}),h||(h=function(e,t){return a(e,i(t))});var m,v=I(Array.prototype.forEach),b=I(Array.prototype.pop),_=I(Array.prototype.push),y=I(String.prototype.toLowerCase),x=I(String.prototype.toString),w=I(String.prototype.match),C=I(String.prototype.replace),k=I(String.prototype.indexOf),S=I(String.prototype.trim),T=I(RegExp.prototype.test),M=(m=TypeError,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return h(m,t)});function I(e){return function(t){for(var a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return p(e,t,i)}}function A(e,t,a){a=a||y,o&&o(e,null);for(var i=t.length;i--;){var n=t[i];if("string"==typeof n){var r=a(n);r!==n&&(s(t)||(t[i]=r),n=r)}e[n]=!0}return e}function D(e){var t,a=f(null);for(t in e)p(r,e,[t])&&(a[t]=e[t]);return a}function L(e,t){for(;null!==e;){var a=l(e,t);if(a){if(a.get)return I(a.get);if("function"==typeof a.value)return I(a.value)}e=d(e)}return function(e){return console.warn("fallback value for",e),null}}var E=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j=c(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),R=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=c(["#text"]),B=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=u(/<%[\w\W]*|[\w\W]*%>/gm),V=u(/\${[\w\W]*}/gm),Y=u(/^data-[\-\w.\u00B7-\uFFFF]/),G=u(/^aria-[\-\w]+$/),$=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=u(/^(?:\w+script|data):/i),X=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=u(/^html$/i);return function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=function(e){return t(e)};if(n.version="2.4.1",n.removed=[],!a||!a.document||9!==a.document.nodeType)return n.isSupported=!1,n;var r=a.document,o=a.document,s=a.DocumentFragment,d=a.HTMLTemplateElement,l=a.Node,u=a.Element,f=a.NodeFilter,g=a.NamedNodeMap,p=void 0===g?a.NamedNodeMap||a.MozNamedAttrMap:g,h=a.HTMLFormElement,m=a.DOMParser,I=a.trustedTypes,K=u.prototype,Z=L(K,"cloneNode"),ee=L(K,"nextSibling"),te=L(K,"childNodes"),ae=L(K,"parentNode");if("function"==typeof d){var ie=o.createElement("template");ie.content&&ie.content.ownerDocument&&(o=ie.content.ownerDocument)}var ne=function(t,a){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var i=null,n="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(n)&&(i=a.currentScript.getAttribute(n));var r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(I,r),re=ne?ne.createHTML(""):"",oe=o,se=oe.implementation,de=oe.createNodeIterator,le=oe.createDocumentFragment,ce=oe.getElementsByTagName,ue=r.importNode,fe={};try{fe=D(o).documentMode?o.documentMode:{}}catch(e){}var ge={};n.isSupported="function"==typeof ae&&se&&void 0!==se.createHTMLDocument&&9!==fe;var pe,he,me=W,ve=q,be=V,_e=Y,ye=G,xe=Q,we=X,Ce=$,ke=null,Se=A({},[].concat(i(E),i(N),i(P),i(O),i(F))),Te=null,Me=A({},[].concat(i(B),i(z),i(U),i(H))),Ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,De=null,Le=!0,Ee=!0,Ne=!1,Pe=!1,je=!1,Oe=!1,Re=!1,Fe=!1,Be=!1,ze=!1,Ue=!0,He=!1,We=!0,qe=!1,Ve={},Ye=null,Ge=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),$e=null,Qe=A({},["audio","video","img","source","image","track"]),Xe=null,Je=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Ze="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,at=!1,it=null,nt=A({},[Ke,Ze,et],x),rt=["application/xhtml+xml","text/html"],ot=null,st=o.createElement("form"),dt=function(e){return e instanceof RegExp||e instanceof Function},lt=function(t){ot&&ot===t||(t&&"object"===e(t)||(t={}),t=D(t),pe=pe=-1===rt.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,he="application/xhtml+xml"===pe?x:y,ke="ALLOWED_TAGS"in t?A({},t.ALLOWED_TAGS,he):Se,Te="ALLOWED_ATTR"in t?A({},t.ALLOWED_ATTR,he):Me,it="ALLOWED_NAMESPACES"in t?A({},t.ALLOWED_NAMESPACES,x):nt,Xe="ADD_URI_SAFE_ATTR"in t?A(D(Je),t.ADD_URI_SAFE_ATTR,he):Je,$e="ADD_DATA_URI_TAGS"in t?A(D(Qe),t.ADD_DATA_URI_TAGS,he):Qe,Ye="FORBID_CONTENTS"in t?A({},t.FORBID_CONTENTS,he):Ge,Ae="FORBID_TAGS"in t?A({},t.FORBID_TAGS,he):{},De="FORBID_ATTR"in t?A({},t.FORBID_ATTR,he):{},Ve="USE_PROFILES"in t&&t.USE_PROFILES,Le=!1!==t.ALLOW_ARIA_ATTR,Ee=!1!==t.ALLOW_DATA_ATTR,Ne=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=t.SAFE_FOR_TEMPLATES||!1,je=t.WHOLE_DOCUMENT||!1,Fe=t.RETURN_DOM||!1,Be=t.RETURN_DOM_FRAGMENT||!1,ze=t.RETURN_TRUSTED_TYPE||!1,Re=t.FORCE_BODY||!1,Ue=!1!==t.SANITIZE_DOM,He=t.SANITIZE_NAMED_PROPS||!1,We=!1!==t.KEEP_CONTENT,qe=t.IN_PLACE||!1,Ce=t.ALLOWED_URI_REGEXP||Ce,tt=t.NAMESPACE||et,t.CUSTOM_ELEMENT_HANDLING&&dt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&dt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ie.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Ee=!1),Be&&(Fe=!0),Ve&&(ke=A({},i(F)),Te=[],!0===Ve.html&&(A(ke,E),A(Te,B)),!0===Ve.svg&&(A(ke,N),A(Te,z),A(Te,H)),!0===Ve.svgFilters&&(A(ke,P),A(Te,z),A(Te,H)),!0===Ve.mathMl&&(A(ke,O),A(Te,U),A(Te,H))),t.ADD_TAGS&&(ke===Se&&(ke=D(ke)),A(ke,t.ADD_TAGS,he)),t.ADD_ATTR&&(Te===Me&&(Te=D(Te)),A(Te,t.ADD_ATTR,he)),t.ADD_URI_SAFE_ATTR&&A(Xe,t.ADD_URI_SAFE_ATTR,he),t.FORBID_CONTENTS&&(Ye===Ge&&(Ye=D(Ye)),A(Ye,t.FORBID_CONTENTS,he)),We&&(ke["#text"]=!0),je&&A(ke,["html","head","body"]),ke.table&&(A(ke,["tbody"]),delete Ae.tbody),c&&c(t),ot=t)},ct=A({},["mi","mo","mn","ms","mtext"]),ut=A({},["foreignobject","desc","title","annotation-xml"]),ft=A({},["title","style","font","a","script"]),gt=A({},N);A(gt,P),A(gt,j);var pt=A({},O);A(pt,R);var ht=function(e){_(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=re}catch(t){e.remove()}}},mt=function(e,t){try{_(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Te[e])if(Fe||Be)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,a;if(Re)e="<remove></remove>"+e;else{var i=w(e,/^[\r\n\t ]+/);a=i&&i[0]}"application/xhtml+xml"===pe&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var n=ne?ne.createHTML(e):e;if(tt===et)try{t=(new m).parseFromString(n,pe)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=at?"":n}catch(e){}}var r=t.body||t.documentElement;return e&&a&&r.insertBefore(o.createTextNode(a),r.childNodes[0]||null),tt===et?ce.call(t,je?"html":"body")[0]:je?t.documentElement:r},bt=function(e){return de.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},_t=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},yt=function(e,t,a){ge[e]&&v(ge[e],function(e){e.call(n,t,a,ot)})},xt=function(e){var t;if(yt("beforeSanitizeElements",e,null),function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)}(e))return ht(e),!0;if(T(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var a=he(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:a,allowedTags:ke}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&T(/<[\/\w]/g,e.innerHTML)&&T(/<[\/\w]/g,e.textContent))return ht(e),!0;if("select"===a&&T(/<template/i,e.innerHTML))return ht(e),!0;if(!ke[a]||Ae[a]){if(!Ae[a]&&Ct(a)){if(Ie.tagNameCheck instanceof RegExp&&T(Ie.tagNameCheck,a))return!1;if(Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(a))return!1}if(We&&!Ye[a]){var i=ae(e)||e.parentNode,r=te(e)||e.childNodes;if(r&&i)for(var o=r.length-1;o>=0;--o)i.insertBefore(Z(r[o],!0),ee(e))}return ht(e),!0}return e instanceof u&&!function(e){var t=ae(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});var a=y(e.tagName),i=y(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===Ze?t.namespaceURI===et?"svg"===a:t.namespaceURI===Ke?"svg"===a&&("annotation-xml"===i||ct[i]):Boolean(gt[a]):e.namespaceURI===Ke?t.namespaceURI===et?"math"===a:t.namespaceURI===Ze?"math"===a&&ut[i]:Boolean(pt[a]):e.namespaceURI===et?!(t.namespaceURI===Ze&&!ut[i])&&!(t.namespaceURI===Ke&&!ct[i])&&!pt[a]&&(ft[a]||!gt[a]):!("application/xhtml+xml"!==pe||!it[e.namespaceURI]))}(e)?(ht(e),!0):"noscript"!==a&&"noembed"!==a||!T(/<\/no(script|embed)/i,e.innerHTML)?(Pe&&3===e.nodeType&&(t=e.textContent,t=C(t,me," "),t=C(t,ve," "),t=C(t,be," "),e.textContent!==t&&(_(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt("afterSanitizeElements",e,null),!1):(ht(e),!0)},wt=function(e,t,a){if(Ue&&("id"===t||"name"===t)&&(a in o||a in st))return!1;if(Ee&&!De[t]&&T(_e,t));else if(Le&&T(ye,t));else if(!Te[t]||De[t]){if(!(Ct(e)&&(Ie.tagNameCheck instanceof RegExp&&T(Ie.tagNameCheck,e)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(e))&&(Ie.attributeNameCheck instanceof RegExp&&T(Ie.attributeNameCheck,t)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(t))||"is"===t&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&T(Ie.tagNameCheck,a)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(a))))return!1}else if(Xe[t]);else if(T(Ce,C(a,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==k(a,"data:")||!$e[e])if(Ne&&!T(xe,C(a,we,"")));else if(a)return!1;return!0},Ct=function(e){return e.indexOf("-")>0},kt=function(t){var a,i,r,o;yt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te};for(o=s.length;o--;){var l=a=s[o],c=l.name,u=l.namespaceURI;if(i="value"===c?a.value:S(a.value),r=he(c),d.attrName=r,d.attrValue=i,d.keepAttr=!0,d.forceKeepAttr=void 0,yt("uponSanitizeAttribute",t,d),i=d.attrValue,!d.forceKeepAttr&&(mt(c,t),d.keepAttr))if(T(/\/>/i,i))mt(c,t);else{Pe&&(i=C(i,me," "),i=C(i,ve," "),i=C(i,be," "));var f=he(t.nodeName);if(wt(f,r,i)){if(!He||"id"!==r&&"name"!==r||(mt(c,t),i="user-content-"+i),ne&&"object"===e(I)&&"function"==typeof I.getAttributeType)if(u);else switch(I.getAttributeType(f,r)){case"TrustedHTML":i=ne.createHTML(i);break;case"TrustedScriptURL":i=ne.createScriptURL(i)}try{u?t.setAttributeNS(u,c,i):t.setAttribute(c,i),b(n.removed)}catch(e){}}}}yt("afterSanitizeAttributes",t,null)}},St=function e(t){var a,i=bt(t);for(yt("beforeSanitizeShadowDOM",t,null);a=i.nextNode();)yt("uponSanitizeShadowNode",a,null),xt(a)||(a.content instanceof s&&e(a.content),kt(a));yt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(t){var i,o,d,c,u,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((at=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!_t(t)){if("function"!=typeof t.toString)throw M("toString is not a function");if("string"!=typeof(t=t.toString()))throw M("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof t)return a.toStaticHTML(t);if(_t(t))return a.toStaticHTML(t.outerHTML)}return t}if(Oe||lt(f),n.removed=[],"string"==typeof t&&(qe=!1),qe){if(t.nodeName){var g=he(t.nodeName);if(!ke[g]||Ae[g])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof l)1===(o=(i=vt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!Fe&&!Pe&&!je&&-1===t.indexOf("<"))return ne&&ze?ne.createHTML(t):t;if(!(i=vt(t)))return Fe?null:ze?re:""}i&&Re&&ht(i.firstChild);for(var p=bt(qe?t:i);d=p.nextNode();)3===d.nodeType&&d===c||xt(d)||(d.content instanceof s&&St(d.content),kt(d),c=d);if(c=null,qe)return t;if(Fe){if(Be)for(u=le.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return Te.shadowroot&&(u=ue.call(r,u,!0)),u}var h=je?i.outerHTML:i.innerHTML;return je&&ke["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&T(J,i.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+h),Pe&&(h=C(h,me," "),h=C(h,ve," "),h=C(h,be," ")),ne&&ze?ne.createHTML(h):h},n.setConfig=function(e){lt(e),Oe=!0},n.clearConfig=function(){ot=null,Oe=!1},n.isValidAttribute=function(e,t,a){ot||lt({});var i=he(e),n=he(t);return wt(i,n,a)},n.addHook=function(e,t){"function"==typeof t&&(ge[e]=ge[e]||[],_(ge[e],t))},n.removeHook=function(e){if(ge[e])return b(ge[e])},n.removeHooks=function(e){ge[e]&&(ge[e]=[])},n.removeAllHooks=function(){ge={}},n}()}),function(e,t){if(e){var a={},i=e.TraceKit,n=[].slice,r="?",o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;a.noConflict=function(){return e.TraceKit=i,a},a.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw a.report(e),e}}},a.report=function(){var t,i,n,r,d=[],l=null,c=null;function u(e,t,i){var n=null;if(!t||a.collectWindowErrors){for(var r in d)if(s(d,r))try{d[r](e,t,i)}catch(e){n=e}if(n)throw n}}function f(e,i,n,r,s){if(c)a.computeStackTrace.augmentStackTraceWithInitialElement(c,i,n,e),p();else if(s)u(a.computeStackTrace(s),!0,s);else{var d,l={url:i,line:n,column:r},f=e;if("[object String]"==={}.toString.call(e)){var g=e.match(o);g&&(d=g[1],f=g[2])}l.func=a.computeStackTrace.guessFunctionName(l.url,l.line),l.context=a.computeStackTrace.gatherContext(l.url,l.line),u({name:d,message:f,mode:"onerror",stack:[l]},!0,null)}return!!t&&t.apply(this,arguments)}function g(e){u(a.computeStackTrace(e.reason),!0,e.reason)}function p(){var e=c,t=l;c=null,l=null,u(e,!1,t)}function h(e){if(c){if(l===e)return;p()}var t=a.computeStackTrace(e);throw c=t,l=e,setTimeout(function(){l===e&&p()},t.incomplete?2e3:0),e}return h.subscribe=function(a){!0!==i&&(t=e.onerror,e.onerror=f,i=!0),!0!==r&&(n=e.onunhandledrejection,e.onunhandledrejection=g,r=!0),d.push(a)},h.unsubscribe=function(a){for(var o=d.length-1;o>=0;--o)d[o]===a&&d.splice(o,1);0===d.length&&(i&&(e.onerror=t,i=!1),r&&(e.onunhandledrejection=n,r=!1))},h}(),a.computeStackTrace=function(){var t=!1,i={};function n(t){if("string"!=typeof t)return[];if(!s(i,t)){var n="",r="";try{r=e.document.domain}catch(e){}var o=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(t);o&&o[2]===r&&(n=function(t){if(!a.remoteFetching)return"";try{var i=function(){try{return new e.XMLHttpRequest}catch(t){return new e.ActiveXObject("Microsoft.XMLHTTP")}}();return i.open("GET",t,!1),i.send(""),i.responseText}catch(e){return""}}(t)),i[t]=n?n.split("\n"):[]}return i[t]}function o(e,t){var a,i=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",l=n(e);if(!l.length)return r;for(var c=0;c<10;++c)if(!d(s=l[t-c]+s)){if(a=o.exec(s))return a[1];if(a=i.exec(s))return a[1]}return r}function l(e,t){var i=n(e);if(!i.length)return null;var r=[],o=Math.floor(a.linesOfContext/2),s=o+a.linesOfContext%2,l=Math.max(0,t-o-1),c=Math.min(i.length,t+s-1);t-=1;for(var u=l;u<c;++u)d(i[u])||r.push(i[u]);return r.length>0?r:null}function c(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function u(e){return c(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,t){for(var a,i,r=0,o=t.length;r<o;++r)if((a=n(t[r])).length&&(a=a.join("\n"),i=e.exec(a)))return{url:t[r],line:a.substring(0,i.index).split("\n").length,column:i.index-a.lastIndexOf("\n",i.index)-1};return null}function g(e,t,a){var i,r=n(t),o=new RegExp("\\b"+c(e)+"\\b");return a-=1,r&&r.length>a&&(i=o.exec(r[a]))?i.index:null}function p(t){if(!d(e&&e.document)){for(var a,i,n,r,o=[e.location.href],s=e.document.getElementsByTagName("script"),l=""+t,g=0;g<s.length;++g){var p=s[g];p.src&&o.push(p.src)}if(n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(l)){var h=n[1]?"\\s+"+n[1]:"",m=n[2].split(",").join("\\s*,\\s*");a=c(n[3]).replace(/;$/,";?"),i=new RegExp("function"+h+"\\s*\\(\\s*"+m+"\\s*\\)\\s*{\\s*"+a+"\\s*}")}else i=new RegExp(c(l).replace(/\s+/g,"\\s+"));if(r=f(i,o))return r;if(n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(l)){var v=n[1];if(a=u(n[2]),r=f(i=new RegExp("on"+v+"=[\\'\"]\\s*"+a+"\\s*[\\'\"]","i"),o[0]))return r;if(r=f(i=new RegExp(a),o))return r}return null}}function h(e){if(!e.stack)return null;for(var t,a,i,n=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=e.stack.split("\n"),h=[],m=/^(.*) is undefined$/.exec(e.message),v=0,b=p.length;v<b;++v){if(a=n.exec(p[v])){var _=a[2]&&0===a[2].indexOf("native");a[2]&&0===a[2].indexOf("eval")&&(t=f.exec(a[2]))&&(a[2]=t[1],a[3]=t[2],a[4]=t[3]),i={url:_?null:a[2],func:a[1]||r,args:_?[a[2]]:[],line:a[3]?+a[3]:null,column:a[4]?+a[4]:null}}else if(a=c.exec(p[v]))i={url:a[2],func:a[1]||r,args:[],line:+a[3],column:a[4]?+a[4]:null};else{if(!(a=s.exec(p[v])))continue;a[3]&&a[3].indexOf(" > eval")>-1&&(t=u.exec(a[3]))?(a[3]=t[1],a[4]=t[2],a[5]=null):0!==v||a[5]||d(e.columnNumber)||(h[0].column=e.columnNumber+1),i={url:a[3],func:a[1]||r,args:a[2]?a[2].split(","):[],line:a[4]?+a[4]:null,column:a[5]?+a[5]:null}}!i.func&&i.line&&(i.func=o(i.url,i.line)),i.context=i.line?l(i.url,i.line):null,h.push(i)}return h.length?(h[0]&&h[0].line&&!h[0].column&&m&&(h[0].column=g(m[1],h[0].url,h[0].line)),{mode:"stack",name:e.name,message:e.message,stack:h}):null}function m(e,t,a,i){var n={url:t,line:a};if(n.url&&n.line){e.incomplete=!1,n.func||(n.func=o(n.url,n.line)),n.context||(n.context=l(n.url,n.line));var r=/ '([^']+)' /.exec(i);if(r&&(n.column=g(r[1],n.url,n.line)),e.stack.length>0&&e.stack[0].url===n.url){if(e.stack[0].line===n.line)return!1;if(!e.stack[0].line&&e.stack[0].func===n.func)return e.stack[0].line=n.line,e.stack[0].context=n.context,!1}return e.stack.unshift(n),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,t){for(var i,n,s,d=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],c={},u=!1,f=v.caller;f&&!u;f=f.caller)if(f!==b&&f!==a.report){if(n={url:null,func:r,args:[],line:null,column:null},f.name?n.func=f.name:(i=d.exec(f.toString()))&&(n.func=i[1]),void 0===n.func)try{n.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}if(s=p(f)){n.url=s.url,n.line=s.line,n.func===r&&(n.func=o(n.url,n.line));var h=/ '([^']+)' /.exec(e.message||e.description);h&&(n.column=g(h[1],s.url,s.line))}c[""+f]?u=!0:c[""+f]=!0,l.push(n)}t&&l.splice(0,t);var _={mode:"callers",name:e.name,message:e.message,stack:l};return m(_,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),_}function b(a,i){var r=null;i=null==i?0:+i;try{if(r=function(e){var t=e.stacktrace;if(t){for(var a,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,r=t.split("\n"),s=[],d=0;d<r.length;d+=2){var c=null;if((a=i.exec(r[d]))?c={url:a[2],line:+a[1],column:null,func:a[3],args:[]}:(a=n.exec(r[d]))&&(c={url:a[6],line:+a[1],column:+a[2],func:a[3]||a[4],args:a[5]?a[5].split(","):[]}),c){if(!c.func&&c.line&&(c.func=o(c.url,c.line)),c.line)try{c.context=l(c.url,c.line)}catch(e){}c.context||(c.context=[r[d+1]]),s.push(c)}}return s.length?{mode:"stacktrace",name:e.name,message:e.message,stack:s}:null}}(a))return r}catch(e){if(t)throw e}try{if(r=h(a))return r}catch(e){if(t)throw e}try{if(r=function(t){var a=t.message.split("\n");if(a.length<4)return null;var i,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of function script\s*$/i,g=[],p=e&&e.document&&e.document.getElementsByTagName("script"),h=[];for(var m in p)s(p,m)&&!p[m].src&&h.push(p[m]);for(var v=2;v<a.length;v+=2){var b=null;if(i=r.exec(a[v]))b={url:i[2],func:i[3],args:[],line:+i[1],column:null};else if(i=d.exec(a[v])){b={url:i[3],func:i[4],args:[],line:+i[1],column:null};var _=+i[1],y=h[i[2]-1];if(y){var x=n(b.url);if(x){var w=(x=x.join("\n")).indexOf(y.innerText);w>=0&&(b.line=_+x.substring(0,w).split("\n").length)}}}else if(i=c.exec(a[v])){var C=e.location.href.replace(/#.*$/,""),k=f(new RegExp(u(a[v+1])),[C]);b={url:C,func:"",args:[],line:k?k.line:i[1],column:null}}if(b){b.func||(b.func=o(b.url,b.line));var S=l(b.url,b.line),T=S?S[Math.floor(S.length/2)]:null;S&&T.replace(/^\s*/,"")===a[v+1].replace(/^\s*/,"")?b.context=S:b.context=[a[v+1]],g.push(b)}}return g.length?{mode:"multiline",name:t.name,message:a[0],stack:g}:null}(a))return r}catch(e){if(t)throw e}try{if(r=v(a,i+1))return r}catch(e){if(t)throw e}return{name:a.name,message:a.message,mode:"failed"}}return b.augmentStackTraceWithInitialElement=m,b.computeStackTraceFromStackProp=h,b.guessFunctionName=o,b.gatherContext=l,b.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(t){return b(t,e+1)}},b.getSource=n,b}(),a.extendToAsynchronousCallbacks=function(){var t=function(t){var i=e[t];e[t]=function(){var e=n.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=a.wrap(t)),i.apply?i.apply(this,e):i(e[0],e[1])}};t("setTimeout"),t("setInterval")},a.remoteFetching||(a.remoteFetching=!0),a.collectWindowErrors||(a.collectWindowErrors=!0),(!a.linesOfContext||a.linesOfContext<1)&&(a.linesOfContext=11),"function"==typeof define&&define.amd?define("TraceKit",[],a):"undefined"!=typeof module&&module.exports&&e.module!==module?module.exports=a:e.TraceKit=a}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){return void 0===e}}("undefined"!=typeof window?window:global);var openSesame=function(e){var t=e.compiled;cf.uuid=cf.storage("uuid"),t&&cf&&cf.storage&&cf.storage("settings-compiled")&&cf.storage("settings-compiled")!==t?cf.storageReset().finally(function(){cf.uuid&&cf.storage("uuid",cf.uuid),openSesameComplete(e)}):openSesameComplete(e)},openSesameComplete=function(e){e=e.types||e;var t=[],a=e.compiled;cf.storageCleanout(),cf.gbl.uid=e.uid,cf.gbl.loggedIn=e.loggedIn,cf.settings.preflighted=e.pfc||0,cf.settings.runtime={perf:0,browserpush:0,verbosity:0,reportcrashes:1,strict:0,debug:{}},e.wss&&(cf.settings.runtime.wssurl=e.wss),cf.uuid=cf.storage("uuid"),cf.tabuuid=cf.get("guid").rfc4122(),cf.uuid||(cf.uuid=cf.get("guid").rfc4122(),cf.storage("uuid",cf.uuid));var i=2,n=function(){0==--i&&(!window._cf.pre&&(window._cf.pre=Date.now()),cf.init("pre"),t.length?cf.xdsbuild({xds:{xds:{id:"__autoinclude",_import:t.join(",")}},func:r}):r())},r=function(){cf.unsupported||(cf.notif.init(),_$(cf.gbl.page).on("xds-loaded",function e(t){cf.bootstrapped=!0,$("body").addClass("cf-bootstrapped"),cf.init(),cf.init("after"),_$(this).off("xds-loaded",e)}),cf.history.boot())},o=function(t){if(cf.settings.dev=e.dev,cf.settings.dev&&(cf.settings.apache=!1,cf.settings.compiled=parseInt(Date.now()/1e3)),t&&t.slices&&t.slices.length>0&&t.slices[0].data){if(t.slices[0].data.cdn&&t.slices[0].data.cdn.img&&(cf.settings.cdn=t.slices[0].data.cdn),t.slices[0].data.cdnoverride&&(cf.settings.cdnoverride=t.slices[0].data.cdnoverride,cf.settings.cdn&&cf.settings.cdnoverride.code&&(cf.settings.cdn.code="https://".concat(cf.settings.cdnoverride.code,"/static/compiled/"))),cf.settings.cdnoverride&&cf.settings.cdn&&cf.settings.cdn.img&&cf.settings.cdnoverride.img){var i=document.createElement("a");i.setAttribute("href",cf.settings.cdn.img),cf.settings.cdnoverride.img.indexOf("/")>=0?i.setAttribute("href",cf.settings.cdnoverride.img):i.host=cf.settings.cdnoverride.img,cf.settings.cdn.img=i.href}cf.settings.types=t.slices[0].data.types}cf.opts.cacheSlices&&(t.compiled=a,cf.localStorage("xds-bootstrap",t)),cf.notif.processBootstrap(t),n()},s=!1;if(cf.opts.cacheSlices&&(s=cf.localStorage("xds-bootstrap")),s&&s.compiled===a&&s.slices&&e.version===s.slices[0].version)o(s);else{var d=("undefined"!=typeof cfNative?cfNative.server:"undefined"!=typeof CoreMobile?CoreMobile.protocol+CoreMobile.host:location.protocol+"//"+location.host)+"/core/node.json/",l=cf.storage("xds-bootstrap-inval");l||(l=(new Date).getTime(),cf.storage("xds-bootstrap-inval",l)),cf.ajax({url:d+"?xds=bootstrap&_inval=".concat(l),callback:o})}$(function(){var e=function e(){$(this).css({outline:""}),$(this).off("blur",e)};cf.pageListen({trigger:"click",priority:1},function(t){var a=$(document.activeElement);if(a.css({outline:"none"}),a.on("blur",e),!t.ctrlKey&&!t.shiftKey&&!t.metaKey){var i=$(t.target),n=i.is("a")?i:i.parents("a");n.length&&cf.links.handleClick(n)&&t.preventDefault()}}),cf.pageListen({trigger:"ajax_post_fail",source:window},function(e,t){t&&!t.messagevisible&&cf.errors.displayError(cf.errors.handleResponseError(cf.handleResponse(t)))}),cf.pageListen({trigger:"keydown",priority:1},function(e){switch(e.keyCode){case 68:e.altKey&&e.shiftKey&&e.ctrlKey&&cf.loadDebugger();break;case 76:if(e.altKey&&e.shiftKey&&e.ctrlKey){var t={settings:cf.settings};cf.notif&&(t.notif=cf.notif.state()),cf.prompt(cf.lang("Please provide a problem description")).then(function(e){cf.diagnosticMessage({name:"User-Submitted Report",message:e,code:cf.log.E_USERREPORT,aux:JSON.stringify(t)})},function(){})}break;case 27:cf.document.trigger("xds-esc",e)}}),cf.pageListen({trigger:"mousemove",priority:100},function(e){cf.memory.mousePosition={x:e.pageX,y:e.pageY}}),cf.pageListen({trigger:"copy"},function(e){var t=document.createElement("div");t.innerHTML=cf.selectedText();var a=t.querySelectorAll(cf.$css.link),i=a.length;function n(e){var t=e.innerHTML;(e=document.getElementById(e.id))&&(e.innerHTML=e.href,setTimeout(function(){e.innerHTML=t}))}for(;i--;)n(a[i])}),cf.init(function(){if(("1"==cf.user.debug||cf.links.queryParams()._debug)&&cf.loadDebugger(),"undefined"==typeof ielte9&&void 0!==("undefined"==typeof JSON?"undefined":_typeof(JSON))){try{localStorage.setItem("cf-private",JSON.stringify(1)),JSON.parse(localStorage.getItem("cf-private"))}catch(e){cf.dialog(cf.lang('Edsby has detected that you are in "Private Browsing" mode. Usage of Edsby in this mode will have poor or unexpected behaviour.<br> <a href="http://support.apple.com/kb/HT1677" target="_blank">Click here to learn how to turn private browsing off.</a>'))}var e=cf.settings.modules;for(var a in e)4&e[a]&&(cf.get_module(a)?cf.resources.modules[a]=e[a]:t.push(a))}else cf.unsupported=!0,$(cf.gbl.page).addClass("notsupported"),7===document.documentMode&&$(cf.gbl.page).append('<h1 style="text-align:center"> It looks like you are in "compatibility mode". Please turn off compatibility mode in order to use Edsby.</h1>')},"pre"),n()})};function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e="undefined"==typeof window?{}:window,t="undefined"==typeof document?{}:document,a="undefined"==typeof window,i={modules:{},moduleAlias:{},modulestack:{},resources:{}},n=Symbol("isProxy"),r=Symbol("cloneProxy"),o=Symbol("resetProxy"),s={opts:{cacheSlices:!!window.EdsbyReactBridge},regex:{mlescape:/('|"|<|>|&)/,classFromPath:/(^#[0-9]+)|(^[0-9]+)|(-[0-9]+)/g,addClass:/\./g,tpl_start:/\{/g,tpl_end:/\}/g,url:/(\b(https?|ftp|file):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;]*[\-A-Z0-9+&@#\/%=~_|])/gi,tpl:/\{\{[A-z-.:+]*\}\}/gi,email:/^([a-zA-Z0-9_.\-])+@(([a-zA-Z0-9\-])+.)+([a-zA-Z0-9]{2,4})+$/,script:/<script/gi,inlineEvents:/<([A-z]+[^("'>)]*)(\s+)on([A-z]+(\s|))=([^>]*)>/gi},noop:function(){},initSettings:function(e){for(var t in s.settings||(s.settings={}),e)s.settings[t]=e[t]},updatePlatform:function(e){s.platform={};var t=s.settings.types.cd;for(var a in t)e&t[a]&&(s.platform[a.toLowerCase()]=!0);void 0===window.cfNative&&void 0===window.EdsbyReactBridge||(s.platform.native=!0,void 0!==window.EdsbyReactBridge?s.settings.runtime.native="react":s.settings.runtime.native="cordova"),void 0!==window.EdsbyReactBridge&&window.EdsbyReactBridge.device&&window.EdsbyReactBridge.device.platform&&(s.platform[window.EdsbyReactBridge.device.platform]=!0),s.platform.touch="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,s.platform.os={};var i=$("body");for(var n in-1!=navigator.appVersion.indexOf("Win")&&(s.platform.os.win=!0),-1!=navigator.appVersion.indexOf("Mac")&&(s.platform.os.mac=!0),-1!=navigator.appVersion.indexOf("X11")&&(s.platform.os.unix=!0),-1!=navigator.appVersion.indexOf("Linux")&&(s.platform.os.linux=!0),-1!==navigator.appVersion.indexOf("Edsby")&&s.platform.os.mac&&s.platform.touch&&(s.platform.ipad=!0),s.platform.os.linux&&s.platform.phone&&(s.platform.android=!0),s.platform.os)i.addClass("x-cf-platform-os-".concat(n))},is_repeat:function(e,t){return!(!t||!1===e._r||!1===t._r||void 0===e._r&&!s.is_arr(t))},is_num:function(e){return"number"==typeof e},is_bool:function(e){return"boolean"==typeof e},is_str:function(e){return"string"==typeof e},is_obj:function(e){return!("object"!==_typeof(e)||null===e||"[object Array]"===Object.prototype.toString.apply(e))},is_func:function(e){return"function"==typeof e},is_arr:function(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.apply(e)},in_array:function(e,t){return s.is_arr(t)?t.indexOf(e):-1},is_child:function(e,t){var a;return null!==(a=e.match(/(.*)-wrap$/))&&(e=a[1]),-1!==(s.classFromPath(t)+"-").indexOf(e+"-")},extend:function(){var e=function(e,t){for(var a in t)e[a]=t[a];return e};e.fn=function(e,a){t("fn",e,a)},e.type=function(e,a){t("type",e,a)};var t=function(e,t,a){var i=s.extend;void 0===i[e].extend&&(i[e].extend={});var n,r=function(t,a){var n="type"===e?s.get_type(t):s.get_func(t);a.orig=n,i[e].extend[t]=a};if(t)if(s.is_obj(t))for(n in t)r(n,t[n]);else r(t,a)};return e}(),lang:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],!1!==t&&void 0!==t||(t=s.settings.constants.lang.tags.web),void 0!==e){var a=!1;if(s.language){var i=s.language[t];i&&(a=i[e])}return!1!==a&&void 0!==a||(a=e),a}},sha1:function(e){var t=s.get_module("crypt").SHA1();return t.Update(e),t.Final(),t.ResultStr()},clone:function(e){return JSON.parse(JSON.stringify(e))},reset_proxy:function(e){e[n]&&e[o]},proxy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?e[n]?e[r]:new Proxy(e,{get:function(a,i,d){return i===n||(i===r?s.proxy(e):i===o?(t={},!0):t.hasOwnProperty(i)?t[i]:null===a[i]||void 0===a[i]?a[i]:"object"===_typeof(a[i])?(t[i]=s.proxy(a[i]),t[i]):a[i])},set:function(e,a,i){return t[a]=i,!0}}):void 0},sanitize:function(e){var t=(e=e.replace(d.script,"&lt;script")).match(d.inlineEvents);return e=function(e,t){if(t&&t.length)for(var a;a=t.pop();)e=e.replace(a,a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));return e}(e,t),s.stripzalgo(e)},obj_to_arr:function(e){if(s.is_arr(e))return e;var t,a=[];for(t in e)e.hasOwnProperty(t)&&a.push(e[t]);return a},arr_to_obj:function(e){if(s.is_arr(e)){for(var t={},a=e.length,i=0;i<a;i++)t[i]=e[i];return t}return e},reverse:function(e){return s.obj_to_arr(e).reverse()},nl2br:function(e){return s.is_str(e)?e.replace(/\n/g,"\n<br>"):e},nl2br2:function(e){return s.is_str(e)?e.replace(/\n/g,"<br>"):e},is_json:function(e){if("string"==typeof e&&(e.startsWith("[")||e.startsWith("{")))try{return JSON.parse(e)}catch(e){return!1}return!1},richCode:"\x3c!--xdl-rich--\x3e",is_rich:function(e){var t=s.richCode;return"string"==typeof e&&e.substr(0,t.length)===t},unicodedecode:function(e){return unescape(JSON.parse('"'.concat(e,'"')))},stripzalgo:function(e){return s.browser.firefox?e:e.replace(/([aeiouy]\u0308)|[\u0300-\u036f\u0489]/gi,"$1")},mlescape:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"!=typeof e||!d.mlescape.test(e))return e;e=e.replace(/&(?!(quot;|apos;|amp;|lt;|gt;))/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");var a={BR:{open:{test:/<br(\/|)>/g,placeholder:"{{BR}}",placeholdertest:/\{\{BR\}\}/g,sanitizedTag:"<br/>"}},B:{open:{test:/<b>/g,placeholder:"{{B_O}}",placeholdertest:/\{\{B_O\}\}/g,sanitizedTag:"<b>"},close:{test:/<\/b>/g,placeholder:"{{B_C}}",placeholdertest:/\{\{B_C\}\}/g,sanitizedTag:"</b>"}},U:{open:{test:/<u>/g,placeholder:"{{U_O}}",placeholdertest:/\{\{U_O\}\}/g,sanitizedTag:"<u>"},close:{test:/<\/u>/g,placeholder:"{{U_C}}",placeholdertest:/\{\{U_C\}\}/g,sanitizedTag:"</u>"}},I:{open:{test:/<i>/g,placeholder:"{{I_O}}",placeholdertest:/\{\{I_O\}\}/g,sanitizedTag:"<i>"},close:{test:/<\/i>/g,placeholder:"{{I_C}}",placeholdertest:/\{\{I_C\}\}/g,sanitizedTag:"</i>"}}};if(/<|>/.test(e)){for(var i=e.match(/<(b|u|i)>/g)||[],n=e.match(/<\/(b|u|i)>/g)||[],r=i.length;r--;){var o=i[r].substr(1,1),s=n.indexOf("</"+o+">");-1===s?e+="</"+o+">":n[s]=1}var l=function(e){return!!(t&&Array.isArray(t)&&t.includes(e))||!t},c=function(e,t){var i=a[t],n=e;for(var r in i)n=n.replace(i[r].test,i[r].placeholder);return n},u=function(e,t){var i=a[t],n=e;for(var r in i)n=n.replace(i[r].placeholdertest,i[r].sanitizedTag);return n};if(!t||Array.isArray(t))for(var f in a)t&&!l(f)||(e=c(e,f));if(e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;"),!t||Array.isArray(t))for(var g in a)t&&!l(g)||(e=u(e,g))}return e},mlunescape:function(){var e={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:'"'};function t(t){var a,i;return i=t.substr(1,t.length-2).toLowerCase(),void 0!==(a=e[i])?a:"#"!==i.charAt(0)||(a="x"===i.charAt(1)?parseInt(i.substr(2),16):parseInt(i.substr(1),10),isNaN(a))?t:String.fromCharCode(a)}return function(e){if("string"==typeof e)return e.replace(/&(#(((x|X)[a-fA-f0-9]+)|[0-9]+)|[a-zA-Z]+);/g,t);if(["boolean","number"].includes(_typeof(e)))return e;throw new Error("cf.mlunescape: received unexpected data type(".concat(_typeof(e),")"))}}(),focus:function(e){if(s.is_xdo(e))s.log.info({name:"cf.focus",message:"focusing xdo",body:e.id()}),e.dom().focus(),s.state._lastActiveElement=e.id();else if(e instanceof HTMLElement)s.state._lastActiveElement=e.getAttribute("id"),s.log.info({name:"cf.focus",message:"focusing item",body:e.getAttribute("id")}),$(e).focus();else if("string"==typeof e){s.log.info({name:"cf.focus",message:"focusing item",body:e});var t=$(e);t&&t.length>0&&(s.state._lastActiveElement=e,t.focus())}else e&&e.focus&&(s.state._lastActiveElement=e.attr("id"),s.log.info({name:"cf.focus",message:"focusing item",body:e.attr("id")}),e.focus())},classFromPath:function(e){return e.replace(d.classFromPath,"")},get_name:function(e){return e.substr(e.indexOf("-")+1)},get_nt:function(e,t){return t?e+"."+t:s.is_obj(e)?e.nodetype+"."+(e.nodesubtype||0):""+e},parse_style:function(e){for(var t,a=(e=(e||"").split(";")).length,i={};a--;)(t=e[a].split(":"))[0]&&(i[t[0].replace(/ /gi,"")]=t[1]);return i},set_style:function(e,t,a){for(var i,n=(e=(e||"").split(";")).length,r={};n--;)(i=e[n].split(":"))[0]&&(r[i[0]]=i[1]);for(i in r[t]=a,t="",r)t+=i+":"+r[i]+";";return t},size:function(e){return e>1073741824?Math.round(e/1073741824)+"GB":e>1048576?Math.round(e/1048576)+"MB":e>1024?Math.round(e/1024)+"kB":Math.round(e)+"B"},nodePath:function(e){return e.join("/")},composeNid:function(e,t){if("string"==typeof t){var a,i=[];for(a in t=e[t])i.push([t[a].nid].join("."));return i.join(".")}return t.nid},aliasModule:function(e,t){i.modulestack[e]&&!i.moduleAlias[e]&&(i[t]=i.modulestack[e]),i.moduleAlias[e]=t},resource:function(n,r){var o,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{o=r(s,e,t,void 0)}catch(e){if(a)throw e;delete s.resources.resources[n],o=s.log.error({module:"resource",code:log.E_RESOURCE,name:"Resource Registration Exception",aux:n,exception:e})}void 0===o&&(delete s.resources.resources[n],o=s.log.error({module:"resource",code:log.E_RESOURCE,name:"Resource Registration",message:'Resource "'+n+'" did not produce a valid resource'})),i.resources[n]=o,o instanceof s.classes.XDSResource&&s.init(function(){o.init()}),d&&s.init(function(){s.get("cssvar").register(n,d,"resource")})},module:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(n,r){var o,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{o=r(s,e,t,void 0)}catch(e){if(a)throw e;delete s.resources.modules[n],o=s.log.error({module:"resource",code:log.E_RESOURCE,name:"Module Registration Exception",aux:n,exception:e})}void 0===o&&(delete s.resources.modules[n],o=s.log.error({module:"resource",code:log.E_RESOURCE,name:"Module Registration",message:'Module "'+n+'" did not produce a valid resource'})),i.modules[i.moduleAlias[n]||n]=i.modulestack[n]=o,d&&s.init(function(){s.get("cssvar").register(n,d,"module")})}),get_module:function(e,t){return t=t||"modules",e?i[t][e]:i[t]},get_resource:function(e){return s.get_module(e,"resources")},get:function(e){return s.get_func(e,i.modules)},get_type:function(e){return s.get_func(e,s.types,s.extend.type.extend,"types")},get_func:function(e,t,a,n){var r=s.fn;if(a=a||s.extend.fn.extend,t=t||r,"function"==typeof e)return e;if(void 0!==a[e])return a[e];if(void 0!==t[e])return t[e];if(void 0!==e){var o,d,l=(e=e.split(".")).length;if(void 0!==i.modules[e[0]]?o=i.modules:void 0!==i.resources[e[0]]&&(o=i.resources),o&&2===e.length){if(o[e[0]]&&o[e[0]][e[1]])return o[e[0]][e[1]];if(o[e[1]])return o[e[1]];if(n&&o[e[0]][n]&&o[e[0]][n][e[1]])return o[e[0]][n][e[1]];if(!n){if(o[e[0]].fn&&o[e[0]].fn[e[1]])return o[e[0]].fn[e[1]];if(o[e[0]].events&&o[e[0]].events[e[1]])return o[e[0]].events[e[1]]}}else o||(o=void 0!==t[e[0]]?t:r[e[0]]?r:void 0!==s[e[0]]?s:window);for(d=0;d<l&&(o=o[e[d++]]););return o}return s.noop},cook:function(e,t){var a=function(){};a.prototype=s.build,(a=new a).setupBasic(),a.cook(e,e.id,!0),a.cookData(e,t)},tpl:function(e,t,a){var i=!!s.is_xdo(t)&&t;if(t=i?t.rnode||t.node||t.data_full:t,"boolean"==typeof e||"number"==typeof e)return e;var n=!0,r=s.gbl;s.is_obj(e)||(e={arr:e},n=!1);var o,l,c,u,f=function(e){if(e.startsWith("dateFormat")){var t=e.split("_"),n=t[0].slice("dateFormat".length);if(n.length>0){if(n=n.slice(1),i){var r=(i||a).arg(n);r&&(n=r)}}else n=void 0;return{fmt:function(e){return s.dateFormat(e,n)},key:e.slice(t[0].length+1)}}if(e.startsWith("lookup")){var o=e.split("_"),d=o[0].slice("lookup".length);return d=d.length>0?d.slice(1):void 0,{fmt:function(e){var t=e;if(d){var a=s.lookup(d,e);a&&(t=a.str())}return t},key:e.slice(o[0].length+1)}}return e.startsWith("validHexColor_")?(e.split("_"),{fmt:function(e){return/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(e)?e:"#FF00FF"},key:e.slice("validHexColor".length+1)}):{fmt:function(e){return e},key:e}},g=function(e,t,a,n){var o,d,l,c,u=e.length;for(o=0;o<u;o++){l=(d=e[o]).slice(2,d.length-2);var g=f(l),p=void 0;if("gbl"===(c=-1!==(l=g.key).indexOf("_")&&l.split("_")[0]))p=~(l=l.slice(4)).indexOf(".")?s.get_func(l,r):r[l];else if("caller"===c&&i){var h=i.caller();l=l.slice(7),p=h&&(h.get_val(l)||h.xds[l])||""}else if("var"===c&&i)p=i.global(l.slice(4))||"";else if("s"===c&&i)p=i.get_setting(l.slice(2))||"";else if("e"===c&&i)p=i.get_arg(l.slice(2))||"";else if("func"===c&&i){var m=l.slice(5).split("_");p=s.get_func(m[0])(i,m[1])||""}else"root"===c&&i?p=i.root_xdo().get_val(l.slice(5))||"":"page_xds"===l?p=s.links.getxds():"lookup"===c&&i&&i.get_val(l.slice(c.length+1))?p=i.get_val(l.slice(c.length+1)):"state"===c&&i&&i.state.peek(l.slice(c.length+1))?p=i.state.peek(l.slice(c.length+1)):c&&i&&i.get_val(l.slice(c.length+1),c)?p=i.get_val(l.slice(c.length+1),c):s.is_obj(t)&&void 0!==t[l]||i&&i.get_val(l)?p=i?i.get_val(l):t[l]||"":i&&i._state&&i._state.data[l]&&(p=i._state.data[l]);void 0!==p&&(a=a.replace(d,g.fmt(p)))}return void 0===a?"":a};for(o in e)e.hasOwnProperty(o)&&"string"==typeof(c=e[o])&&((l=c.match(d.tpl))&&(c=g(l,t,c)),"string"==typeof c&&(u=c.match(d.tpl))&&(c=g(u,t,c)),e[o]=c);return n?e:e.arr},is_xdo:function(){return!1},sep:"{{}}",parseTime:function(e){var t,a,i=0,n=0;if("string"==typeof e?(-1===(a=(e=e.trim()).lastIndexOf("-"))&&(a=e.lastIndexOf("+")),(t=-1!==a?!isNaN(n=parseInt(e.substr(a),10))&&e.substr(0,a):e)&&(2===(t=t.split(".")).length&&(i=Math.round(1e3*parseFloat("0."+t[1]))),t=t[0].split(":"))):s.is_arr(e)&&e.length<=5?(t=e,e.length>3&&(i=t[3],t.length>4&&(n=t[4]),t.length=3)):t=!1,t&&t.length<=3){for(a=0;a<t.length;a++)if(isNaN(t[a]=parseInt(t[a],10))){t=!1;break}for(;t&&t.length<3;)t[t.length]=0}else t=void 0;return t&&(t[3]=i,t[4]=n),t},parseDate:function(e,t){var a,i;return!1!==e&&void 0!==e&&("string"==typeof e&&(1===(e=e.trim().split(" ")).length&&(e=e[0].split("T")),a=e[0].split(/[\-\/]/),!1===(a=s.sanityCheckDateParams(a))?(a=parseInt(e,10),e=!isNaN(a)&&a==e&&a):1 in e?(i=s.parseTime(e[1]))&&(t?e=new Date(a[0],a[1]-1,a[2],i[0],i[1],i[2],i[3]):((e=new Date(0)).setUTCFullYear(a[0]),e.setUTCMonth(a[1]-1),e.setUTCDate(a[2]),e.setUTCHours(i[0]),e.setUTCMinutes(i[1]),e.setUTCSeconds(i[2]),e.setUTCMilliseconds(i[3]))):e=3===a.length&&new Date(a[0],a[1]-1,a[2],0,0,0,0)),"number"==typeof e&&(e=new Date(1e3*e)),e instanceof DateMatcher&&(e=e.date()),e instanceof Date&&!isNaN(e.getTime())||(e=!1)),e},sanityCheckDateParams:function(e,t){var a;if(3!==e.length)return!1;for(a=0;a<e.length;a++)if(isNaN(e[a]=parseInt(e[a],10)))return!1;return e[1]>12?e[0]>31?(a=e[1],e[1]=e[2],e[2]=a):(a=e[0],e[0]=e[1],e[1]=a):e[2]>31&&(t||e[0]>12?(a=e[0],e[0]=e[2],e[2]=a):(a=e[0],e[0]=e[2],e[2]=e[1],e[1]=a)),e[1]<=12&&e[2]<=31&&e}};s.loadedResources=i;var d=s.regex;s.utils=s,e.cf=s,s.classes={};var l=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(_classCallCheck(this,e),!t)throw new Error("CFTag: tagName is required");for(var o in this._id=i,this._tagName=t,this._innerHTML=r,"string"==typeof n&&(n=[n]),this._classes=s.clone(n),this._attrs=s.clone(a),this._attrs)"className"!==o&&"class"!==o&&"cssClass"!==o||(this._classes=this._attrs[o],"string"==typeof this._classes&&(this._classes=[this._classes]),delete this._attrs[o]),"id"===o&&(this._id=this._attrs[o],delete this._attrs[o])}return _createClass(e,[{key:"attr",value:function(e,t){this._attrs[e]=t}},{key:"toString",value:function(){return this.tagStr}},{key:"tagName",set:function(e){if(document.createElement(e)instanceof HTMLUnknownElement)throw new Error("Unknown Tag Type");this._tagName=e},get:function(){return this._tagName}},{key:"className",get:function(){return this._classes.join(" ").trim()}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"innerHTML",set:function(e){this._innerHTML=e},get:function(){return this._innerHTML||""}},{key:"dom",get:function(){var e={"aria-label":!0,style:!0};if("TEXT"===this._tagName)return document.createTextNode(this.innerHTML);var t=document.createElement(this._tagName);for(var a in this.attrs)if("undefined"!==a){var i=this.attrs[a];if(void 0!==i){if("object"===_typeof(i))continue;if("string"!=typeof i&&"number"!=typeof i&&i instanceof Array&&(i=i.join(" ")),"id"===a||"string"!=typeof i||1===i.length)t.setAttribute(a,i);else{if(e[a]&&"string"==typeof i&&""===i.trim())continue;t.setAttribute(a,s.mlunescape(i))}}}return this.className.length>0&&t.setAttribute("class",this.className),this.id&&t.setAttribute("id",this.id),this._innerHTML&&(t.innerHTML=this._innerHTML),t}},{key:"tagOpen",get:function(){var e=this.dom;if(""===e.innerHTML&&!s.settings.runtime.taggentest1){var t=e.outerHTML.split("><")[0];return t.endsWith(">")?t:t+">"}return e.innerHTML="__buildBuildTag__",e.outerHTML.split("__buildBuildTag__")[0]}},{key:"tagClose",get:function(){var e=this.dom;if(""===e.innerHTML&&!s.settings.runtime.taggentest1){var t=e.outerHTML.split("><")[1];return t.startsWith("<")?t:"<"+t}return e.innerHTML="__buildBuildTag__",e.outerHTML.split("__buildBuildTag__")[1]}},{key:"tagStr",get:function(){return this.dom.outerHTML}},{key:"attrs",get:function(){return this._attrs},set:function(e){this._attrs=e}}]),e}(),c=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";_classCallCheck(this,e),this._tag=t,"string"==typeof this._tag&&(this._tag=new l(this._tag)),this._portion=a}return _createClass(e,[{key:"str",get:function(){switch(this._portion){case"open":return this._tag.tagOpen+this._tag.innerHTML;case"close":return this._tag.tagClose;case"full":default:return this._tag.tagStr}}},{key:"tag",get:function(){return this._tag}}]),e}();s.classes.CFTag=l,s.classes.CFTagWrapper=c;var u=function(){function e(t,a){_classCallCheck(this,e),this._resource=a,this._xdo=t.ref()}return _createClass(e,[{key:"set",value:function(e,t){if("object"===_typeof(e))for(var a in e)this.set(a,e[a]);else this.vars[e]=t}},{key:"constants",get:function(){return this._resource.constants}},{key:"theme",get:function(){return this._resource.theme}},{key:"name",get:function(){return this._resource.name}},{key:"types",get:function(){return this._resource.types}},{key:"events",get:function(){return this._resource.events}},{key:"classes",get:function(){return this._resource.classes}},{key:"utils",get:function(){return this._resource.utils}},{key:"vars",get:function(){return this._vars||(this._vars={}),this._vars}},{key:"xdo",get:function(){return this._xdo.resolve()}}]),e}(),f=function e(t,a){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined";_classCallCheck(this,e),this._name=n,this._context=t,this._functions=a;var r=this,o=function(e){var a=e;i[e]=function(){performance.now();for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];try{var o=r._functions[a].apply(t,i);return s.settings.runtime.profile,o}catch(e){throw t.log("ERROR","".concat(r._name,".").concat(a),e,i[0],!1,i),e.__cfErrorLogged=!0,e}}};for(var d in a)o(d)},g=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};_classCallCheck(this,e),this._name=t,this._types=a,this._events=i,this._constants=r,this._theme=s,this._classes=o,this._utils=n,this._type="resource"}return _createClass(e,[{key:"instance",value:function(e){return new u(e,this)}},{key:"init",value:function(){Object.keys(this.theme).length>0&&s.get("cssvar").register(this.name,this.theme,this._type)}},{key:"log",value:function(e,t,a,i){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];a instanceof Error&&(a=(n=a).message);var o=!1;switch(e){case"ERROR":o=s.log.error;break;case"WARN":o=s.log.warn;break;case"PERF":o=s.log.profile;break;case"DEBUG":o=s.log.debug;break;default:o=s.log.info}if(o){var d=!1;n instanceof Error&&(d=n.name);var l=[];if(r&&Array.isArray(r)){l=_toConsumableArray(r);for(var c=0;c<l.length;c++){var u=l[c];l[c]=s.log.serialize(u)}}var f={fargs:l};if(i)for(var g in f.eargs=i.get_args(),f.settings=i.get_settings(),f.settings)f.settings[g]=s.log.serialize(f.settings[g]);d&&(a="".concat(d," ").concat(a)),o({name:"".concat(e),message:"".concat(this._name,".").concat(t,": ").concat(a),exception:n,xdo:i,aux:JSON.stringify(f,!1,4),module:"".concat(this._type,".").concat(this._name),method:t})}}},{key:"constants",get:function(){return this._constants}},{key:"theme",get:function(){return this._theme}},{key:"name",get:function(){return this._name}},{key:"types",get:function(){return new f(this,this._types,"types")}},{key:"utils",get:function(){return new f(this,this._utils,"utils")}},{key:"events",get:function(){return new f(this,this._events,"events")}},{key:"classes",get:function(){return this._classes}}]),e}(),p=function(e){function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n,r,o,s,d)))._type="module",a}return _inherits(t,g),t}();s.classes.XDSResource=g,s.classes.XDSModule=p,s.clipboard={copyText:function(e){return window.EdsbyReactBridge&&window.EdsbyReactBridge.appControls&&window.EdsbyReactBridge.appControls.copyText?(window.EdsbyReactBridge.appControls.copyText(e),Promise.resolve()):navigator.clipboard.writeText(e).then(function(){})}},"undefined"!=typeof module&&(module.exports=s)}(),function(e,t,a){a.fn.jquery;var i={xdoget:function(){var e=this.__xdoid;if(e){var t=cf.get_obj(e),a=parseInt(e,10);if(t||a!=e||(t=cf.get_build(e))&&t.xdoref&&(t=t.xdoref.resolve()),t)return t}else cf.log.debug({message:"attempting to get xdo for jquery obj with no id",module:"xdl"})},xdoset:function(e){e?e&&cf.is_xdo(e)&&e.id()?this.__xdoid=e.id():e&&cf.is_build(e)?this.__xdoid=e.xdoref.resolve().id():e&&e.resolve?this.__xdoid=e.resolve().id():this.__xdoid=void 0:this.__xdoid=void 0}},n=function(a){var n=t.getElementsByTagName("body")[0],r=t.getElementsByTagName("head")[0],o=t.getElementById("cfload");function s(e,t){if(t.__xdoid=e,t.hasOwnProperty("xdo")||Object.defineProperty(t,"xdo",{get:i.xdoget,set:i.xdoset}),t.hasOwnProperty("xds")||Object.defineProperty(t,"xds",{get:i.xdoget,set:i.xdoset}),cf.memory.track){var a=parseInt(e,10);cf.memory.jquery[a]||(cf.memory.jquery[a]={}),cf.memory.jquery[a][e]||(cf.memory.jquery[a][e]=[]),cf.memory.jquery[a][e].push(t)}}function d(e){if((!e||!e.xdo)&&e[0]!==o&&e[0]!==n&&e[0]!==r&&e[0]&&e){if(e[0]&&e[0].id){if(s(e[0].id.replace("__f__",""),e),parseInt(e[0].id))return}else e.prevObject&&e.prevObject.id?s(e.prevObject.id,e):e.context&&e.context.id&&s(e.context.id,e);if(!e.xdo&&e[0])for(var t=e[0];t=t.parentNode;)if(t.id){s(t.id,e);break}}}var l=jQuery.fn,c=l[a];l[a]=function(){var e=Array.prototype.slice.call(arguments),t=c.apply(this,e);return d(t),t};var u=l.init;l.init=function(a,i,n){var r;return r=this instanceof jQuery?u.apply(this,arguments):new u(a,i),"function"==typeof a||void 0===a||a===t||a===e?r:(n||d(r),r)}};n("pushStack"),n("find"),e._$=function(e,t){return new jQuery.fn.init(e,t,!0)},a.fn.safeRemove=function(){var e=this[0];return cf.memory.clean(this),a(e).remove()},cf.regex,cf.loadedResources;var r,o,s,d,l,c,u={track:!1,dead:{dead:!0},dummy:(s=t.createElement("div"),s.className="xdl-dummy",s),setDOMTrackingOffForTimer:function(){cf.memory.track=!1},registerJquery:function(a,i){if(a.length&&a[0]!==e&&a[0]!==t){var n=i?i.path:a[0]&&a[0].id;if(i=n&&cf.get_obj(n),n&&i)a.xds=a.xdo=i,a.xdo&&(cf.memory.jquery[n]||(cf.memory.jquery[n]=[]),cf.memory.jquery[n].push(a));else for(var r=a.parent();!r.is("body")&&r[0]!==t&&r[0]!==e&&r[0];){if(i=cf.get_obj(r)){cf.memory.registerJquery(a,i);break}r=r.parent()}}},clean:function(e,t){var i=e.find(cf.$css.cont),n=!1;if(t&&e.parent().hasClass(cf.css.cont)?(i=i.add(e),n=!0):e.hasClass(cf.css.cont)&&(i=i.add(e),n=!0),t&&cf.is_xdo(e.xdo)&&e.xdo.get_setting("redrawPath")){var r=e.xdo.get_setting();e.hasClass(r._redrawPath||r.redrawPath)&&(i=i.add(e),n=!0)}e.find(cf.$css.removed).each(function(){a(this).triggerHandler(cf.css.removed)});for(var o=e.find(cf.$css.hasBuilds),s=o.length;s--;){var d=cf.get_obj(o[s].id);if(d)for(var l=d._builds||[],c=l.length;c--;){var f=cf.get_build(l[c]);f&&f.clean()}}s=i.length;for(var g=cf.memory.paging;s--;){var p=cf.get_build(parseInt(i[s].id));p&&p.clean(),n||a(i[s]).remove()}if(!n){var h,m,v,b=e.find("[id]");for(t&&(b=b.add(e)),s=b.length;s--;){h=b[s].id;var _=void 0;isNaN(parseInt(h))||(m!==(v=parseInt(h))&&(_=cf.get_build(v),m=v),_&&_.objects&&(_.objects[h]&&_.objects[h].clean(),delete _.objects[h],u.events[v]&&delete u.events[v][h],g[h]&&(delete g[h],_.objects.length--),0===_.objects.length&&_.clean()))}}},slices:{},events:{window:{},document:{}},paging:{},validators:{},mousePosition:{x:0,y:0},jquery:{},urlcounter:0,counter:0,refs:{},nodes:{},xdii:{},building:{},builds:{},styles:{},settings:{},objects:{length:0},bootTime:Date.now(),lastMovement:Date.now(),stats:[]},f={make:function(e,t,a,i){var n,r,o,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=!0;for(n in a=a||{},cf.is_obj(t)&&(a=t)&&(t=void 0),t=t||"",cf.is_obj(a)||(a={id:a}),void 0===i||(a.cssClass=i),a)r=a[n],void 0!==n&&void 0!==r&&" "+("cssClass"===n?"class":n)+"="+(o=-1!==(r=(r=cf.is_arr(r)?r:[r]).join(" ")).indexOf('"')?"'":'"')+r+o;"input"===e&&(d=!1);var l=new cf.classes.CFTag(e,a,a&&a.id,i,t);return s?l:d?l.tagStr:l.tagOpen+t},tag:function(e,t,a,i,n){return f.make(e,a,i,t,n)},div:function(e,t,a,i){return f.make("div",e,a,t,i)},span:function(e,t,a,i){return f.make("span",e,a,t,i)},p:function(e,t,a,i){return f.make("p",e,a,t,i)},a:function(e,t,a,i){return f.make("a",e,a,t,i)},ul:function(e,t,a,i){return f.make("ul",e,a,t,i)},li:function(e,t,a,i){return f.make("li",e,a,t,i)},input:function(e,t,a){return f.make("input",0,e,t,a)},tooltip:function(e,t,a){return cf.is_arr(t)?t.push(g.tooltip):t=[t,g.tooltip],f.span(f.span(e,g.tooltip+"-content"),t,a)},loading:function(e){var t=["spinner"],a=t[Math.floor(Math.random()*t.length)];return e&&(a=e),f.div(f.div("","fa fad fa-".concat(a," fa-spin")),"xds-loading xds-loading-fa")},progress:function(e,t,a){var i;return cf.is_arr(t)?t.push(g.progress):t=[t,g.progress],a&&("#"===a.substr(0,1)?i=a:t.push(g.progress+"-"+a)),f.div(f.div("",g.progressInner,{style:"width:"+parseFloat(e)+"%;"+(i?"background:"+i+";":"")}),t)}},g={dummy:"xdl-dummy",cont:"xds-cont",hasBuilds:"xdl-has-builds",defaultButton:"xds-default-button",dialog:"xds-dialog",dialogConfirm:"xds-dialog-confirm",dialogCancel:"xds-dialog-cancel",field:"xdl-forms-field",focus:"xdl-focus",focusable:"xdl-focusable",hasClick:"xds-has-click",hasPicker:"xds-has-picker",hasValidate:"xds-has-validate",hbox:"xds-hbox",hide:"hidden",lightbox:"lightbox",link:"xdl-link",progress:"xdl-progress",progressInner:"xdl-progress-inner",screen:"xds-screen",sprite:"xds-sprite",success:"xds-success",tooltip:"xds-tooltip",unread:"xdl-unread",removed:"xds-removed",last:"xdl-last",first:"xdl-first",firstPage:"xds-paging-first",lastPage:"xds-paging-last",root:"xdl-root",scroll:"xds-scroll",titleWrap:"xds-titleWrap",validatorGroup:"xds-validator-group",feedLoading:"xds-feed-loading",boxModel:"xds-boxModel",boxModelInner:"xds-boxModel-inner"},p={},h={_aggregate:1,_delegate:1,_desc:1,_events:1,_func:1,_fqname:1,_i:1,_import:1,_log:1,_nid:1,_owner:1,_processedd:1,_redrawPath:1,_resources:1,_showifCompiled:1,_store:1,_netqueueid:1,_isLoadUrl:1,_parentxdoref:1,animate:1,append:1,autoTrigger:1,bindif:1,bindNoPerm:1,cache:1,caller:1,changeUrl:1,command:1,context:1,counter:1,css:1,data:1,direction:1,eval:1,eventName:1,feed:1,filter:1,filterType:1,fireOnce:1,func:1,href:1,id:1,include:1,included:1,includePath:1,inherit:1,loadPage:1,nid:1,nids:1,nidSource:1,noCache:1,noPost:1,nodeproc:1,noPath:1,noProps:1,pageNid:1,permaLink:1,pre_func:1,prefunc:1,preventDefault:1,proxyCSS:1,redirect:1,redraw:1,redrawPath:1,reload:1,renderNoPerm:1,returnKey:1,stackUrl:1,sortParam:1,stopPropagation:1,sparse:1,suppressInitialFocus:1,target:1,targets:1,transition:1,type:1,url:1,uuid:1,width:1,xds:1,xdsCont:1,showif:1};for(var m in g)p[m]="."+g[m];cf.extend(cf,{reservedKeys:h,settings:{modules:{}},registerGlobalCSSClass:function(e){for(var t in a.extend(cf.css,e),g)p[t]="."+g[t]},findEquivXDORaw:function(e){if(e){var t=a("."+e.selector),i=t.length;if(1===t.length)return a(t).xdo;for(var n=[],r=0;r<i;r++){var o=a(t[r]);o.xdo&&o.xdo.nid()===e.nid&&n.push(o)}return 1===n.length?a(n[0]).xdo:void 0}},loadDebugger:function(e){cf.resources.load([cf.gbl.core+"Debugger.js"],function(){cf.Debugger=new Debugger(e)})},memory:u,html:f,css:g,$css:p,isHover:function(e){if(cf.user.clienttype&cf.constant.cd.Modern())try{return e.is(":hover")}catch(e){}var t=cf.memory.mousePosition,a=e.offset()||{};return a.left<=t.x&&a.left+e.outerWidth()>t.x&&a.top<=t.y&&a.top+e.outerHeight()>t.y},hoverboxRelativePosition:function(e,t,a){cf.hoverboxPosition(e,t,a,!0)},hoverboxPosition:function(e,t,a,i){t&&t.css("display","block");var n=cf.is_arr(e)?{left:e[0],top:e[1]}:e.offset(),r=cf.is_arr(e)?0:e.width(),o=cf.is_arr(e)?0:e.height(),s=t.outerHeight(),d=cf.window.scrollLeft(),l=cf.window.scrollTop();i?t.css({position:"absolute",left:"100%",top:"0"}):t.css({position:"fixed",left:n.left+r-d+"px",top:n.top-l+"px"});var c=t.outerWidth();t.removeClass("xds-hoverbox-right").removeClass("xds-hoverbox-bottom"),cf.window.width()-(c+n.left+r-d)<20&&(t.addClass("xds-hoverbox-right"),i?t.css({left:"-"+c+"px"}):t.css("left",n.left-c-d+"px"));var u=cf.window.height(),f=u-(s+n.top-(i?0:l));if(t.find(".xds-hoverbox-arrowLocator").remove(),f<0)if(s-(o+n.top-l)>-40){var g=u-s;if(i)t.css("top",0);else if(t.css("top",g/2),t.xdo){var p="."+t.xdo.selector()+".xds-hoverbox-hasArrow";p=(p=p+"::before, "+p+"::after")+"{top:"+(7+n.top-g/2-l)+"px;}",t.append('<style class="xds-hoverbox-arrowLocator">'+p+"</style>")}}else t.addClass("xds-hoverbox-bottom"),i?t.css({top:"-"+(s-o)+"px"}):t.css("top",n.top-l-s+o);return!1},window:a(e),document:a(t),scrollTop:function(e){return void 0!==e&&cf.window.scrollTop(e),e},scrollLeft:function(e){return void 0!==e&&cf.window.scrollLeft(e),e},init:function(t,a){if("function"==typeof t&&!a&&cf.bootstrapped){var i=!1,n=!0,r=!1,o=void 0;try{for(var s,d=cf.init.funcs[Symbol.iterator]();!(n=(s=d.next()).done);n=!0)if(s.value===t){i=!0;break}}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}i||(cf.init.funcs.push(t),t())}if(a="function"==typeof t||void 0===t?a||"funcs":t,"function"==typeof t)void 0===cf.init[a]&&(cf.init[a]=[]),cf.init[a].push(t);else{e._cf||(e._cf={boot:Date.now()}),e._cf.init||(e._cf.init=Date.now());var l=cf.init[a];if(l)for(var c=l.length,u=0;u<c;u++)l[u]()}},update:function(e,t,a){var i,n,r=[],o=u.builds;for(var s in o){var d=o[s];if(i=d.fieldMap&&d.fieldMap[e]&&d.fieldMap[e][t])for(var l in i)(n=cf.get_obj(l))&&(n.update(a),r.push(n))}return r},get_node:function(e){return cf._get_objects(e,"nodes")},get_ref:function(e){return cf._get_objects(e,"refs")},_get_objects:function(e,t){var a,i,n,r=[],o=u.builds;for(var s in o)if(a=o[s][t][e])for(n=a.length;n--;)(i=cf.get_obj(a[n]))&&r.push(i);return r},removeNode:function(e){cf._remove_objects(e,cf.get_node(e),"deletedNodes")},removeRef:function(e){cf.is_xdo(e)&&e.rnode&&(e=e.rnode.rid),cf._remove_objects(e,cf.get_ref(e),"deletedRefs")},_remove_objects:function(e,t,i){var n,r;if(t)for(n=t.length;n--;)(r=t[n])&&(r.removehook?r.removehook(r):(!r.fadeOut&&r.path&&(r=a("#"+r.path)),r.fadeOut(function(){_$(this).safeRemove()})));cf.memory[i]||(cf.memory[i]={}),cf.memory[i][e]=1},browser:{storage:function(){try{return"localStorage"in e&&null!==e.localStorage}catch(e){return!1}}(),history:!(!e.history||!history.pushState),placeholder:"placeholder"in t.createElement("input"),transitions:function(){var e=t.createElement("p").style,a=["ms","O","Moz","Webkit"];if(""==e.transition)return!0;for(;a.length;)if(a.pop()+"Transition"in e)return!0;return!1}(),sticky:(c=t.createElement("a").style,c.cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;",-1!==c.position.indexOf("sticky")),ie:"undefined"!=typeof ie?ie:void 0,ieVersion:"undefined"!=typeof ieVersion?ieVersion:void 0,touch:(l=" -webkit- -moz- -o- -ms- ".split(" "),!!("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)||(d=["(",l.join("touch-enabled),("),"heartz",")"].join(""),e.matchMedia(d).matches)),firefox:navigator.userAgent.indexOf("Firefox")>=0},key:function(){return r&&r.user&&r.user.formkey},dataSet:{},displayVal:{},confirm:function(e){var t=new Promise(function(t,a){var i={message:(e=e||{}).message||"Do you want to continue?",buttons:[{text:e.cancelButton||cf.lang("No"),callback:function(){e.cancel&&e.cancel(),t("cancelled")},name:"cancel"},{text:e.continueButton||cf.lang("Yes"),callback:function(){e.confirm&&e.confirm(),t()},name:"confirm"}]};e.subload&&(i.subload=e.subload),cf.dialog(i)});return t._then=t.then,t.then=function(e,a){return a||(a=function(){}),t._then(function(t){"cancelled"!==t&&e&&e()},a),t},t},prompt:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=new Promise(function(r,o){var s=[{name:"cancel",text:cf.lang("Cancel"),callback:function(){o("user cancelled")}},{name:"ok",text:cf.lang("Ok"),callback:function(e){var a=t.xdoref.resolve().find("*input");if(!a.val())return!1;r(a.val())}}];n&&s.splice(1,0,{name:"delete",text:cf.lang("Delete"),mode:"red",callback:function(){o("delete")}});var d={id:"input",type:"f_str",title:e,defaultValue:i||"",events:[{trigger:"keyup",args:{keyCode:13},func:function(e){var a=t.xdoref.resolve().find("*input");a.val()&&(e.trigger("xdlDialog-close"),r(a.val()))}}]};a&&(d.maxlength=a),t=cf.dialog({xds:[{id:"body",sparse:!0,fields:[d]},{id:"footer",fields:[],sparse:!0}],buttons:s})});return r._then=r.then,r.then=function(e,t){t||(t=function(){}),r._then(e,t)},r},dialog:function(e){cf.is_str(e)&&(e={message:e,buttons:[{name:"ok",text:cf.lang("Ok")}]});var a=t.getElementById("cf-dialog");a||((a=t.createElement("div")).id="cf-dialog",t.getElementsByTagName("body")[0].appendChild(a));var i=t.activeElement,n={id:"xdlDialog",sparse:!0,events:[{trigger:"xdlDialog-close",func:function(e){e.target("xds-cont").remove(),i.focus(),e.setTimeout(function(){_$(a).find(".xdlDialog").last().find(".xds-button").first().focus()},1)}}]};e.mode&&(n.css="xdlDialog-mode-".concat(e.mode));var r=function(t){if(e.buttons){var a=function(a){var i=t.fields[a];i&&"footer"===i.id&&e.buttons.map(function(e){i.fields.push({id:e.name,type:"button",mode:e.mode||"cancel"===e.name&&"grey",title:e.text,events:[{func:function(t){var a=!0;e.callback&&(a=e.callback(t)),!1!==a&&t.trigger("xdlDialog-close")}}]})})};for(var i in t.fields)a(i)}};if(n.events=n.events.concat(cf.get("lightbox").events()),n.events.pop(),e.xds)e.xds.include=e.xds.id,e.xds.sparse=!0,n.fields=[e.xds],Array.isArray(e.xds)&&(n.fields=e.xds),r(n);else{if(n.fields=[{id:"body",sparse:!0,fields:[{id:"message",title:e.message||cf.lang("Do you want to do that?")}]},{id:"footer",fields:[],sparse:!0}],e.subload){n.css="xdlDialog-has-subload";var o={id:"subload",type:"container",sparse:!0,_title:cf.lang("Preview"),events:[{trigger:"onload",func:"loadxds",args:{renderNoPerm:1,xds:e.subload.xds,nid:e.subload.nid}}]};e.subload.css&&(o._styles=[{styles:e.subload.css}]),n.fields[0].fields.push(o)}r(n);var s=n.fields[1];s.fields[0]?s.fields[0].events=[{func:"focus",trigger:"onload"}].concat(s.fields[0].events):s.type="sys"}return cf.xdsbuild({slice:{xds:n},target:e.target||_$("#cf-dialog"),append:!0,changeUrl:!1},{displayError:cf.noop})},formAction:function(e){if(cf.is_obj(e)){if(void 0!==e.xds.nodetype){var t=e.xds.xds,i=void 0!==e.xds.command?e.xds.command:"create";return void 0!==e.xds.nodetype&&e.xds.nodetype,void 0!==e.xds.nodesubtype&&e.xds.nodesubtype,(r[i]+e.get_val("nid")+"?xds="+t).replace(".json","")}var n=e.xds,o=e.get_setting(),s=a.extend({},o);for(var d in delete s.url,n)s[d]=n[d];return void 0!==e.xds.action?e.tpl(e.xds.action).replace(".json",""):cf.gen_url(e.tpl(s)).replace(".json","")}return e.replace(".json","")},search:function(e,t,a){for(var i=(e=cf.is_arr(e)?e:e.split("-")).length,n=0;n<i;){if(void 0===(t=a?cf.is_obj(t)||cf.is_arr(t)?t.fields[e[n]]:void 0:cf.is_obj(t)||cf.is_arr(t)?t[e[n]]:void 0))return;n++}return t},filter:function(){function e(t,a,i,n,r,o,s,d){var l,c,u,f,g,p,h=!1;for(f in"multi"===t.substr(0,5)&&(h="Free"===t.substr(5)?2:1),a)if("number"===(u=_typeof(l=a["_"+f]||a[f]))&&(l=""+l)&&(u="string"),"string"===u){if(l=l.toLowerCase(),h)for(g=n;g--;)i=r[g],p=l.indexOf(i),1===h&&p>0&&0!==l.charAt(p-1).trim().length&&(p=-1),-1!==p&&(s[g]=!0);else if("starts"===t){if(0===(p=l.indexOf(i)))return d}else if(-1!==l.indexOf(o)||-1!==l.indexOf(i))return d}else if("object"===_typeof(l)&&null!==l&&(c=e(t,l,i,n,r,o,s,d)))return c}return function(t,a,i,n){var r,o,s,d=cf.get_module("facets").filters,l=!1,c=!1;if(n=n||"contains",cf.is_str(t))l=!0,t=t.toLowerCase(),r=cf.mlescape(t).toLowerCase(),"multi"===n.substr(0,5)&&(c="Free"===n.substr(5)?2:1,s=(o=t.trim().split(/\s+/)).length);else try{for(var u in t)if(-1!==u.indexOf("-")){var f=u.split("-"),g=f.pop();t[g]=t[u],delete t[u],t[g].colParent=f.join("-")}}catch(e){}var p,h,m,v,b,_,y,x,w,C,k,S,T,M=[],I={len:0};for(p in a)if(a.hasOwnProperty(p))if(l)if(t.length>0&&cf.is_obj(a[p])){for(h in c&&(C=o.map(function(e){return!1})),a[p])if("string"===(k=_typeof(_=a[p]["_"+h]||a[p][h]))||"number"===k){if("number"===k&&(_=""+_)&&(k="string"),_=_.toLowerCase(),c)for(w=s;w--;)t=o[w],T=_.indexOf(t),1===c&&T>0&&0!==_.charAt(T-1).trim().length&&(T=-1),-1!==T&&(C[w]=!0);else if("starts"===n){if(0===(T=_.indexOf(t))){M.push(a[p]);break}}else if(-1!==_.indexOf(r)||-1!==_.indexOf(t)){M.push(a[p]);break}}else if("object"===k&&null!==_&&(x=e(n,_,t,s,o,r,C,a[p]))){M.push(x);break}c&&-1===C.indexOf(!1)&&M.push(a[p])}else cf.is_obj(a[p])?M.push(a[p]):"string"==typeof(_=a[p])&&-1!==_.toLowerCase().indexOf(t)&&M.push(a[p]);else{for(h in v=!0,t){if(m=!1,I.len=0,t[h].colParent?(S=cf.search(t[h].colParent,a[p]),_=a[p]["_"+t[h].colParent+"-"+t[h].colLast]):(S=a[p],_=void 0),y=void 0!==_?_:S?S[t[h].colLast||h]:void 0,"number"===(k=_typeof(_=void 0!==_?_:S?S["_"+(t[h].colLast||h)]||y:void 0))&&(_=""+_)&&(k="string"),d[t[h].type])d[t[h].type](t[h],a[p],_,k,y,I)&&(m=!0);else for(b in t[h])if(t[h].hasOwnProperty(b)&&(++I.len,"string"===k&&_==b||y==b)){m=!0;break}!m&&I.len>0&&(v=!1)}v&&M.push(a[p])}return M}}(),sort:function(e,t,a){cf.is_obj(e)||(e={sortType:e});var i=e.sort||e.sortBy||"",n=cf.obj_to_arr(t),r=e.sortXds&&a&&a.get_setting("sortType")||e.sortType||"basic",o=e.sortXds&&a&&a.get_setting&&a.get_setting("sortReverse"),s=e.sortXds&&a&&a.get_setting&&a.get_setting("sortDirection");void 0===s&&(s=e.sortDirection||"");var d=cf.get_func("basic",cf.sort);if(i&&-1!==i.indexOf(".")){var l=cf.get_func(i);if(l)return l(n,e,a)}var c=!1;if(!i&&"object"!==_typeof(n[0])){i="__sby";for(var u=n.length;u--;)n[u]={__sby:n[u]};c=!0}i=i.split(","),r=r.split(","),s=s.split(",");for(var f=i.length,g=r.length,p=s.length;g++<f;)r.push("basic");for(;p++<f;)s.push(s[p]||"forward");s[0]||(s[0]="forward"),-1===cf.in_array("name",i)&&(i.push("name"),r.push("basic"),s.push("forward")),i.push("rid"),r.push("none"),s.push("reverse"),f=i.length;var h,m,v,b,_,y,x,w,C,k=0,S=n.length,T=[],M=i.slice(),I=[];for(k=0;k<f;k++)s[k]="forward"!==s[k];S=n.length;for(var A=0;A<S;A++){if(C={i:A},"object"===_typeof(_=n[A]))for(k=0;k<f;k++)h="string"==typeof M[k]?M[k].split("-"):M[k],x=r[k],w=h.length>1,m=k,v="none"!==x&&(cf.get_func(x,cf.sort)||cf.get_func(x,cf)||d),y=w?cf.search(h,_):_[h[0]],"function"==typeof(b=v===d?"string"==typeof y?y.toUpperCase():y:v?v(y,_,e,a,m):y)?(void 0===C[m]&&(C[m]=y),T[k]=b,i[k]=m):(C[m]=b,T[k]=m);I.push(C)}if(o)for(p=s.length;p--;)s[p]=!s[p];if(I=I.sort(function(e,t){var a,r,d,l,c,u,g;for(a=0;a<f;a++){if(u=s[a],"function"!=typeof(l=T[a])){if("object"===_typeof(e)&&"object"!==_typeof(t)){c=-1;break}if("object"!==_typeof(e)&&"object"===_typeof(t)){c=1;break}if("object"!==_typeof(e)&&"object"!==_typeof(t)){c=1;break}if((r=e[l])===(d=t[l]))continue;if(void 0!==r&&void 0===d){g=!0,c=-1;break}if(void 0===r&&void 0!==d){g=!0,c=1;break}if("string"==typeof r&&"string"==typeof d){if(0!==(c=r.localeCompare(d)))break;continue}if(_typeof(r)===_typeof(d)&&(c=r<d?-1:1),r==d)continue;c=r<d?-1:1;break}if(0!==(c=l(e[i[a]],t[i[a]],n[e.i],n[t.i])))break}return!u||g&&!o?c:-1*c}),n=I.map(function(e){return n[e.i]}),c)for(var D=n.length;D--;)n[D]=n[D].__sby;return n},child_from_type:function(e,t){var a,i=e.xds.fields;for(a in i)if("type"in i[a]&&i[a].type===t)return i[a]},sibling_from_path:function(e,t){return cf.parent_from_path(e)+"-"+t},child_from_path:function(e,t){return e+"-"+t},parent_from_path:function(e){var t=e.lastIndexOf("-"),a=e.substr(0,t),i=e.substr(t+1);return isNaN(+i)?a:a.substr(0,a.lastIndexOf("-"))},get_setting:function(e,t){var a=u.settings[e];return void 0===t||void 0===a?a:a[t]},gen_url:function(e){var t,a,i;"multinode"===(e=e||{}).command&&(e.noPath=!0),e.caller&&(a=cf.is_xdo(e.caller)?e.caller:cf.get_obj(e.caller)),!(t=a&&a.get_val&&!e.noPath&&a.cnid?a.cnid(e.nid):e.nid)&&e.nids&&cf.is_arr(e.nids)&&(t=e.nids.join(".")),t||(t=""),e.command||(e.command="open_node"),i=cf.gbl[e.command]?this.gbl[e.command]+t:t?e.command+("/"!==e.command.substr(e.command.length-1)?"/":"")+t:e.command;var n,r=e.xds?[e.xds]:[],o=h;for(var s in r.length?i+="?xds="+r.join(","):i+="?",e.noCache&&(e._t=Date.now()),e)void 0!==e[s]&&(0==s.indexOf("_-_")||void 0!==o[s]||cf.is_func(e[s])||cf.is_obj(e[s])||cf.is_arr(e[s])||("?"!==i.substr(i.length-1)&&(i+="&"),i+=encodeURIComponent(s),(n=e[s]+"").length&&(i+="="+encodeURIComponent(n))));return cf.tpl(i)},get_obj:function(e){if(e instanceof jQuery)return a(e).xdo;if(cf.is_obj(e)&&void 0!==e.nodeType)return a(e).xdo;"string"==typeof e&&"#"===e.substr(0,1)&&(e=e.substr(1));var t=cf.get_build(e);if(t){var i=cf.is_obj(e)?e.attr("id"):e,n=t.objects;if(n)return n[i]}},get_build:function(e){var t=cf.is_obj(e)&&cf.is_func(e.attr)?e.attr("id"):e,a=parseInt(t,10);return u.builds[a]},localStorage:function(e,t){return cf.storageProxy(e,t,"localStorage")},storageCleanout:function(){var e=["xds-resources"];for(var t in localStorage.removeItem("xds-bootstrap"),localStorage)for(var a=0;a<e.length;a++){var i=e[a];t.startsWith(i)&&localStorage.removeItem(t)}},storageReset:function(){var t=localStorage.getItem("xds-server"),a=localStorage.getItem("selectedServer"),i=localStorage.getItem("serverList"),n=sessionStorage.getItem("uuid"),r=sessionStorage.getItem("oauth-postlogout-redirect"),o=Promise.resolve();localStorage.clear(),sessionStorage.clear(),"undefined"!=typeof localforage&&(o=localforage.clear());var s=function(){t&&(localStorage["xds-server"]=t),a&&(localStorage.selectedServer=a),sessionStorage.uuid=n,r&&(sessionStorage["oauth-postlogout-redirect"]=r),e.CoreMobile&&localStorage.setItem("serverList",i)};try{s()}catch(e){}return cf.log.log("storage cleared"),o.then(function(e){try{s()}catch(e){}return e})},storageProxy:function(e,t,a){if(!cf.browser.storage)return!1;if(void 0!==r.uid&&r.uid!=localStorage.uid&&void 0!==localStorage.uid&&cf.storageReset(),a="sessionStorage"===(a=a||"sessionStorage")?sessionStorage:localStorage,-1===(t=t||!1))try{a.removeItem(e)}catch(e){return!1}else if(!1!==t)try{a[e]=JSON.stringify(t)}catch(e){return!1}else{if(!(e in a))return!1;try{return JSON.parse(a[e])}catch(t){return a.removeItem(e),!1}}},findURLS:function(e){var t={};if(cf.is_str(e)){var a,i,n,o,s,d,l,c,u=e.split("."),f=u.length,g=0,p=["/","?","#",":"],h=p.length,m=0,v=r.sys.tld,b=r.sys.protocols,_=b.length,y=!1;if(f>1)for(var x=f=(u=(u=e.split("\n").join(" ")).split(/ |<br>|<|>|\(|\)|\{|\}|\[|\]/g)).length;x--;)if(-1!==(g=(a=u[x].trim()).indexOf("."))&&0!==g&&g!==a.length-1&&"href="!==a.substr(0,5))for(l=(c=a.split(".")).length-1,d=0;d++<l&&(n=c[d].trim()).length;)if(n.length>=2){for(m=-1;m++<h;)if(-1!==(i=n.indexOf(p[m]))){n=n.substr(0,i),y=!0;break}if(!y&&d!==l)continue;if(void 0!==v[n.toUpperCase()]){for(s=a,a=cf.htmlentitiesdecode(a),m=_,o=!1;m--;)if(a.substr(0,b[m].length+1)===b[m]+":"){o=!0;break}i=a.indexOf("@"),!o&&-1!==i&&i<a.lastIndexOf(n)&&(a="mailto:"+a)&&(o=!0),t[s.trim()]=o?a:"http://"+a;break}}}return t},processURLS:function(e){if("string"!=typeof e||-1===e.indexOf("."))return e;var t,a,i,n,o,s,d=cf.findURLS(e),l=r.sys.protocols,c=l.length,u=new RegExp(/<a/gi),f=new RegExp(/<\/a>/gi);for(var g in d){for(a=g,t=c,g=g.replace("&#58;",":");t--;)"www."===(g=g.replace(l[t]+"://","")).substr(0,4)&&(g=g.substr(4)),g.length>46&&(g=g.substr(0,46)+"&hellip;");i=e.indexOf(a),n=e.substr(0,i),o=u.exec(n),s=f.exec(n),(o=o&&o.length||0)===(s=s&&s.length||0)&&(e=e.replace(a,'<a href="'+d[a]+'" target="_blank" class="'+cf.css.link+'" id="xdl-url-'+cf.memory.urlcounter+++'">'+g+"</a>"))}return e},unescapeRichText:function(e){if("string"==typeof e){var t="\x3c!--xdl-rich--\x3e";if("string"==typeof e&&e.length>1&&(e.length<=t.length||e.substr(0,t.length)!==t))return cf.htmlentitiesdecode(e)}return e},htmlentitiesencode:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;"};return e.replace(/[&<>]/g,function(e){return t[e]||e})},htmlentitiesdecode:function(){var e=a("<textarea/>");return function(t){if(t&&"string"==typeof t){var a=t.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,"");return a=e.html(a).text(),e.html(""),a}return t}}(),isRichText:function(e){var t="\x3c!--xdl-rich--\x3e";return!("string"==typeof e&&e.length>1&&(e.length<=t.length||e.substr(0,t.length)!==t))},selectText:function(a){var i=t,n=a[0]||a;if(i.body.createTextRange){var r=t.body.createTextRange();r.moveToElementText(n),r.select()}else if(e.getSelection){var o=e.getSelection(),s=t.createRange();s.selectNodeContents(n),o.removeAllRanges(),o.addRange(s)}},selectedText:function(){if(t.selection)return t.selection.createRange().htmlText;try{return a("<div>").append(a(e.getSelection().getRangeAt(0).cloneContents())).html()}catch(e){}return""},caretPos:function(a,i){if(a){if(void 0===i){var n,r=a,o=0,s=r.ownerDocument||r.document,d=s.defaultView||s.parentWindow;if("INPUT"===a.tagName||"TEXTAREA"===a.tagName)try{if(t.selection){var l=t.selection.createRange();l.moveStart("character",-a.value.length),o=l.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(o=a.selectionStart)}catch(e){}else if(void 0!==d.getSelection){if((n=d.getSelection()).rangeCount>0){var c=d.getSelection().getRangeAt(0),u=c.cloneRange();u.selectNodeContents(r),u.setEnd(c.endContainer,c.endOffset),o=u.toString().length}}else if((n=s.selection)&&"Control"!=n.type){var f=n.createRange(),g=s.body.createTextRange();g.moveToElementText(r),g.setEndPoint("EndToEnd",f),o=g.text.length}return o}if(a.setSelectionRange){if(a.focus(),!["number","hidden","submit","radio","checkbox","file"].includes(a.type))try{a.setSelectionRange(i,i)}catch(e){}}else if(a.createTextRange){var p=a.createTextRange();p.collapse(!0),p.moveEnd("character",i),p.moveStart("character",i),p.select()}else{var h=t.createRange(),m=e.getSelection();try{h.setStart(a.childNodes[0],i),h.collapse(!0),m.removeAllRanges(),m.addRange(h)}catch(e){}}}},getSelectionPositions:function(e){var a={start:0,end:0};if("number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd)a.start=e.selectionStart,a.end=e.selectionEnd;else if(t.selection){var i=t.selection.createRange().getBookmark(),n=e.createTextRange(),r=n.duplicate();n.moveToBookmark(i),r.setEndPoint("EndToStart",n),a.start=r.text.length,a.end=a.start+n.text.length}return a},is_slice:function(e){return void 0!==e.xds}}),r=cf.gbl={init:function(a,i){var n={app:"static/xdl/app/",new:"core/create.json/",create:"core/create.json/",commit:"core/commit/",copy:"core/copy/",core:"static/xdl/core/",csvexport:"core/export.csv/",custom:"xds/",delete:"core/delete.json/",dl:"core/nodedl/",images:"static/xdl/images/",inline:"p/{{xds}}/{{nid}}",link:"core/link.json/",lib:"static/lib/thirdparty/",load:"core/load/",loadP:"p/",loadPLong:"page/",loadPage:"p/{{xds}}/{{nid}}",loadPageController:"{{controller}}/{{xds}}/{{nid}}",loadPageParam:"p/{{xds}}/{{nid}}?{{params}}",printPage:"print/{{xds}}/{{nid}}",printPageParam:"print/{{xds}}/{{nid}}?{{params}}",modules:cf.settings.jsver?"static/compiled/".concat(cf.settings.jsver,"/modules/"):"static/xdl/modules/",move:"core/move.json/",multinode:"core/multinode.json/",node:"core/node.json/",nestednode:"core/nestednode.json/",nodes:"nodes/",open_node:"core/node.json/",nodetag:"core/nodetag.json/",open:"core/node.json/",putfield:"core/putlink/",putfieldJSON:"core/putlink.json/",register:"core/register.json/",resource:"static/compiled/"+cf.settings.jsver+"/bundled/",bundles:"static/compiled/"+cf.settings.jsver+"/bundles/",rsrc:"static/xdl/resources/",search:"core/search.json/",static:"static/",xdl:cf.settings.jsver?"static/compiled/".concat(cf.settings.jsver,"/"):"static/xdl",xds:"static/xdl_min/xds/",xdsresource:"load/xdsrez/"};if(cf.settings.jsver&&i&&(n.lib="".concat(n.xdl,"thirdparty/")),!cf.settings.dev){for(var o in n)0==n[o].indexOf("static/xdl/")&&(n[o]=n[o].replace("static/xdl/",n.resource));n.images="".concat(n.xdl,"/images"),n.rsrc="".concat(n.xdl,"/resources/")}if(n.putlink=n.putfield,"undefined"!=typeof cfNative){r.server=cfNative.server;var s=t.createElement("a");s.setAttribute("href",r.server),r.host=s.host}else!e.CoreMobile||r.host||r.protocol?(r.host||(r.host=location.host),r.protocol||(r.protocol=location.protocol+"//"),r.server=r.protocol+r.host):(r.host=CoreMobile.host,r.protocol=CoreMobile.protocol,r.server=CoreMobile.server);for(var d in r.p=r.server+"/",n)"bundles"===d&&cf.settings.cdn&&cf.settings.cdn.code?r[d]="".concat(cf.settings.cdn.code).concat(cf.settings.jsver,"/bundles/"):r[d]=r.p+n[d];if(!cf.settings.dev){var l="/xdl_min/";r.app=r.app.replace("/xdl/",l),r.core=r.core.replace("/xdl/",l),r.rsrc=r.rsrc.replace("/xdl/",l)}if(!i||cf.settings.dev){var c=(new Date).getTime();cf.settings.jsver&&!cf.settings.dev&&(c=cf.settings.jsver),cf.settings.dev?r.resource=r.p+"load/resource/":r.resource=r.p+"load/resource/"+c+"/"}cf._initialized=!0},page:"#cfload"},cf.types={update_setting:function(e){if(void 0!==e.data){var t=e.data;if(e.arg("parseInt")&&"string"==typeof t)try{t=parseInt(t)}catch(e){}cf.settings[e.xds.id]=t}e.inherit("sys")},testLoggedIn:function(e){cf.gbl.loggedIn&&cf.gbl.user.base!==e.xds_full.id&&e.newEvent("loadBase")},help:{section:function(){return!1}},popout:function(e){e.showTitle=!1,e.xds.icon="popout",e.inherit("icon").tag("a",1,{alt:e.arg("title")||""})},del:function(e){var t={preventDefault:!0,command:e.arg("command")||"delete",xds:e.arg("xds"),nid:e.cnid()};e.arg("forceNid")&&(t.nid=e.arg("forceNid")),e.arg("force")&&(t._force=1),e.arg("mode","red").inherit("button").on("click",function(e){e.isDefaultPrevented()||e.event("post",t)}).on("posted",function(e,t){e.trigger("deleted"),t.trigger("deleted")})},makeLink:function(e){e.arg("nid",e.get_val("nid",e.arg("destSource")||"user")),e.arg("command","link"),e.has_write()||e.arg("formReadOnlyGlobal",!1),e.inherit("form").preclosetag(f.input({name:"_dest",value:e.get_val("nid"),type:"hidden"}))},email:function(e){e.tag("p")},bookMarkPreview:function(e){var t=e.get_val();if(!t||!(t.thumbnail||t.video||t.title||t.description||"photo"==t.type))return!1;"photo"==t.type&&(t.thumbnail=t.href),a.extend(e.data,{left:{thumbnail:t.thumbnail?cf.get_func("files.utils.embedExternalImageURI")(e,t.thumbnail):void 0,video:t.video,url:t.url||t.href},right:{title:t.title||cf.lang("No Title Available"),description:t.description||cf.lang("No Description Available")}}),t.video||e.posttag('<a href="'+t.href+'" title = "'+t.href+'" target="_blank">').preclosetag("</a>")},embedVideo:function(e){var t=e.get_val(),a='<img src = "'+cf.get_func("files.utils.embedExternalImageURI")(e,e.get_val("thumbnail","siblings"))+'">';t&&(t=cf.htmlentitiesdecode(t),e.get_val("thumbnail","siblings")||(a=""),e.displayVal=" ",cf.platform.mobile&&cf.platform.native?e.tag().on("click",function(e,t){cf.links.openUrl(e.get_val("url"),"_blank")}):e.tag().posttag(a).on("click",function(e,a){if(e.arg("clickFunc")&&"lightbox"!=e.arg("clickFunc"))cf.is_func(e.arg("clickFunc"))&&e.arg("clickFunc")(e,a)||cf.is_str(e.arg("clickFunc"))&&cf.get_func(e.arg("clickFunc"))(e,a);else if(e.arg("lightbox")||"lightbox"==e.arg("clickFunc"))e.event("lightbox",{content:t});else{a.html(t);var i=e.dom();if(i.length){var n=i.parents(p.cont).attr("id");void 0!==u.events[n]&&delete u.events[n]["#"+i.attr("id")]}}}))}},o=cf.fn={setUnread:function(e,t,a){if(e.args.target&&a){var i=e.get_target(e.args.target,1),n=cf.get_obj(i);if(n&&i.length){var r=1===a&&n.arg("title1")||n.arg("title");i.html(cf.tpl(r,{unread:a})),i.removeClass("hidden")}}},thread:function(e,t,i){var n={nid:e.args&&e.args.callernid||e.get_val("nid","node")||e.caller()&&e.caller().get_val("nid","node"),append:!0,command:"create",func:function(t){t.slice;var a=t.target,n=e.get_val("thread"),r=a.find("[name=thread]");r.length?r.val(n):a.find("form").append(f.input({type:"hidden",name:"thread",value:n})),i&&i.inreplyto&&a.find("form").children('[name="replyToNode"]').val(i.inreplyto),i&&i.inreplytouser&&a.find("form").children('[name="replyToUser"]').val(i.inreplytouser)},target:e.get_parent(!0)};a.extend(n,e.args),e.args=n,o.loadxds(e,t)},bookmarkSetup:function(i,n){if(cf.settings.oembed){var s=function(e){if(e.length<5)return!1;e.indexOf("//:")<0&&(e="https://"+e);var a,i=t.createElement("a");return i.setAttribute("href",e),""!==i.host&&(a=i.host,!/^[0-9\.]+$/.test(a)&&!!function(e){return/^(((?!-))(xn--|_{1,1})?[a-z0-9-]{0,61}[a-z0-9]{1,1}\.)*(xn--)?([a-z0-9\-]{1,61}|[a-z0-9-]{1,30}\.[a-z]{2,})$/.test(e)}(i.host)&&"local"!=i.host.split(".").pop()&&("https:"===i.protocol||"http:"===i.protocol||void 0))},d=function(e){if("string"!=typeof e)return[];for(var t=(e||"").match(/(\r+|\n+|\s+|^)(((http|https):\/\/)?)+([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?(\s+|$)/g)||[],a={},i=0;i<t.length;i++){var n=t[i].trim();s(n)&&(a[n]=1)}return Object.keys(a)},l=(n.find("input, textarea").val(),i.args.xds),c=i.args.target,u=i.parents("form");if(u.find(".xds-submit").on("click",function(e){var t=i.ref(),a=cf.get_obj(u);a&&y(t,a.ref())(!0),!i.temp.scraped&&i.temp.hasUrl&&(clearTimeout(i.temp.timer),e&&e.stopPropagation&&(e.stopPropagation(),e.preventDefault()))}),u.xdo){var f=d(cf.htmlentitiesdecode(i.get_val()));u.xdo.temp.initialUrls={};var g=f.values(),p=!0,h=!1,m=void 0;try{for(var v,b=g[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var _=v.value;u.xdo.temp.initialUrls[_]=1}}catch(e){h=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(h)throw m}}}i.temp.lastKeyUp=0;var y=function e(t,i){return function(s){var u,f=t.resolve(),g=i.resolve();if(f&&g){if(g=g.dom(),(new Date).getTime()-f.temp.lastKeyUp<400||s)return void(f.temp.timer=setTimeout(e(t,i),1e3));var p=n.find("input, textarea").val();if(g.xdo&&g.xdo.temp.urlhandler){var h=d(p).values(),m=!0,v=!1,b=void 0;try{for(var _,y=h[Symbol.iterator]();!(m=(_=y.next()).done);m=!0){var x=_.value;g.xdo.temp.initialUrls&&g.xdo.temp.initialUrls[x]||g.xdo.temp.urlhandler(x)}}catch(e){v=!0,b=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}f.temp.timer=setTimeout(e(t,i),1e3)}else if(f.temp.bookmarkSetupPrevVal!==p&&!s||u)f.temp.bookmarkSetupPrevVal=p,f.temp.timer=setTimeout(e(t,i),1e3);else{var w=d(p),C={};if(p.includes(cf.gbl.server+"/p/PermaLink/")&&!p.includes(" ")&&0===w.length&&(w[0]=p),void 0===f.temp.hasUrl)for(var k in w)C.url=w[k],f.temp.hasUrl=!0;if(!0===f.temp.hasUrl&&void 0===f.temp.scraped){s&&(u=!0),s&&(u=!0,cf.get_func("stale_form")(f,n.parents("form"))),f.temp.scraped=!0;var S={command:r.p+"load/embed.json/",scrape:C.url,target:f.dom(),append:!0,noForm:!0,func:function(e){var t=e.slice;f.find(".xds-loading").remove(),t=t.data,f.get_target(c,1).val(C.url),n.find(".bookMarkPreview-right").append('<span class="xds-sprite bookMarkPreview-remove xds-confirmDelete-icon">x</span>'),n.find(".bookMarkPreview-remove").on("click",function(e){e.stopPropagation(),e.preventDefault(),f.get_target(c,1).val(""),n.find(".bookMarkPreview").html(""),f.trigger("bookmarkPreviewRemoved")}),s&&(f.fresh=!0,cf.get_func("stale_form")(f,n.parents("form")),n.parents("form").trigger("submit")),f.trigger("bookmarkPreviewed",{bookmark:t}),f.temp._readyToPost=!0},xds:l};a.extend(f.args,S),f.dom().length>0&&o.loadxds(f)}else f.temp.timer=setTimeout(e(t,i),1e3)}}}},x=cf.get_obj(u);if(x){var w=x.ref(),C=i.ref();i.temp.timer=setTimeout(y(C,w),1e3),i.on("keyup",function(){i.temp.lastKeyUp=(new Date).getTime()}).on("paste",function(){e.clearTimeout(i.temp.timer),y(C,w)(!0)}).on("change",function(){e.clearTimeout(i.temp.timer),y(C,w)(!0)}).on(cf.$css.removed,function(){e.clearTimeout(i.temp.timer)})}i.dom().addClass(cf.$css.removed)}},clearpbit:function(e,t){var a=parseInt(cf.lookup("pbits",e.args.pbit).val()),i=cf.user.pbits;a&&i&&a&i&&(i^=a,e.args={xds:e.args.xds||e.xds.xds,nid:cf.gbl.uid,data:{pbits:i}},cf.get_func("post")(e,e.dom()),e.dom().on("posted",function(){cf.user.pbits=i}))},copy:function(e,t,a){var i=cf.tpl(e.args.source,e),n=cf.tpl(e.args.dest,e),r=e.args,o={},s={nid:i,command:"copy",xds:e.args.xds};e.args._new&&(s._new=e.args._new,delete e.args._new);var d=cf.gen_url(s);for(var l in delete e.args.xds,delete e.args.source,delete e.args.dest,r)o[l]=r[l];e.args.data=o,e.args.data._dest=n,e.args.action=d},newMessage:function(e,t){var a=[{value:e.get_val("nid"),display:e.get_val("name")}];a._r=!1,e.args.data={to:a},e.event("lightbox")},loadBase:function(e,t,a){e.args={xds:cf.gbl.user.base,nid:cf.gbl.user.nid,direction:"backwards"},cf.get_func("loadPage")(e,t,a)},get_data:cf.get_data,close:function(e,t){var i=e.get_target(e.args.target,1),n=e.args.className,r=function(){i.hide().trigger("xds-close"),n&&t.removeClass(n)};cf.document.on("xds-esc",r),cf.document.on("click",function(t){t.target&&!a("#"+t.target.id).parents(e.id()).length&&e.id()!=="#"+t.target.id&&r()})}},cf.storage=cf.storageProxy,cf.bootstrap=openSesame}(window,document,$);var moddefs=function(e){e.initSettings({bundles:{admin:{resources:{DebugManager:1}},administrative:{modules:{featuremanager:1},resources:{BaseSysAdminMobile:1,NodemapXCreate:1,NodemapXDeleteView:1}},attendance:{modules:{attendance:1,attendance_forms:1},resources:{Attendance:1,AttendanceIncident:1,AttendanceMobile:1,ExcuseForm:1,ExcuseFormAttendance:1}},builder:{resources:{AppBuilder:1,AppBuilderDirect:1,AppBuilderEdit:1,AppBuilderEditor:1,AppBuilderEvents:1,AppBuilderFilters:1,AppBuilderInline:1,AppBuilderInlineController:1,AppBuilderInlineEdit:1,AppBuilderLayout:1,AppBuilderList:1,AppBuilderMasterSettings:1,AppBuilderNested:1,AppBuilderPermissions:1,AppBuilderQuickList:1,AppBuilderStatusView:1,AppBuilderStyles:1,AppBuilderTable:1,AppBuilderTabs:1}},debugger:{resources:{Debugger:1}},emergency:{resources:{Emergency:1}},evidence:{resources:{Evidence:1,EvidenceCard:1,EvidenceCollaborate:1,EvidenceGather:1,EvidenceGatherForm:1,EvidenceGatherFrameStandardSelector:1,EvidenceGatherPhoto:1,EvidenceOrganize:1,EvidenceStickyNote:1}},files:{modules:{albums:1,code:1,csv:1,sheets:1},resources:{albumSmartGrid:1,compoundFileThumbnail:1,embeddedFileViewer:1,fileView:1,fileViewer:1,fileViewerFeed:1,galleryFullScreen:1}},folders:{modules:{dynamicrenderers:1,folders:1},resources:{FolderCore:1,FolderIconBase:1,FolderManageTags:1,FolderRowBase:1,libraryItem:1,librarycore:1}},general:{modules:{approvals:1,htmlprint:1,jobprogress:1,localfiles:1,organizer:1,print:1,rcattendance:1,rcbasiccontrols:1,rccomments:1,rcgradebook:1,rcgradprogress:1,rcprintlauncher:1,rcstandards:1,rcutils:1,registerparent:1,registrations:1,relationmatrix:1,reportcards:1,scheduler:1,scorm:1,searchutils:1,sel:1,snippets:1,ss:1,standards:1,submanager:1,svg:1,tabbedform:1,timer:1,trafficlight_performance:1,uservoice:1,videomeeting:1},resources:{AddStaffToSchool:1,AdminMappingScheme:1,AdmitSlip:1,AlbumLightbox:1,AlbumLightboxMobile:1,AllClasses:1,AnalysisCard:1,AnalysisNoteCreate:1,AnnotationPlugin:1,Approval:1,ApprovalBulkPrint:1,AssignToControl:1,AssignmentConflictDetector:1,AssignmentGrading:1,AssignmentOnlineSubmission:1,AttendanceCalendar:1,AuthO365:1,ButtonBoxPicker:1,CaptureEvidence:1,CartridgeImportProgress:1,ChildClassListItem:1,ClassBlock:1,ClassPickerControl:1,CommentImporter:1,ConferenceMemberList:1,CourseDetailedProgressView:1,CoursePlanCopier:1,CoursePlanMobile:1,CreateDuty:1,DashboardBase:1,DebugMonitor:1,DefaultAnnotationPlugin:1,DisableNotifications:1,DistrictZoomSummary:1,ESubmitAssignment:1,EditComment:1,EditSchoolReportCardOptions:1,EdsbyImageAnnotationPlugin:1,EmbedPowerBI:1,EvidenceCardV2:1,EvidenceCollaborateFeed:1,EvidenceGatherStudentSelector:1,EvidenceOrganizeLegacy:1,EvidenceOrganizeV2:1,EvidenceReply:1,FancyPicker:1,FullAnalytics:1,GradebookSummarySetup:1,GraderHost:1,GroupRosterLightbox:1,GroupRosterPrintList:1,GroupRosters:1,HeaderPage:1,ImageAnnotationPlugin:1,IntegrationPickerWindow:1,LODefaultEdit:1,LODiscussionAssess:1,LOFile:1,LOR:1,LORFeedItemBody:1,LOVideoEdit:1,LTIDeepLinkComplete:1,LTIEditApplication:1,LTILaunch:1,LTILink:1,LTIResourceSearch:1,LearningStory:1,LearningStoryEvidenceCard:1,LearningStoryRiver:1,LinkSecondaryIdentity:1,LiveDocAnnotationPlugin:1,LiveDocTearOff:1,MailboxConversation:1,MobileGroupsList:1,MultiPerspectiveAnalyze:1,MultiPerspectiveAnalyzeFeed:1,MultiPerspectiveStudentPicker:1,MyWork:1,MyWorkAssessmentComponent:1,MyWorkAssessmentPane:1,MyWorkAssessments:1,MyWorkAttendance:1,MyWorkChart:1,MyWorkSubmittedAssessmentFiles:1,NavigationHeader:1,OnlineTestAssessmentInfo:1,OnlineTestSubmissionList:1,OnlineTestTake:1,OnlineTestViewSubmissions:1,PDFAnnotationPlugin:1,Panorama:1,PanoramaInformationStudent:1,PanoramaMobile:1,ParentDetails:1,PerformanceWidget:1,PermaLinkEmbed:1,Perspective:1,PerspectiveChart:1,PlacesCreate:1,PlacesSetup:1,Planner:1,PlannerNotesAndFiles:1,Portfolio:1,PortfolioCardPost:1,PortfolioEdit:1,PortfolioFeedPost:1,PortfolioPost:1,Profile:1,ProfileEdit:1,ProfileProfile:1,ProfileProfpic:1,ProgressReport:1,ProgressReportMulti:1,QuestionBankPicker:1,Register:1,ReportCardFill:1,ReportCardReview:1,ReportInappropriate:1,ReportingPeriodDetails:1,ReportingPeriodExport:1,ReportingPeriodZoomBase:1,RequestInviteForm:1,RosterPrintRubric:1,RubricCreate:1,RubricGrade:1,SELCheckin:1,SELSummary:1,SELTeacherStrategies:1,SELUserSummary:1,ScheduleCalendar:1,ScheduleEdit:1,School:1,SchoolNews:1,SchoolZoomSummary:1,Search:1,SearchResults:1,SeatingPlan:1,SecurityWarning:1,SetReportCardTemplate:1,ShoppingCart:1,StandardsPicker:1,StandardsWidget:1,StudentCheckboxPicker:1,StudentReportCard:1,StudentRiskIndicators:1,StudentSelectorComponent:1,StudentSelectorDisplay:1,StudentSelectorPicker:1,SubjectPicker:1,TOCSummary:1,TOU:1,TeacherDetails:1,TeacherFeedPost:1,TeacherInterviews:1,TextAnnotator:1,Timetable:1,VideoProviderBase:1,ViewGradesHeader:1,ZoomAttendanceBase:1,ZoomBase:1,accountDetails:1,addParent:1,albumCarousel:1,assessmentGroupPicker:1,assessmentUnitPicker:1,assignment:1,assignmentReadOnly:1,attachmentList:1,bookPlan:1,bookPlanEntryReadOnly:1,bookPlanGearMode:1,bookPlanLesson:1,bookPlanLessonEntry:1,bookPlanLessonReadOnly:1,broadcastNew:1,classSetup:1,classSetupPage:1,classSetupSEL:1,classTimetable:1,collapsibleChip:1,collapsibleSection:1,editParent:1,editParents:1,editSettings:1,editSettingsInterests:1,group:1,groupRecommender:1,interestsTagFields:1,launchpad:1,libraryItemViewer:1,libraryPicker:1,librarytools:1,notifications:1,runUnitTests:1,scrollingNewsLightbox:1,searchFeed:1,searchPicker:1,sysAppNodesMobile:1,sysCommandHistogram:1,sysSystemChart:1,tagPicker:1,teachersBook:1,userPicker:1,viewParentsMatrix:1,webResources:1,xdsGroups:1,xdsTest:1}},gradebook:{modules:{gradebook:1},resources:{EmergencySetup:1,GradebookGradeSchemePicker:1,GradebookWeighting:1,dataBook:1,dataBookCommentList:1,dataBookFeed:1,dataBookImport:1}},knowledge:{resources:{Knowledge:1,KnowledgeMobile:1,knowledgeBase:1,knowledgeBaseCreate:1,knowledgeBaseEdit:1,knowledgeBaseEditPage:1,knowledgeBaseEntryMobile:1,knowledgeBaseOutline:1}},messaging:{resources:{Messages:1,MessagesReply:1,MessagesViewThread:1,MessagesViewThreadHeader:1}},mobile:{resources:{MobileChildrenList:1,MobileClassList:1,MobileClassPage:1,MobileFeedItem:1,MobileGroupList:1,MobileGroupsHome:1,MobileHome:1}},onlinetest:{resources:{OnlineTestCreate:1,OnlineTestGrade:1,OnlineTestGradeBody:1,OnlineTestTakeBody:1}},perspective:{resources:{MultiPerspective:1,MultiPerspectiveChart:1,MultiPerspectiveExpectations:1,MultiPerspectiveExpectationsCoverage:1,MultiPerspectiveExpectationsCoverageInlineObservation:1,MultiPerspectiveExpectationsInlineObservation:1,MultiPerspectiveExpectationsRow:1,MultiPerspectiveGadget:1,MultiPerspectiveGradeHeader:1,MultiPerspectiveObservations:1}},perspectiveprint:{resources:{PerspectivePrint:1,PerspectivePrintAssessment:1}},phase1:{modules:{experiments:1,f_ttdate:1,help:1,integrations:1,scormrte:1,sketchpad:1},resources:{AssignmentSubmissionButton:1,BaseActivity:1,BaseActivityMobile:1,BaseChild:1,BaseGeneric:1,BaseParent:1,BaseParentStudentMobile:1,BasePlaces:1,BaseStudentViewGrades:1,BaseStudentViewGradesMobile:1,BreadCrumbs:1,Calendar:1,CalendarEvent:1,CalendarPanel:1,CalendarPanelMonth:1,CalendarPunchThru:1,ClassList:1,ClassStudentRoster:1,CourseFeed:1,CourseSidebar:1,FeedItemComponent:1,LightboxComponent:1,MasterMobileControls:1,MobileChildrenList:1,MobileClassList:1,MobileClassPage:1,MobileFeedItem:1,MobileGroupList:1,MobileGroupsHome:1,MobileHome:1,UserSidebar:1,VideoGoLiveButton:1,pinned:1,studentCourseOutline:1}},phase2:{modules:{alerts:1,hover:1,planner:1,polls:1,toc:1},resources:{AffectedState:1,CartridgeView:1,ClassCrossPostPicker:1,ClassJournal:1,CourseHeader:1,CourseJournalEntry:1,CoursePicker:1,CreatePoll:1,CrossPoster:1,LOPreviewModelContent:1,Like:1,Place:1,PlacesBrowse:1,RosterBase:1,boardCourseOutline:1,journalOutline:1,newsFeedItem:1,placeCommands:1}},phase3:{modules:{LearningSupportRegistry:1,capture:1,carousel:1,charts:1,zooms:1},resources:{UberPlanner:1}},portfolio:{modules:{brick:1}},print:{modules:{avery:1,grid:1}},pti:{modules:{pti:1,tzaware:1},resources:{ParentInterviews:1}},public:{resources:{BasePublic:1,LoginAssistance:1,loginform:1,scrollingNews:1}},reportcard:{resources:{ReportCard:1,ReportCardPerspectiveInspector:1,ReportCardPrintTemplate:1,ReportCommentFilterButton:1}},rosters:{modules:{roster:1}},wysiwyg:{modules:{language:1},resources:{CartridgeRichEditor:1}}},constants:{lang:{tags:{dateFormat:"date",web:"web"}}},imagesizes:[[192,192,!0],[128,128,!0],[100,100,!0],[64,64,!0],[32,32,!0],[16,16,!0],[1024,null,!0],[640,null,!0],[250,null,"alt"],[100,null,!0]],modules:{LearningSupportRegistry:3,accessory:7,acharts:7,addresources:7,admin:7,albums:3,alerts:1,animations:5,approvals:1,attendance:1,attendance_forms:3,attendance_public:5,avery:3,brick:3,broadcast:5,capture:3,carousel:3,cfnp:5,charts:3,code:1,controls:7,copier:7,crypt:5,cssvar:5,csv:3,dd:7,dragdrop:7,ds:7,dynamicfunctions:5,dynamicrenderers:1,edsby:7,evals:5,experiments:1,extvideo:7,f_ttdate:3,fa:7,facets:7,featuremanager:3,feeds:7,files:7,folders:3,forms:7,gradebook:1,grid:3,guid:5,help:3,hover:1,htmlprint:3,integrations:1,jobprogress:1,language:1,layout:7,lightbox:7,localfiles:1,localforage:5,log:5,logos:5,math:7,media:5,msoffice:7,neweditors:7,nodedefs:5,notif:7,organizer:1,performance:5,pickers:7,planner:1,polls:3,presence:7,print:3,pti:3,push:5,qr:5,queues:5,rcattendance:1,rcbasiccontrols:1,rccomments:1,rcgradebook:1,rcgradprogress:1,rcprintlauncher:1,rcstandards:3,rcutils:3,registerparent:1,registrations:3,relationmatrix:3,reportcards:3,resourceutils:5,responsive:7,richforms:7,richtext:7,richtext2:7,roster:3,sanitizer:5,scheduler:3,scorm:1,scormrte:1,searchutils:3,seenby:5,sel:3,selectionmanager:7,sheets:1,sketchpad:1,snippets:1,ss:3,st:7,standards:1,submanager:3,svg:3,system:7,tabbedform:3,tables:7,timer:3,toc:1,touch:7,trafficlight_performance:3,tzaware:1,upload:7,url:5,uservoice:1,videomeeting:1,virus:5,windows:5,wysiwyg:7,wysiwyg2:5,zendesk:7,zoomable:5,zooms:3},resources:{AddStaffToSchool:1,AdminMappingScheme:1,AdmitSlip:3,AffectedState:3,AlbumLightbox:3,AlbumLightboxMobile:3,AllClasses:1,AnalysisCard:2,AnalysisNoteCreate:3,AnnotationPlugin:3,AppBuilder:3,AppBuilderDirect:1,AppBuilderEdit:1,AppBuilderEditor:3,AppBuilderEvents:1,AppBuilderFilters:1,AppBuilderInline:3,AppBuilderInlineController:1,AppBuilderInlineEdit:3,AppBuilderLayout:3,AppBuilderList:1,AppBuilderMasterSettings:3,AppBuilderNested:3,AppBuilderPermissions:1,AppBuilderQuickList:1,AppBuilderStatusView:1,AppBuilderStyles:3,AppBuilderTable:3,AppBuilderTabs:3,Approval:2,ApprovalBulkPrint:1,AssignToControl:3,AssignmentConflictDetector:3,AssignmentGrading:3,AssignmentOnlineSubmission:1,AssignmentSubmissionButton:3,Attendance:3,AttendanceCalendar:3,AttendanceIncident:2,AttendanceMobile:3,AuthO365:1,BaseActivity:1,BaseActivityMobile:2,BaseChild:3,BaseGeneric:3,BaseParent:2,BaseParentStudentMobile:2,BasePlaces:2,BasePublic:2,BaseStudentViewGrades:3,BaseStudentViewGradesMobile:3,BaseSysAdminMobile:2,BreadCrumbs:3,ButtonBoxPicker:3,Calendar:3,CalendarEvent:3,CalendarPanel:3,CalendarPanelMonth:1,CalendarPunchThru:3,CaptureEvidence:1,CartridgeImportProgress:1,CartridgeRichEditor:1,CartridgeView:3,ChildClassListItem:2,ClassBlock:2,ClassCrossPostPicker:3,ClassJournal:3,ClassList:3,ClassPickerControl:1,ClassStudentRoster:2,CommentImporter:1,ConferenceMemberList:3,CourseDetailedProgressView:3,CourseFeed:1,CourseHeader:2,CourseJournalEntry:3,CoursePicker:2,CoursePlanCopier:1,CoursePlanMobile:2,CourseSidebar:2,CreateDuty:1,CreatePoll:3,CrossPoster:3,DashboardBase:1,DebugManager:3,DebugMonitor:3,Debugger:3,DefaultAnnotationPlugin:2,DisableNotifications:3,DistrictZoomSummary:2,ESubmitAssignment:2,EditComment:1,EditSchoolReportCardOptions:1,EdsbyImageAnnotationPlugin:1,EmbedPowerBI:1,Emergency:3,EmergencySetup:2,Evidence:1,EvidenceCard:3,EvidenceCardV2:3,EvidenceCollaborate:1,EvidenceCollaborateFeed:2,EvidenceGather:3,EvidenceGatherForm:1,EvidenceGatherFrameStandardSelector:3,EvidenceGatherPhoto:3,EvidenceGatherStudentSelector:2,EvidenceOrganize:3,EvidenceOrganizeLegacy:3,EvidenceOrganizeV2:3,EvidenceReply:2,EvidenceStickyNote:2,ExcuseForm:3,ExcuseFormAttendance:2,FancyPicker:3,FeedItemComponent:3,FolderCore:3,FolderIconBase:3,FolderManageTags:1,FolderRowBase:3,FullAnalytics:1,GradebookGradeSchemePicker:1,GradebookSummarySetup:3,GradebookWeighting:3,GraderHost:3,GroupRosterLightbox:2,GroupRosterPrintList:2,GroupRosters:2,HeaderPage:2,ImageAnnotationPlugin:3,IntegrationPickerWindow:3,Knowledge:3,KnowledgeMobile:2,LODefaultEdit:1,LODiscussionAssess:1,LOFile:3,LOPreviewModelContent:1,LOR:1,LORFeedItemBody:3,LOVideoEdit:3,LTIDeepLinkComplete:1,LTIEditApplication:1,LTILaunch:1,LTILink:1,LTIResourceSearch:3,LearningStory:2,LearningStoryEvidenceCard:2,LearningStoryRiver:2,LightboxComponent:3,Like:3,LinkSecondaryIdentity:2,LiveDocAnnotationPlugin:1,LiveDocTearOff:1,LoginAssistance:2,MailboxConversation:3,MasterMobileControls:3,Messages:3,MessagesReply:1,MessagesViewThread:3,MessagesViewThreadHeader:1,MobileChildrenList:2,MobileClassList:2,MobileClassPage:2,MobileFeedItem:2,MobileGroupList:2,MobileGroupsHome:2,MobileGroupsList:2,MobileHome:3,MultiPerspective:3,MultiPerspectiveAnalyze:3,MultiPerspectiveAnalyzeFeed:3,MultiPerspectiveChart:3,MultiPerspectiveExpectations:1,MultiPerspectiveExpectationsCoverage:1,MultiPerspectiveExpectationsCoverageInlineObservation:1,MultiPerspectiveExpectationsInlineObservation:1,MultiPerspectiveExpectationsRow:3,MultiPerspectiveGadget:2,MultiPerspectiveGradeHeader:2,MultiPerspectiveObservations:3,MultiPerspectiveStudentPicker:3,MyWork:3,MyWorkAssessmentComponent:3,MyWorkAssessmentPane:3,MyWorkAssessments:3,MyWorkAttendance:1,MyWorkChart:1,MyWorkSubmittedAssessmentFiles:2,NavigationHeader:3,NodemapXCreate:3,NodemapXDeleteView:3,OnlineTestAssessmentInfo:3,OnlineTestCreate:3,OnlineTestGrade:3,OnlineTestGradeBody:3,OnlineTestSubmissionList:3,OnlineTestTake:3,OnlineTestTakeBody:3,OnlineTestViewSubmissions:3,PDFAnnotationPlugin:3,Panorama:3,PanoramaInformationStudent:2,PanoramaMobile:2,ParentDetails:2,ParentInterviews:2,PerformanceWidget:3,PermaLinkEmbed:2,Perspective:2,PerspectiveChart:3,PerspectivePrint:3,PerspectivePrintAssessment:2,Place:3,PlacesBrowse:3,PlacesCreate:1,PlacesSetup:2,Planner:3,PlannerNotesAndFiles:1,Portfolio:3,PortfolioCardPost:2,PortfolioEdit:2,PortfolioFeedPost:2,PortfolioPost:2,Profile:2,ProfileEdit:2,ProfileProfile:2,ProfileProfpic:1,ProgressReport:3,ProgressReportMulti:3,QuestionBankPicker:3,Register:1,ReportCard:3,ReportCardFill:3,ReportCardPerspectiveInspector:3,ReportCardPrintTemplate:1,ReportCardReview:3,ReportCommentFilterButton:1,ReportInappropriate:3,ReportingPeriodDetails:3,ReportingPeriodExport:2,ReportingPeriodZoomBase:3,RequestInviteForm:2,RosterBase:2,RosterPrintRubric:3,RubricCreate:3,RubricGrade:3,SELCheckin:2,SELSummary:2,SELTeacherStrategies:1,SELUserSummary:2,ScheduleCalendar:3,ScheduleEdit:3,School:3,SchoolNews:1,SchoolZoomSummary:2,Search:3,SearchResults:3,SeatingPlan:3,SecurityWarning:2,SetReportCardTemplate:2,ShoppingCart:1,StandardsPicker:3,StandardsWidget:3,StudentCheckboxPicker:3,StudentReportCard:3,StudentRiskIndicators:2,StudentSelectorComponent:3,StudentSelectorDisplay:1,StudentSelectorPicker:3,SubjectPicker:2,TOCSummary:1,TOU:3,TeacherDetails:2,TeacherFeedPost:3,TeacherInterviews:2,TextAnnotator:1,Timetable:3,UberPlanner:3,UserSidebar:3,VideoGoLiveButton:1,VideoProviderBase:1,ViewGradesHeader:2,ZoomAttendanceBase:3,ZoomBase:3,accountDetails:3,addParent:3,albumCarousel:2,albumSmartGrid:2,assessmentGroupPicker:3,assessmentUnitPicker:1,assignment:3,assignmentReadOnly:2,attachmentList:3,boardCourseOutline:2,bookPlan:3,bookPlanEntryReadOnly:2,bookPlanGearMode:3,bookPlanLesson:1,bookPlanLessonEntry:2,bookPlanLessonReadOnly:2,broadcastNew:1,classSetup:1,classSetupPage:2,classSetupSEL:1,classTimetable:1,collapsibleChip:1,collapsibleSection:3,compoundFileThumbnail:3,dataBook:3,dataBookCommentList:3,dataBookFeed:3,dataBookImport:3,editParent:1,editParents:3,editSettings:3,editSettingsInterests:2,embeddedFileViewer:2,fileView:2,fileViewer:3,fileViewerFeed:3,galleryFullScreen:2,group:3,groupRecommender:3,interestsTagFields:3,journalOutline:3,knowledgeBase:3,knowledgeBaseCreate:2,knowledgeBaseEdit:2,knowledgeBaseEditPage:2,knowledgeBaseEntryMobile:2,knowledgeBaseOutline:2,launchpad:3,libraryItem:3,libraryItemViewer:3,libraryPicker:2,librarycore:2,librarytools:2,loginform:1,newsFeedItem:2,notifications:3,pinned:3,placeCommands:1,runUnitTests:3,scrollingNews:3,scrollingNewsLightbox:2,searchFeed:2,searchPicker:2,studentCourseOutline:2,sysAppNodesMobile:2,sysCommandHistogram:2,sysSystemChart:2,tagPicker:3,teachersBook:2,userPicker:3,viewParentsMatrix:2,webResources:2,xdsGroups:2,xdsTest:1}})};"undefined"!=typeof module?module.exports=moddefs:moddefs(cf);var modcommon=function(e){var t={_func:function(e){if("string"==typeof e)return e},showif:function(e){if("string"==typeof e&&e.indexOf("eval:")>=0)return e.split("eval:")[1]},bindif:function(e){return t.showif(e)},displayVal:function(e){return t.showif(e)},addClassIf:function(e){if("string"==typeof e){var t=e.split(":");if(t.length>1)return t.shift(),t.join(":")}},dataSet:function(e){if("string"==typeof e){var a=e.split(":");if("eval"==a[0])return t.showif(e);if(!["commaList","get_val","htmldecode","htmlstrip","json","jsonList","noValue","none","data","state"].includes(a[0]))return e}},condition:function(e){return t.showif(e)}};e.common={processKnownEvalShowIf:function(t){return e.common.processPotentialEvalField("showif","eval:"+t)},processPotentialEvalField:function(a,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=function(e){switch(a){case"_func":return"xdl";default:return"if"}}(),s=!1;if("string"==typeof i&&t[a]){var d=t[a](i);if(d&&(e&&e.mlunescape&&"function"==typeof e.mlunescape&&(d=e.mlunescape(d)),s={lookup:e.sha1("".concat(o,"-").concat(d)),value:d,original:i,classifier:o},n&&n(s),e.get)){var l=e.get("dynamicfunctions").lookup(s.lookup);!l&&r&&r(s),l&&(s.func=l)}}return s},processFieldEvals:function(a){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var o in t){var s=e.common.processPotentialEvalField(o,a[o],n,r);i&&s&&(a[o]=s)}if(a.events){var d=!0,l=!1,c=void 0;try{for(var u,f=a.events[Symbol.iterator]();!(d=(u=f.next()).done);d=!0){var g=u.value;for(var p in t){var h=e.common.processPotentialEvalField(p,g[p],n,r);i&&h&&(g[p]=h)}if(g.args)for(var m in t){var v=e.common.processPotentialEvalField(m,g.args[m],n,r);i&&v&&(g.args[m]=v)}}}catch(e){l=!0,c=e}finally{try{d||null==f.return||f.return()}finally{if(l)throw c}}}if(a._styles)for(var b in a._styles){var _=a._styles[b];for(var y in t){var x=e.common.processPotentialEvalField(y,_[y],n,r);i&&x&&(_[y]=x)}}if(a._responsive){var w=!0,C=!1,k=void 0;try{for(var S,T=a._responsive[Symbol.iterator]();!(w=(S=T.next()).done);w=!0){var M=S.value;e.common.processFieldEvals(M.p,i,n,r)}}catch(e){C=!0,k=e}finally{try{w||null==T.return||T.return()}finally{if(C)throw k}}}}}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,a,i,n,r,o){try{var s=e[r](o),d=s.value}catch(e){return void a(e)}s.done?t(d):Promise.resolve(d).then(i,n)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var r=e.apply(t,a);function o(e){asyncGeneratorStep(r,i,n,o,s,"next",e)}function s(e){asyncGeneratorStep(r,i,n,o,s,"throw",e)}o(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _defineEnumerableProperties(e,t){for(var a in t)(r=t[a]).configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a,r);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),n=0;n<i.length;n++){var r,o=i[n];(r=t[o]).configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o,r)}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}"undefined"!=typeof module?module.exports=modcommon:modcommon(cf),function(e){var t=function(t){try{if(t&&e.is_xdo(t))return t.summarize()}catch(e){}return!1},a=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(i||(i=new WeakSet),t instanceof jQuery||t instanceof e.XDO||e.isBuild(t)||t instanceof Versionable||t instanceof e.constant.Constant)return t;if(!t)return t;if("string"!=typeof t||e.is_json(t)||(t=e.mlescape(t),t=e.sanitize(t)),"object"===_typeof(t)&&i.has(t))return t;if("object"===_typeof(t))for(var n in i.add(t),t){var r=t[n];"string"==typeof r?e.is_json(r)||((a&&!e.is_rich(r)||!a)&&(r=e.mlescape(r)),t[n]=e.sanitize(r)):"object"==_typeof(t[n])?t[n]=e.sanitizeObject(r,a,i):t[n]=r}return t};e.sanitizeObject=a;var i=function(t,a,i){var n=!1;if(e.settings.runtime&&e.settings.runtime.perf){var r=i.getResponseHeader("x-xds-perf");if(r)try{var o=JSON.parse(r);if(o.nodeprocs){for(var s=[],d=0;d<o.nodeprocs.length;d++)s.push({func:{identifier:o.nodeprocs[d][0],module:o.nodeprocs[d][1].module},perf:o.nodeprocs[d][1]});o.nodeprocs={nodeproc:s}}n={perf:o}}catch(e){}}var l=i.getResponseHeader("x-xds-expiry");if(l&&200==i.statusCode().status&&a.indexOf(!1)){var c=e.parseDate(l);c&&c instanceof Date&&e.notif.updateExpectedSessionExpiry(c)}return n},n=function(t,a,i,n,r){var o=performance.now(),s=function(t){var a={};if(window.performance&&window.performance.getEntriesByName&&(e.settings.runtime.performance||e.settings.dev)){var i=performance.getEntriesByName(t);if(i.length>0){var n=i[0];for(var r in n.redirectStart,a.startTime=n.startTime,a.timings={redirect:n.redirectEnd-n.redirectStart,dns:n.domainLookupEnd-n.domainLookupStart,tcp:n.connectEnd-n.connectStart,tls:n.secureConnectionStart>0?n.connectEnd-n.secureConnectionStart:0,response:n.responseEnd-n.responseStart,fetch:n.fetchStart>0?n.responseEnd-n.fetchStart:0,request:n.requestStart>0?n.responseEnd-n.requestStart:0,total:n.startTime>0?n.responseEnd-n.startTime:0},a.timings)a.timings[r]=Math.round(100*a.timings[r])/100;a.transferSize=n.transferSize,a.decodedBodySize=n.decodedBodySize,a.compressionRatio=a.transferSize/a.decodedBodySize}}return a}(i),d=o-n,l=d;s.timings&&s.timings.total&&(l=d-s.timings.total,d=s.timings.total);var c={processedHeaders:{headers:r},responseHeaders:{headers:a.getAllResponseHeaders()}};e.settings.runtime.performance&&(c.responseText=a.responseText);var u=0;a.responseText&&(u=a.responseText.length),e.perflog({net:{info:{method:t,status:a.statusCode().status,url:i},stats:{overall:{et:d,jq:l,size:u},performance:s},data:c,when:(new Date).getTime()}})},r=function(t,a){if(a&&t){t={GET:"G",POST:"P"}[t];var i=e.localStorage("xds-stats-codes")||{};i[t]||(i[t]={}),i[t][a.statusCode().status]||(i[t][a.statusCode().status]={n:0}),i[t][a.statusCode().status].n=i[t][a.statusCode().status].n+1,e.localStorage("xds-stats-codes",i)}},o=function(t,a,i){if(e.settings.runtime&&e.settings.runtime.autoclienttype&&e.gbl&&e.gbl.user&&e.gbl.user.clienttype){var n=e.inferClientType();e.log.info("ajax.setupRequestHeaders: Setting Header: X-Edsby-ClientType=".concat(n)),a["X-Edsby-ClientType"]=""+n}try{var r=Date.now(),o=!1;if(a["x-xds-info"])if("object"===_typeof(a["x-xds-info"]))o=a["x-xds-info"];else try{o=JSON.parse(a["x-xds-info"])}catch(e){}if(o||(o={age:Date.now()-e.memory.bootTime,w:e.window.width(),y:e.window.height(),s:e.window.scrollTop(),client:e.uuid}),window._cf)try{var s=function(e){return Math.round(100*e)/100};if(e._initialized&&o.page){o.e={b:e.memory.bootTime-window._cf.boot,i:window._cf.init-window._cf.boot,p:window._cf.pre-window._cf.boot,l:(window._cf.load||Date.now())-window._cf.boot};try{if(window.performance){var d=performance.getEntriesByType("navigation");if(d&&d.length>0){var l=d[0];l&&(o.e.n={ct:s(l.connectEnd-l.connectStart),r:s(l.requestStart),re:s(l.responseEnd),rs:s(l.responseStart),d:s(l.domComplete),di:s(l.domInteractive)})}}}catch(e){}}}catch(e){}o.l={e:e.log.stats.err},o.t={q:r-i},o.ws={s:e.notif.wsStatus},e.notif.ws&&(e.notif.ws._errorCount&&(o.ws.e=e.notif.ws._errorCount),e.notif.ws._pingTime&&(o.ws.p=e.notif.ws._pingTime),e.notif.ws._pingCount&&(o.ws.pc=e.notif.ws._pingCount),e.notif.ws.count&&(o.ws.c=e.notif.ws.count),e.notif.ws._messageCount&&(o.ws.rc=e.notif.ws._messageCount),e.notif.ws._lastMessageTime&&(o.ws.i=Date.now()-e.notif.ws._lastMessageTime));var c=e.localStorage("xds-stats");if(e.is_arr(c)||(c=[]),c.length){try{for(var u=!1,f=!1,g=0;g<c.length;g++)if(u){var p=c[g].timing;for(var h in p)u[h]?u[h]=(u[h]*g+p[h])/(g+1):u[h]=p[h],f[h]||(f[h]=0),f[h]=f[h]+p[h]}else u=e.clone(c[g].timing),f=e.clone(c[g].timing);u.count=c.length,f.count=c.length;var m={count:"c",network:"n",jsonParse:"jp",resources:"r",build:"b",dom:"d",events:"e",total:"t",clientTotal:"ct",dns:"nd",connection:"nc",actualNetwork:"na",waiting:"nw",receiving:"nr"},v={},b={};for(var _ in m)v[m[_]]=Math.round(100*u[_])/100,b[m[_]]=Math.round(100*f[_])/100;o.s=v,o.st=b}catch(e){}try{window.performance&&window.performance.memory&&(o.m={u:Math.round(performance.memory.usedJSHeapSize/1024)/1024,t:Math.round(performance.memory.totalJSHeapSize/1024)/1024})}catch(e){}c.length>15&&e.localStorage("xds-stats",[])}e.tabuuid&&(o.tab=e.tabuuid);var y=JSON.stringify(o);y.length<=8192?a["x-xds-info"]=y:delete a["x-xds-info"]}catch(e){}return a["x-xds-cver"]=e.settings.dev?"0":e.settings.compiled||"0",a["x-xds-jver"]=e.settings.jsver?e.settings.jsver:"0",a},s=function(t){var a=e.links.queryParams(e.links.url()),i={};for(var n in a){var r=a[n];try{var o=parseInt(r);isNaN(o)||(r=o)}catch(e){}if(0==n.indexOf("_-")){var s=n.replace("_-_","");if(s.indexOf("_")>0)for(var d=s.split("_"),l=e.settings.runtime,c=0;c<d.length;c++)c<d.length-1?(l[d[c]]||(l[d[c]]={}),l=l[d[c]]):l[d[c]]=r;else e.settings.runtime[s]=r}}for(var u in e.settings.runtime.perf&&(i._perf=e.settings.runtime.perf),e.settings.runtime.permlog&&(i._permlog=e.settings.runtime.perm),i){var f="&";t.indexOf("?")<0&&(f="?"),t=t+f+(u+"=")+i[u]}return t},d=function(t){var d,l=s(t.extradata.url),c=t.extradata.data,u=new FormData;for(var f in c)u.append(f,null==(d=c[f])||void 0===d?"":d);var g=t.extradata.s,p=t.extradata.timer,h=!1;return t.extradata&&t.extradata.sanitize&&(h=!0),new Promise(function(t,s){var d=performance.now(),f=!1;g&&g.xdoinfo&&e.settings.dev&&(g.headers||(g.headers={}),g.headers["x-cf-issuer"]=g.xdoinfo.path),$.ajax({type:"POST",url:l,headers:o(0,g.headers||{},p),data:u,contentType:!1,processData:!1,complete:function(t){r("POST",t);var a=i(0,l,t);n("POST",t,l,d,a),!1===f&&e.postCallback(g,t)},error:function(a,i,n){try{var r=e.handleResponse(a.responseText,"POST"),o=e.errors.handleResponseError(r);if(o.code===e.errors.E_INVALIDKEY&&!g.newFormKey)return f=!0,void e.notif.fetchBootstrap(function(){g.newFormKey=!0,e.post(g).catch(function(e){t(e)}).then(function(e){t(e)})});g.errorDialog&&e.errors.displayError(o);var s=e.handleResponse(r,a);if(g.error&&g.error(s),!g.noLog){var d;try{d=JSON.stringify({errResponse:s,data:c,headers:a.getAllResponseHeaders()})}catch(i){d=""}e.log.error({module:"net",name:"".concat("POST"," Failed"),message:l+" failed to post.",duplicates:!0,noServerLog:e.is_obj(s)&&void 0!==s.error,aux:d,xdoinfo:g.xdoinfo})}}catch(i){e.log.error({module:"net",name:"Post error callback exception",exception:i,xdoinfo:g.xdoinfo})}t(n)},success:function(i,n,r){try{var o=l;g.xdoinfo&&(o="".concat(l," issued by ").concat(g.xdoinfo.path)),e.log.info({name:"POST",message:o,body:"Total Time:"+(Date.now()-p)+"ms"}),g.success&&g.success(e.handleResponse(r.responseText),r)}catch(t){e.log.error({module:"net",name:"Post success callback exception",exception:t})}h&&(i=a(i)),t(i)},async:!g.synchronous})})},l=function(t){var a=t.extradata.s,d=t.extradata.timer;return new Promise(function(t,l){var c=performance.now(),u=!1,f=s(a.requestURL);window.performance&&window.performance.clearResourceTimings&&(e.settings.runtime.performance||e.settings.dev)&&performance.clearResourceTimings(),a&&a.xdoinfo&&e.settings.dev&&(a.headers||(a.headers={}),a.headers["x-cf-issuer"]=a.xdoinfo.path),$.ajax({beforeSend:a.beforeSend,headers:o(0,a.headers||{},d),method:"GET",url:f,converters:{"text script":function(e){return e}},error:function(i,n,r){var o=i.statusCode().status,s=o<400||o>=500;if(""===r&&!a.retry&&s)return a.retry=!0,u=!0,t(r),void e.ajax(a);403===o&&e.notif.checkLoginState();var d=e.handleResponse(i.responseText,"GET");a.errorDialog&&e.errors.displayError(d),a.error&&a.error(e.handleResponse(d,i)),t(i)},complete:function(o){performance.now(),r("GET",o);var s=i(0,f,o);if(n("GET",o,f,c,s),!1===u){var l=a.requestURL;a.xdoinfo&&(l="".concat(a.requestURL," issued by ").concat(a.xdoinfo.path)),e.log.info({name:"".concat("GET"," FINISH"),message:l,silent:!1,body:"Total Time:"+(Date.now()-d)+"ms",xdoinfo:a.xdoinfo}),e.state.inTimer=!0,e.ajaxCallback(a,o),e.state.inTimer=!1,t(o)}else t(o)},synchronous:a.synchronous})})},c={ontimeout:function(e){u.retry(this)},onprogress:function(e){},onerror:function(e){},onreadystatechange:function(t){var a=this;try{if(this.readyState===XMLHttpRequest.DONE)if(0===a.status)u.retry(a);else{if(null!=a.getResponseHeader("Content-Length")&&a.getResponseHeader("Content-Length")!=a.responseText.length)return e.log.warn({name:"Mismatched Content Length",message:a.settings.url,body:a.responseText.length+" vs received "+a.getResponseHeader("Content-Length")}),void u.retry(a);200!==a.status?a.settings.error&&a.settings.error(a):a.settings.success&&a.settings.success(a),a.settings.complete&&a.settings.complete(a)}}catch(t){e.log.error({module:"net",name:"AJAX Callback Exception",aux:a.settings.url,exception:t})}}},u=function(e){var t=new XMLHttpRequest;if(e.method||(e.method="GET"),!e.synchronous)try{t.timeout=15e3}catch(e){}for(var a in t.settings=e,e.count||(e.count=1),c)t[a]=c[a];if(t.open(e.method,e.url,!e.synchronous),e.headers)for(var i in e.headers)t.setRequestHeader(i,e.headers[i]);"POST"===e.method&&"urlencoded"==e.postType?t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"):"POST"===e.method&&t.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8");var n=e.data;t.send(n)};u.retry=function(t){setTimeout(function(){t.settings.count<3?(t.settings.count++,e.log.warn({name:"Retry "+t.settings.method,message:t.settings.url}),u(t.settings)):u.networkError(t)},100)},u.networkError=function(e){e.settings.error&&e.settings.error(e,"Network Error",0)};var f={handleResponse:function(t,a){var i,n;if("GET"===a?(i=1033,n=e.lang("Your request was not succesful")):(i=1032,n=e.lang("Your post did not save properly.")),e.is_obj(t))return t;try{t=JSON.parse(t)}catch(a){t={error:i,errorstr:e.is_str(t)?e.lang(t):n}}return t},postCallback:function(t,a){try{t.callback&&(e.state.inTimer=!0,t.callback(t.response=e.handleResponse(a.responseText),a),e.state.inTimer=!1)}catch(t){e.log.error({module:"net",name:"Post complete callback exception",exception:t})}},ajaxCallback:function(t,a){try{t.callback&&t.callback(t.response=e.handleResponse(a.responseText,"GET"),a),!e.settings.dev&&e.is_obj(t.url)&&t.url.storeSlice&&e.storage(t.requestURL,a.responseText)}catch(t){e.log.error({module:"net",name:"Ajax callback exception",exception:t})}},ajax:function(a){var i;if(!e.settings.dev&&e.is_obj(a.url)&&a.url.storeSlice&&(i=e.storage(a.requestURL))){try{var n=JSON.parse(i);n&&n.compiled&&n.compiled!=e.settings.compiled?i=!1:e.storage(a.requestURL,!1)}catch(e){i=!1}if(i)return void setTimeout(function(){e.ajaxCallback(a,{responseText:i})},0)}a.xdo&&(a.xdoinfo=t(a.xdo),delete a.xdo);var r=Date.now();e.log.info({name:"GET START",silent:!0,message:a.requestURL}),a.headers||(a.headers={});var o,s=a.noCache;if(e.is_obj(a.url))a.url.noCache?(s=!0,delete a.url.noCache,o=e.gen_url(a.url),a.url.noCache=!0):o=e.gen_url(a.url);else{o=a.url;var d=e.links.queryParams(a.url);d._t&&(s=!0,o=o.replace("&_t="+d._t,"").replace("_t="+d._t,""))}a.requestURL=o,s&&(a.headers["If-None-Match"]=Date.now());var c=a._netqueueid||"net::get";a.headers["X-Edsby-Client-Request-Queue"]=c;var u=e.get("queues").get(c);u||(u=e.get("queues").create(c,l,!1,{"net::get":{channels:3},"net::bg":{channels:1}}[c].channels));var f=a.requestUrl||a.url;if("object"===_typeof(f)&&(f=f.url),f&&"string"==typeof f&&f.indexOf("{{")>=0&&f.indexOf(!1))try{throw new Error("Request URI Contains Template String")}catch(i){e.log.error({module:"net",name:"GET issued with missing template",message:'"'.concat(f,'" contains a template string'),duplicates:!0,exception:i,xdoinfo:a.xdoinfo})}var g=u.queue(e.get("guid").rfc4122()+a.requestURL,a.xdo,{url:a.requestUrl,s:a,timer:r}).promise;return g.catch(function(e){}),g},post:function(a){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.xdo&&!a.url&&(a.url={nid:a.xdo.cnid(),xds:a.xdo.get_arg("xds")||a.xdo.arg("xds")||a.xdo.build.xdsid});var n=a.url,r=a.data;!e.is_obj(r)&&!1!==r&&void 0!==r&&a.xdo&&((r={})[a.xdo.name()]=a.data),a.xdo&&(a.xdoinfo=t(a.xdo)),e.is_obj(n)&&(n=(n=e.gen_url(n)).replace(".json/","/").replace(/\?$/,"")),r||(r={}),e.is_obj(r)||(r=e.links.queryParams("?"+r)),e.is_obj(r)&&(r._formkey=e.key()),a.requestURL=n,a.data=r;var o=Date.now(),s=e.get("queues").get("net::post");a.headers||(a.headers={}),a.headers["X-Edsby-Client-Request-Queue"]="net::post",s||(s=e.get("queues").create("net::post",d,!1,1));var l=a.requestUrl||a.url;if("object"===_typeof(l)&&(l=l.url),l&&"string"==typeof l&&l.indexOf("{{")>=0&&l.indexOf("}}")>0)try{throw new Error("Request URI Contains Template String")}catch(i){e.log.error({module:"net",name:"POST issued with missing template parameter",message:'"'.concat(l,'" contains a template string'),duplicates:!0,exception:i,xdoinfo:a.xdoinfo})}var c=s.queue([e.get("guid").rfc4122(),n,(new Date).getTime()].join("-"),a.xdo,{data:r,s:a,timer:o,url:n,sanitize:i});return c.promise.catch(function(e){}),c.promise},get_data:function(t,i){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t.full;delete t.full,("object"!==_typeof(t)||t.url)&&(n=t.url||t);var s={url:n||t,callback:function(e){return r&&(e=a(e,"allowRichDetection"==r)),e.slices&&1===e.slices.length&&!o&&(e=e.slices[0].data),i(e)}};return e.ajax(s)},inferClientType:function(){var t=e.gbl.user.clienttype,a=function(e,t,a){return t()?e|a:e&~a};for(var i in t=a(t,function(){return!0},e.settings.types.cd.Supported),t=a(t,e.layout.isPhone,e.settings.types.cd.Phone),t=a(t,e.layout.isTablet,e.settings.types.cd.iPad),t=a(t,function(){return e.layout.isPhone()||e.layout.isTablet()},e.settings.types.cd.Mobile),t=a(t,function(){return navigator.userAgent.toLowerCase().indexOf("android")>=0},e.settings.types.cd.Android),t=a(t,function(){return navigator.userAgent.toLowerCase().indexOf("iphone")>=0},e.settings.types.cd.iOS),t=a(t,function(){return navigator.userAgent.toLowerCase().indexOf("ipad")>=0},e.settings.types.cd.iOS),t=a(t,function(){return"undefined"!=typeof cfNative||"undefined"!=typeof EdsbyReactBridge},e.settings.types.cd.Native),e.settings.types.cd)e.log.info("ajax.inferClientType: cd.".concat(i,": ").concat(t&e.settings.types.cd[i]));return e.updatePlatform(t),t}};for(var g in f)e[g]=f[g]}(cf),function(e,t,a){var i=e.memory,n={};e.memory.documentEvents=n;var r={};e.memory.windowEvents=r,t.setInterval(function(){var t=function(t,a){var i={};for(var n in t){for(var r=0,o=Object.values(t[n]),s=0;s<o.length;s++){for(var d=o[s],l=!1,c=0;c<d.length;c++){var u=d[c].xdoArgs;if(u){if(d[c]._dead){l=!0,delete d[c].func;continue}e.get_obj(u.id)||(d[c]._dead=!0,delete d[c].func,l=!0)}}if(l)for(var f=0;f<d.length;f++)d[f]._dead&&(r++,d.splice(f,1),f--)}i[n]=r}};performance.now();t(r);performance.now();t(n);performance.now()},6e4);var o={unloadBuilds:function(t){t.find(e.$css.cont).each(function(){var t=e.get_build(this.id)||{};$(this).find("."+t.xdsid).triggerHandler("xds-unload",self)})},eventTriggers:{"xds-notif-new":function(e,t){return e.unread_track(),t},"xds-notif-version":function(e,t){return e.get_arg("versionTrigger")?e.unread_version(void 0,e.arg("versionTrigger")):e.unread_version(),t},"xds-notif-version-message":function(e,t){return e.unread_version(void 0,"message"),t},"xds-removed":function(t,a){return t.addClass(e.css.removed),a},click:function(e,t){var a=t.args||{};return"noop"!==t.func&&(e.addClass("xds-has-click",a._delegate),e.removeClass("xds-tooltip-parent-touchable"),void 0===e.attr("tabindex")&&void 0===e.xds.tabindex&&(e.attr("tabindex","0"),a._delegate&&(e.xds.tabindex="0",e._buildRegisterFuncs("pre")))),t},validate:function(t,a){return t.addClass(e.css.hasValidate),a},taphold:function(){function t(e){e.temp.touchholdFired?(e.preventDefault(),delete e.temp.touchholdFired):clearTimeout(e.temp.touchtimer)}function a(e){var t=e.temp.startTouch;if(t){var a=e.e.originalEvent.touches[0],i=a.clientX-t.clientX,n=a.clientY-t.clientY;Math.sqrt(i*i+n*n)>30&&clearTimeout(e.temp.touchtimer)}}function i(t){var a=t.get_args();t.temp.startTouch=t.e.originalEvent.touches[0],t.temp.touchtimer=t.setTimeout(function(){t.temp.touchholdFired=!0;var i=t.dom();i.length&&e.callEvent(t,i,a,t.e)},1500)}return function(e,n){return e.on("touchend",t),e.on("touchmove",a),e.addClass("xds-has-touch"),{args:n,trigger:"touchstart",func:i}}}()},pageListen:function(i,s){var d=i.source||a,l=d===t?r:n,c=d===t?"window":"document";if(i.priority=i.priority||1,-1===i.trigger.indexOf(" ")){l[i.trigger]||(l[i.trigger]={},$(d).on(i.trigger,o.documentHandler));var u={func:s,xdoArgs:i.xdoArgs};if(i.xdoArgs){var f=e.get_obj(i.xdoArgs.id);if(f){var g=f.temp._triggers;g||(g=f.temp._triggers={}),g[c]||(g[c]=[]),g[c].push(u)}}l[i.trigger][i.priority]||(l[i.trigger][i.priority]=[]),l[i.trigger][i.priority].push(u)}else for(var p,h=i.trigger.split(" ");p=h.pop();)i.trigger=p,e.pageListen(i,s)},documentHandler:function(a,i){var o=a.currentTarget===t?r[a.type]:n[a.type];if(o)for(var s,d=e.sort({sortType:"number"},Object.keys(o)),l=d.length;l--;)if(s=d[l],!a.isDefaultPrevented()){for(var c=o[s],u=void 0,f=c.length,g=function(t){if(u=o[s][t].xdoArgs){if(o[s][t]._dead)return"continue";var n=e.get_obj(u.id);if(n){o[s][t].func&&(n.args=u,u={func:o[s][t].func});var r=n.dom();r.length&&e.callEvent(n,r,u,a,i,t)}else o[s][t]._dead=!0}else a.off=function(){o[s][t]._dead=!0},o[s][t].func&&o[s][t].func(a,i),delete a.off},p=0;p<f;p++)g(p);for(p=0;p<c.length;p++)o[s][p]._dead&&(o[s].splice(p,1),p--)}},callDelegate:function(t,a,i){"function"==typeof(t=e.get_func(t))&&t(a,a.dom(),i)},delegateHandler:function(t,a,i){var n,r=t.args.args,o=$(t.e.target);t.e.originalEvent||(t.e.originalEvent={}),t.e.originalEvent&&(t.e.originalEvent.delegated||(t.e.originalEvent.delegated={}),t.e.isSimulated=!0),(o.hasClass(t.args.target)||(o=o.parents("."+t.args.target))&&o.length)&&(t.e.originalEvent.delegated[o[0].id]&&t.e.originalEvent.delegated[o[0].id]!==a[0].id||(n=$(o),t.e.originalEvent.delegated[o[0].id]=a[0].id,e.callEvent(n.xdo,n,r,t.e,i,"0")))},eventHandler:function(t,a){var n=$(this),r="#"+n.attr("id"),o=n.xdo;if(o){var s,d,l=i.events[o.uuid];if(a&&a.__e&&(t.target=a.__e.target),"click"===t.type&&t.originalEvent)if(o._clickTimer){var c=Date.now()-o._clickTimer;if(c<500&&c>0)return t.stopPropagation(),t.preventDefault(),!1;o._clickTimer=Date.now()}else o._clickTimer=Date.now();if(void 0!==l&&void 0!==l[r]&&void 0!==l[r][t.type]&&(s=l[r][t.type],e.is_arr(s)))for(d=s.length;d--;)void 0!==s[d]&&(e.callEvent(o,n,s[d],t,a||!1,d),o.args&&o.args.fireOnce&&(s[d].func=e.noop))}},callEvent:function(t,a,i,n,r,o){if(t&&t.is_dead&&t.is_dead()){if(e.log.strictModeEnabled())try{var s=i.func;n&&"string"==typeof n.type&&(s="".concat(n.type,": ").concat(s)),e.log.error({module:"events",method:"callEvent",code:e.log.E_POSTDISPOSE,name:"Event called on dead xdo",message:s,xdo:t})}catch(n){}}else{var d,l,c,u=performance.now();t.attr&&n&&"string"==typeof n.type&&t.attr("data-event-active",n.type),r instanceof jQuery.Event&&(n=r,r={}),t.args||(t.args={});var f=e.state.inEvent;if(e.state.inEvent=!0,delete e.state.inBuild,n=n||{preventDefault:e.noop,stopPropagation:e.noop},e.isBuild(t))return e.log.error({module:"events",name:"Event fired on build",message:i.func,xdo:t}),void(e.settings.runtime.profile&&e.log.info(" callEvent took ".concat(performance.now()-u,"ms")));for(d in i)"id"!==d&&"trigger"!==d&&("args"!==d?t[d]=i[d]:t.args=$.extend({},i.args));if(t.e=n,t.e.id=t.cssPath+"-"+n.type+"-"+o,!t.args||!t.args.keyCode||t.eventKeyIs(t.args.keyCode)){t.args.stopPropagation&&n&&n.stopPropagation&&n.stopPropagation(),t.args.preventDefault&&n&&n.preventDefault&&n.preventDefault();try{var g={args:t.args,altprops:r};if(t.__ev=g,(l=e.get_func(i.func))&&l.orig&&(t.fn=l.orig),t.tpl(t.args),"function"==typeof l&&(c=l(t,a,r)),"function"!=typeof l)e.log.warn({name:"Undefined event",xdo:t,body:"Undefined event!"+i.func});else{var p="anonymous";"function"==typeof i.func?p=i.func.name||"anonymous function":"string"==typeof i.func&&(p=i.func),(e.settings.runtime.debug&&e.settings.runtime.debug.events||n.type&&!["keyup","keydown","keypress"].includes(n.type))&&e.log.info({name:"events.callEvent(".concat(n.type,",").concat(t.id(),")"),message:"".concat(p),xdo:t,silent:!e.settings.runtime.debug.events})}delete t.__ev,e.isBuild(r)&&"unload"===n.type&&n.isDefaultPrevented()&&r.pauseBuild()}catch(n){if(!n.__cfErrorLogged){var h=n&&n.type?n.type+": ":"";e.log.error({module:"events",name:"xdo event execution failure",aux:h+e.is_func(i.func)?i.func.toString():i.func,xdo:t,exception:n})}}return t.removeAttr&&n&&"string"==typeof n.type&&(t.ref(),t.setTimeout(function(e){e.removeAttr("data-event-active")},100)),e.state.inEvent=f,e.settings.runtime.profile&&e.log.profile(" callEvent(".concat(t.id(),", ").concat(n.type,", ").concat(i.func,") took ").concat(performance.now()-u,"ms")),c||void 0}}}};$.extend(e,o)}(cf,window,document),function(e){var t=function(e){this.id=e,this.stack=[],this.index=-1,i.stacks[e]=this},a=function(){var e=sessionStorage;return"undefined"==typeof cfNative&&void 0===window.EdsbyReactBridge||(e=localStorage),e};t.prototype={loadUrl:function(t){e.links.beforeNav().then(function(){t=e.links.convertFromNativeUrl(t),e.links.queryParams(t);var a={xds:e.links.getxds(t)||e.gbl.user.base,nid:e.links.pagenid(t),target:e.gbl.page,stackUrl:t,_isLoadUrl:!0};e.extend(a,e.links.queryParams(e.gbl.server+t)),e.xdsbuild(a)})},loadLatest:function(){var t=this.stack[this.index]&&this.stack[this.index].url;0==this.stack.length&&this.push(e.tpl(e.gbl.loadPage,{xds:e.gbl.user.base,nid:e.gbl.user.nid})),t||(t=this.stack[0].url,this.index=0),this.loadUrl(t),i.save()},setHash:function(e){this.index=this.stack.length,this.stack.push({hash:e});var t={id:this.id,index:this.index,hash:e};i._pushState(t),history.pushState(t,null,"#"+e),i.save()},setParameter:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new URLSearchParams(window.location.search);if(void 0===a||""===a){if(!n.has(t))return;n.delete(t)}else n.has(t)?n.set(t,a):n.append(t,a);var r,o=window.location.href.split("#");r=0===window.location.search.length?"".concat(o[0],"?").concat(n.toString()):o[0].replace(window.location.search,"?".concat(n.toString())),o.length>0&&(o[0]=r,r=o.join("#")),i?e.history.active.replace(r):e.history.active.push(r,!0)},push:function(t,a){if(t=e.links.clean(t),this.stack[this.index]&&this.stack[this.index].url===t||(this.stack=this.stack.slice(0,this.index+1),this.index=this.stack.length,this.stack.push({url:t})),!i.master[i.master.length-1]||i.master[i.master.length-1].url!==t){var n={index:this.index,id:this.id,url:t};i._pushState(n),e.links.isNativePath()?t=e.links.convertToNativeUrl(t):history.pushState(n,null,t)}a||this.loadUrl(t),i.save()},replace:function(t){if(this.stack.length){if((t=e.links.clean(t))!==e.links.url()){var a={index:this.index,url:t,id:this.id};i._replaceState(a),e.links.isNativePath()?t=e.links.convertToNativeUrl(t):history.replaceState(a,null,t),-1!==this.index&&this.stack[this.index]||(this.index=0),this.stack[this.index].url=t,i.save()}}else this.push(t,!0)},pop:function(e){var t=e.originalEvent.state;this.index=t.index,this.stack&&this.stack[this.index]&&this.stack[this.index].url!==t.url||this.loadUrl(t.url),i.save()},url:function(){return n.url()},restore:function(e){this.id=e.id,this.stack=e.stack,this.index=e.index},save:function(){var e={id:this.id,stack:this.stack,index:this.index};return this.scrollTop&&(e.scrollTop=this.scrollTop),e},activate:function(){i.active=this,i.save()}};var i={key:"xds-history",stacks:{},clear:function(){i.stacks={},i.master=[],i.index=0;var e=0;i&&i.active&&(e=i.active.scrollTop),i.active=new t("default",[{url:location.href}]),i.active.scrollTop=e,i.save()},init:function(){var e=a().getItem(i.key);if(e){for(var n in(e=JSON.parse(e)).stacks)new t(n),i.stacks[n].restore(e.stacks[n]);i.master=e.master||[],i.index=e.index||0,i.active=i.stacks[e.active]}else i.clear()},depth:function(){return i.master.length},boot:function(t){"undefined"!=typeof cfNative&&e.history.depth()>1||e.history.depth()>1&&t&&"/"==e.links.url()?i.active.loadLatest():e.settings.preflighted?e.links.handleLoad(e.links.url()):(e.links.getxds()&&"BasePublic"!=e.links.getxds()&&(e.gbl.routing={xds:e.links.getxds()||e.gbl.user.base,nid:e.links.pagenid()||e.gbl.user.nid,target:e.gbl.page}),e.xdsbuild({xds:e.gbl.user.base,nid:e.gbl.user.nid,target:e.gbl.page}))},save:function(){var t={active:i.active.id,index:i.index,master:i.master,stacks:{}};for(var n in i.stacks)t.stacks[n]=i.stacks[n].save();try{a().setItem(i.key,JSON.stringify(t))}catch(n){try{e.storageReset().then(function(){try{a().setItem(i.key,JSON.stringify(t))}catch(e){}})}catch(e){}}},popState:function(t){var a=t.originalEvent.state;if(e.bootstrapped)if(a&&i.stacks[a.id]){if(a){if(a.id!==i.active.id&&i.stacks[a.id]&&i.stacks[a.id].activate(),a.i<i.index)i.active.pop(t);else{if(a.i==i.index)return;i.active.pop(t)}i.index=a.index}}else setTimeout(function(){history.back()})},_pushState:function(e){i.master=i.master.slice(0,i.index+1),e.i=i.master.length,i.index=e.i,i.master.push(e)},saveCurrentScroll:function(){var e=$(".xds-responsive-layout-body");i&&i.active&&e.length>0&&(i.active.stack.length>0&&i.active.stack[i.active.index]?i.active.stack[i.active.index].scrollTop=e.scrollTop():i.active.scrollTop=e.scrollTop())},getCurrentScroll:function(){return i&&i.active?i.active.stack.length>0&&i.active.stack[i.active.index]?i.active.stack[i.active.index].scrollTop||0:i.active.scrollTop||0:0},clearCurrentScroll:function(){i&&i.active&&(i.active.stack.length>0&&i.active.stack[i.active.index]?delete i.active.stack[i.active.index].scrollTop:delete i.active.scrollTop)},pushState:function(t){e.history.saveCurrentScroll(),i.active.push(t)},_replaceState:function(e){e.i=i.master.length-1,i.master[i.master.length-1]=e},replaceState:function(e){i.active.replace(e)},up:function(){$("body").hasClass("xds-hasLightbox")?e.get("lightbox").close(!1,!0):(i.active.index--,-1===i.active.index&&i.clear(),i.active.loadLatest())},XDSHistory:t},n={appRootPath:"undefined"!=typeof cfNative&&cfNative.appRootPath,isNativePath:function(t){return t=t||location.href,e.gbl.server&&-1===t.indexOf(e.gbl.server)&&-1!==t.indexOf("://")},queryParams:function(e){if(-1===(e=e||location.href).indexOf("?")){if(-1!==e.indexOf("://"))return{};e="?"+e}var t={};if((e=(e=e.split("#")[0]).slice(e.indexOf("?")+1)).length>1)for(var a,i=0,n=e.split("&");i<n.length;i++)a=n[i].split("="),t[unescape(a[0])]=a.length>1?unescape(a[1]):"";return t},hasDirty:function(){return $(e.$css.dirtyForm).length>0&&!e.settings.runtime.userChanged},beforeNav:function(){var t=function(){return new Promise(function(t,a){e.get("dd").closeAllOpen(),t()})};if(e.links.hasDirty()){var a=$(e.$css.dirtyForm);if(a.xdo&&a.xdo.closeForm){var i=a.xdo.closeForm();return i.then(function(t){return e.get("dd").closeAllOpen(),t},function(){}),i.catch(function(){}),i}return t()}return t()},beforeWindowClose:function(t){e.links.hasDirty()&&(t.returnValue=e.lang("You have unsaved changes. Are you sure you would like to to close the page?"))},setHash:function(e){var t=location.hash.split("/")[0];!1===e&&(e=""),(e+"").length>0&&(t+="/"+e),t=t.replace("#",""),location.hash.substr(1)!=t&&i.active.setHash(t)},clearHash:function(){i.active.setHash("")},closeWindow:function(){window.close()},convertToNativeUrl:function(t){return e.links.appRootPath+"?__XDSURL="+btoa(t.replace(e.gbl.server,""))},convertFromNativeUrl:function(t){if(void 0!==t&&t.indexOf("?__XDSURL=")>=0){var a=t.split("?__XDSURL=");return"".concat(e.gbl.server).concat(atob(a[1]))}return void 0!==t&&0==t.indexOf("file://")?"/":t},clean:function(t){return(t=e.links.convertFromNativeUrl(t))?t.replace(e.gbl.server,""):location.pathname},url:function(){return e.links.clean(location.href)},pagenid:function(t){return n.isNativePath(t)?e.gbl.uid:e.links.clean(t).split("#")[0].split("?")[0].split("/").slice(3).join("/")},getxds:function(t){return e.links._getPathComponent(t,"xds")},setxds:function(t,a){var r=e.tpl(e.gbl.loadPage,{xds:t,nid:a||n.pagenid()||""});i.active.push(r)},_getPathComponent:function(t,a){if("string"==typeof a){var i={controller:1,xds:2};i[a]&&(a=i[a])}if(t||(t=e.links.url()),n.isNativePath(t))return e.gbl.user.base;var r=e.links.clean(t);return"/core/load"==r.split("?")[0]||"/core/load/"==r.split("?")[0]?void 0:r.split("#")[0].split("?")[0].split("/")[a]},getcontroller:function(t){return e.links._getPathComponent(t,"controller")||"p"},getnid:function(){return n.isNativePath()?e.gbl.uid:location.hash.split("/")[1]},back:function(){history.back()},handleLoad:function(t,a){_$(".xdlDialog").remove(),_$(".lightbox-cont").remove(),e.history.pushState(t)},openUrl:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],i),r=!1;if(i=i?"".concat(i,",").concat("noopener,noreferrer"):"noopener,noreferrer",a||(a=e.platform.native||window.cfNative?"_system":"_blank"),window.EdsbyReactBridge&&window.EdsbyReactBridge.openUrl)window.EdsbyReactBridge.openModalUrl&&0===t.indexOf(e.gbl.p)?window.EdsbyReactBridge.openModalUrl(t):window.EdsbyReactBridge.openUrl(t);else if(e.platform.native||window.cfNative)if(cordova&&cordova.InAppBrowser){var o=function(){cordova.InAppBrowser.open(t,"_system")};cordova.plugins.browsertab&&cordova.plugins.browsertab.isAvailable?cordova.plugins.browsertab.isAvailable(function(e){e?cordova.plugins.browsertab.openUrl(t,function(e){},function(e){o()}):o()},function(e){o()}):o()}else Core4Plugin&&Core4Plugin.showWebView?Core4Plugin.showWebView(t,function(){},function(){},function(){}):r=window.open(t,a,n);else(r=window.open(t,a,i))&&(r.opener=null);return r},handleClick:function(t){var a=t.attr("href");if(a&&(!t.attr("target")||e.platform.native||window.EdsbyReactBridge)&&0!==a.indexOf("javascript:")){if("/"===e.gbl.load&&-1!==a.indexOf(e.gbl.p))return;return 0!==a.indexOf(e.gbl.load)&&0!==a.indexOf(e.gbl.loadP)&&0!==a.indexOf(e.gbl.loadPLong)||t.attr("target")&&(!(t.hasClass(e.css.link)&&e.platform.native&&window.EdsbyReactBridge)||0!==a.indexOf(e.gbl.load)&&0!==a.indexOf(e.gbl.loadP)&&0!==a.indexOf(e.gbl.loadPLong))?e.platform.native?(-1!==a.indexOf(e.gbl.dl)&&window.Core4Plugin?window.Core4Plugin.showFileView(a,e.noop,e.noop):e.links.openUrl(a,"_system"),!0):void 0:(e.history.pushState(a),!0)}if(a)return 0==a.indexOf("javascript:")&&(a="about:blank"),e.links.openUrl(a),!0},reloadPage:function(e){document.location.reload(e)}};e.links=n,e.history=i,i.init(),e.pageListen({trigger:"xds-page-load"},function(){e.window.scrollTop(0)}),e.pageListen({source:window,trigger:"hashchange",priority:1},n.history),e.pageListen({source:window,trigger:"popstate",priority:100},e.history.popState),e.pageListen({trigger:"backbutton"},function(){e.history.up()}),e.pageListen({trigger:"xds-page-reload"},function(){e.links.reloadPage(!0)}),window.addEventListener("beforeunload",n.beforeWindowClose)}(cf),function(e,t,a){var i=a.gbl,n={},r=function(){var e=function(e,i,r,o,s){if(void 0!==r&&void 0!==i&&void 0!==e){var d=r;i=""+i,r=""+r,n[e]||(n[e]={_reverse:{}}),n[e][r]=this,n[e]._reverse[i]=this,this.category=e,this.value=r.split("."),"meta"==o&&(this.value=d),this.string=i.split("."),this.type=o||(isNaN(+this.value)?"str":"int"),this.params=s,!t.hasOwnProperty(e)&&(t[e]=function(e){return function(t){return a.lookup(e,t)}}(e));var l=this.string[0];!t[e].hasOwnProperty(l)&&(t[e][l]=function(e,t){return function(i){return i=void 0!==i?t+"."+i:t,a.lookup(e,i).val()}}(e,i)),s&&(t[e][s.id]=t[e][l]),"subtype"===o&&(t[e][l][this.string[1]]=function(e,t){return function(i){return a.lookup(e,t).val(i)}}(e,i))}};e.prototype={str:function(e){return this.string?e?this.string[this.string.length-1]:this.string.join("."):""},val:function(e){return e?""+this.value[this.value.length-1]:"meta"==this.type?this.value:!!this.value&&this.value.join(".")},css:function(){return this.category+"-"+this.str().replace(".","-")},cmp:function(e){if(e){var t=this.type;return"bits"===t?!!(this.val()&+e):(e=a.lookup(this.category,e),"subtype"===t?(e=e.value).length>1?this.value===e:e[0]===this.value[0]:this.value===e.value)}return!1}};var t=function(t,a,i,n,r){return new e(t,a,i,n,r)};return t.Constant=e,t}();a.constant=r,a.constant.clear=function(e){delete n[e]},a.constant.lookupextend={},a.constant.lookupextend=function(e,t){a.constant.lookupextend[t]=e},a.constant.constants=n,a.lookup=function(e,t,r){var o=n[e];if(o){if(void 0===t)return o;var s=+t,d=""+t,l=o[d];return l&&"int"!==l.type||!isNaN(s)||(l=o._reverse[d]),r&&l?l.params:!l&&a.constant.lookupextend[e]?a.lookup(a.constant.lookupextend[e],t,r):l||a.constant()}var c=i.sys[e];if(void 0!==c){if(!a.is_arr(c)||!a.is_obj(c[0]))return void 0!==c[t]&&a.is_arr(c[t])?c[t][0]:c[t];for(var u=0;u<c.length;u++)if(t===c[u].value||"string"==typeof t&&"string"==typeof c[u].value&&c[u].value.toLowerCase()===t.toLowerCase())return r?c[u]:c[u].display}},a.lookupAll=function(e){var t=n[e],a={};if(t)for(var i in t)"_reverse"!==i&&(a[t[i].val()]=t[i]);return a},a.init(function(){var e,t,i,n,r,o,s,d,l,c=a.gbl.sys.types,u={_value:1,_type:1,_submap:1};for(t in c)for(i in e=c[t]){if(n=e[i],"MetaTypes"==t){e._type="meta";for(var f=0;f<n.length;f++)Array.isArray(n[f])&&(n[f]=n[f].join("."))}if(a.is_obj(n))for(r in!u[i]&&a.constant(t,i,n._value,e._type),n)!u[r]&&a.constant(t,i+"."+r,n._value+"."+n[r],"subtype");else!u[i]&&a.constant(t,i,n,e._type)}a.nt=a.constant.nt,$.extend(a.gbl.sys,{prefixes:(o="webkit",s="moz",d="ms",l="o",{accelerator:[d],"align-content":[o],"align-items":[o],"align-self":[o],animation:[o,s,l],"animation-delay":[o,s,l],"animation-direction":[o,s,l],"animation-duration":[o,s,l],"animation-fill-mode":[o,s,l],"animation-iteration-count":[o,s,l],"animation-name":[o,s,l],"animation-play-state":[o,s,l],"animation-timing-function":[o,s,l],appearance:[o,s],"backface-visibility":[o,s],"background-clip":[o,s],"background-origin":[o,s],"background-position-x":[d],"background-position-y":[d],behavior:[d],"block-progression":[d],"border-end":[o,s],"border-end-color":[o,s],"border-end-style":[o,s],"border-end-width":[o,s],"border-image":[o,s,l],"border-radius":[o],"border-start":[o,s],"border-start-color":[o,s],"border-start-style":[o,s],"border-start-width":[o,s],"border-top-left-radius":[o],"border-top-right-radius":[o],"box-align":[o,s],"box-decoration-break":[o],"box-direction":[o,s],"box-flex":[o,s],"box-ordinal-group":[o,s],"box-orient":[o,s],"box-pack":[o,s],"box-shadow":[o],"box-sizing":[o,s],"column-count":[o,s],"column-fill":[s],"column-gap":[o,s],"column-rule":[o,s],"column-rule-color":[o,s],"column-rule-style":[o,s],"column-rule-width":[o,s],"column-span":[o],"column-width":[o,s],columns:[o,s],"content-zoom-chaining":[d],"content-zoom-limit":[d],"content-zoom-limit-max":[d],"content-zoom-limit-min":[d],"content-zoom-snap":[d],"content-zoom-snap-points":[d],"content-zoom-snap-type":[d],"content-zooming":[d],"device-pixel-ratio":[l],filter:[o,d],flex:[o,d],"flex-align":[d],"flex-basis":[o],"flex-direction":[o,d],"flex-flow":[o],"flex-grow":[o],"flex-order":[d],"flex-pack":[d],"flex-shrink":[o],"flex-wrap":[o,d],"flow-from":[o,d],"flow-intro":[o,d],"font-feature-settings":[o,s],"grid-column":[o,d],"grid-column-align":[d],"grid-column-span":[d],"grid-columns":[o,d],"grid-row":[o,d],"grid-row-align":[d],"grid-row-span":[d],"grid-rows":[o,d],"high-contrast-adjust":[d],"hyphenate-limit-chars":[d],"hyphenate-limit-lines":[o,d],"hyphenate-limit-zone":[d],hyphens:[o,s,d],"justify-content":[o],"layout-flow":[d],"layout-grid":[d],"layout-grid-char":[d],"layout-grid-line":[d],"layout-grid-mode":[d],"layout-grid-type":[d],"line-break":[o,d],"margin-end":[o,s],"margin-start":[o,s],"object-fit":[l],"object-position":[l],order:[o],"overflow-style":[d],"overflow-x":[d],"overflow-y":[d],position:{sticky:[o,d]},"padding-end":[o,s],"padding-start":[o,s],perspective:[o,s],"perspective-origin":[o,s],"progress-appearance":[d],"tab-size":[s,l],"table-baseline":[l],"text-align-last":[s,d],"text-autospace":[d],"text-justify":[d],"text-overflow":[d],"text-underline-position":[d],"touch-action":[d],transform:[o,s,d,l],"transform-origin":[o,s,d,l],"transform-style":[o,s],transition:[o,s,l],"transition-delay":[o,s,l],"transition-duration":[o,s,l],"transition-property":[o,s,l],"transition-timing-function":[o,s,l],"user-modify":[o,s],"user-select":[o,s,d],"wrap-flow":[o,d],"wrap-margin":[o,d],"wrap-through":[o,d],"writing-mode":[o,d],zoom:[d]}),protocols:["http","https","ftp"],tld:{AAA:1,AARP:1,ABARTH:1,ABB:1,ABBOTT:1,ABBVIE:1,ABC:1,ABLE:1,ABOGADO:1,ABUDHABI:1,AC:1,ACADEMY:1,ACCENTURE:1,ACCOUNTANT:1,ACCOUNTANTS:1,ACO:1,ACTOR:1,AD:1,ADAC:1,ADS:1,ADULT:1,AE:1,AEG:1,AERO:1,AETNA:1,AF:1,AFAMILYCOMPANY:1,AFL:1,AFRICA:1,AG:1,AGAKHAN:1,AGENCY:1,AI:1,AIG:1,AIGO:1,AIRBUS:1,AIRFORCE:1,AIRTEL:1,AKDN:1,AL:1,ALFAROMEO:1,ALIBABA:1,ALIPAY:1,ALLFINANZ:1,ALLSTATE:1,ALLY:1,ALSACE:1,ALSTOM:1,AM:1,AMERICANEXPRESS:1,AMERICANFAMILY:1,AMEX:1,AMFAM:1,AMICA:1,AMSTERDAM:1,ANALYTICS:1,ANDROID:1,ANQUAN:1,ANZ:1,AO:1,AOL:1,APARTMENTS:1,APP:1,APPLE:1,AQ:1,AQUARELLE:1,AR:1,ARAB:1,ARAMCO:1,ARCHI:1,ARMY:1,ARPA:1,ART:1,ARTE:1,AS:1,ASDA:1,ASIA:1,ASSOCIATES:1,AT:1,ATHLETA:1,ATTORNEY:1,AU:1,AUCTION:1,AUDI:1,AUDIBLE:1,AUDIO:1,AUSPOST:1,AUTHOR:1,AUTO:1,AUTOS:1,AVIANCA:1,AW:1,AWS:1,AX:1,AXA:1,AZ:1,AZURE:1,BA:1,BABY:1,BAIDU:1,BANAMEX:1,BANANAREPUBLIC:1,BAND:1,BANK:1,BAR:1,BARCELONA:1,BARCLAYCARD:1,BARCLAYS:1,BAREFOOT:1,BARGAINS:1,BASEBALL:1,BASKETBALL:1,BAUHAUS:1,BAYERN:1,BB:1,BBC:1,BBT:1,BBVA:1,BCG:1,BCN:1,BD:1,BE:1,BEATS:1,BEAUTY:1,BEER:1,BENTLEY:1,BERLIN:1,BEST:1,BESTBUY:1,BET:1,BF:1,BG:1,BH:1,BHARTI:1,BI:1,BIBLE:1,BID:1,BIKE:1,BING:1,BINGO:1,BIO:1,BIZ:1,BJ:1,BLACK:1,BLACKFRIDAY:1,BLOCKBUSTER:1,BLOG:1,BLOOMBERG:1,BLUE:1,BM:1,BMS:1,BMW:1,BN:1,BNL:1,BNPPARIBAS:1,BO:1,BOATS:1,BOEHRINGER:1,BOFA:1,BOM:1,BOND:1,BOO:1,BOOK:1,BOOKING:1,BOSCH:1,BOSTIK:1,BOSTON:1,BOT:1,BOUTIQUE:1,BOX:1,BR:1,BRADESCO:1,BRIDGESTONE:1,BROADWAY:1,BROKER:1,BROTHER:1,BRUSSELS:1,BS:1,BT:1,BUDAPEST:1,BUGATTI:1,BUILD:1,BUILDERS:1,BUSINESS:1,BUY:1,BUZZ:1,BV:1,BW:1,BY:1,BZ:1,BZH:1,CA:1,CAB:1,CAFE:1,CAL:1,CALL:1,CALVINKLEIN:1,CAM:1,CAMERA:1,CAMP:1,CANCERRESEARCH:1,CANON:1,CAPETOWN:1,CAPITAL:1,CAPITALONE:1,CAR:1,CARAVAN:1,CARDS:1,CARE:1,CAREER:1,CAREERS:1,CARS:1,CARTIER:1,CASA:1,CASE:1,CASEIH:1,CASH:1,CASINO:1,CAT:1,CATERING:1,CATHOLIC:1,CBA:1,CBN:1,CBRE:1,CBS:1,CC:1,CD:1,CEB:1,CENTER:1,CEO:1,CERN:1,CF:1,CFA:1,CFD:1,CG:1,CH:1,CHANEL:1,CHANNEL:1,CHARITY:1,CHASE:1,CHAT:1,CHEAP:1,CHINTAI:1,CHRISTMAS:1,CHROME:1,CHRYSLER:1,CHURCH:1,CI:1,CIPRIANI:1,CIRCLE:1,CISCO:1,CITADEL:1,CITI:1,CITIC:1,CITY:1,CITYEATS:1,CK:1,CL:1,CLAIMS:1,CLEANING:1,CLICK:1,CLINIC:1,CLINIQUE:1,CLOTHING:1,CLOUD:1,CLUB:1,CLUBMED:1,CM:1,CN:1,CO:1,COACH:1,CODES:1,COFFEE:1,COLLEGE:1,COLOGNE:1,COM:1,COMCAST:1,COMMBANK:1,COMMUNITY:1,COMPANY:1,COMPARE:1,COMPUTER:1,COMSEC:1,CONDOS:1,CONSTRUCTION:1,CONSULTING:1,CONTACT:1,CONTRACTORS:1,COOKING:1,COOKINGCHANNEL:1,COOL:1,COOP:1,CORSICA:1,COUNTRY:1,COUPON:1,COUPONS:1,COURSES:1,CR:1,CREDIT:1,CREDITCARD:1,CREDITUNION:1,CRICKET:1,CROWN:1,CRS:1,CRUISE:1,CRUISES:1,CSC:1,CU:1,CUISINELLA:1,CV:1,CW:1,CX:1,CY:1,CYMRU:1,CYOU:1,CZ:1,DABUR:1,DAD:1,DANCE:1,DATA:1,DATE:1,DATING:1,DATSUN:1,DAY:1,DCLK:1,DDS:1,DE:1,DEAL:1,DEALER:1,DEALS:1,DEGREE:1,DELIVERY:1,DELL:1,DELOITTE:1,DELTA:1,DEMOCRAT:1,DENTAL:1,DENTIST:1,DESI:1,DESIGN:1,DEV:1,DHL:1,DIAMONDS:1,DIET:1,DIGITAL:1,DIRECT:1,DIRECTORY:1,DISCOUNT:1,DISCOVER:1,DISH:1,DIY:1,DJ:1,DK:1,DM:1,DNP:1,DO:1,DOCS:1,DOCTOR:1,DODGE:1,DOG:1,DOMAINS:1,DOT:1,DOWNLOAD:1,DRIVE:1,DTV:1,DUBAI:1,DUCK:1,DUNLOP:1,DUNS:1,DUPONT:1,DURBAN:1,DVAG:1,DVR:1,DZ:1,EARTH:1,EAT:1,EC:1,ECO:1,EDEKA:1,EDU:1,EDUCATION:1,EE:1,EG:1,EMAIL:1,EMERCK:1,ENERGY:1,ENGINEER:1,ENGINEERING:1,ENTERPRISES:1,EPSON:1,EQUIPMENT:1,ER:1,ERICSSON:1,ERNI:1,ES:1,ESQ:1,ESTATE:1,ESURANCE:1,ET:1,ETISALAT:1,EU:1,EUROVISION:1,EUS:1,EVENTS:1,EVERBANK:1,EXCHANGE:1,EXPERT:1,EXPOSED:1,EXPRESS:1,EXTRASPACE:1,FAGE:1,FAIL:1,FAIRWINDS:1,FAITH:1,FAMILY:1,FAN:1,FANS:1,FARM:1,FARMERS:1,FASHION:1,FAST:1,FEDEX:1,FEEDBACK:1,FERRARI:1,FERRERO:1,FI:1,FIAT:1,FIDELITY:1,FIDO:1,FILM:1,FINAL:1,FINANCE:1,FINANCIAL:1,FIRE:1,FIRESTONE:1,FIRMDALE:1,FISH:1,FISHING:1,FIT:1,FITNESS:1,FJ:1,FK:1,FLICKR:1,FLIGHTS:1,FLIR:1,FLORIST:1,FLOWERS:1,FLY:1,FM:1,FO:1,FOO:1,FOOD:1,FOODNETWORK:1,FOOTBALL:1,FORD:1,FOREX:1,FORSALE:1,FORUM:1,FOUNDATION:1,FOX:1,FR:1,FREE:1,FRESENIUS:1,FRL:1,FROGANS:1,FRONTDOOR:1,FRONTIER:1,FTR:1,FUJITSU:1,FUJIXEROX:1,FUN:1,FUND:1,FURNITURE:1,FUTBOL:1,FYI:1,GA:1,GAL:1,GALLERY:1,GALLO:1,GALLUP:1,GAME:1,GAMES:1,GAP:1,GARDEN:1,GB:1,GBIZ:1,GD:1,GDN:1,GE:1,GEA:1,GENT:1,GENTING:1,GEORGE:1,GF:1,GG:1,GGEE:1,GH:1,GI:1,GIFT:1,GIFTS:1,GIVES:1,GIVING:1,GL:1,GLADE:1,GLASS:1,GLE:1,GLOBAL:1,GLOBO:1,GM:1,GMAIL:1,GMBH:1,GMO:1,GMX:1,GN:1,GODADDY:1,GOLD:1,GOLDPOINT:1,GOLF:1,GOO:1,GOODYEAR:1,GOOG:1,GOOGLE:1,GOP:1,GOT:1,GOV:1,GP:1,GQ:1,GR:1,GRAINGER:1,GRAPHICS:1,GRATIS:1,GREEN:1,GRIPE:1,GROCERY:1,GROUP:1,GS:1,GT:1,GU:1,GUARDIAN:1,GUCCI:1,GUGE:1,GUIDE:1,GUITARS:1,GURU:1,GW:1,GY:1,HAIR:1,HAMBURG:1,HANGOUT:1,HAUS:1,HBO:1,HDFC:1,HDFCBANK:1,HEALTH:1,HEALTHCARE:1,HELP:1,HELSINKI:1,HERE:1,HERMES:1,HGTV:1,HIPHOP:1,HISAMITSU:1,HITACHI:1,HIV:1,HK:1,HKT:1,HM:1,HN:1,HOCKEY:1,HOLDINGS:1,HOLIDAY:1,HOMEDEPOT:1,HOMEGOODS:1,HOMES:1,HOMESENSE:1,HONDA:1,HONEYWELL:1,HORSE:1,HOSPITAL:1,HOST:1,HOSTING:1,HOT:1,HOTELES:1,HOTELS:1,HOTMAIL:1,HOUSE:1,HOW:1,HR:1,HSBC:1,HT:1,HU:1,HUGHES:1,HYATT:1,HYUNDAI:1,IBM:1,ICBC:1,ICE:1,ICU:1,ID:1,IE:1,IEEE:1,IFM:1,IKANO:1,IL:1,IM:1,IMAMAT:1,IMDB:1,IMMO:1,IMMOBILIEN:1,IN:1,INC:1,INDUSTRIES:1,INFINITI:1,INFO:1,ING:1,INK:1,INSTITUTE:1,INSURANCE:1,INSURE:1,INT:1,INTEL:1,INTERNATIONAL:1,INTUIT:1,INVESTMENTS:1,IO:1,IPIRANGA:1,IQ:1,IR:1,IRISH:1,IS:1,ISELECT:1,ISMAILI:1,IST:1,ISTANBUL:1,IT:1,ITAU:1,ITV:1,IVECO:1,JAGUAR:1,JAVA:1,JCB:1,JCP:1,JE:1,JEEP:1,JETZT:1,JEWELRY:1,JIO:1,JLL:1,JM:1,JMP:1,JNJ:1,JO:1,JOBS:1,JOBURG:1,JOT:1,JOY:1,JP:1,JPMORGAN:1,JPRS:1,JUEGOS:1,JUNIPER:1,KAUFEN:1,KDDI:1,KE:1,KERRYHOTELS:1,KERRYLOGISTICS:1,KERRYPROPERTIES:1,KFH:1,KG:1,KH:1,KI:1,KIA:1,KIM:1,KINDER:1,KINDLE:1,KITCHEN:1,KIWI:1,KM:1,KN:1,KOELN:1,KOMATSU:1,KOSHER:1,KP:1,KPMG:1,KPN:1,KR:1,KRD:1,KRED:1,KUOKGROUP:1,KW:1,KY:1,KYOTO:1,KZ:1,LA:1,LACAIXA:1,LADBROKES:1,LAMBORGHINI:1,LAMER:1,LANCASTER:1,LANCIA:1,LANCOME:1,LAND:1,LANDROVER:1,LANXESS:1,LASALLE:1,LAT:1,LATINO:1,LATROBE:1,LAW:1,LAWYER:1,LB:1,LC:1,LDS:1,LEASE:1,LECLERC:1,LEFRAK:1,LEGAL:1,LEGO:1,LEXUS:1,LGBT:1,LI:1,LIAISON:1,LIDL:1,LIFE:1,LIFEINSURANCE:1,LIFESTYLE:1,LIGHTING:1,LIKE:1,LILLY:1,LIMITED:1,LIMO:1,LINCOLN:1,LINDE:1,LINK:1,LIPSY:1,LIVE:1,LIVING:1,LIXIL:1,LK:1,LLC:1,LOAN:1,LOANS:1,LOCKER:1,LOCUS:1,LOFT:1,LOL:1,LONDON:1,LOTTE:1,LOTTO:1,LOVE:1,LPL:1,LPLFINANCIAL:1,LR:1,LS:1,LT:1,LTD:1,LTDA:1,LU:1,LUNDBECK:1,LUPIN:1,LUXE:1,LUXURY:1,LV:1,LY:1,MA:1,MACYS:1,MADRID:1,MAIF:1,MAISON:1,MAKEUP:1,MAN:1,MANAGEMENT:1,MANGO:1,MAP:1,MARKET:1,MARKETING:1,MARKETS:1,MARRIOTT:1,MARSHALLS:1,MASERATI:1,MATTEL:1,MBA:1,MC:1,MCKINSEY:1,MD:1,ME:1,MED:1,MEDIA:1,MEET:1,MELBOURNE:1,MEME:1,MEMORIAL:1,MEN:1,MENU:1,MERCKMSD:1,METLIFE:1,MG:1,MH:1,MIAMI:1,MICROSOFT:1,MIL:1,MINI:1,MINT:1,MIT:1,MITSUBISHI:1,MK:1,ML:1,MLB:1,MLS:1,MM:1,MMA:1,MN:1,MO:1,MOBI:1,MOBILE:1,MOBILY:1,MODA:1,MOE:1,MOI:1,MOM:1,MONASH:1,MONEY:1,MONSTER:1,MOPAR:1,MORMON:1,MORTGAGE:1,MOSCOW:1,MOTO:1,MOTORCYCLES:1,MOV:1,MOVIE:1,MOVISTAR:1,MP:1,MQ:1,MR:1,MS:1,MSD:1,MT:1,MTN:1,MTR:1,MU:1,MUSEUM:1,MUTUAL:1,MV:1,MW:1,MX:1,MY:1,MZ:1,NA:1,NAB:1,NADEX:1,NAGOYA:1,NAME:1,NATIONWIDE:1,NATURA:1,NAVY:1,NBA:1,NC:1,NE:1,NEC:1,NET:1,NETBANK:1,NETFLIX:1,NETWORK:1,NEUSTAR:1,NEW:1,NEWHOLLAND:1,NEWS:1,NEXT:1,NEXTDIRECT:1,NEXUS:1,NF:1,NFL:1,NG:1,NGO:1,NHK:1,NI:1,NICO:1,NIKE:1,NIKON:1,NINJA:1,NISSAN:1,NISSAY:1,NL:1,NO:1,NOKIA:1,NORTHWESTERNMUTUAL:1,NORTON:1,NOW:1,NOWRUZ:1,NOWTV:1,NP:1,NR:1,NRA:1,NRW:1,NTT:1,NU:1,NYC:1,NZ:1,OBI:1,OBSERVER:1,OFF:1,OFFICE:1,OKINAWA:1,OLAYAN:1,OLAYANGROUP:1,OLDNAVY:1,OLLO:1,OM:1,OMEGA:1,ONE:1,ONG:1,ONL:1,ONLINE:1,ONYOURSIDE:1,OOO:1,OPEN:1,ORACLE:1,ORANGE:1,ORG:1,ORGANIC:1,ORIGINS:1,OSAKA:1,OTSUKA:1,OTT:1,OVH:1,PA:1,PAGE:1,PANASONIC:1,PARIS:1,PARS:1,PARTNERS:1,PARTS:1,PARTY:1,PASSAGENS:1,PAY:1,PCCW:1,PE:1,PET:1,PF:1,PFIZER:1,PG:1,PH:1,PHARMACY:1,PHD:1,PHILIPS:1,PHONE:1,PHOTO:1,PHOTOGRAPHY:1,PHOTOS:1,PHYSIO:1,PIAGET:1,PICS:1,PICTET:1,PICTURES:1,PID:1,PIN:1,PING:1,PINK:1,PIONEER:1,PIZZA:1,PK:1,PL:1,PLACE:1,PLAY:1,PLAYSTATION:1,PLUMBING:1,PLUS:1,PM:1,PN:1,PNC:1,POHL:1,POKER:1,POLITIE:1,PORN:1,POST:1,PR:1,PRAMERICA:1,PRAXI:1,PRESS:1,PRIME:1,PRO:1,PROD:1,PRODUCTIONS:1,PROF:1,PROGRESSIVE:1,PROMO:1,PROPERTIES:1,PROPERTY:1,PROTECTION:1,PRU:1,PRUDENTIAL:1,PS:1,PT:1,PUB:1,PW:1,PWC:1,PY:1,QA:1,QPON:1,QUEBEC:1,QUEST:1,QVC:1,RACING:1,RADIO:1,RAID:1,RE:1,READ:1,REALESTATE:1,REALTOR:1,REALTY:1,RECIPES:1,RED:1,REDSTONE:1,REDUMBRELLA:1,REHAB:1,REISE:1,REISEN:1,REIT:1,RELIANCE:1,REN:1,RENT:1,RENTALS:1,REPAIR:1,REPORT:1,REPUBLICAN:1,REST:1,RESTAURANT:1,REVIEW:1,REVIEWS:1,REXROTH:1,RICH:1,RICHARDLI:1,RICOH:1,RIGHTATHOME:1,RIL:1,RIO:1,RIP:1,RMIT:1,RO:1,ROCHER:1,ROCKS:1,RODEO:1,ROGERS:1,ROOM:1,RS:1,RSVP:1,RU:1,RUGBY:1,RUHR:1,RUN:1,RW:1,RWE:1,RYUKYU:1,SA:1,SAARLAND:1,SAFE:1,SAFETY:1,SAKURA:1,SALE:1,SALON:1,SAMSCLUB:1,SAMSUNG:1,SANDVIK:1,SANDVIKCOROMANT:1,SANOFI:1,SAP:1,SARL:1,SAS:1,SAVE:1,SAXO:1,SB:1,SBI:1,SBS:1,SC:1,SCA:1,SCB:1,SCHAEFFLER:1,SCHMIDT:1,SCHOLARSHIPS:1,SCHOOL:1,SCHULE:1,SCHWARZ:1,SCIENCE:1,SCJOHNSON:1,SCOR:1,SCOT:1,SD:1,SE:1,SEARCH:1,SEAT:1,SECURE:1,SECURITY:1,SEEK:1,SELECT:1,SENER:1,SERVICES:1,SES:1,SEVEN:1,SEW:1,SEX:1,SEXY:1,SFR:1,SG:1,SH:1,SHANGRILA:1,SHARP:1,SHAW:1,SHELL:1,SHIA:1,SHIKSHA:1,SHOES:1,SHOP:1,SHOPPING:1,SHOUJI:1,SHOW:1,SHOWTIME:1,SHRIRAM:1,SI:1,SILK:1,SINA:1,SINGLES:1,SITE:1,SJ:1,SK:1,SKI:1,SKIN:1,SKY:1,SKYPE:1,SL:1,SLING:1,SM:1,SMART:1,SMILE:1,SN:1,SNCF:1,SO:1,SOCCER:1,SOCIAL:1,SOFTBANK:1,SOFTWARE:1,SOHU:1,SOLAR:1,SOLUTIONS:1,SONG:1,SONY:1,SOY:1,SPACE:1,SPORT:1,SPOT:1,SPREADBETTING:1,SR:1,SRL:1,SRT:1,SS:1,ST:1,STADA:1,STAPLES:1,STAR:1,STARHUB:1,STATEBANK:1,STATEFARM:1,STC:1,STCGROUP:1,STOCKHOLM:1,STORAGE:1,STORE:1,STREAM:1,STUDIO:1,STUDY:1,STYLE:1,SU:1,SUCKS:1,SUPPLIES:1,SUPPLY:1,SUPPORT:1,SURF:1,SURGERY:1,SUZUKI:1,SV:1,SWATCH:1,SWIFTCOVER:1,SWISS:1,SX:1,SY:1,SYDNEY:1,SYMANTEC:1,SYSTEMS:1,SZ:1,TAB:1,TAIPEI:1,TALK:1,TAOBAO:1,TARGET:1,TATAMOTORS:1,TATAR:1,TATTOO:1,TAX:1,TAXI:1,TC:1,TCI:1,TD:1,TDK:1,TEAM:1,TECH:1,TECHNOLOGY:1,TEL:1,TELEFONICA:1,TEMASEK:1,TENNIS:1,TEVA:1,TF:1,TG:1,TH:1,THD:1,THEATER:1,THEATRE:1,TIAA:1,TICKETS:1,TIENDA:1,TIFFANY:1,TIPS:1,TIRES:1,TIROL:1,TJ:1,TJMAXX:1,TJX:1,TK:1,TKMAXX:1,TL:1,TM:1,TMALL:1,TN:1,TO:1,TODAY:1,TOKYO:1,TOOLS:1,TOP:1,TORAY:1,TOSHIBA:1,TOTAL:1,TOURS:1,TOWN:1,TOYOTA:1,TOYS:1,TR:1,TRADE:1,TRADING:1,TRAINING:1,TRAVEL:1,TRAVELCHANNEL:1,TRAVELERS:1,TRAVELERSINSURANCE:1,TRUST:1,TRV:1,TT:1,TUBE:1,TUI:1,TUNES:1,TUSHU:1,TV:1,TVS:1,TW:1,TZ:1,UA:1,UBANK:1,UBS:1,UCONNECT:1,UG:1,UK:1,UNICOM:1,UNIVERSITY:1,UNO:1,UOL:1,UPS:1,US:1,UY:1,UZ:1,VA:1,VACATIONS:1,VANA:1,VANGUARD:1,VC:1,VE:1,VEGAS:1,VENTURES:1,VERISIGN:1,VERSICHERUNG:1,VET:1,VG:1,VI:1,VIAJES:1,VIDEO:1,VIG:1,VIKING:1,VILLAS:1,VIN:1,VIP:1,VIRGIN:1,VISA:1,VISION:1,VISTAPRINT:1,VIVA:1,VIVO:1,VLAANDEREN:1,VN:1,VODKA:1,VOLKSWAGEN:1,VOLVO:1,VOTE:1,VOTING:1,VOTO:1,VOYAGE:1,VU:1,VUELOS:1,WALES:1,WALMART:1,WALTER:1,WANG:1,WANGGOU:1,WARMAN:1,WATCH:1,WATCHES:1,WEATHER:1,WEATHERCHANNEL:1,WEBCAM:1,WEBER:1,WEBSITE:1,WED:1,WEDDING:1,WEIBO:1,WEIR:1,WF:1,WHOSWHO:1,WIEN:1,WIKI:1,WILLIAMHILL:1,WIN:1,WINDOWS:1,WINE:1,WINNERS:1,WME:1,WOLTERSKLUWER:1,WOODSIDE:1,WORK:1,WORKS:1,WORLD:1,WOW:1,WS:1,WTC:1,WTF:1,XBOX:1,XEROX:1,XFINITY:1,XIHUAN:1,XIN:1,"XN--11B4C3D":1,"XN--1CK2E1B":1,"XN--1QQW23A":1,"XN--2SCRJ9C":1,"XN--30RR7Y":1,"XN--3BST00M":1,"XN--3DS443G":1,"XN--3E0B707E":1,"XN--3HCRJ9C":1,"XN--3OQ18VL8PN36A":1,"XN--3PXU8K":1,"XN--42C2D9A":1,"XN--45BR5CYL":1,"XN--45BRJ9C":1,"XN--45Q11C":1,"XN--4GBRIM":1,"XN--54B7FTA0CC":1,"XN--55QW42G":1,"XN--55QX5D":1,"XN--5SU34J936BGSG":1,"XN--5TZM5G":1,"XN--6FRZ82G":1,"XN--6QQ986B3XL":1,"XN--80ADXHKS":1,"XN--80AO21A":1,"XN--80AQECDR1A":1,"XN--80ASEHDB":1,"XN--80ASWG":1,"XN--8Y0A063A":1,"XN--90A3AC":1,"XN--90AE":1,"XN--90AIS":1,"XN--9DBQ2A":1,"XN--9ET52U":1,"XN--9KRT00A":1,"XN--B4W605FERD":1,"XN--BCK1B9A5DRE4C":1,"XN--C1AVG":1,"XN--C2BR7G":1,"XN--CCK2B3B":1,"XN--CG4BKI":1,"XN--CLCHC0EA0B2G2A9GCD":1,"XN--CZR694B":1,"XN--CZRS0T":1,"XN--CZRU2D":1,"XN--D1ACJ3B":1,"XN--D1ALF":1,"XN--E1A4C":1,"XN--ECKVDTC9D":1,"XN--EFVY88H":1,"XN--ESTV75G":1,"XN--FCT429K":1,"XN--FHBEI":1,"XN--FIQ228C5HS":1,"XN--FIQ64B":1,"XN--FIQS8S":1,"XN--FIQZ9S":1,"XN--FJQ720A":1,"XN--FLW351E":1,"XN--FPCRJ9C3D":1,"XN--FZC2C9E2C":1,"XN--FZYS8D69UVGM":1,"XN--G2XX48C":1,"XN--GCKR3F0F":1,"XN--GECRJ9C":1,"XN--GK3AT1E":1,"XN--H2BREG3EVE":1,"XN--H2BRJ9C":1,"XN--H2BRJ9C8C":1,"XN--HXT814E":1,"XN--I1B6B1A6A2E":1,"XN--IMR513N":1,"XN--IO0A7I":1,"XN--J1AEF":1,"XN--J1AMH":1,"XN--J6W193G":1,"XN--JLQ61U9W7B":1,"XN--JVR189M":1,"XN--KCRX77D1X4A":1,"XN--KPRW13D":1,"XN--KPRY57D":1,"XN--KPU716F":1,"XN--KPUT3I":1,"XN--L1ACC":1,"XN--LGBBAT1AD8J":1,"XN--MGB9AWBF":1,"XN--MGBA3A3EJT":1,"XN--MGBA3A4F16A":1,"XN--MGBA7C0BBN0A":1,"XN--MGBAAKC7DVF":1,"XN--MGBAAM7A8H":1,"XN--MGBAB2BD":1,"XN--MGBAH1A3HJKRD":1,"XN--MGBAI9AZGQP6J":1,"XN--MGBAYH7GPA":1,"XN--MGBB9FBPOB":1,"XN--MGBBH1A":1,"XN--MGBBH1A71E":1,"XN--MGBC0A9AZCG":1,"XN--MGBCA7DZDO":1,"XN--MGBERP4A5D4AR":1,"XN--MGBGU82A":1,"XN--MGBI4ECEXP":1,"XN--MGBPL2FH":1,"XN--MGBT3DHD":1,"XN--MGBTX2B":1,"XN--MGBX4CD0AB":1,"XN--MIX891F":1,"XN--MK1BU44C":1,"XN--MXTQ1M":1,"XN--NGBC5AZD":1,"XN--NGBE9E0A":1,"XN--NGBRX":1,"XN--NODE":1,"XN--NQV7F":1,"XN--NQV7FS00EMA":1,"XN--NYQY26A":1,"XN--O3CW4H":1,"XN--OGBPF8FL":1,"XN--OTU796D":1,"XN--P1ACF":1,"XN--P1AI":1,"XN--PBT977C":1,"XN--PGBS0DH":1,"XN--PSSY2U":1,"XN--Q9JYB4C":1,"XN--QCKA1PMC":1,"XN--QXAM":1,"XN--RHQV96G":1,"XN--ROVU88B":1,"XN--RVC1E0AM3E":1,"XN--S9BRJ9C":1,"XN--SES554G":1,"XN--T60B56A":1,"XN--TCKWE":1,"XN--TIQ49XQYJ":1,"XN--UNUP4Y":1,"XN--VERMGENSBERATER-CTB":1,"XN--VERMGENSBERATUNG-PWB":1,"XN--VHQUV":1,"XN--VUQ861B":1,"XN--W4R85EL8FHU5DNRA":1,"XN--W4RS40L":1,"XN--WGBH1C":1,"XN--WGBL6A":1,"XN--XHQ521B":1,"XN--XKC2AL3HYE2A":1,"XN--XKC2DL3A5EE0H":1,"XN--Y9A3AQ":1,"XN--YFRO4I67O":1,"XN--YGBI2AMMX":1,"XN--ZFR164B":1,XXX:1,XYZ:1,YACHTS:1,YAHOO:1,YAMAXUN:1,YANDEX:1,YE:1,YODOBASHI:1,YOGA:1,YOKOHAMA:1,YOU:1,YOUTUBE:1,YT:1,YUN:1,ZA:1,ZAPPOS:1,ZARA:1,ZERO:1,ZIP:1,ZM:1,ZONE:1,ZUERICH:1,ZW:1},icons:{"status-incomplete":{x:0,y:0,width:12},"status-complete":{x:13,y:0,width:12},"status-active":{x:27,y:-1,width:12},dropdown:{x:38,y:0,width:12},"dropdown-hover":{x:52,y:0,width:12},"activeform-pointer":{x:64,y:0,width:14,height:6},"message-reply":{x:91,y:1,width:10},"status-reply":{x:92,y:0,width:10},pageprev:{x:105,y:0,width:10},pagenext:{x:118,y:0,width:10},pagefirst:{x:130,y:0,width:12},pagelast:{x:143,y:0,width:12},view:{x:156,y:0,width:15,height:10},"arrow-up":{x:175,y:0,width:8},"arrow-right":{x:188,y:0,width:8},"arrow-up-hover":{x:201,y:1,width:8},print:{x:365,y:29,width:24},lock:{x:214,y:0,width:10},members:{x:227,y:0,width:10},posts:{x:240,y:0,width:10},closed:{x:253,y:0,width:9},prohibited:{x:266,y:1,width:9},star:{x:278,y:0,width:10},invisible:{x:289,y:-1,width:12},unlock:{x:303,y:0,width:12},"success-arrow":{x:317,y:0,width:10},note:{x:0,y:12,width:16},lesson:{x:122,y:12,width:16},assignment:{x:134,y:12,width:16},homework:{x:17,y:12,width:16},event:{x:33,y:12,width:16},download:{x:51,y:11,width:16},trashcan:{x:67,y:12,width:16},"attach-file":{x:85,y:12,width:16},search:{x:102,y:12,width:16},popout:{x:168,y:11,width:18,height:16},"popout-hover":{x:186,y:11,width:18,height:16},"search-hover":{x:220,y:10,width:16},"close-hover":{x:239,y:12,width:16},close:{x:255,y:12,width:16},"alert-1":{x:272,y:12,width:16},"alert-2":{x:289,y:12,width:16},"alert-3":{x:306,y:12,width:16},"alert-4":{x:323,y:12,width:16},discipline:{x:341,y:12,width:16},"less-than":{x:358,y:8,width:16},"greater-than":{x:375,y:8,width:16},approved:{x:393,y:13,width:12,height:14},rejected:{x:412,y:14,width:10},moveup:{x:425,y:11,width:16},"moveup-hover":{x:442,y:11,width:16},movedown:{x:459,y:11,width:16},"movedown-hover":{x:476,y:11,width:16},indent:{x:492,y:11,width:16},"indent-hover":{x:509,y:11,width:16},outdent:{x:527,y:11,width:16},"outdent-hover":{x:544,y:11,width:16},gear:{x:561,y:11,width:16},undo:{x:578,y:11,width:16},"turny-down":{x:594,y:11,width:16},"turny-right":{x:612,y:11,width:16},"turny-left":{x:629,y:11,width:16},"turny-up":{x:646,y:11,width:16},pin:{x:221,y:10,width:16,height:16},"layout-grid":{x:665,y:13,width:12,height:13},"layout-list":{x:679,y:13,width:12,height:13},"layout-roster":{x:698,y:13,width:12,height:13},poll:{x:716,y:13,width:12,height:13},like:{x:733,y:13,width:12,height:13},"layout-slideshow":{x:765,y:13,width:12,height:13},grid:{x:750,y:13,width:12,height:13},clock:{x:785,y:14,width:11},active:{x:803,y:15,width:9},"small-tag":{x:817,y:12,width:14},"forms-checkbox-unchecked":{x:851,y:12,width:15},"forms-checkbox-checked":{x:868,y:12,width:15},"forms-checkbox-default":{x:885,y:12,width:15},"forms-calendar":{x:903,y:13,width:13},"forms-remove":{x:921,y:13,width:13},"forms-remove-hover":{x:938,y:13,width:13},"forms-remove-small":{x:995,y:14,width:12},"forms-remove-small-hover":{x:972,y:14,width:12},"forms-slider":{x:988,y:12,width:15},"forms-slider-hover":{x:1004,y:12,width:15},"forms-clock":{x:1019,y:10,width:17},"forms-radio-unchecked":{x:1039,y:13,width:13},"forms-radio-checked":{x:1056,y:13,width:13},"arrow-large-left":{x:0,y:30,width:20,height:25},"arrow-large-right":{x:30,y:30,width:20,height:25},"arrow-blue-large-left":{x:55,y:28,width:20,height:25},"arrow-blue-large-right":{x:80,y:28,width:20,height:25},tag:{x:104,y:31,width:25},alert:{x:130,y:29,width:25,height:22},mailbox:{x:159,y:30,width:20},"mailbox-hover":{x:185,y:30,width:20},message:{x:210,y:30,width:20},"message-hover":{x:236,y:30,width:20},calendar:{x:262,y:30,width:20},"calendar-hover":{x:288,y:30,width:20},"arrow-outline-large-left":{x:312,y:30,width:20,height:25},"arrow-outline-large-right":{x:342,y:30,width:20,height:25},"attendance-danger":{x:707,y:32,width:16,height:16},"attendance-warn":{x:733,y:32,width:16,height:16},play:{x:0,y:52,width:42},"round-arrow-button-left":{x:88,y:53,width:42},"round-arrow-button-left-disabled":{x:44,y:52,width:42},"round-arrow-button-right":{x:176,y:53,width:42},"round-arrow-button-right-disabled":{x:132,y:52,width:42},"arrow-tall-left":{x:218,y:57,width:16,height:32},"help-disabled":{x:243,y:62,width:24},help:{x:288,y:62,width:24},"help-hover":{x:332,y:62,width:24},"workflow-approval":{x:459,y:58,width:32},"workflow-group":{x:415,y:58,width:32},"workflow-general":{x:502,y:58,width:32},"workflow-cal":{x:371,y:58,width:32}},fileTypeIcons:{avi:1,doc:2,docx:2,mov:3,mp3:4,mpeg:4,pdf:5,ppt:6,pptx:6,txt:7,xls:8,xlsx:8,zip:9,rar:9},fileTypeScale:{16:14,32:28,64:56}})})}(window,document,cf),function(e,t,a){var i=e.gbl,n=(function(){_createClass(function e(t){_classCallCheck(this,e),this.uri=t,this.loaded=!1},[{key:"load",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loaded",value:function(){return this.loaded}}])}(),{waitingBuilds:{},waitingModules:{},waitingResources:{},waiting:{},confirms:{},files:{waiting:{},loaded:{},callbacks:{},requests:[]},resources:{},modules:{},processLibName:function(t){return-1===t.indexOf(e.gbl.static)&&-1===t.indexOf(e.gbl.p)?t:n.isBundle(t)?t:(t=t.split("?")[0].replace(e.gbl.lib,"").replace(e.gbl.static,"").replace(e.gbl.p,""),t="r__"+btoa(t)+"."+t.split(".").pop())},isBundle:function(t){return-1!==t.indexOf(e.gbl.bundles)},findBundle:function(e,t,a){if(e)for(var i in e){var n=e[i];if(n[a]&&n[a][t])return i}return!1},getBundleSettings:function(){var t=e.settings.bundles;return t&&t.engine&&delete t.engine,t},getBundleURI:function(t,a,i){if(e.settings.useBundles&&!e.settings.dev){var r=n.findBundle(n.getBundleSettings(),t,a);if(r&&"general"!==r){var o=e.gbl.bundles;return"".concat(o,"bundle_").concat(r,".min.").concat(1===i?"js":"css")}}},loadXDSresources:function(e){n.legacyLoadXDSresources(e)},legacyLoadXDSresources:function(t){for(var a=[],r=[],o=[],s=e.settings.resources,d=e.settings.modules,l=e.resources.resources,c=e.resources.modules,u=e.resources.waitingResources,f=e.resources.waitingModules,g=t.omodules,p=g.length,h=0;h<p;h++){var m=g[h],v=t.modules[m];v&&(e.resources.waitingModules[m]=0,1&v&&!(1&c[m])&&!(1&f[m])&&1&d[m]&&(e.resources.waitingModules[m]|=1,r.push(n.getBundleURI(m,"modules",1)||"m__"+m)),2&v&&!(2&c[m])&&!(2&f[m])&&2&d[m]&&(e.resources.waitingModules[m]|=2,o.push(n.getBundleURI(m,"modules",2)||"m__"+m)))}for(var b=t.oresources,_=b.length,y=0;y<_;y++){var x=b[y],w=t.resources[x];w&&(e.resources.waitingResources[x]=0,1&w&&!(1&l[x])&&!(1&u[x])&&1&s[x]&&(e.resources.waitingResources[x]|=1,r.push(n.getBundleURI(x,"resources",1)||x)),2&w&&!(2&l[x])&&!(2&u[x])&&2&s[x]&&(e.resources.waitingResources[x]|=2,o.push(n.getBundleURI(x,"resources",2)||x)))}if(t.eval){var C="xdsrez-".concat(t.eval.split("/").pop());if(1&!u[C]){var k=e.settings.compiled||"uncompiled",S=e.sha1(k+e.gbl.user.school+e.gbl.user.roles.join(".")),T="".concat(e.gbl.xdsresource).concat(S,"/").concat(t.eval,".js");a.push(T),e.resources.waitingResources[C]=1,t.evalID=C}}for(var M in t.lib){var I=n.processLibName(M).split(".")[0];-1!==M.indexOf(".js")?r.push(I):o.push(I)}var A=function(t,r,o){var s,d=[],l=t.length,c=0,u=[];for(e.resources.loaded;c<l;)n.isBundle(t[c])?(d.push(t[c]),c++):u.join("-").length+t[c].length<200?(u.push(t[c]),c++):(d.push(u.join("-")),u=[]);u.length&&d.push(u.join("-")),l=d.length;for(var f=0;f<l;f++)s=n.isBundle(d[f])?d[f]:i.resource+d[f]+r,a.push(s)};if(e.settings.dev){for(var D=r.length,L=0;L<D;L++)A([r[L]],".js");for(var E=o.length,N=0;N<E;N++)A([o[N]],".css")}else A(o,".min.css"),A(r,".min.js");return e.resources.load(a,function(){try{for(var a in t.resources)delete e.resources.waitingResources[a],e.resources.resources[a]|=t.resources[a];for(var i in t.modules)delete e.resources.waitingModules[i],e.resources.modules[i]|=t.modules[i];for(var n in e.resources.waitingBuilds)e.resources.waitingBuilds[n].resourcesLoaded(t);t.evalID&&delete e.resources.waitingResources[t.evalID]}catch(t){e.log.error({module:"resource",name:"Failure to call resourcesLoaded callback",exception:t})}}),{files:a,css:o,js:r}},load:function(t,a){var i,r,o=[],s=0,d=e.resources.files,l={};if(!e.is_arr(t))return e.resources.load([t],a);for(l={callback:a,files:t,waiting:{}},i=t.length;s<i;)r=t[s],e.gbl.resource&&-1===r.indexOf(e.gbl.resource)&&!n.isBundle(r)&&-1===r.indexOf(e.gbl.xdsresource)&&(r=e.gbl.resource+n.processLibName(r)),void 0===d.loaded[r]&&void 0===d.waiting[r]?(l.waiting[r]=1,d.waiting[r]=1,l.hasWaiting=!0,o.push(r)):d.waiting[r]&&(l.hasWaiting=!0,d.waiting[r]=1,l.waiting[r]=1),s++;l.hasWaiting?(d.requests.push(l),o.length&&e.resources.loadFiles(o,function(t){for(var a,i,n,r,o,s=e.resources.files,d=t.length,l=s.requests;d--;)for(n=t[d],delete s.waiting[n],s.loaded[n]=1,a=l.length;a--;)if(!(i=l[a]).done){for(r in delete i.waiting[n],o=!1,i.waiting){o=!0;break}o||(i.done=!0,e.is_func(i.callback)&&i.callback())}})):e.is_func(a)&&setTimeout(a,0)}});n.loadFiles=function(){var i,r,o=0,s={};function d(e){return!0!==e&&-1!==e.indexOf(".css")}function l(t){return"string"!=typeof t&&(t=""+t),t.indexOf(e.gbl.xdsresource)>=0?"xdsrez-"+(t||"").split("/").pop().split(".")[0]:(t||"").split("/").pop().split(".")[0]}function c(t){var i;if(!0!==t){if(e.settings.dev&&(t+="?dev=1"),o++,d(t)){var n=a.createElement("div");(i=a.createElement("link")).href=t,i.rel="stylesheet",i.type="text/css",n.className="c__"+l(t).replace(/=/g,""),n.id="cc"+o,$(n).css("visibility","visible"),r.append(n)}else(i=a.createElement("script")).type="text/javascript",i.src=t,i.async=!0;return e.log.silentLog("Requested "+t),i.id="c"+o,e.browser.ie?r.append(i):r[0].appendChild(i),o}}return n.confirm=function(e,t){s[e]=t},function n(o,u,f){var g,p=e.clone(o),h=!1,m=function(){clearTimeout(f),clearTimeout(g);for(var a=0;a<o.length;a++)if(!d(o[a])&&s[l(o[a])])try{s[l(o[a])].call(t)}catch(t){e.log.exception(t)}h||u(o),h=!0};f||(g=setTimeout(m,e.settings.resourceTimeout||4e4),f=setTimeout(function(){!function(e,t){for(var a=0;a<e.length;a++)d(e[a])&&$("#cc"+t[a]).remove(),!0!==t[a]&&$("#c"+t[a]).remove()}(o,v),n(p,u,!0)},(e.settings.resourceTimeout||4e4)/2)),i||(i=$(a.getElementsByTagName("head")[0])),r||(r=$(a.getElementsByTagName("body")[0]));for(var v=[],b=0;b<p.length;b++)v.push(c(p[b]));setTimeout(function e(){for(var t,a=!1,i=0;i<p.length;i++)t=!1,!0!==p[i]&&(d(p[i])?"visible"===$("#cc"+v[i]).css("visibility")?t=!0:$("#cc"+v[i]).remove():s[l(p[i])]||(t=!0),t?a=!0:(p[i]=!0,v[i]=!0));a?setTimeout(e,10):m()},1)}}(),e.resources=n}(cf,window,document),function(e,t){var a,i,n,r=e.memory,o=r.objects,s=e.gbl,d=e.css,l=e.$css,c=(e.html,e.regex),u=(e.fn,e.constant),f={xds:{idx:1,split:!0},eval:{idx:2,split:!1},rights:{idx:3,split:!0},pin:{idx:4,split:!1},command:{idx:5,split:!0},data:{idx:6,split:!1},pbit:{idx:8,split:!1},role:{idx:9,split:!0},platform:{idx:10,split:!0},setting:{idx:11,split:!1},state:{idx:12,split:!1},native:{idx:13,split:!1},func:{idx:14,split:!1},method:{idx:15,split:!1},sibling:{idx:16,split:!1},storage:{idx:17,split:!1},device:{idx:18,split:!0}},g=function(){function e(){_classCallCheck(this,e),this._attr={},this._cssClassMap={}}return _createClass(e,[{key:"tag",get:function(){return this._tag},set:function(e){this._tag=e}},{key:"post",get:function(){return this._post||(this._post=[]),this._post},set:function(e){this._post=e}},{key:"pre",get:function(){return this._pre||(this._pre=[]),this._pre},set:function(e){this._pre=e}},{key:"preclose",get:function(){return this._preclose||(this._preclose=[]),this._preclose},set:function(e){this._preclose=e}},{key:"postclose",get:function(){return this._postclose||(this._postclose=[]),this._postclose},set:function(e){this._postclose=e}},{key:"inner",get:function(){return this._inner||(this._inner=[]),this._inner},set:function(e){this._inner=e}},{key:"attr",get:function(){return this._attr},set:function(e){this._attr=e}},{key:"cssClassMap",get:function(){return this._cssClassMap},set:function(e){this._cssClassMap=e}}]),e}(),p={p:0,div:0,span:0,a:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,img:0,table:0,label:0,tr:0,td:0,th:0,thead:0,tbody:0,tfoot:0,textarea:0,colgroup:0,ul:0,ol:0,li:0,text:"p",block:"div"};function h(){}function m(t){try{return this.construct(t)}catch(t){t.__cfErrorLogged||e.log.error({module:"xdo",method:"construct",name:"XDO Build Error",exception:t,xdo:this})}}function v(e){this.path=e.path}e.knownHTMLElements=p,h.prototype=(a={get xds(){return this._xds},set xds(e){this._xds=e},get tagName(){if(this._tag)return this._tag.tag},set tagName(e){this._tag&&(this._tag.tag=e)},get statekey(){return this.get_arg("key")||this.arg("key")||this.arg("cdid")||this.xds.id},get statekeys(){var e=this.arg("keys")||"",t=this.arg("key")||"",a=[];return e.length>0&&(a=e.split(",")),t.length>0&&a.push(t),this.arg("cdid")&&a.push(this.arg("cdid")),0===a.length&&a.push(this.xds.id),a},get rnode(){if(this._rnode)return this._rnode;var e=this.get_redirect_parent();return!!e&&e.rnode},set rnode(e){this.get_redirect_parent()||(this._rnode=e)},get node(){if(this._node)return this._node;var e=this.get_redirect_parent();return!!e&&e.node},set node(e){this.get_redirect_parent()||(this._node=e)},get root_xds(){var e=this.root_xdo();if(e){var t=e.get_redirect_parent();if(t)return t.xds_full.id}return this.xds_full.id},get data(){return this._data},set data(e){this._data=e},get dd(){var e=this._dd;return!e&&this.get_redirect_parent()&&(e=this.get_redirect_parent().dd),e},set dd(e){this._dd=e},is_dead:function(){return this.temp===e.memory.dead}},(i={}).statekey=i.statekey||{},i.statekey.get=function(){return this.get_arg("key")||this.arg("key")||this.xds.cdid||this.xds.id},_defineProperty(a,"watch",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.state.watch(this.statekey,e,t,a)}),_defineProperty(a,"toString",function(){return"[xdo "+this.xdsid()+" "+this.path+"]"}),_defineProperty(a,"isRoot",function(){return this.xds_full.id===this.cssPath}),_defineProperty(a,"isLast",function(){return this._last}),_defineProperty(a,"summarize",function(){return{path:this.path,xdspath:this.cssPath,node:this.nid(),xds:this.xdsid()}}),_defineProperty(a,"setTimeout",function(t,a,i){var n=arguments;i||(i=e.get("guid").rfc4122());var r=this.summarize(),o=this.ref(),s=window.setTimeout(function(){var a=o.resolve();if(a&&!a.is_dead())try{var i=[a];n.length>3&&(i=_toConsumableArray(n).slice(3)).unshift(a),t.apply(void 0,_toConsumableArray(i))}catch(t){e.log.error({module:"xdo",method:"setTimeout",name:"".concat(t.name," in Timeout"),message:"".concat(t.message),duplicates:!0,exception:t,xdoinfo:r})}},a);return this._timeouts||(this._timeouts={}),this._timeouts[i]&&window.clearTimeout(this._timeouts[i]),this._timeouts[i]=s,s}),_defineProperty(a,"clearTimeout",function(t){if(e.is_xdo(t)){if(this._timeouts)for(var a in this._timeouts)window.clearTimeout(this._timeouts[a]);this._timeouts={}}else e.is_str(t)?this._timeouts&&window.clearTimeout(this._timeouts[t]):window.clearTimeout(t)}),_defineProperty(a,"setInterval",function(t,a,i){i||(i=e.get("guid").rfc4122());var n=this.summarize(),r=this.ref(),o=window.setInterval(function(){var a=r.resolve();if(a&&!a.is_dead())try{t(a)}catch(t){e.log.error({module:"xdo",method:"setInterval",name:"".concat(t.name," in Interval"),message:"".concat(t.message),duplicates:!0,exception:t,xdoinfo:n})}else window.clearInterval(o)},a);return this._intervals||(this._intervals={}),this._intervals[i]&&window.clearInterval(this._intervals[i]),this._intervals[i]=o,o}),_defineProperty(a,"_buildProcessData",function(){this.temp={};var e=this.data;if(null===e)this.data=!1;else if("object"===_typeof(e)){if(void 0!==e.nid){var t=e.nid;n=t,(!1===e._threadhead||e.thread!==t&&!e._threadhead)&&this.addClass("thread"),void 0===this.nids[t]&&(this.nids[t]=e),void 0===this.nodes[t]&&(this.nodes[t]=[this.path])||this.nodes[t].push(this.path)}if(void 0!==e.rid){var a=e.rid;void 0===this.refs[a]&&(this.refs[a]=[this.path])||this.refs[a].push(this.path)}try{e instanceof Versionable&&e.attach(this)}catch(e){}}}),_defineProperty(a,"_buildRenderError",function(e){this.build.displayError({raw:e})}),_defineProperty(a,"_buildCallType",function(t){t.orig&&(this.type=t.orig);try{return t.call(this,this)}catch(t){if(e.log.error({module:"xdo",method:"_buildCallType",name:"XDS Type Execution",aux:this.xds.type+" type failed to render.",exception:t,xdo:this}),e&&e.settings&&e.settings.dev&&-1!==e.settings.runtime.strict||-1!==e.settings.runtime.strict&&1==(1&e.settings.runtime.strict)){var a=e.lang("A rendering error occurred");e.settings.dev&&(a+="\n\n".concat(t.stack)),this._buildRenderError(a)}return!1}}),_defineProperty(a,"_buildAddTooltip",function(t){if(t||!1!==this.tooltip){var a=!1;t&&(a={tooltip:t}),e.get("accessory").tooltip(this,a)}}),_defineProperty(a,"_buildAddTagStyle",function(){var e=this._tag,t="";if(e.style){t="";var a=e.style;for(var i in a)t+=i+":"+a[i]+";";this.addAttr("style",t)}}),_defineProperty(a,"_buildCheckPerm",function(){for(var t=this.xds._xds,a=t.length;a--;)if(void 0===this._perm.xdii[t[a]]&&t[a]!==s.user.base&&"{"!==t[a].substr(0,1))return e.log.info({name:"1031",message:"XDS not allowed",body:t[a]+" "+this.path}),!1;return!0}),_defineProperty(a,"_buildRegisterPerm",function(){var e,t,a=this.xds;for(e in a)"xds"===e.substr(0,3)&&("string"==typeof(t=a[e])&&"{{"===t.substr(0,2)&&(t=this.tpl(t)),t&&(this.xds._xds&&this.xds._xds.push(t)||(this.xds._xds=[t])))}),_defineProperty(a,"_buildRegisterFuncs",function(e){var t=this[e],a="_"+e,i=this.xds;for(var n in delete i[a],i)void 0!==t[n]&&void 0!==i[n]&&(i[a]&&i[a].push(n)||(i[a]=[n]))}),_defineProperty(a,"_buildRunRegisterFuncs",function(t){var a=this.xds,i=a["_"+t];if(i)for(var n=i.length;n--;){var r=i[n];if(e.settings.runtime.unittest&&this.attr("data-xds-".concat(t,"-").concat(r),a[r]),!1===this[t][r](this,a))return!1}}),_defineProperty(a,"_buildBuildTag",function(t){var a,i="",n=t.attr,r=this.xds,o=r.title,s="";s=n.cssClass&&n.cssClass.length?n.cssClass.join(" "):"",!n["aria-label"]&&r.placeholder&&(n["aria-label"]=r.placeholder),!n["aria-label"]&&o&&!1===r.showTitle&&(n["aria-label"]=o),"string"==typeof n["aria-label"]&&""===n["aria-label"].trim()&&delete n["aria-label"],this.suppressAria||r.suppressAria?delete n["aria-label"]:n["aria-label"]&&(n["aria-label"]=e.mlescape(this.tpl(n["aria-label"]))),e.layout.isPhone()&&n["aria-label"]&&t.tag&&"string"==typeof t.tag&&"a"===t.tag.toLowerCase()&&(n.title=n["aria-label"]),r["aria-hidden"]&&(n["aria-hidden"]=r["aria-hidden"]),r.noClass||(void 0!==this.path_include&&(s&&(s+=" "),s+=this.path_include),void 0!==this.proxyCSS&&(s&&(s+=" "),s+=this.proxyCSS),(r.include||void 0===this._stopCSStraverse)&&(s&&(s+=" "),s+=this.cssPath)),t.blank&&(s&&(s+=" "),s+="xds-blank"),r.css&&(s&&(s+=" "),s+=r.css),n.cssClass=s,void 0===n.id&&(n.id=this.path);var d={"aria-label":!0,style:!0},l="string"!=typeof t.tag||""===t.tag?"div":t.tag;if(e.settings.runtime.oldhtmlgen){for(var c in n)if("undefined"!==c&&void 0!==(a=n[c])){if("cssClass"===c&&(c="class"),"object"===_typeof(a))continue;if("string"!=typeof a&&"number"!=typeof a&&a instanceof Array&&(a=a.join(" ")),"id"===c||"string"!=typeof a||1===a.length)i+=c+"="+a+" ";else{var u=a;if(u.indexOf('"')>0&&(u=e.mlescape(u)),d[c]&&"string"==typeof a&&""===a.trim())continue;i+=c+'="'+u+'" '}}i="<"+l+" "+i+">"}else i=new e.classes.CFTag(l,n).tagOpen;i=this.tagGet("pre")+i;var f=this.tagGet("inner",!0);if(f)for(var g=0;g<f.length;g++)i=i+f[g].tagOpen+f[g].innerHTML;return i+this.tagGet("post")}),_defineProperty(a,"_buildBuildCloseTag",function(e){var t=this.tagGet("preclose"),a=this.tagGet("inner",!0);if(a)for(var i=0;i<a.length;i++)t+=a[a.length-i-1].tagClose;var n="string"!=typeof e.tag||""===e.tag?"div":e.tag;return"nowrap"!==e.tag&&!1!==this.close&&"input"!==e.tag&&(t+="</"+n+">"),(t+=this.tagGet("postclose"))||""}),_defineProperty(a,"_buildBuildData",function(){var t=this.xds,a=t.title,i=this.data,n="";return t.title1&&1==i&&(a=t.title1),a&&"string"==typeof a&&-1!==a.indexOf("{{")&&(a=this.tpl(a)),("object"!==_typeof(i)||this.displayVal||i instanceof Date||void 0!==a&&!1!==this.guidetext)&&((void 0!==this.dateFormat||void 0!==t.dateFormat)&&(this.displayVal=e.dateFormat(i,this.dateFormat||t.dateFormat,this.defaultValueText||t.defaultValueText)),void 0!==this.displayVal?n=this.displayVal:"object"!==_typeof(i)&&(n=i),"string"==typeof n&&(n=this._buildBuildDataString(n,t)),!1===n&&(n=""),!a||!1===this.showTitle||void 0!==t.showTitle&&!0!==t.showTitle||((t.wrapTitle||this.wrapTitle)&&(a="<span class='".concat(e.css.titleWrap,"'>").concat(a,"</span>")),t.appendTitle?n+=t.noSpaceTitle?a:" "+a:n=t.noSpaceTitle||"string"==typeof i&&0===i.length?a+n:a+" "+n)),n}),_defineProperty(a,"_buildBuildDataString",function(t,a){return"string"!=typeof t||!0!==this.processURLS&&!0!==a.processURLS&&!0!==this.processURLS||-1===t.indexOf(".")||(t=e.processURLS(t)),t}),_defineProperty(a,"_buildPrepRepeatPages",function(e,t,a,i,n){if(e){var r,o,s,d=e.length,l=t.limit||d,c=[];if(e.length<l)r=e,c.push(r);else for(var u=0;u<d;u++)s=!1,o&&e[u].thread===o&&(s=!0),s||r&&r.length!==l||(r=[],c.push(r)),r.push(e[u]),o=e[u]&&e[u].thread;this._paging||(this._paging={}),this._paging[t.id]={filtered:n||this._paging[t.id]&&this._paging[t.id].filtered,pages:c,currentPage:0,serverPaging:t.paging||this.xds.paging,serverPage:0,originalData:i}}}),_defineProperty(a,"_buildPrepRepeat",function(t,a,i){var n,r,o=this.build.s,s=this.xds,d=a.id,l=!1,c=o.paging&&o.paging.resolve();if(o.paging&&!o.serverPage&&c&&c.cssPath===this.cssPath){if(!(n=o.paging.resolve())._paging[a.id])return!1}else{if(o.serverPage&&c&&c.cssPath===this.cssPath&&(l=!0,t=o.serverPage),a.sortBy&&!a.sort&&(a.sort=a.sortBy),t instanceof Array||(t=e.obj_to_arr(t)),(a.filters||a.filter)&&!a.nofilter&&(o.filter||o.filterGlobal||this.state.get("filterGlobal"))){if(this._paging&&this._paging[a.id].originalData)this._paging[a.id].filtered=!0,t=r=this._paging[a.id].originalData;else{var u=!0;r=t}void 0!==o.filter&&(t=e.filter(o.filter,t,s,o.filterType));var f=this.state.get("filterGlobal")||o.filterGlobal;f&&(t=e.filter(f,t,s,this.state.get("filterType")||o.filterType))}else this._paging&&this._paging[a.id]&&this._paging[a.id].filtered&&this._paging[a.id].originalData?t=r=this._paging[a.id].originalData:r=t;void 0!==a.sort?(void 0!==o.sort&&(a.sort=o.sort),a.sortXds=!0,t=e.sort(a,t,this)):(o.sortReverse||void 0===o.sortReverse&&a.sortReverse)&&(t=e.reverse(t)),n=this,this._buildPrepRepeatPages(t,a,i,r,u),l&&(c._paging[a.id].pages=c._paging[a.id].pages.concat(this._paging[a.id].pages),n=c)}return!!(t=n._paging&&n._paging[a.id].pages[n._paging[a.id].currentPage])&&(i.siblings[d]=t,!1!==this.rnode&&void 0===this.rnode.nid&&e.is_obj(this.rnode)&&(this.data.nid=this.rnode.nid,this.data.rid=this.rnode.rid,this.data.pnid=this.rnode.pnid),t)}),_defineProperty(a,"_buildRepeat",function(t,a){for(var i,o,s=a.xds.forceLimit-1,d=a.path+"-",l=t.length,c=0,u=r.deletedNodes,f=r.deletedRefs,g=n,p=m.prototype;c<l;){if(null!=(i=t[c])){if(a.data=i,a.path=d+c,"object"===_typeof(i)&&(u&&i.nid&&u[i.nid]||f&&i.rid&&f[i.rid])){l++,c++;continue}if(o={node:this.rnode?this.rnode:this.node,rnode:i,_i:c,_len:l},c===l-1&&(o._last=!0),m.prototype=e.genState(a,o,p,a.xds.scopeState),new m(a),s>=0&&c==s)break}c++}m.prototype=p,n=g}),_defineProperty(a,"_buildChildren",function(t){for(var a,i,r,o,s,d,l=this.xds,c=this.data,u="object"===_typeof(c),f=n,g=0;g<t.length;g++)i="-"+(a=(s=t[g]).id),void 0===(o=u&&c[a])&&(o=!1),r={siblings:this.data,path:this.path+i,cssPath:this.cssPath+i,xds:s,parent:l,data:o,_stopCSStraverse:this._stopCSStraverse},("sys"!==s.type||s._responsive)&&(this.hasOwnProperty("xds_this")&&(r.xds_this=this.xds_this),this.hasOwnProperty("data_this")&&(r.data_this=this.data_this),this.path_include&&(r.path_include=this.path_include+i),this.proxyCSS&&(r.proxyCSS=this.proxyCSS+i),o&&e.is_repeat(s,o)?(o=this._buildPrepRepeat(o,s,r),this._buildRepeat(o,r)):s.scopeState?(d=m.prototype,m.prototype=e.genState(r,{},d,s.scopeState),new m(r),m.prototype=d):new m(r),r.rnode||(delete s._showifCompiled,delete s._displayVal,delete s._addClassIf,delete s._type));n=f}),_defineProperty(a,"tagNodetype",function(){var t=e.nt(this.nt()).str();t&&(t=t.split("."),this.addClass("nt-"+t[0].toLowerCase()),this.addClass("nst-"+t[1].toLowerCase()))}),_defineProperty(a,"onclean",function(e){this.__clean||(this.__clean=[]),this.__clean.push(e)}),_defineProperty(a,"cleanEvents",function(){var e=this.temp._triggers;if(e){if(e.document)for(var t;t=e.document.pop();)t._dead=!0;if(e.window&&e.window.pop)for(;t=e.window.pop();)t._dead=!0}}),_defineProperty(a,"clean",function(){var t,a,i=this,n=e.memory.jquery[i.uuid];if(i.__clean)for(var r,o=i.__clean;r=o.pop();)r(this);if(i.picker){i.picker.obj&&i.picker.obj[0]&&(i.picker.obj[0]=e.memory.dummy),delete i.picker.xdo;var s=e.picker.pickers[i.picker.choiceshash];for(var d in i.picker._choiceshashindex&&(s[i.picker._choiceshashindex]=void 0),i.picker.dom)if(a=i.picker.dom[d]){for(var l=a.length||0;l--;)a[l]=e.memory.dummy;a.prevObject=null,a.context=null}}var c=this.path;if(n){var u=e.memory.dummy;if(n[c]){for(;t=n[c].pop();){for(l=t.length;l--;)t[l]=u;delete t.xdo,delete t.xds,t.prevObject=null,t.context=null}delete n[c]}}if(delete i.picker,delete i.e,delete i.obj,delete i.func,delete i.data,delete i.cssPath,delete i.path_include,delete i.displayVal,i.cleanEvents(),i.temp=e.memory.dead,i.accessory&&(i.accessories=!1),i._timeouts){for(var f in i._timeouts)window.clearTimeout(i._timeouts[f]);delete i._timeouts}if(i._intervals){for(var g in i._intervals)window.clearInterval(i._intervals[g]);delete i._intervals}}),_defineProperty(a,"xdsbuild",function(t,a){var i=this,n=t.context?e.is_xdo(t.context)?t.context:i.get_xdo(t.context):i;if(t.target instanceof jQuery&&n&&n.dom().length&&t.target[0]&&$.contains(t.target[0],n.dom()[0]))for(var r=n.dom();(r=r.parent())&&r[0]!=document.body;)if(!r.hasClass(e.css.cont)&&!$.contains(t.target[0],r[0])){n=e.get_obj(r);break}void 0===n&&(n=i),t.caller=n.path,t._caller={cssPath:n.cssPath,nid:n.nid(),selector:n.selector()},e.xdsbuild(t,a)}),_defineProperty(a,"ref",function(){return new v(this)}),_defineProperty(a,"processEval",function(t,a,i){try{var n=e.common.processKnownEvalShowIf(t),r=!1;if(n&&n.func&&(r=n.func),r)return r;throw new Error("unable to find ".concat(a,' "').concat(t,'" for ').concat(this.cssPath," in ").concat(this.xds_full.id,' with lookup key "').concat(n&&n.lookup,'"'))}catch(a){e.log.error({module:"xdo",method:"processEval",name:"Eval Execution Failure",aux:t,exception:a,xdo:this})}}),_defineProperty(a,"pre",{recursive:function(t){t.xds.css||(t.xds.css=t.selector()),t.xds.fields&&t.xds.fields[t.xds.id]||t.addChild(e.clone(t.xds),t.arg("recursive"))},map:function(t){var a=t.get_val(t.arg("map"));if(e.is_obj(a))t.map(a);else if(!0!==t.arg("map"))return;t.map()},tabindex:function(e,t){!1!==t.tabindex&&e.attr("tabindex",t.tabindex)},"aria-role":function(e){e.addAttr("role",e.arg("aria-role"))},"aria-owns":function(e){e.addAttr("aria-owns",e.arg("aria-owns"))},"aria-label":function(e){e.addAttr("aria-label",e.arg("aria-label"))},"aria-labelledby":function(e){e.addAttr("aria-labelledby",e.target(e.arg("aria-labelledby")).selector)},markUnread:function(e,t){!1!==t.markUnread&&e.unread_get(t.markUnread)&&e.addClass(d.unread)},clearUnread:function(e,t){e.unread_clear(t.clearUnread)},proxyCSS:function(e,t){e.proxyCSS=t.proxyCSS},include:function(t,a){void 0!==a.include&&(t.path_include=a.include.replace(".","_"),t._stopCSStraverse=!0,t.xds_this=a,t.xds_this._cssPath=t.cssPath,t.data_this=t.data,!t.rnode&&e.is_obj(t.data_this)&&(t.data_this.__n=!1))},_display:function(e,t){void 0!==t._display&&e.addClass("xds-display-"+t._display)},validate:function(e){var t=e.parent_xdo();e.addValidator({type:e.arg("validate"),validatorGroup:e.arg("validatorGroup")||t&&t.arg("validatorGroup")})},displayVal:function(t,a){var i,n,r,o=a.displayVal.split(","),s=o.length,d=0;for(t.displayVal=t.get_val();d<s;){if("eval"===(n=(i=o[d]).split(":"))[0]){i=a.displayVal,a._displayVal||(r=n.slice(1).join(":"),d+1<s&&(r+=","+o.slice(d+1).join(",")),e.get()&&(a._displayVal=t.processEval(r,"displayVal"))),t.displayVal=a._displayVal(t,a);break}if("func"===n[0]&&n.length>1){var l=e.get(n[1]),c=void 0;l&&void 0!==(c=l.apply(void 0,[t].concat(_toConsumableArray(n.slice(2)))))&&(t.displayVal=c)}else if(n){var u=void 0;try{u=(e.get_func(n[0],e.displayVal)||e.get_func(n))(t,i)}catch(e){}void 0!==u&&(t.displayVal=u)}d++}},lookup:function(e,t){e.siblings&&!e.siblings["_"+t.id]&&e.build.cookData(t,e.get_val(),e.siblings),e.siblings&&e.siblings["_"+t.id]&&(e.displayVal=e.siblings["_"+t.id])},addClassIf:function(e,t){if(!t._addClassIf){var a=t.addClassIf.split(":");t._addClassIf=e.processEval(a[1],"addClassIf");var i=void 0!==e.path_include&&e.path!==e.path_include&&e.path_include;i=i||e.cssPath,t.__addClassIf="!"===a[0].substr(0,1)?a[0].replace("!",""):i+"-"+a[0]}t._addClassIf(e,t)&&e.addClass(t.__addClassIf)},rights:function(e,t){t.rights&&(t.showif="rights:"+t.rights)&&delete t.rights,e.pre.showif(e,t)},testid:function(t,a){e.settings.runtime.unittest&&t.addAttr("data-test-id",a.testid)},showif:function(t,a,i){if("boolean"==typeof a.showif)return a.showif;var n=(void 0!==a.showif?a.showif:void 0!==a.bindif?a.bindif:"").toString(),r=void 0!==a.showif?"showif":"bindif";try{if(!a._showifCompiled){var o=(void 0!==a.showif?a.showif:void 0!==a.bindif?a.bindif:"").toString(),s=!1,d=!1;if(" "===o)return;"not:"!==o.substr(0,4)&&"!"!==o.substr(0,1)||(o="not:"===o.substr(0,4)?o.substr(4):o.substr(1),s=!0),"int:"===o.substr(0,4)&&(o=o.substr(4),d=function(e){try{var t=parseInt(e);return!isNaN(t)}catch(e){return!1}});var l,c,g,p,h=o.indexOf(":");-1===h?(c=o,h=o.length):c=o.substr(h+1),l=o.substr(0,h),(p=(g=f)[l])||(p="string"!=typeof c||-1===c.indexOf("=")&&-1===c.indexOf("t.")&&-1===c.indexOf("cf.")||-1===c.indexOf("(")?"string"==typeof l&&!1===e.lookup("nt",c).val()&&"function"==typeof e.get(l)?g.func:{idx:0,split:!0,separator:","}:g.eval),a._showifCompiled={type:p.idx,typestr:l,condition:c,not:s,validator:d},a._showifCompiled.conditions=p.split?c.split(p.separator||","):[c]}for(var m=a._showifCompiled.condition,v=a._showifCompiled.conditions.length,b=!1,_=!1;v--;){var y=a._showifCompiled.conditions[v];switch(a._showifCompiled.type){case 1:t.xds_full.id===y&&(b=!0);break;case 2:"string"==typeof y&&(y=a._showifCompiled.conditions[v]=t.processEval(y,"showif",i)),b=y(t,a,void 0,e.gbl);break;case 3:if("string"==typeof y){for(var x,w,C=u.ac,k=0,S=y.split(/[&|]/),T=S.length;T--;)w=(w=S[T])[0].toUpperCase()+w.slice(1),k|=isNaN(x="0x"===S[T].substr(0,2)?parseInt(S[T].substr(2),16):parseInt(S[T],10))?C[w]&&C[w]():x;y=a._showifCompiled.conditions[v]=[k,-1!==y.indexOf("&")]}b=t.get_perm(t.arg("xds"))&y[0],b=y[1]?b===y[0]:0!==b;break;case 4:if("string"==typeof y){y=y.split(",");var M=0,I=0;for(var A in y){var D=parseInt(y[A]);"string"==typeof y[A]&&(y[A].startsWith("np.")?D=parseInt(e.lookup("np",y[A].substr(3)).val()):y[A].startsWith("-np.")&&(D=-1*parseInt(e.lookup("np",y[A].substr(4)).val()))),D>0&&(M|=D),D<0&&(I|=-1*D)}y={needs:M,excludes:I},a._showifCompiled.conditions[v]=y}else y=a._showifCompiled.conditions[v];b=(t.rnode.pin&y.needs)==y.needs&&0==(t.rnode.pin&y.excludes);break;case 5:b=t.get_setting("command")===y||"new"===t.build.buildMode&&"create"===y;break;case 6:b=y&&"data"!==a._showifCompiled.condition?"{{"===y.substr(0,2)?!!t.tpl(y):!!t.get_val.apply(t,_toConsumableArray(y.split(":"))):void 0!==t.data&&!1!==t.data;break;case 8:b=(y="string"==typeof y?a._showifCompiled.conditions[v]=parseInt(e.lookup("pbits",y).val()):a._showifCompiled.conditions[v])&e.user.pbits;break;case 9:b=t.has_role(y);break;case 10:switch(y){case"tablet":b=e.layout.isTablet();break;case"phone":b=e.layout.isPhone();break;case"mobile":b=e.platform.mobile;break;default:b=!(e.layout.isPhone()||e.layout.isTablet())}break;case 11:y=m.split(":");var L=t.get_setting(y[0]);b=1==y.length?L:L==y[1],a._showifCompiled.validator&&b&&(b=a._showifCompiled.validator(L));break;case 12:y=y.split(":");var E=!1;if(1===y.length?t.state.get(y[0])||(E=!0):t.state.get(y[0])!=y[1]&&(E=!0),!e.settings.runtime.stateshowif){var N=t.parent_xdo();N&&N.state.get(y[0])}E?(e.settings.runtime.stateshowif&&(_=!0),b=!1):b=!0;break;case 13:b="undefined"!=typeof cfNative||"undefined"!=typeof EdsbyReactBridge;break;case 14:y=y.split(":");var P=e.get(y[0]);if("function"!=typeof P)throw new Error('showif func: unable to resolve "'.concat(y[0]));void 0===(b=P.apply(void 0,[t].concat(_toConsumableArray(y.slice(1)))))&&(b=!0);break;case 15:b=t[(y=y.split(":"))[0]].apply(t,_toConsumableArray(y.slice(1)));break;case 16:y=y.split(":"),b=t.siblings[y[0]],b=y.length>1?b==y[1]:void 0!==b;break;case 17:b=!1,b=y.length>0&&!1!==e.storage(y,!1,"sessionStorage");break;case 18:b=e.platform[y];break;case 0:default:e.is_arr(y)||(y=(""+y).split("."));var j=e.lookup("MetaTypes",y[0]).val();j?(b=(y=j).indexOf(t.nt())>=0)||(b=y.indexOf(t.get_val("nodetype"))>=0):(isNaN(parseFloat(y[0]))&&(!1===(y=e.lookup("nt",y.join(".")).val())&&(y=""),y=y.split(".")),a._showifCompiled.conditions[v]=y,(2==y.length&&t.nt()==y.join(".")||1==y.length&&y[0]==t.get_val("nodetype"))&&(b=!0))}b&&(v=!1)}a._showifCompiled.not&&(b=!b);var O="showif",R=a.showif;if(void 0===a.showif&&a.bindif&&(O="bindif",R=a.bindif),_&&!b)t.exitBlank(),1&(e.settings.runtime.debugshowif||0)&&e.log.info({name:"1031",message:"".concat(O," fail, exitBlanking"),silent:!0,body:'"'.concat(R,'" ').concat(t.path)});else{if(!b)return 1&(e.settings.runtime.debugshowif||0)&&e.log.info({name:"1031",message:"".concat(O," fail"),body:'"'.concat(R,'" ').concat(t.path),silent:!0}),!1;if(!i){if(-1!==t.path.lastIndexOf("_")&&t.path.lastIndexOf("_")>t.path.lastIndexOf("-")){t.path_orig||(t.path_orig=t.path),t.path=t.path.substr(0,t.path.lastIndexOf("_")),t.cssPath=t.cssPath.substr(0,t.cssPath.lastIndexOf("_")),t.path_include&&-1!==t.path_include.indexOf("_")&&(t.path_include=t.path_include.substr(0,t.path_include.lastIndexOf("_")));var F=e.get_obj(t.path);if(F&&F.path_orig!==t.path_orig)return!1}t.proxyCSS&&-1!==t.proxyCSS.lastIndexOf("_")&&(t.proxyCSS=t.proxyCSS.substr(0,t.proxyCSS.lastIndexOf("_")))}}}catch(a){var B="";try{B=a.message}catch(e){}return e.log.error({module:"xdo",method:"showif",name:"".concat(r," ").concat(a.name),message:"".concat(r,': unable to execute "').concat(n," (").concat(B,')"'),silent:!0,body:'"'.concat(n,'" ').concat(t.path),exception:a,xdo:t}),!1}},dataSet:function(t,a){var i=a.dataSet,n=t.arg("sanitizeRule")||"strict";if("string"==typeof i){if((i=a.dataSet.split(":")).length>1)if("eval"===i[0])i.shift(),a.dataSet=i.join(":");else{if("data"===i[0])return void(t.data=t.get_val(i[1]));if("state"===i[0]){var r=t.state,o=i[1];3==i.length&&"top"===i[1]&&(r=t.state.top(),o=i[2]);var s=r.get(o);return void(s?t.data=s:t.exitBlank())}}var d=i=i[0];"string"==typeof(d=e.dataSet[i]?e.dataSet[i](t,a.dataSet):t.processEval(a.dataSet,"dataSet")(t,a,void 0,e.gbl,t))&&(d=e.get("sanitizer").sanitize(e.mlescape(d),n)),t.set(d)}else t.set(i)},printable:function(e,t){!1===e.arg("printable")&&e.addClass("xds-not-printable")},hoverDisplay:function(e){var t="."+e.parent_xdo().selector()+":hover ."+e.selector();e.build.styles[t]||(e.build.styles[t]={}),e.build.styles[t].visibility="visible !important",e.addStyle("visibility","hidden")},style:function(t,a){void 0===a.style||a._processed||(a.__styles={},"string"==typeof a.style&&(a.__styles=e.parse_style(a.style))),delete a.style},_styles:function(e,t){var a={"font-weight":{bold:"600",bolder:"700",normal:"500"}};e._tag||(e._tag=new g),t.__styles||(t.__styles={}),e._tag.style||(e._tag.style={});var i,n,r,o,s=t.__styles,d=e.build.styles,l=t._styles.length,c=e._tag.style,u=e.xds_full.id,h=e.xdsid().replace(".","_"),m=0;for(l=t._styles.length,m=0;m<l;m++)if(n=t._styles[m],!t._processed||n.condition){var v=n.condition&&n.condition.substr(0,1),b=n.condition&&n.condition.substr(n.condition.length-1);if(r="."===v||":"===v||"+"===v||"~"===v||"+"===b||"~"===b||">"===v||0===p[n.condition],!t._processed||!r){if(!n._processed){if("lightbox"===n.condition?(r=!0,n.condition=".lightbox-"+e.get_setting("xds")):":"===v?(n.condition="."+e.selector()+n.condition,h!==e.selector()&&(n.condition="."+h+" "+n.condition)):"+"===b||"~"===b?n.condition="."+h+" "+n.condition+" ."+e.selector():"."!==v&&"+"!==v&&"~"!==v&&">"!==v||(n.condition=" ."+e.selector()+" "+n.condition,h!==e.selector()&&(n.condition="."+h+n.condition)),u!==h&&n.condition)if(u===e.xds_this.id)n.condition=".".concat(e.xds_full.id).concat(n.condition);else{var _=!0;if(n.condition.indexOf(":")>0){var y=n.condition.split(":");_=!(f[y[0]]||y.length>1&&"not"===y[0]&&f[y[1]])}_&&(n.condition=".".concat(e.xds_full.id," ").concat(n.condition))}n._processed=!0}if(n.condition&&-1!==n.condition.indexOf(":hover")&&-1===n.condition.indexOf(".desktop")&&(n.condition=".desktop "+n.condition),n.showif=n.condition,!n.condition||r||!1!==e.pre.showif(e,n))for(o in n.condition?r?(d[n.condition]={},i=d[n.condition]):i=c:i=s,n.styles){var x=n.styles[o];"string"==typeof x&&0==x.indexOf("--")?x="var(".concat(x,")"):a[o]&&a[o][x]?x=a[o][x]:"string"==typeof x&&x.indexOf("{{")>=0&&x.indexOf("}}")>=0&&(x=e.tpl(x)),i[o]=x}}}},asyncRender:function(t){t.get_setting("async")||(t.exit(),t.ready(function(t,a){var i=$.extend(!0,{},t.get_setting());i.slice=t.build.slice,i.async=!0,i.redrawPath=t.cssPath,i._redrawPath=t.path_include,e.xdsbuild(i)}))}}),_defineProperty(a,"post",{trackUnread:function(e,t){!1!==t.trackUnread&&e.unread_track(t.trackUnread)},trackVersion:function(e,t){e.unread_version()},__styles:function(e,t){if(!t._processed){var a=e.stylesSelector();r.styles[a]||(r.styles[a]=!0,e.build.styles[a]=t.__styles)}},load:function(e,t){e.xds.link=s.load+e.get_val("nid")+"#"+t.load,e.post.link(e,t)},link:function(t,a){if(a.link){var i,n=void 0!==a.target?'target="'+t.xds.target+'"':"",r=t.get_val("title"),o=t.build.insertIndex,s=[(t.path_include||t.cssPath)+"-link","xds-"+a.type+"-link"];r.length||(r=void 0===(r=t.arg("linktitle"))?"":r),!1===r||r.length||(r=t.get_val("linktitle")),!1===r||r.length||(r=t.get_val("name")),r.length&&(r='title="'+e.mlescape(r)+'"'),a.nid&&(i=t.nid(),t.set_val("nid",a.nid)),t.proxyCSS&&s.push(t.proxyCSS+"-link"),t.linkCSS&&s.push(t.linkCSS),a.linkCSS&&s.push(a.linkCSS),t.output[o]='<a class="'+s.join(" ")+'" href="'+e.tpl(t.tpl(a.link),a)+'" '+n+" "+r+' aria-controls="cfload"> '+t.output[o],t.output.push("</a>"),i&&t.set_val("nid",i)}},wrap:function(e,t){var a=e.build.insertIndex,i=e.wrapArgs||[],n=(e.wrapStyle||"")+(t.wrapStyle||""),r=[(e.path_include||e.cssPath)+"-wrap"];t.wrapArgs&&(i=i.concat(t.wrapArgs)),e.proxyCSS&&r.push(e.proxyCSS+"-wrap"),e.wrapCSS&&r.push(e.wrapCSS),t.wrapCSS&&r.push(t.wrapCSS),e.output[a]="<"+t.wrap+' class="'+r.join(" ")+'"'+(i?" "+i.join(" "):"")+(n.length?' style="'+n+'"':"")+">"+e.output[a],e.output.push("</"+t.wrap+">")},dbid:function(e,t){var a=e.fieldMap,i=a[n]||(a[n]={});i[t.dbid]||(i[t.dbid]={}),i[t.dbid][e.path]=1,e.state.get(e.xds.id),!e.xds.cdid&&(e.xds.cdid=e.xds.id)},cdid:function(e,t){var a=e.fieldMap,i=a[n]||(a[n]={});i[t.cdid]||(i[t.cdid]={}),i[t.cdid][e.path]=1,e.state.get(t.cdid)}}),_defineProperty(a,"key",function(){return e.key()}),_defineProperty(a,"extend",function(e,t){if(console.error("Deprecated function, xdo.extend"),void 0!==t){var a={};a[e]=t,e=a}return $.extend(this,e),this}),_defineProperty(a,"addStyles",function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&this.addStyle(t,e[t])}),_defineProperty(a,"addStyle",function(t,a){if("object"===_typeof(t))for(var i in t)t.hasOwnProperty(i)&&this.addStyle(i,t[i]);else if(this._complete)this.dom().css(t,a);else if(this._tag.style||(this._tag.style={}),void 0!==a)this._tag.style[t]=a;else if(e.is_obj(t))for(var n in t)this._tag.style[n]=t[n];return this}),_defineProperty(a,"removeClass",function(t){if(this._complete)this.dom().removeClass(t);else{if(!this._tag)return;var a=this._tag.attr;if(!a)return;if(void 0===a.cssClass)return;delete this._tag.cssClassMap[t];var i=e.in_array(t,a.cssClass);-1!==i&&(a.cssClass[i]="")}return this}),_defineProperty(a,"genSubClass",function(e){var t="",a={};if(this.xds.type&&(a[this.xds.type]=!0),this.xds.inherit&&(a[this.xds.inherit]=!0),this.xds._inheritance)for(var i in this.xds._inheritance)a[this.xds._inheritance[i]]=!0;for(var n in a)t+=" xds-"+n+"-"+e;return-1!==t.indexOf(".")&&(t=t.replace(c.addClass,"-")),t}),_defineProperty(a,"removeSubClass",function(e){return this.removeClass(this.genSubClass(e)),this}),_defineProperty(a,"addSubClass",function(e){return this.addClass(this.genSubClass(e)),this}),_defineProperty(a,"hasClass",function(e){if(!this.build||this.build._complete)return this.dom().hasClass(e);console.error("xdo.hasClass not implented for build phase.")}),_defineProperty(a,"addClass",function(t,a){if(!t||!this.build)return this;if(this._complete)_$(this.id()).addClass(e.mlescape(t));else{this._tag||(this._tag={});var i=this._tag.attr;i||(this._tag.attr=i={}),e.is_arr(t)&&(t=t.join(" "));var n=this.xds.css;if(void 0===i.cssClass&&(i.cssClass=[],this._tag.cssClassMap={}),"string"==typeof i.cssClass&&(i.cssClass=i.cssClass.split(" ")),a)this.xds.css=n?n+" "+t:t;else if(void 0===this._tag.cssClassMap[t]){this._tag.cssClassMap[t]=!0;try{i.cssClass.push(t)}catch(e){}}}return this}),_defineProperty(a,"removeAttr",function(e){if(this._tag.attr,this._complete)return this.dom().removeAttr(e),this;delete this._tag.attr[e]}),_defineProperty(a,"addOneAttr",function(t,a,i){var n=this._tag.attr,r=e.mlescape(a);i?n[t]=r:void 0!==n[t]?(n[t]=[n[t]],n[t].push(r)):n[t]=r}),_defineProperty(a,"addAttr",function(t,a,i){if(this._complete)return this.dom().attr(t,a),this;if(e.is_obj(t))for(var n in t)this.addOneAttr(n,t[n],i);else this.addOneAttr(t,a,i);return this}),_defineProperty(a,"attr",function(e,t){return void 0===t?this._complete?this.dom().attr(e):this._tag.attr[e]:(this.addAttr(e,t,!0),this)}),_defineProperty(a,"pretag",function(e,t){return this.tagAdd("pre",e,t)}),_defineProperty(a,"posttag",function(e,t){return this.tagAdd("post",e,t)}),_defineProperty(a,"preclosetag",function(e,t){return this.tagAdd("preclose",e,t)}),_defineProperty(a,"postclosetag",function(e,t){return this.tagAdd("postclose",e,t)}),_defineProperty(a,"innertag",function(e){return this.tagAdd("inner",e)}),_defineProperty(a,"tagAdd",function(t,a,i){if(this._tag[t]?Array.isArray(this._tag[t])||(this._tag[t]=[this._tag[t]]):this._tag[t]=[],"string"==typeof a&&a.indexOf("<")>=0&&e.settings.dev&&2==(2&(e.settings.runtime.strict||0))&&e.log.deprecate('xdo.tagAdd: "'.concat(t,'" population by HTML string is deprecated, update to CFTag/CFTagWrapper "').concat(a,'" (id:').concat(this.id(),", type:").concat(this.xds.type,")")),i)if(Array.isArray(a))for(var n=0;n<a.length;n++)this._tag[t].unshift(a[a.length-n-1]);else this._tag[t].unshift(a);else if(Array.isArray(a))for(var r=0;r<a.length;r++)this._tag[t].push(a[r]);else this._tag[t].push(a);return this}),_defineProperty(a,"tagGet",function(t,a){var i=[];if(this._tag&&void 0!==this._tag[t]){var n=this._tag[t];if(a)return n;if(Array.isArray(n))for(var r=0;r<n.length;r++)"string"==typeof n[r]?i.push(n[r]):n[r]instanceof e.classes.CFTag?i.push(n[r].tagStr):n[r]instanceof e.classes.CFTagWrapper&&i.push(n[r].str);else n instanceof e.classes.CFTag?i.push(n.tagStr):n instanceof e.classes.CFTagWrapper?i.push(n.str):"string"==typeof n&&i.push(n)}return i.join("")}),_defineProperty(a,"tag",function(t,a,i){if(this._tag,void 0!==i&&this.addAttr(i),!1!==a&&this.xds.type){if(void 0===a){var n=this.xds.type;"function"==typeof this.xds.type&&(n="inline-"+this.cssPath),-1!==(a="xds-"+n).indexOf(".")&&(a=a.replace(c.addClass,"-"))}this.addClass(a)}return"string"!=typeof t&&!e.is_obj(t)&&(t="div"),"div"===t&&(t=""),"a"===t&&(this.xds.noLinks=!0),"string"==typeof t&&(this._tag.tag=t),this}),_defineProperty(a,"exitBlank",function(e){var t=this;t._tag||(t._tag=new g),t.sparse=!0,t.exit(),t._tag.blank=!0,t._tag.exclude=e,t.showTitle=!1,t.suppressAria=!0,t.displayVal=""}),_defineProperty(a,"exit",function(t,a){e.settings.dev&&t&&a&&e.log.log(a,this.path,"1031 Field Dynamically Supressed"),this._tag.exit=!0,t&&(this._tag.retFalse=!0)}),_defineProperty(a,"animationDisable",function(){this.animationType("none")}),_defineProperty(a,"animationType",function(e){["none","scale","scaley","scalex"].includes(e)&&this.attr("data-animation-type",e)}),_defineProperty(a,"inheritOnce",function(e,t){if(this.xds._inheritance||(this.xds._inheritance=[]),!this.xds._inheritance.includes(e)){for(var a=arguments.length,i=new Array(a>2?a-2:0),n=2;n<a;n++)i[n-2]=arguments[n];this.inherit.apply(this,[e,t].concat(i))}}),_defineProperty(a,"inherit",function(t,a){var i,n,r,o;if(e.is_obj(a)){for(n in i={},a)i[n]=this.xds[n],this.xds[n]=a[n];r=!0}if("string"==typeof t&&(this.addClass("xds-"+t.replace(c.addClass,"-")),this.xds._inheritance||(this.xds._inheritance=[]),this.xds._inheritance.push(t)),void 0===p[t]){if("function"==typeof(o=e.get_type(t))){var s;o.orig&&(this.type=o.orig);for(var d=arguments.length,l=new Array(d>2?d-2:0),u=2;u<d;u++)l[u-2]=arguments[u];o=(s=o).call.apply(s,[this,this,a].concat(l))}else e.log.warn({name:"Undefined Inherited Type",xdo:this,body:t});!1===o&&this.exit(!0)}else this.tag(p[t]||t);if(r)for(n in a)this.xds[n]=i[n];return this}),_defineProperty(a,"register_xds",function(e,t){return t=t||1,this._perm.xdii[e]=t,this}),_defineProperty(a,"get_perm",function(){var e;if(!this._perm)return!1;for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];if("data"===a[0])e=this.get_val.apply(this,_toConsumableArray(a.slice(1)));else if("arg"===a[0])e=this.arg.apply(this,_toConsumableArray(a.slice(1)));else if("state"===a[0]){var n;e=(n=this.state).get.apply(n,_toConsumableArray(a.slice(1)))}else e=a[0];return e?this._perm.xdii[e]||0:this._perm.rights}),_defineProperty(a,"get_perm_ext",function(e){return this._perm[e]}),_defineProperty(a,"has_role",function(e){if(Array.isArray(e)){var t=!0,a=!1,i=void 0;try{for(var n,r=e[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;if(this.has_role(o))return!0}}catch(e){a=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}return!1}if(!this._perm)return!1;var s,d,l=this._perm.rolemap;if(!l)for(l=this._perm.rolemap={},d=(s=this._perm.roles)?s.length:0;d-- >0;)l[s[d]]=1;return!(e?!l[e]:!l)}),_defineProperty(a,"has_write",function(){return!!(this.get_perm.apply(this,arguments)&u.ac.Write())}),_defineProperty(a,"has_read",function(){return!!(this.get_perm.apply(this,arguments)&u.ac.Read())}),_defineProperty(a,"has_delete",function(){return!!(this.get_perm.apply(this,arguments)&u.ac.Delete())}),_defineProperty(a,"has_handler",function(e){var t=this;if(t._tag&&t._tag.ev)for(var a in t._tag.ev)if(t._tag.ev[a].trigger===e)return!0;return!1}),_defineProperty(a,"has_event",function(e,t){var a,i=this.xds.events;if(i)for(a=i.length;a--;)if(i[a].func===e&&(!t||i[a].trigger===t))return!0}),_defineProperty(a,"findEquivXDO",function(){return e.findEquivXDORaw({nid:this.nid(),selector:this.selector()})}),_defineProperty(a,"is",function(t){return!(!t||!e.is_xdo(t))&&t.id()===this.id()}),_defineProperty(a,"caller",function(){return this.build&&this.build.caller()}),_defineProperty(a,"get_settings",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.build&&this.build.s||{};return!e&&this.get_redirect_parent()?this.get_redirect_parent().get_settings():t}),_defineProperty(a,"get_setting",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("caller"===e)return this.caller();var a=this.get_settings(!0),i=void 0===e||void 0===a?a:a[e];if(!i&&!t){var n=this.get_redirect_parent();n&&(i=n.get_setting(e))}return i}),_defineProperty(a,"set_setting",function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.update_setting(e,t,a,!0,i)}),_defineProperty(a,"update_setting",function(t,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.build?(void 0===this.build.s&&(this.build.s={}),this.build.s[t]=a,this.get_setting("target")==e.gbl.page&&i&&e.history.active.setParameter(t,a,n),r||this.state.top().set("Setting-".concat(t),a),this):this}),_defineProperty(a,"watch_setting",function(e){this.state.top().get("Setting-".concat(e))}),_defineProperty(a,"deleteGlobal",function(e){return!(!this.xds_full||!this.xds_full._store||(delete this.xds_full._store[e],0))}),_defineProperty(a,"global",function(e,t){return this.get_redirect_parent()?this.get_redirect_parent().global(e,t):this.xds_full?(this.xds_full._store||(this.xds_full._store={}),void 0!==t?(this.xds_full._store[e]=t,this):e?this.xds_full._store[e]:this.xds_full._store):void 0}),_defineProperty(a,"eventSelector",function(e){var t=this.xds;return t._eventSelector=e,t.noClass=!0,this}),_defineProperty(a,"redrawPath",function(){return this.cssPath}),_defineProperty(a,"renderThis",function(){var e=this.get_setting("redrawPath");return void 0===e||this.is_child(e)}),_defineProperty(a,"selector",function(){return this.xds._eventSelector||this.path_include||this.cssPath}),_defineProperty(a,"stylesSelector",function(){var e=this,t="",a=e.xds_full.id,i=e.xdsid().replace(".","_");return t=e.selector(),"."+(i!==a?e.xds_full.id===e.xds_this.id?t===i?e.xds_full.id+"."+t:e.xds_full.id+"."+i+" ."+t:t===i?e.xds_full.id+" ."+i:e.xds_this._cssPath?"".concat(e.xds_full.id," .").concat(e.xds_this._cssPath,".").concat(i," .").concat(t):"".concat(e.xds_full.id," .").concat(i," .").concat(t):t)}),_defineProperty(a,"target",function(e){var t=this,a=(a=t.get_arg("target"),e||a?t.get_target(e||a,1):t.dom()),i=t.get_redirect_parent();return a&&0!=a.length||!i?a:i.target(e)}),_defineProperty(a,"xdsid",function(){return this.xds_this?this.xds_this.include||this.xds_this.id:this.xds.id}),_defineProperty(a,"clear_arg",function(e){this.xds[e]=void 0}),_defineProperty(a,"arg",function(e,t,a){var i=t;return e=e||"xds",void 0!==i?(this._touchedargs||(this._touchedargs={}),this._touchedargs[e]=!0,this.xds[e]=i,this):"string"==typeof(i=this.xds[e])&&"{{"==i.substr(0,2)?this.tpl(i):void 0===i&&void 0===t?a:i}),_defineProperty(a,"get_children",function(){return this.arg("_children")}),_defineProperty(a,"has_child",function(e){var t=this.get_children();if(t)for(var a=0;a<t.length;a++)if(t[a].id==e)return!0;return!1}),_defineProperty(a,"get_numberRepeats",function(){return this._len}),_defineProperty(a,"get_index",function(){var e=this._i;return""!==e&&e}),_defineProperty(a,"addSibling",function(e){this.parent_xdo().addChild(e,this.xds._i+1)}),_defineProperty(a,"removeChildren",function(){var e=this;if(e.xds.fields)for(var t in e.xds.fields)e.removeChild(t)}),_defineProperty(a,"addChild",function(t,a){var i=this;if(e.is_arr(t))return void 0===a&&(a=(i.xds._children||[]).length),t.map(function(e,t){i.addChild(e,a+t)}),this;if(e.is_obj(t.xds)){var n=t.data;t=t.xds,e.is_obj(n)&&(e.is_obj(i.data)||(i.displayVal=i.data,i.data={}),i.data[t.id]=n)}if(!i.xds.fields||!i.xds.fields[t.id]){var r,o=this.build.cook(t,i.path);i.xds.fields||(this.xds.fields={}),i.xds.fields[o.id]=o,r=i.get_children()||(i.xds._children=[]),void 0!==a&&a<r.length?r.splice(a,0,o):r.push(o)}return this}),_defineProperty(a,"removeChild",function(e){var t=this;if(t.xds.fields&&t.xds.fields[e]){var a=t.get_children()||(t.xds._children=[]);delete t.xds.fields[e];for(var i=0;i<a.length;i++)if(a[i].id==e){a.splice(i,1);break}}return this}),_defineProperty(a,"val",function(e){var t=this.dom();if(this.picker){if(void 0!==e)return this.picker.set_val(e),this;if(this.picker.get_val)return this.picker.get_val()}if(this.dd)return void 0!==e?this.dd.setValueByValue(e):this.dd.getValue();var a=t.is("input")||t.is("textarea")?t:t.find("input:not([type=radio]), textarea");if(void 0!==e)return a.val(e),this;if(t.hasClass(d.fieldPlaceholder))return"";if(a.length>1){var i=a.filter('[name="'+this.name()+'"]');i.length&&(a=i)}return a.length?a.val():this.get_val()}),_defineProperty(a,"nid",function(e){return this.get_val("nid",e)}),_defineProperty(a,"rid",function(e){return this.get_val("rid",e)}),_defineProperty(a,"get_node",function(e){for(var t=[],a=this.nodes&&this.nodes[e],i=a&&a.length||0;i--;)t.push(this.build.objects[a[i]]);return t}),_defineProperty(a,"get_toc",function(){var t,a=this,i=(e.toc||{}).Toc||e.noop;if(a.rnode instanceof i?t=a.rnode:a.node instanceof i?t=a.node:a.data instanceof i&&(t=a.data),!t){var n=a.get_redirect_parent();if(n)return n.get_toc()}return t}),_defineProperty(a,"get_val",function(e,t){var a=this.get_val_internal(e,t);if((!a||""===a)&&void 0!==e){var i=this.get_redirect_parent();i&&(a=i.get_val(e,t))}return a}),_defineProperty(a,"get_val_internal",function(t,a){var i,n,r=this;if(null==t)return void 0!==a?r[a]:r.data;if("caller"===a){if(!(r=r.caller()))return"";a="node"}if("data_this"!==a||r.data_this||(a="data_full"),"nid"===t&&("node"==a||"data_full"===a)&&r.rnode&&r.rnode.pnid&&(a="rnode",t="pnid"),void 0===a&&"string"==typeof t&&-1!==t.indexOf(":")&&(a=(t=t.split(":"))[0],t=t[1]),"string"==typeof t&&-1!==t.indexOf("-")&&(n=t.split("-"),t=n.shift()),void 0!==a){if("gbl"===a)i=s;else if("user"===a)i=s.user;else{if("this"===a)return"object"===_typeof(r.data)&&(i=r.data[t]),void 0!==i&&(n?e.search(n,i):i);i=r[a]}return void 0!==i&&void 0!==t&&(i=i[t]),void 0===t||void 0!==i?n?e.search(n,i):i:""}var o,d=r.get_toc();return d&&void 0!==d.data[t]?d.data[t]:"object"===_typeof(r.data)&&void 0!==(i=r.data[t])?n?e.search(n,i):i:"object"===_typeof(r.siblings)&&void 0!==(i=r.siblings[t])?n?e.search(n,i):i:"object"===_typeof(r.data_this)&&void 0===r.data_this.__n&&void 0!==(i=r.data_this[t])?n?e.search(n,i):i:"object"===_typeof(r.rnode)&&void 0!==(i=r.rnode[t])?n?e.search(n,i):i:"object"===_typeof(r.node)&&void 0!==(i=r.node[t])?n?e.search(n,i):i:"object"===_typeof(r.data_this)&&!1===r.data_this.__n&&void 0!==(i=r.data_this[t])?n?e.search(n,i):i:"object"===_typeof(r.data_full)&&void 0!==(i=r.data_full[t])?n?e.search(n,i):i:"nid"===t&&void 0!==r.get_setting&&r.get_setting("nid")?r.get_setting("nid"):"rid"===t&&void 0!==r.get_setting&&r.get_setting("rid")?r.get_setting("rid"):"nid"===t&&void 0!==s.nid?s.nid:void 0!==(i=s.user[t])?n?e.search(n,i):i:(o=r.get_redirect_parent())&&o.get_val(t,a)?o.get_val(t,a):""}),_defineProperty(a,"targetFromId",function(t){for(var a=this,i=a.dom(),n=9,r=a.xdsid();n--;){if(8===n)var o=a.t&&i.find('[id$="-'+t+'"]');if(7===n&&(o=a.t&&a.rnode&&i.parents('[id$="-'+t+"-"+a.get_index()+'"]')),6===n&&(o=a.t&&a.rnode&&i.parents('[id$="-'+t+'"]').filter(function(){return e.get_obj(this).xdsid()==r})),5===n&&(o=a.t&&a.rnode&&i.parents('[class$="-'+t+'"]').filter(function(){return e.get_obj(this).xdsid()==r})),4===n){var s=a.cssPath==r?i:i.parents("."+r);o=a.t&&s.find('[id$="-'+t+'"]')}if(3===n&&(o=a.t&&a.rnode&&i.parents('[id$="-'+t+'"]')),2===n&&(o=a.t&&a.rnode&&i.parents('[class$="-'+t+'"]')),1===n){var d=a.get_setting("append")&&a.build?$("#"+a.build.uuid):a.t&&a.t;d&&(o=d.find('[id$="-'+t+'"]'))}var l,c=[];if(o)for(var u=o.length,f=0;f<u;f++){l=o[f];var g=$(l).xdo;g&&(a.rnode&&g.nid()===this.nid()||!g.rnode&&a.data_full.nid==g.data_full.nid)?(g.xdsid().split("-")[0]===this.xdsid().split("-")[0]?l._index=1:-1!==l.id.split("-")[0].indexOf(this.xds_full.id)&&(l._index=2),l._index&&c.push(l)):1===u&&c.push(l)}if(c.length>1){var p,h;for(f=0;f<c.length;f++)(c[f]._index<h||!h)&&(p=c[f],h=c[f]._index);if(p)return $(p)}if(c[0])return $(c[0])}return $(c[0])}),_defineProperty(a,"get_args",function(t){var a=this,i=a.__ev;if(!i)return{};var n=a.args||{},r=i.args||{};e.extend(r,n);var o=i.altprops||{},s={};for(var d in r)s[d]=r.noTpl?r[d]:a.tpl(r[d]);if(r.noProps||t)return s;for(d in o)s[d]=r.noTpl?o[d]:a.tpl(o[d]);return s}),_defineProperty(a,"set_arg",function(e,t){var a=this.__ev;a&&(a.altprops||(a.altprops={}),a.altprops[e]=t)}),_defineProperty(a,"get_arg",function(t){var a=this,i=(a.xds,t.split("-")),n=i.length,r=this.__ev;if(r&&r.altprops&&e.is_obj(r.altprops)&&void 0!==r.altprops[t]&&!r.args.noProps)return r.altprops[t];if(r&&r.altprops&&e.is_obj(r.altprops)&&void 0!==r.altprops[i[0]]&&!r.args.noProps){if(1===n)return r.altprops[i[0]];var o=e.search(i,r.altprops);if(void 0!==o)return a.tpl(o)}if(r&&r.args&&e.is_obj(r.args)&&void 0!==r.args[i[0]]){if(1===n)return a.tpl(r.args[i[0]]);var s=e.search(i,r.args);if(void 0!==s)return a.tpl(s)}if(a.args&&(!r||r.args!==a.args)&&(r=a).args&&e.is_obj(r.args)&&void 0!==r.args[i[0]]){if(1===n)return a.tpl(r.args[i[0]]);var d=e.search(i,r.args);if(void 0!==d)return a.tpl(d)}}),_defineProperty(a,"get_xdo",function(e){return(this.get_target(e)||{}).xdo}),_defineProperty(a,"get_target",function(t,a){var i,n,r=this,o=t;if("window"===o)return $(window);if(e.is_obj(o))return o;if(void 0!==o&&o.length||(o=r.id(a)),e.is_str(o)){-1!==o.indexOf("{{")&&(o=r.tpl(o));var s=o.split(":"),c=s[1];if("caller"===s[0]){var u=r.caller();u&&(o=u.get_target(o.substr(7)))}else if("repeat"===s[0])for(var f=r;f;){if(f.siblings&&f.siblings[f.xds.id]&&Array.isArray(f.siblings[f.xds.id])){o=f.dom();break}f=f.parent_xdo()}else if("*"===o.substr(0,1))o=r.targetFromId(o.substr(1));else if(o==="this:"+d.cont||o===d.cont)(o=$("#"+this.uuid)).length||(o=$(r.parents(l.cont)[0]));else if(s.length>1)switch(s[0]){case"find":o=r.dom().find(c);break;case"parent":o="*"===(i=(n=c.split(" ")).shift()).substr(0,1)?r.dom().parents('[id$="-'+i.substr(1)+'"]').first():r.parents("."+i),n.length&&(o=o.find(n.join(" ")));break;case"children":o=r.find('[id$="'+r.id().substr((r._counter+"").length)+"-"+c+'"]');break;case"sibling":case"siblings":o=r.sibling(c,!0);break;case"this":if(r.path_include){var g=r.id().split("-"),p=r.path_include.split("-").length,h=g.slice(0,g.length-p+1).join("-")+"-"+c.split("-").slice(1).join("-"),m=$(h);m.length?o=h:(h="#"+r.xds_full.counter+c,(m=$(h)).length?o=h:(h=c.split("-"),o="#"+r.dom().parents("."+h[0]).find("."+h.join("-")).attr("id")))}else o=a?r.find("."+c,1):"#"+(r.xds_full&&r.xds_full.counter)+o.substr(5)}else{var v=o.substr(0,1);"#"!==v&&"."!==v&&"-"!==v.indexOf("-")&&(o=r.find("."+o))}}e.is_str(o)&&!a||(o=$(o));var b=r.get_redirect_parent();return o&&0!=o.length||!b?o:b.get_target(t,a)}),_defineProperty(a,"is_create",function(){return this.build.is_create()}),_defineProperty(a,"nt",function(e,t){var a=this,i=a.get_toc();if(i){var n=i.data.type||"";if(!n)return"";r=(n=n.split("."))[0],o=n[1]}else var r=a.get_val("nodetype",e),o=a.get_val("nodesubtype",e);return t?""+r:r+"."+o}),_defineProperty(a,"formAction",function(){return e.formAction(this)}),_defineProperty(a,"addValidator",function(t){return t||(t={}),"function"==typeof t&&(t={type:t}),t.validatorGroup&&this.addClass("".concat(e.css.validatorGroup,"-").concat(t.validatorGroup)),this.on("validate","validate",t),this}),_defineProperty(a,"tpl",function(t,a){a&&(t=e.tpl(t,a));var i=["__originalfunc","_func"],n={};if(t)for(var r=0;r<i.length;r++){var o=i[r];t[o]&&(n[o]=t[o])}for(var s in t=e.tpl(t,this.xds,this),t=e.tpl(t,this),n)t[s]=n[s];return t}),_defineProperty(a,"set",function(t){var a=this;if(e.is_obj(a.siblings))delete a.siblings["_"+a.xds.id],a.siblings[a.xds.id]=t;else if(a.siblings={},a.siblings[a.xds.id]=t,a.parent){var i=a.parent_xdo(),n=a.parent.fields,r=i.path;for(var o in n){var s=e.get_obj(r+"-"+o);s&&(s.siblings||(s.siblings=a.siblings))}i.data||i.set(a.siblings)}return a.rnode&&a.state.root===a.path&&(a.rnode=t),a.data=t,this}),_defineProperty(a,"mapChild",function(t,a,i){var n,r,o,s,d,l,c,u={};for(var f in function e(a,i){var n,r=a.fields;for(var o in r)t=r[o],n=""===i?t.id:i+"-"+t.id,t.cdid?u[n]=t.cdid:t.fields&&t!==a&&!t.scopeState&&e(t,n)}(t,""),u)if(a.hasOwnProperty(u[f])){n=u[f],l=(r=f.split("-")).length-1,c=i,d=this.path;for(var g=0;g<l;g++)d+="-"+(o=r[g]),"object"===_typeof(c)&&(c[o]||(c[o]={}),c=c[o],(s=e.get_obj(d))&&(s.data=c));"object"===_typeof(c)&&(delete c["_"+r[r.length-1]],c[r[r.length-1]]=a[n]),(s=e.get_obj(this.path+"-"+f))&&(s.data=a[n])}}),_defineProperty(a,"map",function(t){var a=this;if(!(t=t||a.data))return this;var i,n=a.xds;return e.is_obj(a.data)?i=a.data:(i={},this.set(i)),this.mapChild(n,t,i),this}),_defineProperty(a,"set_val",function(t,a,i,n){var r=this;return"caller"===i&&(r=r.caller(),i="node"),e.is_str(t)&&-1!==t.indexOf(":")&&(i=t.substr(0,t.indexOf(":")),t=t.substr(t.indexOf(":")+1)),void 0===a?(r.data=t,r.set_val(r.xds.id,t,void 0,1)):"siblings"===i&&void 0!==r.siblings&&void 0!==r.siblings[t]?r.siblings[t]=a:"this"===i?"object"===_typeof(r.data)&&void 0!==r.data[t]?r.data[t]=a:r.data=a:"object"!==_typeof(r.data)||void 0===r.data[t]&&!n||"user"===i||"node"===i||"rnode"===i||"data_full"===i?"object"!==_typeof(r.rnode)||void 0===r.rnode[t]&&!n||"node"===i||"user"===i||"data_full"===i?"object"!==_typeof(r.node)||void 0===r.node[t]&&!n||"user"===i||"data_full"===i||"rnode"===i?"object"!==_typeof(r.data_full)||void 0===r.data_full[t]&&!n||"user"===i||"rnode"===i||(r.data_full[t]=a):r.node[t]=a:r.rnode[t]=a:r.data[t]=a,void 0===a&&r.deprecate("set_val"),this}),_defineProperty(a,"deprecate",function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a?e.log.deprecate(a):e.log.deprecate(t+" deprecated "+this)}),_defineProperty(a,"is_child",function(t){return e.is_child(t,this.path)}),_defineProperty(a,"name",function(){return this.cssPath?e.get_name(this.cssPath):void 0}),_defineProperty(a,"cssClass",function(){return e.classFromPath(this.path)}),_defineProperty(a,"gebi",function(e){if(parseInt(e)>=1)return $("#"+e);var t=e.split("-"),a=this.cssPath.split("-"),i=this.path_include?this.path_include.split("-"):[];return a[0]!==t[0]&&(e=a.slice(0,a.length-i.length+1).concat(t.slice(1)).join("-")),$("#"+this._counter+e)}),_defineProperty(a,"contains",function(e){return $.contains(this.dom()[0],e instanceof jQuery?e[0]:e)}),_defineProperty(a,"hide",function(){return this.dom().hide(),this}),_defineProperty(a,"show",function(){return this.dom().show(),this}),_defineProperty(a,"focus",function(){return this.dom().focus(),this}),_defineProperty(a,"initialFocus",function(){return e.inInitialFocus=!0,this.focus(),delete e.inInitialFocus,this}),_defineProperty(a,"dom",function(){return $("#"+this.path)}),_defineProperty(a,"id",function(e,t){return e?this.dom(t):"#"+this.path}),_defineProperty(a,"html",function(e){return this.dom().html(e),this}),_defineProperty(a,"append",function(e){return this.dom().append(e),this}),_defineProperty(a,"remove",function(){return e.memory.clean(this.dom(),!0),this.dom().remove(),delete this._obj,this}),_defineProperty(a,"find",function(e,t){var a=this;if("#"===e.substr(0,1))return $(e);var i=this.t;return i?t?i.find(e):a.xds.wrap?a.dom().parent().find(e):a.dom().find(e):$()}),_defineProperty(a,"trigger",function(e,t){return"xds-event-triggering"!==e&&this.trigger("xds-event-triggering",e),this.dom().trigger(e,t),this}),_defineProperty(a,"bind",function(e,t){return this.on(e,t)}),_defineProperty(a,"ready",function(e,t){return this.on("onload",e,t),this}),_defineProperty(a,"on",function(t,a,i,n){if(t!==window&&t!==document&&(n=i,i=a,a=t,t=void 0),t===window||t===document){var r={id:this.path};return n&&$.extend(r,n),e.pageListen({xdoArgs:r,source:t,trigger:a},i),this}if(a=a||"onload",this._complete){l=a.split(" ");var o=e.memory.events[this._counter],s="#"+this.path,d=this.build&&this.build.eventsbag;for(o[s]||(o[s]={}),o=o[s],d[this.selector()]||(d[this.selector()]={});a=l.pop();)o[a]||(o[a]=[]),o[a].push({func:i,trigger:a,args:n||{}}),d[this.selector()][a]||(d[this.selector()][a]=!0,_$("."+this.selector()).on(a,e.eventHandler))}else{var l,c;for(-1!==a.indexOf(" ")&&(l=a.split(" "));(l&&(a=l.pop())||!l)&&(c={func:i,trigger:a,args:n,target:t},this._tag.ev&&this._tag.ev.push(c)||(this._tag.ev=[c]),l););}return this}),_defineProperty(a,"off",function(t,a,i){if(this._complete){var n,r,o=e.memory.events[this._counter],s="#"+this.path,d=this.build&&this.build.eventsbag,l=this.selector();n=o[s],r=d[l],void 0===t&&(t=Object.keys(n).join(" "));for(var c=Object.values(t.split(" ")),u=0;u<c.length;u++){var f=c[u];n&&n[f]&&delete n[f],r&&r[f]&&delete r[f],this.dom().off(f,a,i)}n&&!Object.keys(n).length&&delete o[s],r&&!Object.keys(r).length&&delete d[l]}else{var g=this;if(!g._tag.ev)return;void 0===t?g._tag.ev=[]:g._tag.ev.map(function(e,a){(e&&e.trigger===t||void 0===t)&&(g._tag.ev[a]=void 0)})}return this}),_defineProperty(a,"delegate",function(t,a,i){for(var n,r=this.xds._eventSelector||this.path_include||this.cssPath,o=t.split(" ");t=o.pop();){if(r){if((n=this.global("_delegated")||{})[r]||(n[r]={}),n[r][t])return this;n[r][t]=1,this.global("_delegated",n)}e.is_obj(i)||(i={}),i._delegate=!0,this.on(t,a,i)}return this}),_defineProperty(a,"stopPropagation",function(){if(this.e&&this.e.stopPropagation)return this.e.stopPropagation()}),_defineProperty(a,"isPropagationStopped",function(){if(this.e&&this.e.isPropagationStopped)return this.e.isPropagationStopped()}),_defineProperty(a,"isDefaultPrevented",function(){if(this.e&&this.e.isDefaultPrevented)return this.e.isDefaultPrevented()}),_defineProperty(a,"preventDefault",function(){if(this.e&&this.e.preventDefault)return this.e.preventDefault()}),_defineProperty(a,"eventSource",function(){return this.e?$(this.e.target):$()}),_defineProperty(a,"eventKeyMap",function(e){var t={ESC:27,TAB:9,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,BACKSPACE:8,SPACE:32};return void 0!==t[e]?t[e]:e.charCodeAt(0)}),_defineProperty(a,"eventKeyIs",function(t){var a=this,i=a.e.which||a.e.keyCode;e.is_arr(t)||(t="string"==typeof t?t.split(","):[t]);for(var n,r,o,s=t.length;s--;){var d=!1,l=!1;if("string"!=typeof(n=t[s])&&(n=n.toString()),1===(n=n.toUpperCase().split("+")).length)o=n[0];else for(;r=n.pop();)"CTRL"===r||"CMD"===r?l=!0:"SHIFT"===r?d=!0:o=r;var c=!1;if(isNaN(o)?o&&this.eventKeyMap(o)&&this.eventKeyMap(o)==i&&(c=!0):o==i&&(c=!0),c)return!(d&&!a.e.shiftKey||l&&!a.e.metaKey&&!a.e.ctrlKey)}return!1}),_defineProperty(a,"event",function(t,a){var i=this,n=i.__ev,r=i.get_args()||{};for(var o in a)r[o]=a[o];return e.callEvent(i,i.dom(),{args:r,func:t},i.e,n&&n.altprops),i.__ev=n,this}),_defineProperty(a,"newEvent",function(t,a){var i=this,n=i.__ev;delete i.__ev;var r=e.callEvent(i,i.dom(),{args:a,func:t});if(i.__ev=n,r)return r}),_defineProperty(a,"focusNextElement",function(){if(document.activeElement){var e=Array.prototype.filter.call(document.body.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(e){return e.offsetWidth>0||e.offsetHeight>0||e===document.activeElement}),t=e.indexOf(document.activeElement);t>-1&&(e[t+1]||e[0]).focus()}}),_defineProperty(a,"focusPreviousElement",function(){if(document.activeElement){var e=Array.prototype.filter.call(document.body.querySelectorAll('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])'),function(e){return e.offsetWidth>0||e.offsetHeight>0||e===document.activeElement}),t=e.indexOf(document.activeElement);t>-1&&(e[t-1]||e[0]).focus()}}),_defineProperty(a,"child",function(t,a){return t=e.child_from_path(this.path,t),a?$("#"+t):t}),_defineProperty(a,"sibling",function(t,a){var i=e.sibling_from_path(this.path,t);return a?$("#"+i):i}),_defineProperty(a,"isA",function(e){return Array.isArray(e)||(e=[e]),e.includes(this.nt())}),_defineProperty(a,"set_parent",function(e){this._parentxdoref=e.ref()}),_defineProperty(a,"parent_xdo",function(){if(this._parentxdoref)return this._parentxdoref.resolve();var t=e.parent_from_path(this.path);return e.get_obj(t)}),_defineProperty(a,"root_xdo",function(){return e.get_obj(this.path.split("-")[0])}),_defineProperty(a,"repeat_xdo",function(){for(var t=this;t;){if(e.is_repeat(t._xds,!0))return t;t=t.parent_xdo()}return!1}),_defineProperty(a,"get_parent",function(t){var a=e.parent_from_path(this.path);return t?$("#"+a):a}),_defineProperty(a,"get_redirect_parent",function(){if(this.get_setting("parentxdo",!0))return this.get_setting("parentxdo",!0)}),_defineProperty(a,"parents",function(e){return this.dom().parents(e)}),_defineProperty(a,"prev",function(){if(this.parent){for(var e=this.parent._children,t=e.length,a=this.xds.id;t--&&e[t].id!==a;);if(t>0)return e[--t]||!1}return!1}),_defineProperty(a,"prev_xdo",function(){var t=this.prev();return t&&e.get_obj(this.sibling(t.id))||!1}),_defineProperty(a,"next",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.parent){for(var t=this.parent._children,a=t.length,i=this.xds.id;a--&&t[a].id!==i;);return t[a+e]||!1}return!1}),_defineProperty(a,"nextData",function(){return this.parent_xdo().data[this.xds.id][this.get_index()+1]}),_defineProperty(a,"findChildType",function(t){return e.child_from_type(this,t)}),_defineProperty(a,"prevPage",function(e,t,a,i){return t=t||-1,this.nextPage(e,t,a,i),this}),_defineProperty(a,"searchXds",function(e){return this.search(e,!0)}),_defineProperty(a,"search",function(t,a){var i=e.is_arr(t)?t:t.split("-"),n=this.cssPath.split("-"),r="object"===_typeof(a)?a:a?this.xds_full:this.data_full;if(n.length>=2&&n[1]===i[0]){var o=e.search(i,r,a);if(o)return o}return n.length!==i.length&&(i=n.slice(1,n.length-i.length).concat(i)),e.search(i,r,a)}),_defineProperty(a,"pages",function(e){var t=this._paging;if(e)return t[e]&&t[e].pages;for(var a in t)return t[a]&&t[a].pages}),_defineProperty(a,"nextPage",function(t,a,i,n){this._pageEmitted=0,this._pageHidden=0,t||(t=function(e){r.dom().html(e)});var r=this;if(!r.get_setting("paging")){var o=r._paging||{};for(var s in o)o=o[s];if(o.pages){if(o.wait)return this;if(a=a||1,o.currentPage+=a,o.pages[o.currentPage])r.newEvent("redraw",{redrawPath:(r.path_include||r.cssPath)+"-"+s,datainsert:t,paging:r.ref()});else{if(!o.serverPaging||o.noMorePages)return;o.wait=!0,o.serverPage++;var d=r.get_setting();d.spage=o.serverPage,delete d.url,e.get_data(d,function(a){if(delete o.wait,r.cssPath){a=r.build.cookData(r.xds_full,a);var i=r.cssPath.split("-");i.push(s),i.shift(),(a=e.search(i,a))?r.newEvent("redraw",{datainsert:t,paging:r.ref(),serverPage:a,redrawPath:(r.path_include||r.cssPath)+"-"+s}):(r.trigger("xds-noMorePages"),o.noMorePages=!0)}},!1)}1==o.currentPage&&r.target().addClass(e.css.firstPage),o.currentPage==o.pages.length&&r.target().addClass(e.css.lastPage),r.trigger("pagingNewPage")}}}),_defineProperty(a,"infiniteScroll",function(t,a){var i,n=this;return t||(t=function(){n.find(e.$css.feedLoading).remove(),n.nextPage(function(t){if(n.find(e.$css.feedLoading).remove(),n.arg("reverse")){var a=n.dom().height(),i=n.temp.scrollRegion.scrollTop();n.temp.scrollRegion.height(),n.dom().prepend(t),n.temp.scrollRegion.scrollTop(n.dom().height()-a+i)}else if(n.element&&n.element.scroll){var r=n.element.currentScrollTop();n.element.getScrollObj().append(t),n.element.scrollTop(r),n.element.resetCurScrollPercent(),n.trigger("xds-scroll-recalculate")}else n.parents(e.$css.responsiveBody).length&&"column-reverse"===n.parents(e.$css.responsiveBody).css("flex-direction")?n.dom().prepend(t):n.dom().append(t);delete n.temp.infiniteScrollWaiting})}),n.temp._infiniteScrollFunc=t,n.setTimeout((i=n.ref(),function t(){var n,r=i.resolve();if(r){n=r.temp._infiniteScrollFunc,e.memory.setDOMTrackingOffForTimer();var o=_$(r.id());if(e.get("lightbox")&&e.get("lightbox").len()&&!r.parents(".lightbox").length)r.setTimeout(t,1e3);else{var s=r.arg("reverse")||!1,d=1,l=e.window,c=e.window,u=e.window;if(r.hasClass(e.css.scroll)?(d=2,c=r):r.hasClass(e.css.responsiveBody)?(d=4,c=r):r.parents(e.$css.scroll).length?(d=3,c=r.parents(e.$css.scroll).first().xdo):r.parents(e.$css.responsiveBody).length&&(d=4,c=r.parents(e.$css.responsiveBody).first().xdo),1!==d&&(u=c.dom(),l=c.element?c.element.getScrollObj():c.dom()),o.length){r.temp.scrollRegion=l,r.temp.windowObj=u;var f,g=l.scrollTop(),p=l[0].scrollHeight,h=u.height(),m=o.height(),v=s?.05:.95,b=!1;if(s)f=g/m,4==d&&(f="column-reverse"===c.dom().css("flex-direction")?-1*g/p:g/p),b=f<v;else{var _=1==d?o.offset().top:0,y=r.element&&r.element.getScrollPercent?r.element.getScrollPercent():(g-_+h)/m;4==d&&(y="column-reverse"===c.dom().css("flex-direction")?(-1*g+l.height())/p:(g+l.height())/p),b=(f=y)>v}if(b&&!r.temp.infiniteScrollWaiting&&(r.temp.infiniteScrollWaiting=!0,n(),a))return;r.setTimeout(t,300)}}}}),300),n}),_defineProperty(a,"cnid",function(t,a){if(t&&!e.is_arr(t)){if(2===(t=(t+"").split("/")).length)return t.join("/");t=t.pop()}var i=this,n=[],r=(t=t||i.get_val("nid"),{});!function e(a){var i=a.rnode&&(a.rnode.pnid||a.nid("node"));if(i||(i=a.node&&a.node.pnid),i&&i!=t){(s=a.rid())&&n.push(s),n.push(i);var o=a.get_val("pnid")||a.nid("data_full");o!==i&&a.node.rid&&(n.push(a.node.rid),n.push(o))}else{var s;i!=t&&i||(i=a.get_val("pnid")||a.get_val("nid","data_full")),(s=a.get_val("rid"))&&i!==n[n.length-1]&&i!==t&&(n.push(s),n.push(i));var d=a.caller();d&&d.get_val&&d.path!==a.path&&!r[d.path]&&(r[d.path]=1,e(d))}}(i),n=n.reverse();var o=i.get_setting("nid");return e.is_str(o)&&0==n.length&&(o=o.split("/"))[o.length-1]==t?i.get_setting("nid"):(n.push(e.is_arr(t)?e.nodePath(t):t),e.nodePath(n))}),_defineProperty(a,"runOnce",function(e){return this.xds._init||(this.xds._init=!0)&&e.call(this,this),this}),_defineProperty(a,"pickerSetup",function(t){var a,i=this;i.attr("tabindex","0"),i.attr("role","button");var n=i.xds,r=void 0===i.get_val()||!1===i.get_val()?"":i.get_val(),o=void 0!==i.xds.name?i.xds.name:i.name(),s=e.get("forms").is_read_only(i),d=i.get_children();if(0===r.length&&(i.addClass("xds-field-empty"),void 0!==i.xds.defaultValue&&(r=i.arg("defaultValue"))),i.arg("value")&&(r=i.arg("value")),n.choices||d&&d.length){if(a=n.choices,d&&d.length&&(!i.xds.fields||!i.xds.fields.dropdown)){var l,c=d.length,u=0;for(e.is_arr(a)||(a=[]);u<c;)(l=$.extend({},d[u++])).lookuponly||(l.value=void 0!==l["data-value"]?l["data-value"]:l.title,l.display=l.title,delete l["data-value"],a.push(l))}var f={name:o,choices:a,multi:n.multi,readonly:s,disabled:!!e.get("forms").is_read_only(i)||n.disabled,placeholder:n.placeholder,defaultValue:r,defaultDisplay:i.arg("defaultDisplay"),obj:i,xds:n.xds||n.pickerxds,pickerkey:n.pickerkey,searchLength:n.triggerLength,typedown:n.typedown,combobox:n.combobox,arrowText:n.arrowText,noCache:n.noCache,searchKey:n.searchKey,command:n.command,combine:n.combine,displaytag:n.choicesdisplaytag,displaytagargs:n.choicesdisplayargs,keepOpen:n.keepOpen,basenodetype:n.basenodetype,noList:n.noList,noArrow:n.noArrow,noPath:n.noPath,filterType:n.filterType,onloadInit:n.onloadInit,forceDown:n.forceDown,lightboxPicker:n.lightboxPicker,pickerargs:n.pickerargs};return i.xds.fields&&i.xds.fields.dropdown&&(f.choices="dom:ul",f.noList=!0,f.onloadInit=!0),t=t||{},$.extend(f,t),i.picker=e.picker(f),i.picker}}),_defineProperty(a,"_cleanUpXDS",function(e){if(e._layout&&delete e._layout.exitIndex,delete e._pre,delete e._type,delete e._processed,e.fields)for(var t in e.fields)this._cleanUpXDS(e.fields[t])}),_defineProperty(a,"fetch",function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,r=n.build.s.url;if(a){var o=e.clone(n.build.s);o.nid=a,r=e.gen_url(o)}if(r||(delete n.build.s.spage,r=e.gen_url(n.build.s)),!i){var s=n.cssPath.split("-");s.shift(),r+="&subPath="+(s=s.join("-"))}e.get_data(r+"&_t"+Date.now(),function(a){a=JSON.parse(e.sanitize(JSON.stringify(a))),t(a)})}),_defineProperty(a,"update",function(t){var a=this;if(a.build){var i=e.memory.events[a.build.uuid],n=a.selector();for(var r in delete i["#"+a.path],i)-1!==r.indexOf(a.path+"-")&&delete i[r];a.build.delegatedEvents&&a.build.delegatedEvents.length&&a.build.delegatedEvents.map(function(e){e.__delegated===n&&delete e.__delegated});var o=a.dom();if(o.length){void 0!==t&&a.set(t);var s=$(document.activeElement);if(s&&s.xdo){var d,l,c,u,f=s.xdo,g=a.dom(),p=f.dom();($.contains(g[0],p[0])||a.path===f.path)&&(a.path===f.path&&g.attr("contentEditable")?u=p[0]:p.is("input")||f.find("input").length&&"hidden"!==f.find("input").attr("type")?u=p.is("input")?p[0]:f.find("input")[0]:f.attr("contentEditable")&&(c=f.path,u=p[0]),u&&(d=!0,l=e.caretPos(u)))}this._cleanUpXDS(a.xds);var h=this.build.xdoProto;delete h._complete,h.output=[];var v=a.build;v._oldstyles=v.styles,v.styles={},a.cleanEvents(),v.eventsbag,v.eventsbag={},e.unloadBuilds(a.dom()),m.prototype=Object.getPrototypeOf(a);var b=m.call(this,this);if(b)_=b.output.join(""),b.output.splice(0,b.output.length);else var _="";if(a.updatehook){if(!a.updatehook(a,o,_))return}else{var y=(a.xds.wrap?o.parent():o)[0];if(null===y.parentNode)return;y.outerHTML=_}for(var x in h._complete=!0,a.build.bind(),v.styles)v._oldstyles[x]?delete v.styles[x]:v._oldstyles[x]=v.styles[x];return a.build.insertStyles(),d&&f&&(f=c?e.get_obj(c).dom():a.path===f.path||f.dom().is("input")?f.dom():f.find("input"))[0]&&(f[0].focus(),e.caretPos(f[0],l)),a}}}),_defineProperty(a,"updatefromdom",function(){var t=this;return t.hasClass(d.field)||t.dd?t.set(t.val()):t.find(e.$css.field).each(function(){e.get_obj(this).updatefromdom()}),this}),_defineEnumerableProperties(a,i),a),e.xdo=h.prototype,e.xdo.construct=function(t){var a=e.state.inBuild;for(var i in e.state.inBuild=!0,t)t.hasOwnProperty(i)&&(this[i]=t[i]);var n,r=this.output,s=this._tag=new g,d=this.xds,l=this.post,c=this.build.s;if(delete this.showTitle,delete this.displayVal,e.settings.runtime.unittest){this.attr("data-xds-id",this.xds.id),this.attr("data-xds-counter",this.xds_full.counter),this.attr("data-xds-path",this.path),void 0!==this._i&&this.attr("data-xds-repeat-index",this._i);var u=!1;if(this.get_setting("paging")){var f=this.get_setting("paging").resolve&&this.get_setting("paging").resolve();f&&(u=f._paging)}else this.root_xdo()&&this.root_xdo()._paging&&(u=this.root_xdo()._paging);if(u){var h=this.cssPath.split("-");if(h.shift(),h){var m=e.search(h.join("-"),u);m&&this.attr("data-xds-paging-page",m.currentPage)}}}if(0===this._i&&this.addClass(e.css.first),this._last&&this.addClass(e.css.last),this.isRoot()&&this.addClass(e.css.root),this.xds._animations&&"string"==typeof this.xds._animations&&this.animationType(this.xds._animations),this.xds._forceTheme&&e.get("cssvar").setTheme(this.xds._forceTheme,!0),this.xds._responsive&&this._buildCalculateResponsive(),this._buildProcessData(),void 0===d._type)if(this._buildRegisterFuncs("pre"),!d.renderNoPerm&&this._buildRegisterPerm(),d.type)if(void 0!==p[d.type])d._type=p[d.type]||d.type;else{if("sys"===d.type)return;d._type=e.get_type(d.type,this.path)}else d._type="div";if(void 0===d._pre||!1!==this._buildRunRegisterFuncs("pre")){if(this.build.objects.length++,this.build.objects[this.path]=this,"function"!=typeof d._type||s.blank)this._tag||(s=new g),s.tag=d._type;else if(!1===this._buildCallType(d._type)||s.retFalse)return;d.inherit&&!s.blank&&d.type!==d.inherit&&this.inherit(d.inherit);var v=this._state;if(v&&v.keySet&&(v.map(),delete v.keySet),!1!==this.data||this.sparse||d.sparse||void 0!==d.title||this.displayVal){var b=void 0===c.redrawPath||this.is_child(c.redrawPath);if(!0===b){if(d.events&&this.build.events(this,d.events),(d.tooltip||this.tooltip||d.tooltipObj||this.tooltipObj)&&!1!==this.tooltip&&this._buildAddTooltip(d.tooltip||this.tooltip||d.tooltipObj||this.tooltipObj),s.ev&&this.build.events(this,s.ev),d._xds&&!1===this._buildCheckPerm())return delete this.build.objects[this.path],void this.build.objects.length--;"nowrap"!==s.tag&&(void 0===s.tag&&this.tag("div"),s.style&&this._buildAddTagStyle(),r.push(this._buildBuildTag(s)),n=r.length-1);var _=this._buildBuildData();!n&&(n=r.length-1),(_||0===_)&&(r[n]+=_)}if(void 0===d._children||s.exit||this._buildChildren(d._children),!0===b){for(var y in this.build.insertIndex=n,r.push(this._buildBuildCloseTag(s)),l)void 0!==d[y]&&l[y](this,d);this._buildLayout(),this._buildLayoutChildren()}return d._processed=!0,this.finishedBuild&&this.finishedBuild(),o.length++,e.state.inBuild=a,this}}},e.xdoSuperProto=h,e.XDO=m,e.is_xdo=function(e){return e instanceof h},v.prototype={resolve:function(){return e.get_obj(this.path)}}}(cf),function(e){var t=function(t,a,i){var n=this;e.is_str(i)&&(n.name=i),n.root=t.path,n.registers={},n.events={},n.genData(t),a&&a._state&&a._state.root&&(n._parent=a._state.root)};e.state={stateEventStack:[],addStateToUpDateStack:function(t){try{clearTimeout(e.state.statesToUpdateTimer),e.state.statesToUpdateTimer=setTimeout(e.state.updateStates),e.is_xdo(t)&&t.state&&!t.state.seen&&t.state.events?(t.state.seen=!0,e.state.stateEventStack.push(t.state)):e.state.stateEventStack.push(t)}catch(a){e.log.error({module:"state",name:"state stack update execution failure",xdo:t,exception:a})}},updateStates:function(){var t,a={},i=e.state.stateEventStack;for(e.state.stateEventStack=[];t=i.pop();)if(t&&!a[t.root]&&(a[t.root]=1,t.map(),t.pushUpdate(),t._updatepromises)){var n=!0,r=!1,o=void 0;try{for(var s,d=t._updatepromises[Symbol.iterator]();!(n=(s=d.next()).done);n=!0)(0,s.value)()}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}delete t._updatepromises}}},t.prototype={global:function(){return a.xdo=this.xdo,a},top:function(){if(e.get_obj(this.xdo)&&e.get_obj(this.xdo).get_redirect_parent())return e.get_obj(this.xdo).get_redirect_parent().state.top();if(this._parent){var t=this.parent().top();return t.xdo=this.xdo,t}return this},parent:function(){if(!this._parent)throw new Error("State has no parent");if(e.get_obj(this._parent))return e.get_obj(this._parent).state;throw new Error("State has no resolveable parent")},scope:function(e){var t=this;switch(e){case"top":return t.top();case"global":return t.global();case"parent":return t.parent();default:var a=t;do{if(a.name==e)return a}while(a._parent&&(a=a.parent()));throw new Error("State scope "+e+" not found")}},resolveKey:function(e,t){if("string"==typeof e&&-1!==e.indexOf(":"))return e=e.split(":"),{state:this.scope(e[0]),key:e[1]}},local:function(e){var t=this,a=t._parent;delete t._parent;var i=t.get(e);return t._parent=a,i},forget:function(t,a){var i=this.resolveKey(t);if(i)return i.state.get(i.key,a);var n=this.registers;if(a=a||this.xdo,e.is_xdo(a)&&(a=a.path),n&&n[t]&&n[t].length>0){var r=[],o=!0,s=!1,d=void 0;try{for(var l,c=n[t][Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;u!==a&&r.push(u)}}catch(e){s=!0,d=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw d}}n[t]=r}},peek:function(e,t){return this.get(e,t,!1,!1)},poke:function(e,t){var a=this.resolveKey(e);return a?a.state.poke(a.key,t):this.data[e]===t&&"object"!==_typeof(t)?this:(this.keySet=!0,void(this.data[e]=t))},getsetnx:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return void 0!==t&&(i?this.poke(e,t):this.setnx(e,t)),this.get(e,a)},get:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.resolveKey(t);if(o)return o.state.get(o.key,a);var s=this,d=s.registers;a=a||s.xdo,e.is_xdo(a)&&(a=a.path);var l=e.get_obj(a);if(l&&l.arg("stateExclusions")&&l.arg("stateExclusions").split(",").includes(t)&&(n=!1),n)if(d[t]){var c=d[t].length,u=!1;if(!r)for(;c--;)-1===a.indexOf(d[t][c]+"-")&&d[t][c]!==a||(u=!0);u||d[t].push(a)}else d[t]=[a];var f=s.data[t];return void 0===f&&s._parent?s.parent().get(t,a,i,n):f},set:function(t,a,i){if(e.state._lastActiveElement=document.activeElement.getAttribute("id"),1&(e.settings.runtime.debugstate||0)&&e.log.debug({message:"state.set: ".concat(t,", ").concat(a,", ").concat(i),category:"state"}),"object"!==_typeof(t)){var n=this.resolveKey(t);if(n)return n.state.set(n.key,a);if(this.data[t]===a&&"object"!==_typeof(a)){var r=e.get_obj(this.xdo);return r&&r.trigger("xds-state-updated"),this}this.keySet=!0,this.data[t]=a;var o=e.get_obj(this.xdo);return(o&&o.build&&o.build._complete||"GLOBALSTATE"===this.root)&&(this.events||(this.events={}),this.events[t]=[this.xdo,e.state.inBuild],e.state.addStateToUpDateStack(this)),this}for(var s in t)this.set(s,t[s])},setnx:function(e,t){if("object"!==_typeof(e)){var a=this.resolveKey(e);return a?a.state.setnx(a.key,t):(void 0===this.data[e]&&this.set(e,t),this)}for(var i in e)this.setnx(i,e[i])},promise:function(){var e=this;return new Promise(function(t,a){e._updatepromises||(e._updatepromises=[]),e._updatepromises.push(t)})},map:function(){var t=e.get_obj(this.root);t&&t.map(this.data)},update:function(t,a,i){var n=this.resolveKey(t);if(n)return n.state.update(n.key,a);if(e.is_xdo(a)&&(a=a.path),void 0===this.data[t]&&this._parent)return this.parent().update(t,a||this.xdo);if(void 0!==this.data[t]){var r=e.get_obj(this.xdo);return(r&&r.build&&r.build._complete||"GLOBALSTATE"===this.root)&&(this.events||(this.events={}),this.events[t]=[a||this.xdo,e.state.inBuild],(e.state.inTimer||e.state.inEvent||"GLOBALSTATE"===this.root)&&e.state.addStateToUpDateStack(this)),this}},pushUpdate:function(){var t=this,a={},i={},n=t.events;delete t.events;var r=[];for(var o in n){var s=t.registers;if(s[o]||s["*"]){var d=function(i,o,s){for(var d in i[o])if((!n[o]||i[o][d]!==n[o][0]||!n[o][1])&&(d=e.get_obj(i[o][d]||i["*"][d]))){if(t.eventHandlers&&t.eventHandlers[d.path]&&t.eventHandlers[d.path]["*"]){t.eventHandlers[d.path]["*"](s,t.data[s]);continue}if(t.eventHandlers&&t.eventHandlers[d.path]&&t.eventHandlers[d.path][o]){t.eventHandlers[d.path][o](t.data[o]);continue}a[d.path]||(a[d.path]=1,r.push(d.path))}};d(s,"*",o),d(s,o,o)}if(!i[n[o][0]]){var l=e.get_obj(n[o][0]);l&&(i[l.path]=l.ref(),l.trigger("xds-state-set"))}}for(var c,u=(r=r.sort()).length,f=-1;f<u-1;f++){var g=r[f+1];c&&-1!==g.indexOf(c+"-")||(c=g,e.get_obj(c).update())}for(var p in i){var h=i[p].resolve();h&&h.trigger("xds-state-updated")}delete t.seen},clear:function(e){return this.set(e,void 0)},genDataField:function(t,a,i){var n,r,o=this.data;if(!i&&(t.dbid||t.func||t.cdid)&&(o[t.id]=a),t&&void 0!==t.fields)for(n in t.fields)r=t.fields[n],a&&e.is_repeat(r,a[n])?o[r.id]=a[n]:"object"===_typeof(a)&&null!==a&&void 0!==a[n]&&(a[n]=this.genDataField(r,a[n]));return a},genData:function(t){var a=this,i=t.data;a.data={nid:i.nid,rid:i.rid,nodetype:i.nodetype,nodesubtype:i.nodesubtype};var n=(e.toc||{}).Toc;for(var r in n&&i instanceof n&&(i=i.data),i)a.data[r]=i[r];a.genDataField(t.xds,t.data,!0)},watch:function(t,a,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"function"==typeof a&&(n=i,i=a,a=this.xdo);var r=this.get(t,a,!1,!0,!0);if(e.is_xdo(a)&&(a=a.path),this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[a]||(this.eventHandlers[a]={}),this.eventHandlers[a][t]=i,n&&r||"always"===n)try{i(r)}catch(e){}return this},unwatch:function(t,a){void 0===a&&(a=this.xdo),e.is_xdo(a)&&(a=a.path),this.eventHandlers||(this.eventHandlers={}),this.eventHandlers[a]||(this.eventHandlers[a]={}),delete this.eventHandlers[a][t],0==Object.keys(this.eventHandlers[a]).length&&delete this.eventHandlers[a],0==Object.keys(this.eventHandlers).length&&delete this.eventHandlers}};var a=new t({path:"GLOBALSTATE",data:{}},void 0,"global"),i=function(){};Object.defineProperty(e.xdo,"state",{get:function(){return this._state.xdo=this.path,this._state}}),e.genState=function(a,n,r,o){n._state||(n._state=new t(a,r,o)),i.prototype=r;var s=new i;return e.extend(s,n),s},e.extend.type({watchState:function(t){t.sparse=!0;var a=t.arg("keys")||"",i=t.arg("key")||"",n=[];a.length>0&&(n=a.split(",")),i.length>0&&n.push(i),t.arg("cdid")&&n.push(t.arg("cdid")),0===n.length&&n.push(t.xds.id);var r={},o=!0,s=!1,d=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;r[u]=t.state.get(u)}}catch(e){s=!0,d=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw d}}t.data||(t.data={}),e.extend(t.data,r)}}),e.extend.fn({setState:function(e){var t=e.val();void 0!==e.get_arg("value")&&(t=e.get_arg("value"));var a=e.state;switch(e.get_arg("context")||e.arg("context")){case"global":a=e.state.global();break;case"top":a=e.state.top()}a.set(e.get_arg("key")||e.arg("key")||e.xds.cdid||e.xds.id,t)}})}(cf),function(cf){var memory=cf.memory,objects=memory&&memory.objects,gbl=cf.gbl,css=cf.css,$css=cf.$css,html=cf.html,regex=cf.regex,fn=cf.fn,constant=cf.constant,xdo=cf.XDO,xdoSuperProto=cf.xdoSuperProto,build=function(e,t){return new Build(e,t)},loadingTimer=3e3,autoImport={ttdatejumper:"f_ttdate",datepicker:"f_ttdate"},aggregated={};function Build(e,t){var a;if(memory.counter++,this.uuid=memory.counter,this.start(),a=this.s={append:!1,animate:!1,command:"open_node",nid:gbl.nid,cache:!0,redraw:!1},"object"===_typeof(e.xds)&&(a.__virtual=cf.clone(e.xds)),cf.extend(a,e),this._overide=t,a.__slice&&(this.slice=a.__slice,delete a.__slice),t)for(var i in t)this[i]=t[i],"function"==typeof this[i]&&this[i].bind(this);if(a.redrawPath){var n=a.redrawPath.split("-");n.shift(),a.subPath=n.join("-"),a.subPath||delete a.subPath,delete a.url}else a.append&&a.subPath?delete a.redrawPath:(delete a.redrawPath,delete a.subPath);var r,o=a.target;if(cf.is_obj(a.target))if("function"==typeof a.target.id)o=a.target.id();else if(a.target.id)o=a.target.id;else if("object"===_typeof(o)&&o.xdo&&o.xdo.id)o=o.xdo.id();else try{o=JSON.stringify(o)}catch(e){o="Unable to Stringify Target"}this.target=cf.is_obj(a.target)||cf.is_arr(a.target)?a.target:$(a.target||"<div/>"),this._start||(this._start=performance.now()),this.evcounter=0,this.setupBasic(),!a.append&&this.target&&this.target.length&&!cf.is_arr(this.target)&&(r=a.redrawPath&&a.redrawPath.startsWith("*")?this.target.find(cf.$css.cont).xdo.target(a.redrawPath).parent():a.redrawPath?this.target.find("."+a.redrawPath).parents(cf.$css.cont).first():this.target.find(cf.$css.cont).parent(),cf.unloadBuilds(r));var s=cf.get_obj(this.target);s&&(this.target.addClass(css.hasBuilds),s._builds||(s._builds=[]),s._builds.push(this.uuid));var d=this.target;if(a.redrawPath&&(o+=".redrawPath(s.redrawPath:".concat(a.redrawPath,")"),a.redrawPath&&a.redrawPath.startsWith("*")?r=(d=this.target.find(cf.$css.cont).xdo.target(a.redrawPath)).parent():(r=a.redrawPath?this.target.find("."+a.redrawPath).parents(cf.$css.cont).first():this.target.find(cf.$css.cont).parent(),d=this.target.find("."+(a._redrawPath||a.redrawPath)))),!(this.s.noTarget||d.length&&d[0]&&d[0].className!==cf.css.dummy||a.datainsert)){if(cf.get_obj(this.s.caller)&&cf.get_obj(this.s.caller).id()==this.s.target)return;return delete this.s.target,delete this.target,void this.generateTicket({code:log.E_NOTARGET,name:"No target found for contents",aux:"".concat(o)})}var l=cf.get_obj(a.caller),c={caller:l?l.cssPath:a.caller,ev:l&&l.e&&l.e.type,age:Date.now()-cf.memory.bootTime,w:cf.window.width(),y:cf.window.height(),s:cf.window.scrollTop(),client:cf.uuid};if(this.info=c,!this._pause)return this.continueBuild()}cf.xdsbuild=build,cf.isBuild=function(e){return e instanceof Build},cf.is_build=cf.isBuild,Build.prototype={then:function(e){this._listeners||(this._listeners={}),this._listeners.then=e},catch:function(e){this._listeners||(this._listeners={}),this._listeners.catch=e},toString:function(){return"[xsbuild "+this.uuid+"]"},clonexhr:function(e){return{status:e.status}},is_create:function(){return"create"===this.s.command||"new"===this.buildMode},removeFromDB:function(){var e=this.s;if(e&&e.url&&"undefined"!=typeof localforage&&cf.settings.smartCaching)try{localforage.removeItem(e.url)}catch(e){}},getFromDB:function(){var e=this,t=e.s,a=t&&t.url;cf.settings.runtime.noCache&&(t.noCache=!0),a&&"undefined"!=typeof localforage&&!t.noCache?localforage.getItem(a,function(t,i){if(!t&&i){if(e.receiveFromDB(i),aggregated[a]){for(;build=aggregated[a].pop();)build.receiveFromDB(i);delete aggregated[a]}}else e.getFromServer()}):e.getFromServer()},parseAjaxResponse:function(e,t){var a=this.s,i=a&&a.url;try{this.timing.network=performance.now()-this._start;var n=t.responseText;if(void 0!==this.parseResponse(n,t))cf.memory.slices[i]=n,this.clonexhr(t),this.receiveFromServer(n,t);else{try{a.func&&cf.get_func(a.func)()}catch(e){}a&&a.target&&(_$(a.target).is(":visible")||_$(a.target).show())}}catch(e){this.generateTicket({code:log.E_RENDER,name:"Error parsing reponse",exception:e})}},issueGetRequest:function(e){var t=this,a=!1;if(t&&t.caller){var i=t.caller();i&&cf.is_xdo(i)&&(a=i.summarize())}cf.ajax({url:e,xdoinfo:a,headers:{"x-xds-info":cf.clone(t.info)},callback:function(a,i){if(t.parseAjaxResponse(a,i),aggregated[e]){for(;build=aggregated[e].pop();)build.parseAjaxResponse(a,i);delete aggregated[e]}},dataType:"text"})},getFromServer:function(){var e=this,t=e.s,a=t&&t.url;if(this._dead)cf.log.info("getFromServer called on dead build");else if(a)if("new"===t.command){e.buildMode="new";var i=cf.extend({},t),n={xds:i.xds,command:cf.gbl.p+"core/xdsperm"},r=cf.gen_url(n),o=!1;if(e&&e.caller){var s=e.caller();e&&s&&cf.is_xdo(s)&&(o={path:s.path,xdspath:s.cssPath,node:s.nid(),xds:s.xdsid()})}cf.ajax({url:r,xdoinfo:o,callback:function(n){delete i.xdsr,i.nodetype||(i.nodetype=(cf.search(t.xds+"-perm-nodetypes",n)||[]).pop()||6),i.temp=1;var r=cf.gen_url(i);cf.post({data:i.data,url:r,xdoinfo:o,callback:function(i){t.command="open_node",t.nid=[i.pnid,i.rid,i.nid].join("/"),t.noPath=!0,a=cf.gen_url(t),e.issueGetRequest(a)}})}})}else e.issueGetRequest(a);else e.generateTicket({code:log.E_RENDER,name:"Settings object lost"})},saveFromServer:function(e,t){var a=this;if(!a._dead&&a.s&&a.s.url){if(cf.is_obj(e))e=cf.clone(e);else try{e=JSON.parse(e)}catch(e){}var i={data:e,etag:t.getResponseHeader("etag")};if("undefined"!=typeof localforage&&cf.settings.smartCaching)try{localforage.setItem(a.s.url,i).then(function(e){},function(e){!e||"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||cf.storageReset().then(function(){try{localforage.setItem(a.s.url,i).then(function(){},function(e){cf.diagnosticMessage("saveFromServer: Unable to set key even after storage reset"),cf.settings.smartCaching=!1})}catch(e){}})})}catch(e){try{e&&"QuotaExceededError"===e.name&&cf.storageReset().then(function(){try{localforage.setItem(a.s.url,i).then(function(){},function(){})}catch(e){}})}catch(e){}}}},receiveFromServer:function(e,t){this.saveFromServer(e,t),this.receive(e,t)},receiveFromDB:function(e){var t=this;try{if(e&&e.data&&e.data.unid==cf.gbl.uid&&(cf.settings.dev&&e.data.compiled==cf.settings.compiled||cf.settings.dev)){if(t.waitForVerification=!cf.platform.mobile,t.receive(cf.clone(e.data)),!t.s||!t.s.url)return void cf.log.log("receiveFromDB: invalid self.s ".concat(t.s));cf.log.log("Received from DB "+t.s.url);var a=_$(t.s.target);if(!a||0==a.length){var i=cf.get_obj(t.s.target);i&&(a=i.dom())}var n=a[0],r=!1;if(t&&t.caller){var o=t.caller();t&&o&&cf.is_xdo(o)&&(r={path:o.path,xdspath:o.cssPath,node:o.nid(),xds:o.xdsid()})}cf.ajax({url:t.s.url,xdoinfo:r,error:function(){t.waitForVerification?delete t.waitForVerification:!1!==t.waitForVerification&&t.bind()},callback:function(i,r){if(0!==r.status){var o=!1;if(a=$(n),!t._dead&&t.s&&t.s.url&&!a.hasClass(cf.css.dummy)){if(cf.memory.slices[t.s.url]=JSON.stringify(i),e.data&&e.data.compiled!=i.compiled||null===e.etag||null===r.getResponseHeader("etag")||r.getResponseHeader("etag")!==e.etag&&!i.error){t.saveFromServer(i,r);var s=e.data;if(s&&s.slices&&1===s.slices.length&&i&&i.slices&&1===i.slices.length){var d=JSON.stringify(s.slices[0].xds),l=JSON.stringify(s.slices[0].data),c=JSON.stringify(i.slices[0].xds),u=JSON.stringify(i.slices[0].data);cf.log.log("DB Etag Invalid "+t.s.url),d.length===c.length&&l.length===u.length&&d===c&&l===u&&(o=!0)}if(!o){cf.log.log("DB Version Invalid "+t.s.url);var f={};cf.extend(f,t.s),f.target=a,f.__slice=i,t.datainsert=function(){cf.log.log("DB Invalid - No Build Processed "+t.s.url)},clearTimeout(t.timer),cf.xdsbuild(f)}}else o=!0;o&&(cf.log.log("DB Version Valid "+t.s.url),t.waitForVerification?delete t.waitForVerification:!1!==t.waitForVerification&&t.bind())}}}})}else t.getFromServer()}catch(e){cf.log.error({module:"xdsbuild",name:"receiveFromDB Error",message:"Exception ".concat(e.name),exception:e}),t.getFromServer()}},get:function(){var e=this.s,t=e.cache,a=e.url;void 0===t&&(t=!0),cf.settings.runtime.noCache&&(this.s.noCache=!0);var i=void 0!==cf&&cf.memory&&cf.memory.slices[a];void 0===i||this.s.noCache||"create"!==this.s.command||"new"===this.buildMode?this.s.noCache||!cf.settings.smartCaching||"new"===this.s.command?this.getFromServer():this.getFromDB():(clearTimeout(this.timer),this.receive(i),delete aggregated[a])},cleanObj:function(e){var t=this.uuid;for(var a in e)parseInt(a)===t&&delete e[a]},remove:function(){$("#"+this.uuid).remove(),this.clean()},clean:function(e){var t=this.uuid,a=this.xdsid,i=cf.memory;if(e!==this.xdsid&&e)cf.log.silentLog("CLEANUP",t,e);else{var n=performance.now();delete i.events[t],delete i.builds[t],delete i.settings[t],this.cleanObj(i.paging);var r=cf.notif.track;for(var o in r)this.cleanObj(r[o]);for(var s in r=cf.notif.trackVersion)this.cleanObj(r[s]);for(var d in r=cf.notif.flags)this.cleanObj(r[d]);delete this.s.func,delete this.s.target;var l,c=i.jquery,u=this.objects;for(var f in u){var g=u[f];cf.is_xdo(g)&&g.clean()}if(c=c[t]){var p=cf.memory.dummy;for(var h in c)if(c[h]){for(;l=c[h].pop();){for(var m=l.length;m--;)l[m]=p;delete l.xdo,delete l.xds,l.prevObject=null,l.context=null}delete c[h]}}for(var v in delete cf.memory.jquery[t],delete this.objects,delete this.target,delete this.s.target,this.xdoProto)delete this.xdoProto[v];for(var b in delete this.eventsbag,this)delete this[b];this.timing={},this._dead=!0,cf.log.silentLog("Cleaned",t,a,parseInt(performance.now()-n))}},caller:function(){var e=this.s.caller;if(e)return(e=cf.get_obj(e))&&e.dom(!0).length?e:e?e.findEquivXDO():cf.findEquivXDORaw(this.s._caller)},setupBasic:function(){this.objects={length:0},this.timing||(this.timing={}),this.delegatedEvents=[],this.eventsbag={},this.onloadbag=[],this.includes={},this.insertIndex=0,this.overide={},this.resources=[],this.modules=[],this.tcssclasses=[],this.refs={},this.nodes={},this.fieldMap={},this.xdii={oresources:[],omodules:[],olib:[],resources:{},modules:{},lib:{},eval:!1},this.styles={}},insertStyles:function(){var e,t,a,i,n=[],r=this.styles,o=cf.gbl.sys.prefixes;for(var s in r){for(t in a="",e=r[s]){if(cf.is_arr(o[t]))for(i=o[t].length;i--;)a+="-"+o[t][i]+"-"+t+":"+e[t]+";";else if(cf.is_obj(o[t])&&o[t][e[t]])for(i=o[t][e[t]].length;i--;)a+=t+":-"+o[t][e[t]][i]+"-"+e[t]+";";a+=t+":"+e[t]+";"}a.length&&n.push(s+"{"+a+"}")}var d=n.join("");d.length&&_$("head").append('<style class="cf-styles">'+d+"</style>")},bind:function(e){var t,a,i=this.uuid,n=(memory.events[i],cf.eventHandler),r=this.onloadbag,o=this.eventsbag,s=this.target;this.onloadbag=[];var d,l,c,u=e?e[0]:s[0];if(u)for(t in o)for(a in o[t])for(l=(d=u.getElementsByClassName?u.getElementsByClassName(t):u.querySelectorAll("."+t)).length;l--;)(c=cf.get_obj(d[l].id))&&(c.temp._triggers||(c.temp._triggers={}),c.temp._triggers[a]||(c.temp._triggers[a]=1,jQuery.event.add(d[l],a,n)));this.onloadcounter=r.length;var f,g=0;for(l=this.onloadcounter,this.s&&this.s._isLoadUrl&&(window._cf.load||(window._cf.load=Date.now()));g<l;)f=r[g],cf.is_obj(f)&&(cf.callEvent(f.obj,f.obj.dom(),f,{type:"onload"},void 0,g),g++)},cookEvents:function(e){if(e.events)for(var t,a=e.events,i=e.events.length,n=0;n<i;n++)if((t=a[n])&&t.trigger&&-1!==t.trigger.indexOf(" ")){var r=t.trigger.split(" ");t.trigger=r.pop();for(var o=void 0;o=r.pop();){var s={};for(var d in t)s[d]=t[d];s.trigger=o,a.push(s)}}},checkForImports:function(e){var t=cf.settings&&cf.settings.modules,a=autoImport[e.type];if(!a&&t&&(a=t[e.type]&&e.type),!a&&t){var i=e.type.indexOf(".");if(!a&&-1!==i){var n=e.type.substr(0,i);(a=autoImport[n])||(a=t[n]&&n)}}a&&(e._import?e._import+=","+a:e._import=a)},cook:function(e,t,a){var i=this,n=function(e){cf.common.processFieldEvals(e,!1,!1,function(e){i.eval()})};if(n(e),e.events&&i.cookEvents&&i.cookEvents(e),e.fields&&e._children&&e._children.length&&e.fields[e._children[0].id]!==e._children[0]&&(e.fields=e._children,delete e._children),e.type&&"string"==typeof e.type&&i.checkForImports(e),e.lookupdefine&&e.resetlookupdefine&&cf.constant.clear(e.lookupdefine),void 0!==e.fields&&void 0===e._children){e._children=e.fields;var r,o,s,d=e.fields,l=!1;e.fields={};for(var c=d.length,u=0;u<c;u++){if((r=d[u])._i=u,e.lookupdefine&&cf.constant){var f=r.id;"data-value"in r&&(f=r["data-value"]),cf.constant(e.lookupdefine,r.title,f,void 0,r),e.lookupextend&&!l&&(l=!0,cf.constant.lookupextend(e.lookupextend,e.lookupdefine))}e.fields[r.id]=r,o=t+"-"+r.id,void 0!==r.type&&0===r.type.length&&delete r.type,r.type&&i.checkForImports(r),void 0===r.include||a||(s=r.include,i.includes[s]=r,i.resource(s)),r.proxyCSS&&i.resource(r.proxyCSS.split("-")[0]),r._resources&&i.resource(r),void 0===r._import||a||i.module(r._import),n(r),r.events&&!r.fields&&i.cookEvents(r),void 0!==r.fields&&(e.fields[r.id]=i.cook(r,o,a))}}return e},sanitizeStringField:function(e){var t="\x3c!--xdl-rich--\x3e";return("string"==typeof e&&e.length>1&&(e.length<=t.length||e.substr(0,t.length)!==t)||{"&":1,"<":1,">":1,'"':1,"'":1}[e])&&(("{"!==e.substr(0,1)||"["!==e.substr(0,1))&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))||(e=cf.mlescape(e),e=cf.sanitize(e))),e},cookData:function(e,t,a,i){var n,r,o,s,d;if("string"==typeof t&&(t=this.sanitizeStringField(t)),e.lookup){var l,c=e.lookup,u=gbl.sys,f=u[c];if("string"==typeof c){if("nt"===c||"nodetype"===c)l=cf.lookup("nt",a.nodetype).str();else if("nst"===c||"nodesubtype"===c)l=cf.lookup("nt",a.nodetype+"."+a.nodesubtype).str(!0);else if(cf.lookup(c))if(!1===t&&void 0!==e.lookupdefault&&(t=e.lookupdefault),!1!==t&&void 0!==t&&e.lookupsplit){for(l=[],d=(""+t).split(e.lookupsplit);d.length;)o=cf.lookup(c,d.pop()),o=e.lookupkey&&o.params?o.params[e.lookupkey]||"":o.str(),l.push(o);l=l.reverse().join(e.lookupsplit)}else l=cf.lookup(c,t),l=e.lookupkey&&l.params?l.params[e.lookupkey]||"":l.str();else if(-1!==c.indexOf("."))l="server"===(c=c.split("."))[0]||"s"===c[0]?cf.lookup(c[1],t).str(!0):cf.lookup(c[0],cf.lookup(c[0],c[1]).val()+"."+t).str(!0);else if("this:"===c.substr(0,5)){var g=a[c=c.substr(5)];void 0!==u[c]&&void 0!==u[c][g]&&void 0!==u[c][g][1]&&void 0!==u[u[c][g][1]]&&(l=u[u[c][g][1]][t])}else if(void 0!==f)if(cf.is_arr(f)&&cf.is_obj(f[0])){for(c=0;c<f.length;c++)if(t===f[c].value){l=f[c].display;break}}else!0===t&&f[1]&&(t=1),!1===t&&f[0]&&(t=0),l=void 0!==f[t]&&cf.is_arr(f[t])?f[t][0]:f[t];"object"===_typeof(a)&&null!==a&&(a["_"+e.id]=l)}}if(void 0!==e.fields){var p={};for(n in e.fields)if(p[n]=!0,o=e.fields[n],t&&cf.is_repeat(o,t[n]))for(r in t[n])t[n].hasOwnProperty(r)&&("object"==_typeof(d=t[n][r])&&null!==t[n]&&(s=d)||(s=a),"object"===_typeof(s)&&null!==s&&(s.nodetype&&(s.nodetype+=""),s.nodesubtype&&(s.nodesubtype+="")),t[n][r]=this.cookData(o,t[n][r],s));else"object"===_typeof(t)&&null!==t&&void 0!==t[n]&&("object"==_typeof(t[n])&&null!==t[n]&&(s=t[n])||(s=a),t[n]=this.cookData(o,t[n],s,i));if(cf.is_obj(t)&&!e.cookDataAllowRaw)for(var h in t)p[h]||(t[h]=cf.sanitizeObject(t[h]))}else void 0===t||"object"!==_typeof(t)||null===t||e.cookDataAllowRaw||(t=cf.sanitizeObject(t));return t},execBuild:function(e){try{return new xdo(e)}catch(e){return this.generateTicket({code:log.E_RENDER,name:"xdsbuild.execBuild error",exception:e}),!1}},datainsert:function(){var e={},t=this,a=t.s,i=t.slice,n=t.target,r=t.timing,o=(t._start,performance.now()),s=performance.now();if(e.initialMem=performance.memory&&performance.memory.usedJSHeapSize||0,t._dead||t.__done)cf.diagnosticMessage({message:"xdsbuild.datainsert aborting: dead(".concat(t._dead,") done(").concat(t._done,")"),build:t});else{if(t.isPageReload&&i.xds.id){for(var d=_$("body"),l=d.attr("class").split(/\s+/),c=0;c<l.length;c++)l[c].startsWith("body-")&&d.removeClass(l[c]);d.addClass("body-"+i.xds.id),i.xds.include&&d.addClass("body-"+i.xds.include),cf.memory.pageXDS=i.xds.id}var u=!0;if(cf.is_func(a.pre_func)?u=a.pre_func(t):cf.is_str(a.pre_func)&&a.pre_func&&(u=cf.get_func(a.pre_func)(t)),!1!==u){var f,g,p=i.data,h=t.uuid,m=new xdoSuperProto,v=i.perm,b=i.xds;xdo.prototype=m,m.uuid=h,m.xds_full=b,m.xds_this=b,m.data_full=p,m.t=n,m._perm=v,m._counter=h,m.build=t,m.output=[],m.nids={},m.fieldMap=t.fieldMap,m.refs=t.refs,m.nodes=t.nodes,a.parentxdo&&(m._parentxdoref=a.parentxdo.ref(),a._parentxdoref=a.parentxdo.ref(),delete a.parentxdo,Object.defineProperty(a,"parentxdo",{get:function(){if(this._parentxdoref)return this._parentxdoref.resolve()}})),t.xdoProto=m,b.counter=a.counter||h,v.rights||(v.rights=i.rights),v.xdii||(v.xdii={}),e.numObjects=memory.objects.length;var _={data:p,path:a.path||b.counter+t.xdsid,cssPath:t.xdsid,xds:b},y={node:p,rnode:!1};if(a.parentxdo&&(y._state=a.parentxdo.state),xdo.prototype=cf.genState(_,y,t.xdoProto),f=t.execBuild(_),t.xdoref=f.ref(),!1!==f){if(m._complete=!0,t._complete=!0,g=f.output.join(""),e.htmlOutputLength=g.length,r.build=performance.now()-o,t.insertStyles(),o=performance.now(),clearTimeout(t.timer),cf.is_func(t.callback))t.callback(g);else if(cf.is_func(a.datainsert))a.datainsert.call(t,g),delete a.datainsert,delete a.currentPage,delete a.counter,delete a.page;else if(a.redrawPath){var x=n.find("."+(a._redrawPath||a.redrawPath));if(!(t.s.noTarget||x.length&&x[0]&&x[0].className!==cf.css.dummy))return;var w=cf.get_obj(x);w&&(w.wrap||w.xds.wrap)&&(x=x.parent());var C=x[0];cf.memory.clean(x,!0),(x=$(C)).parent().hasClass("xds-cont")&&(x.parent()[0].id=t.uuid),C.outerHTML=g}else{var k,S=[css.cont];if(void 0!==a.transition||t.isPageReload||(k="xds-cont-animate"),k&&S.push(k),a.noCont||(g=html.div(g,S,h)),a.append){var T;switch(a.append){case"after":T=n.after(g);break;case"before":T=n.before(g);break;case"prepend":T=n.prepend(g);break;default:T=n.append(g)}t.target=n=T.parent()}else if(n.length&&n[0]&&n[0].className!==cf.css.dummy){var M=!1,I=n[0];(n.hasClass(css.cont)||void 0!==a.xdsCont)&&(M=!0),cf.memory.clean(n),M?(I.outerHTML=g,n=$("#"+h),t.target=t.s.target=n,m.t=n):I.innerHTML=g}}if(r.dom=performance.now()-o,o=performance.now(),t.waitForVerification)delete t.waitForVerification;else try{t.bind()}catch(e){cf.log.error({module:"xdsbuild",code:log.E_RENDER,name:"xdsbuild.bind error",exception:e,build:t})}r.events=performance.now()-o,f.output.splice(0,f.output.length),cf.is_func(a.func)&&a.func(t)||cf.is_str(a.func)&&cf.get_func(a.func)(t),_$("#"+t.uuid).children().trigger("xds-loaded"),t.takeScreenShot(function(e){cf.screenshot=e}),f&&f._tag&&"nowrap"===f._tag.tag&&(n.addClass(f.xdsid()),f.xds_this.include&&n.addClass(f.xds_this.id)),setTimeout(function(){_$("#"+t.uuid).removeClass("xds-cont-animate")},1e3),(t.isPageReload||t.hasUnread)&&cf.notif.nodetag.init(),r.total=performance.now()-t._start,r.clientTotal=performance.now()-s,t.logStats(e),t.done(f)}}}},start:function(){cf.memory.building[this.uuid]=!0},done:function(e){this.__done=!0,delete cf.memory.building[this.uuid],e&&this._listeners&&this._listeners.then&&this._listeners.then(e)},logStats:function(e){var t,a=this.timing,i=this.slice.xds,n=this.slice.data,r={timing:a,size:Math.round(e.htmlOutputLength/1024),events:this.evcounter,onload:this.onloadcounter,objects:memory.objects.length-e.numObjects,xds:i.id,id:this.uuid,nid:n.nid,memory:Math.round(((performance.memory&&performance.memory.usedJSHeapSize||0)-e.initialMem)/1024),totalMem:Math.round((performance.memory&&performance.memory.usedJSHeapSize)/1024),lowRes:performance.lowRes};if(this.s.url?(t=(this.s.url.split("?").shift()||"").split("/"),r.controller=t[t.length-2]):this.s.command&&(t=(cf.gbl[this.s.command]||"").split("/"),r.controller=t[t.length-2]),this.s.caller&&(r.caller=this.s.caller),performance.getEntriesByName){var o=performance.getEntriesByName(this.s.url);(o=o[o.length-1])&&a.network&&(a.dns=o.domainLookupEnd-o.domainLookupStart,a.connection=o.connectEnd-o.connectStart,a.actualNetwork=o.duration,a.waiting=o.responseStart-o.requestStart,a.receiving=o.responseEnd-o.responseStart)}for(var s in a)a[s]=Math.round(100*a[s])/100;if(void 0!==a.network){var d=cf.localStorage("xds-stats")||[];for(var l in cf.is_arr(d)||(d=[]),r)cf.is_func(r[l])&&delete r[l];cf.is_obj(r)&&d.push(r),d.length>10&&d.shift(),cf.localStorage("xds-stats",d)}this.stats=r;try{var c="",u=!1,f=function(e,t,a,i,n){c+=a+" "+t+(i=i||"")+" \t",t>n?console.error(a,t,i):t<e||(u=!0)};e.numObjects=memory.objects.length-e.numObjects,f(1500,a.total,"Gross Total","ms"),f(500,a.network||0,"Network","ms"),f(500,a.resources,"Resources","ms"),f(500,a.clientTotal,"Total","ms"),f(500,a.build,"Build","ms"),f(100,a.dom,"DOM","ms"),f(200,a.events,"Events","ms"),f(100,r.onload,"Onload","#"),f(100,r.events,"#Ev"),f(200,r.objects,"#Obj"),f(100,r.size,"Size","kB");var g={name:"BUILD",message:this.uuid+" "+(this.s.redrawPath||i.id)+" "+(n.nid||"")+" "+(this.s.command||"").replace(cf.gbl.p,""),body:c};u?cf.log.warn(g):cf.log.info(g)}catch(e){cf.log.error({module:"xdsbuild",method:"logStats",name:"Client Build Logging",build:this,exception:e})}},events:function(e,t){var a,i,n,r,o,s,d,l,c,u,f,g,p=t.length,h=e.uuid,m="#"+e.path,v=e.xds._eventSelector||e.path_include||e.cssPath,b=memory.events,_=this.eventsbag,y=this.onloadbag,x={loadPage:"link",loadxds:"heading"};for(s=v;p--;)if(v=s,o=m,void 0!==(u=t[p])&&!(l=u.args||{}).__delegated&&(c=u.trigger,u.trigger||(c="click"),!l.bindif||!1!==e.pre.showif(e,l,{idx:p,trigger:c}))){if((!l.xds||l.bindNoPerm||l.renderNoPerm||l.xds&&void 0!==e._perm.xdii[l.xds])&&cf.eventTriggers[c]){if("noop"!==(u=cf.eventTriggers[c](e,u)).func){u.args;var w=e.attr("data-triggers")||"",C=w.split(" ");""===w&&(C=[]),C.push(c),e.attr("data-triggers",C.join(" ")),u.args&&u.args.label&&e.attr("aria-label",u.args.label),u.func&&x[u.func]&&e.attr("role",x[u.func]),u.args&&u.args["aria-role"]&&(e.attr("role",u.args["aria-role"]),e.attr("tabindex","0")),u.args&&u.args.tooltip&&(e.tooltip=u.args.tooltip),u.args&&u.args.tooltipObj&&(e.tooltipObj=u.args.tooltipObj)}c=u.trigger||c,l=u.args||{}}if(d={args:l,func:u.func},l._source&&(u.target="window"===l._source?window:document),u.target)d.id=e.path,u._func&&(l._func=u._func),cf.pageListen({source:u.target,trigger:c,priority:l.priority||1,xdoArgs:d});else{if(!l.xds||l.bindNoPerm||l.renderNoPerm||l.xds&&void 0!==e._perm.xdii[l.xds])if(u._func&&(l._func=u._func),"onload"===c)d.obj=e,"function"==typeof l.func?y.push(l.func):y.push(d);else{if("function"==typeof l.func&&(d.func=l.func),a=h,r=!1,l._delegate){if(this.s.paging?(i=(n=this.s.paging.resolve()).build,o=n.id()):(i=this,o=o.split("-")[0]),a=i.uuid,l.trigger=c,d={args:{target:s,args:d},func:cf.delegateHandler},v=e.cssPath.split("-")[0],l.__delegated=v,l.__delegatedPath=e.cssPath,i.delegatedEvents&&i.delegatedEvents.length&&i.delegatedEvents.map(function(e){e.__delegatedPath===v&&e.trigger===c&&(r=!0)}),r)continue;i.delegatedEvents.push(l)}void 0!==_[v]||(_[v]={}),_[v][c]||(_[v][c]=!0),(g=(g=(g=b[a]||(b[a]={}))[o]||(g[o]={}))[c]||(g[c]=[])).push(d),this.evcounter++}if(!e.xds._events)for(f in l)l.renderNoPerm||l.bindNoPerm||e.xds.renderNoPerm||"string"!=typeof f||"xds"!==f.substr(0,3)||("string"==typeof(f=l[f])&&"{{"===f.substr(0,2)&&(f=cf.tpl(f,e)),f&&(e.xds._xds&&e.xds._xds.push(f)||(e.xds._xds=[f])));f=l.permaLinkKey||e.get_val("nid"),!l.autoTrigger||cf.links.getnid()!=f||this.s.redraw||this.s.redrawPath||y.push({func:"trigger",args:{eventName:c},obj:e})}}e.xds._events=!0},takeScreenShot:function(e){},transitionScreenshot:function(){var e=0;function t(t){var a="xds-transition-screenshot-"+self.uuid;_$(gbl.page).after('<img class="xds-transition-screenshot" id="'+a+'" style="top:-'+e+'px;" src="'+t+'">'),setTimeout(function(){_$("#"+a).css({opacity:0,filter:"blur(500px)"})}),setTimeout(function(){_$("#"+a).remove()},600)}return window.plugins&&window.plugins.screensize&&window.plugins.screensize.get(function(t){e=t.height/t.scale-cf.window.height()}),function(){cf.layout.isPhone();var e=this.s;this.isPageReload&&!e.redrawPath&&1!==this.uuid&&(cf.screenshot?t(cf.screenshot):this.takeScreenShot(t))}}(),pauseBuild:function(){this._pause=!0},continueBuild:function(){var e=this,t=this.s,a=t.xds;if(cf.is_obj(a)&&(a=cf.search("slices-0-xds-id",a)),e.isPageReload="#"+_$(t.target).attr("id")===gbl.page,e.isPageReload&&(e.info.page=1,document.activeElement&&!t.redrawPath&&(document.activeElement.blur(),_$("#cf-dialog").remove())),cf.is_str(a)){var i=cf.storage(["xds-resources",a,cf.settings.compiled].join("-"),void 0,"localstorage");i&&!t.redraw&&(e.xdsid=a,e.xdii=i,e.loadResources())}if(e.transitionScreenshot&&e.transitionScreenshot(),e.pauseBuild(),void 0===memory.events[e.uuid]&&(memory.events[e.uuid]={}),memory.settings[e.uuid]=t,memory.builds[e.uuid]=e,t.redraw&&e.slice)!t.target||1!==t.target.length&&cf.is_obj(t.target)||cf.is_arr(t.target)||(e.timer=setTimeout(function(){var a=$(t.target),i=a[0];t.target&&cf.memory.clean(a),t.target=$(i),t.target.html(html.loading()),e.target=t.target},loadingTimer),e.target=$(t.target)),e.receive(e.slice),!e.hash&&(e.hash=t.url);else if(t.slice||e.slice)t.slice&&(e.slice=t.slice),e.slice.slices&&e.slice.slices[0]&&(e.slice=e.slice.slices[0]),!e.hash&&(e.hash=t.url),void 0===e.slice.error?e.init(e.slice):e.receive(e.slice);else if(cf.is_obj(t.xds))t.xds.slices&&t.xds.slices[0]&&(t.xds=t.xds.slices[0]),void 0===t.xds.error?e.init(t.xds):e.receive(t.xds),!e.hash&&(e.hash=t.url);else{if(void 0===t.url&&(t.url=cf.gen_url(t)),!1===t.url)throw new Error("xds not defined");e.timer=setTimeout(function(){if(t.target&&(1===t.target.length||!cf.is_obj(t.target))&&!cf.is_arr(t.target)){var a=$(t.target),i=a[0];t.append||t.redrawPath||t.noSpinner||(cf.memory.clean(a),t.target=$(i),t.target.html(html.loading()),e.target=t.target)}},loadingTimer),e.hash||(e.hash=t.url),aggregated[t.url]?aggregated[t.url].push(e):("new"!==t.command&&(aggregated[t.url]=[]),e.get())}},init:function(e){var t,a=this;function i(){a.timing.resources=performance.now()-t;try{a.datainsert.call(a)}catch(e){a.generateTicket({code:log.E_RENDER,name:"xdsbuild.datainsert error",exception:e})}}try{if(this._dead)return;var n=a.s;if(a.xdii,a.resources,cf.is_arr(a.target)&&(a.target=a.target[0]),!a.target&&(a.target=$(n.target),!a.target||0==a.target.length)){var r=cf.get_obj(n.target);r&&(a.target=r.dom())}if(a.target&&a.target.length>0&&"#".concat(a.target[0].id)==cf.gbl.page&&e.xds._lang)for(var o=e.xds._lang.split(","),s=0;s<o.length;s++)if(o[s].length>0){$("html").attr("lang",o[s]);break}if(a.etag=e.uuid,a.version=e.version,a.vnid=n.nid,a.xdsid=n.xds=e.xds.id,e.perm||(e.perm={}),e.data||(e.data={}),e.subPath){for(var d=e.subPath.split("-"),l=d.length,c=e.data,u={nodetype:c.nodetype,nodesubtype:c.nodesubtype,nid:c.nid},f=u,g=0;g<l;g++)g===l-1?u[d[g]]=e.data:(u[d[g]]={},u=u[d[g]]);e.data=f}e.lib&&(a.xdii._xdslib=e.lib),a.cook(e.xds,a.xdsid),a.cookData(e.xds,e.data),void 0!==n.data&&$.extend(!0,e.data,n.data),e.data.uuid=a.uuid,a.nids=[],a.slice=e,a.resource(e.xds,e.xds.id),void 0!==e.xds.include&&(a.includes[e.xds.include]=e.xds,a.resource(e.xds,e.xds.include)),e.xds._import&&a.module(e.xds._import),cf.links.queryParams(n.url||" ").xds||e.xds.id,!a.isPageReload||n.redrawPath||n.redraw||(!1!==n.changeUrl&&a.updateURL(),_$(gbl.page).trigger("xds-page-load"),delete cf.picker.active,cf.notif.clean(),cf.gbl.nid=(n.nid+"").split("/").pop()),t=performance.now(),n.redraw?setTimeout(i,0):a.loadResources(i)}catch(e){a.generateTicket({code:log.E_RENDER,name:"xdsbuild.init error",exception:e})}},updateURL:function(){var e=this.s,t=e.xds,a=e.nid||"",i=cf.links.getcontroller(),n=cf.tpl(cf.gbl.loadPageController,{controller:i,xds:t,nid:a}),r={},o={_t:!0,noCache:!0,xds:!0,nid:!0,_context:!0,_bounce:!0,_isLoadUrl:!0};for(var s in e)o[s]||(r[s]=e[s]);var d=r.command;Object.keys(r).length&&(r.command=n,n=cf.gen_url(r),d&&"node"!==d&&"open_node"!==d&&(n+="&command="+d),n.indexOf("?")===n.length-1&&(n=n.substr(0,n.length-1))),cf.links.getnid()&&(n+="#/"+cf.links.getnid()),cf.get("lightbox").none(),cf.history.replaceState(n)},displayError:function(e){if(clearTimeout(this.timer),this.done(),!this.isPageReload||this.s&&this.s._bounce)e.target=this.target;else if(cf.log.E_BLANKRESPONSE!==e.code){if(cf.history.active.stack[cf.history.active.index]&&cf.history.active.stack[cf.history.active.index].url===this.s.stackUrl&&(cf.history.active.index--,cf.history.active.index>0))return void cf.history.active.loadLatest();if(cf.history.stacks.default.activate(),cf.xdsbuild({_bounce:!0,xds:gbl.user.base,target:gbl.page,pre_func:e.pre_func,func:e.func,nid:gbl.user.nid}),7==gbl.user.nodesubtype&&100===e.category)return void(gbl.routing=this.s)}this.isPageReload&&delete e.target;var t=!0;this.s&&this.s._isLoadUrl?e._isLoad=!0:this.s&&this.s._bounce&&(t=!1),this.s&&this.s._isUserChanged&&(t=!1),t&&cf.errors.displayError(e)},generateTicket:function(e){this.removeFromDB(),e.build=this;var t=cf.log.error(e);return this.handleTicket(t)},handleTicket:function(e){this.displayError({ticket:e,code:e&&e.code||200})},handleResponseError:function(e){var t=cf.errors.handleResponseError(e);this.displayError(t)},parseResponse:function(e,t){var a,i;if(t&&(i="HTTP Status: "+(a=void 0===t.status?200:t.status)+" "+(t.statusText||"")+"\n"),i=i||"",cf.is_str(e)&&"{"===e.substr(0,1))try{e=JSON.parse(cf.sanitize(e))}catch(n){return void this.generateTicket({module:"net:json",code:a?log.E_RESPONSE:log.E_JSON,name:"build.receive JSON.parse error",aux:i+e,exception:n})}else if(!cf.is_obj(e)){try{if(0===t.status){var n=new Error("build.receive blank response");this.generateTicket({module:"net",code:log.E_BLANKRESPONSE,name:"build.receive blank response",message:cf.lang("There was a network connection error. Edsby was unable to contact the server."),aux:e||"NONE",exception:n})}else{var r=new Error("build.receive non-JSON response");this.generateTicket({module:"net",code:log.E_RESPONSE,name:"build.receive non-JSON response",message:i,aux:e||"NONE",noServerLog:[403].includes(a),exception:r})}}catch(n){}return}if(cf.is_obj(e)){if(void 0!==e.error||200!=a&&void 0!==a)return void 0===e.error&&(e.error=a),void this.handleResponseError(e);if(e.slices&&0===e.slices.length)return void this.generateTicket({code:log.E_RESPONSE,name:"No slices and no errors in response. No XDS supplied. ",aux:e||"NONE"})}return e},receive:function(e,t){this.target;var a,i,n,r=this.s;if(this._dead)log.log("Dead build not drawn after request received.");else if(void 0!==(e=this.parseResponse(e,t))){try{var o=performance.now();if(!performance.lowRes&&(this.timing.jsonParse=performance.now()-o),void 0!==e.slices){if(i=e.slices,(n=e.slices.length)>1||cf.is_arr(r.target)){if(r.combine){for(var s=[];n--;)if(i[n].error){var d=i[n];s.push(d.error+" "+(d.errorstr||"")+" "+(d.nid||""))}return void this.generateTicket({code:log.E_MULTINODE,name:"build.receive multinode request has mulitple slices - 1 expected.",aux:s.join("\n")})}if(n!==r.target.length)return void this.generateTicket({code:log.E_RENDER,name:"build.receive mismatched number of targets to slices."});clearTimeout(this.timer);for(var l=0;l<n;l++){var c=cf.extend({},r);c.xds={slices:[i[l]],unid:e.unid},i[l].xds=cf.proxy(i[0].xds),c.target=r.target[l],cf.xdsbuild(c,this._overide)}return}if(a=i[0],e.compiled&&!cf.settings.dev&&e.compiled-cf.settings.compiled>100&&this.isPageReload&&cf.notif.codeChanged(e.compiled),e.unid!==gbl.user.nid&&!r.redraw)return void cf.notif.nodetag.fire(!0,!0,"unidchanged")}else a=e;a&&(a.unid=e.unid)}catch(e){return void this.generateTicket({code:log.E_RESPONSE,name:"xdsbuild.receive error parsing response.",exception:e})}if(a&&!a.error)return this.init(a);this.handleResponseError(a)}},resourcesLoaded:function(e){if(!this._dead){var t=this.waiting;for(var a in e.resources)delete t.resources[a];for(var i in e.modules)delete t.modules[i];for(var n in t.resources)if(t.resources[n])return;for(var r in t.modules)if(t.modules[r])return;delete cf.resources.waitingBuilds[this.uuid],t.cb(),delete t.cb}},loadResources:function(e){var t=this,a=t.xdii,i=cf.settings.resources,n=cf.settings.modules,r=cf.resources.resources,o=cf.resources.modules,s=cf.resources.waitingResources,d=cf.resources.waitingModules;cf.settings.compiled&&cf.storage(["xds-resources",t.xdsid,cf.settings.compiled].join("-"),t.xdii,"localstorage");var l={resources:{},modules:{},cb:function(){var r=0,o=50,s=a.resources,d=cf.settings.resourceTimeout||5e3;!function l(){var c=!0;for(var u in s){if(1&i[u]&&!cf.get(u))return c=!1,void(++r*o<d?setTimeout(l,o):t.generateTicket({code:log.E_RESOURCE,name:"Resource Failed To Load",message:u+" failed to load"}));if(cf.get(u)instanceof cf.ticket)return void t.handleTicket(cf.get(u))}for(var f in a.modules){if(1&n[f]&&!cf.get(f))return c=!1,void(++r*o<d?setTimeout(l,o):t.generateTicket({code:log.E_RESOURCE,name:"Module Failed To Load",message:f+" failed to load"}));if(cf.get(f)instanceof cf.ticket)return void t.handleTicket(cf.get(f))}if(a.eval){var g="xdsrez-".concat(t.s.xds);if(!cf.get(g))return c=!1,r++,cf.log.debug("xdsbuild.loadResources: not passed (".concat(g)),void(r*o<d?setTimeout(l,o):t.generateTicket({code:log.E_RESOURCE,name:"Evals Failed To Load",message:g+" failed to load"}));if(cf.get(g)instanceof cf.ticket)return void t.handleTicket(cf.get(g))}c&&e&&e()}()}},c={olib:a.olib,oresources:a.oresources,omodules:a.omodules,lib:a.lib,modules:{},resources:{}};if(t.noEvals&&(a.eval=!1),a.eval)if(a._xdslib&&t.slice){var u=t.slice.nid,f=[t.slice.data.nodetype,t.slice.data.nodesubtype].join("."),g=t.caller();if(c.eval=t.xdsid,0==u&&g||f!=cf.nt.Container.Application()&&g){for(;g&&g.nt()!=cf.nt.Container.Application();){var p=g.root_xdo();g=p&&p.nt()==cf.nt.Container.Application()?p:p&&p.caller()?p.caller():g.caller()}g&&g.nt()==cf.nt.Container.Application()?(u=g.nid(),c.eval=[u,t.xdsid].join("/")):c.eval=t.xdsid}else f==cf.nt.Container.Application()&&(c.eval=[u,t.xdsid].join("/"))}else c.eval=t.xdsid;for(var h in a.resources)c.resources[h]=0,t.noJS||!(1&i[h])||1&r[h]&&!t.isPageReload||(1&s[h]||(c.resources[h]|=1),l.resources[h]|=1),t.noCSS||!(2&i[h])||2&r[h]&&!t.isPageReload||(2&s[h]||(c.resources[h]|=2),l.resources[h]|=2),0===c.resources[h]&&delete c.resources[h];for(var m in a.modules)c.modules[m]=0,t.noJS||!(1&n[m])||1&o[m]&&(4&o[m]||!t.isPageReload)||(1&d[m]||(c.modules[m]|=1),l.modules[m]|=1),t.noCSS||!(2&n[m])||2&o[m]&&(4&o[m]||!t.isPageReload)||(2&d[m]||(c.modules[m]|=2),l.modules[m]|=2),0===c.modules[m]&&delete c.modules[m];0===Object.keys(c.modules).length&&(c.omodules=[]),0===Object.keys(c.resources).length&&(c.oresources=[]),t.waiting=l,cf.resources.waitingBuilds[t.uuid]=t;var v=cf.resources.loadXDSresources(c);t.requestedResources||(t.requestedResources=v)},hasevals:function(){return this.xdii.eval},eval:function(){this.xdii.eval||(this.xdii.eval=!0)},module:function module(_module){var self=this,rsrc,len,i=-1,r,file,availableModules=cf.settings.modules,resources=self.resources,modules=self.modules,path,xdii=self.xdii,cond;if(null!=_module)for(rsrc=_module.split(","),len=rsrc.length-1;i++<len;){if(r=rsrc[i],-1!==r.indexOf(":")){r=r.split(":"),cond=r[1],r=r[0];try{if(!eval("[function(self){return "+cond+";}][0]")(self))continue}catch(e){return void self.generateTicket({name:"Module eval test fail",code:log.E_RENDER,exception:e})}}r=r.split(" as "),cf.aliasModule(r[0],r[1]||r[0]),void 0===xdii.modules[r[0]]&&xdii.omodules.push(r[0]),xdii.modules[r[0]]=3}},resource:function(e,t){"string"==typeof e&&(t=e,e={});var a,i,n,r,o=-1,s=this.xdii,d=function(e,t){void 0===s.resources[e]&&e&&s.oresources.push(e),s.resources[e]=0,t||(s.resources[e]=3),t&&(s.resources[e]|="css"===t?2:1)};if(null!=e._resources)for(i=(a=e._resources.split(",")).length-1;o++<i;)n=a[o],-1!==(r=cf.tpl(n)).indexOf("/")?this.noJS&&-1!==r.indeOf(".js")||this.noCSS&&-1!==r.indexOf(".css")||(cf.settings.dev||-1===r.indexOf(gbl.rsrc)||(r=r.replace(".js",".min.js").replace(".css",".min.css")),this.resources.push(r),s.lib[r]=1,-1===cf.in_array(r,s.olib)&&s.olib.push(r)):d((n=n.split("."))[0],n[1]);d(t),"string"==typeof e.proxyCSS&&d(e.proxyCSS.split("-")[0])},get_version:function(){return this.version},set_version:function(e){return this.version=e,this},get_requestNid:function(){return this.vnid}},cf.build=Build.prototype}(cf),function(e,t,a,i,n){a.gbl,a.html,a.css,a.extend.fn({loadThread:function(e,t){var i=$(e.args.source);e.args||(e.args={}),delete e.args.source,!e.args.thread&&i.xdo&&(e.args.thread=i.xdo.get_val("thread"),e.args.thread||(e.args.thread=i.xdo.nid())),e.args.thread&&(e.args.noPath=!0,e.args.animate=!1,a.fn.loadxds(e))},putBagField:function(e,t){var i=e.args.name||e.name();a.post({url:{command:"putfield",nid:e.get_val("nid"),xds:e.args.xds||e.xds_full.id},xdo:e,data:{field:i,value:e.args.value,rid:e.get_arg("rid")||e.rid()}}).then(function(){e.trigger("posted"),e.trigger("xds-putBagField-".concat(i,"-posted"))}).catch(function(){e.trigger("xds-putBagField-".concat(i,"-error"))})}});var r={"status-complete":!1,"status-active":!1,dropdown:!1,"dropdown-hover":!1,"activeform-pointer":!1,"message-reply":!1,"status-reply":!1,pageprev:!1,pagenext:!1,pagefirst:!1,pagelast:!1,view:!1,"arrow-up":!1,"arrow-right":!1,"arrow-up-hover":!1,print:!1,lock:!1,members:!1,posts:!1,closed:!1,prohibited:!1,star:!1,invisible:!1,unlock:!1,"success-arrow":!1,note:{icon:"note",fa_class:"fas",css:{color:"#fc0"}},lesson:{icon:"chalkboard-teacher",fa_class:"fas",css:{color:"#70479b"}},assignment:{icon:"graduation-cap",fa_class:"fas",css:{color:"#054467"}},homework:!1,event:{icon:"calendar-alt",fa_class:"fas",css:{color:"#73b744"}},download:!1,trashcan:!1,"attach-file":!1,search:!1,popout:!1,"popout-hover":!1,"search-hover":!1,"close-hover":!1,close:!1,alert:{icon:"exclamation-triangle",css:{color:"orange"}},"alert-1":!1,"alert-2":!1,"alert-3":!1,"alert-4":!1,discipline:!1,"less-than":!1,"greater-than":!1,approved:!1,rejected:!1,moveup:!1,"moveup-hover":!1,movedown:!1,"movedown-hover":!1,indent:!1,"indent-hover":!1,outdent:!1,"outdent-hover":!1,gear:{icon:"cog",fa_class:"fas",css:{"font-size":"inherit"}},settings:{icon:"cog",fa_class:"fas",css:{"font-size":"inherit"}},undo:!1,"turny-down":!1,"turny-right":!1,"turny-left":!1,"turny-up":!1,pin:!1,"layout-grid":!1,"layout-list":!1,"layout-roster":!1,poll:{icon:"chart-bar",fa_class:"fas",css:{color:"#f69126"}},like:{icon:"thumbs-up",css:{"vertical-align":"initial"}},unlike:{icon:"thumbs-up",fa_class:"fad",css:{"vertical-align":"initial"}},"layout-slideshow":!1,grid:!1,clock:!1,active:!1,"small-tag":!1,"forms-checkbox-unchecked":{icon:"square",css:{"vertical-align":"initial"}},"forms-checkbox-checked":{icon:"check-square",css:{"vertical-align":"initial"}},"forms-checkbox-default":{icon:"minus-square",css:{"vertical-align":"initial"}},"forms-calendar":!1,"forms-remove":{icon:"trash-alt",fa_class:"fal"},"forms-remove-hover":{css:{color:"var(--ui-link-foreground-colour)/*accentColour*/"}},"forms-remove-small":!1,"forms-remove-small-hover":!1,"forms-slider":!1,"forms-slider-hover":!1,"forms-clock":!1,"forms-radio-unchecked":"circle","forms-radio-checked":{icon:"dot-circle",fa_class:"fas",css:{color:"var(--ui-link-foreground-colour)/*accentColour*/"}},"arrow-large-left":!1,"arrow-large-right":!1,"arrow-blue-large-left":!1,"arrow-blue-large-right":!1,tag:!1,mailbox:!1,"mailbox-hover":!1,message:!1,"message-hover":!1,calendar:!1,"calendar-hover":!1,"arrow-outline-large-left":!1,"arrow-outline-large-right":!1,"attendance-danger":!1,"attendance-warn":!1,play:!1,"round-arrow-button-left":!1,"round-arrow-button-left-disabled":!1,"round-arrow-button-right":!1,"round-arrow-button-right-disabled":!1,"arrow-tall-left":!1,"help-disabled":!1,help:{icon:"question-circle",fa_class:"fas"},"help-hover":!1,"workflow-approval":!1,"workflow-group":!1,"workflow-general":!1,"workflow-cal":!1},o={4.6:"note",4.7:"note",4.14:"lesson",6.2:"event",6.3:"assignment",6.48:"poll",6.72:"asssignment"};a.extend.type({sprite:function(e){e.tag("p")},icon:function(e){var t=(e.icon?e.icon:e.arg("icon"))||o[e.arg("nt")||e.nt()],i=a.css.sprite,n=void 0!==t?a.gbl.sys.icons[t]:void 0,s={};if(void 0!==n&&(n.height=n.height||n.width,void 0!==n.file&&(s.background="url('"+a.gbl.images+n.file+"') "),s["background-position"]=-1*n.x+"px "+-1*n.y+"px",s.width=n.width+"px",s.height=n.height+"px"),e.addClass("xds-icon-icon-"+t),!r[t]||e.arg("legacy")||e.global("iconForceSprites"))if(a.settings.dev,e.arg("title")&&!1!==e.showTitle||e.arg("wrapIcon")){for(var d in u="",s)u+=d+":"+s[d]+"; ";var l=e.arg("link")?{href:a.tpl(e.arg("link"),e.get_val())}:{};e.showTitle=!1,e.posttag(a.html.div("",a.css.sprite,{style:u})+a.html.a(e.arg("title"),"",l)),e.arg("link",!1),e.addClass("xds-icon-hastitle")}else e.tag("div").addClass(i),e.addStyle(s),e.sparse=!0;else{e.arg("displayVal","");var c=r[t],u=!1,f=!1;"object"==_typeof(c)?(t=c.icon,c.css&&(u=c.css),c.fa_class&&(f=c.fa_class)):t=c,e.arg("fa_class")&&(f=e.arg("fa_class"));var g={xds:{id:"icon_"+t.replace(/-/g,"_"),sparse:1,type:"span",fields:[{id:"icon",sparse:!0,type:"fa.glyph",icon:t}]}};if(f&&(g.xds.fields[0].fa_class=f),u||(u={}),!u["font-size"]&&n&&(u["font-size"]=n.height+"px"),u["vertical-align"]||(u["vertical-align"]="middle"),e.xds._styles&&e.xds._styles[0]&&e.xds._styles[0].styles){var p=e.xds._styles[0].styles;for(var s in p)"display"!=s&&(u[s]=p[s])}g.xds.fields[0]._styles=[{styles:u}],(e.arg("title")&&!1!==e.showTitle||e.arg("wrapIcon"))&&(e.showTitle=!1,g.xds.fields.push({id:"title",type:"a"}),g.data={title:e.arg("title")}),e.sparse=1,e.addChild(g).tag("span")}},f_simpleFile:function(e){a.log.warn("Deprecation Warning: f_simpleFile will be deprecated in the future."),e.inherit("f_file")},multistate:function(e,t){if(e.rnode.tree)e.addClass("hidden");else{var i=!1;if(e.xds.titles)try{var n=e.xds.titles;"string"==typeof e.xds.titles&&(n=JSON.parse(e.xds.titles)),i=n[e.get_val()||0]}catch(e){}var r=function(e,t){return t>0?e+"-selected-"+t:e+"-default"},o=function(e){return r(e.xds.base,e.get_val())},s=e;s.xds.readonly?e.addClass(a.css.sprite):e.addClass(a.css.sprite).on("click",function(t,i){var n=s.get_val()||0;n=++n%s.xds.states,s.set_val(n);for(var d=0;d<s.xds.states;d++)i.removeClass(r(s.xds.base,d));if(i.addClass(o(s)),s.xds.xds&&(e.find(".stateform").html(""),a.fn.loadxds({args:{xds:s.xds.xds,target:e.find(".stateform"),nid:e.rnode.nid,append:!0,pre_func:function(e,t){e.slice.data.form={state:n}},func:function(e,t){a.fn.ajax_post(i,i.find("form"))}}})),s.xds.toggle){var l=a.get_func(s.xds.toggle);l&&l(s,i)}}),i&&e.addAttr({title:i}),e.addClass(o(e)),e.preclosetag('<div class="stateform hidden"></div>')}},percent:function(e){var t=e.arg("sigfigs")||0;t&&(t=":"+t),e.displayVal=a.displayVal.percent(e,"percent"+t),e.tag("p")},threadTree:function(e){var t=function(){var t=e.arg("search")||"threadTreeItem";for(var a in e.xds.fields)if(e.xds.fields[a].type===t)return e.xds.fields[a].id}(),i=e.data[t];for(var n in i)i.hasOwnProperty(n)&&a.is_obj(i[n])&&(null==i[n].thread||""+i[n].thread==""+e.node.nid||""+i[n].thread==""+i[n].nid?(i[n].sortthread=parseFloat(i[n].nid+".0"),i[n].thread=""+i[n].nid):i[n].sortthread=parseFloat(i[n].thread+".1"));for(var r=e.get_val("nid"),o={},s=[],d=a.sort({sort:"sortthread",forceKey:!0},i),l=d.length,c=(n=0,function(e){var a=o[e.toString()];a=a.split("-");for(var i=s,n=a.length,r=0;r<n;)i=i[a[r]][t],r++;return i}),u={},f={},g=[];n<l;){var p={};e.arg("rootType")&&e.arg("rootType")==d[n].nodetype+"."+d[n].nodesubtype||""+d[n].thread==""+d[n].nid?(d[n].thread=d[n].nid,g.push(d[n].nid),u[d[n].nid]=d[n]):(f[d[n].thread]?f[d[n].thread].push(d[n].nid):f[d[n].thread]=[d[n].nid],u[d[n].nid]=d[n]),n++}d=[];var h=function e(t){d.push(u[t]);var a=f[t];if(a)for(var i=0;i<a.length;i++)e(a[i])};for(n=0;n<g.length;n++)h(g[n]);for(n=0,l=d.length,s=[];n<l;)if(p={},null!=d[n]){if(d[n].thread===r&&(d[n].thread=d[n].nid),p[t]=[d[n]],!p.rid&&d[n].rid&&(p.rid=d[n].rid,p.nid=d[n].nid,p.thread=d[n].thread,p.pnid=e.nid(),p.fraction=d[n].fraction,p.fraction)){var m=p.fraction.split("/");p.calculatedfraction=parseInt(m[0])/parseInt(m[1])}if(d[n].thread!==d[n].nid&&d[n].thread in o){if(void 0!==d[n].thread){var v=c(d[n].thread);v.push(p),o[d[n].nid]=o[d[n].thread.toString()]+"-"+(v.length-1)}}else s.push(p),o[d[n].thread]=(s.length-1).toString();n+=1}else n++;e.xds.fields[t].fields[t]=e.xds.fields[t];var b,_=e.get_children();for(l=_.length;l--;)if(_[l].id===t){b=_[l];break}b&&b._children.push(e.xds.fields[t]),e.data.tree=s,e.xds.treeFunc&&a.get_func(e.xds.treeFunc)(e),e.ready(function(t,i){e.bind("treeChanged",function(t,a){$(".xds-threadTree .ui-droppable").remove(),$(".xds-threadTree .ui-draggable").remove(),e.trigger("newTreeContentAvailable")}),a.is_str(e.xds.readyFunc)&&a.is_func(a.get_func(e.xds.readyFunc))&&a.get_func(e.xds.readyFunc)(e,i)})},threadTreeItem:function(e){var t=a.get("organizer"),i=0;if(void 0!==e.data&&void 0!==e.data.tree?("sort.treefractional"==e.xds.sort&&(e.data.tree=a.sort.treefractional(e.data.tree)),e.addClass("threadTreeItem"),e.data.tree.length>1&&e.addClass("threadTreeItem-has-children"),i=0):void 0!==e.data?(e.addClass("threadTreeItemTree"),i=1):(e.addClass("threadTreeItemNoData"),i=2),e.tagNodetype(),e.xds.droppable&&0==i){var n=e.xds.droppable.split(","),r=!1;for(var o in n)"after"==n[o]?r=!0:n[o];r&&e.preclosetag(a.html.div("","dropAfterTarget")),e.addClass("droptarget")}e.xds.selectable&&e.posttag("<span class='xds-sprite "+e.cssPath+"-ticker xds-threadTreeItem-selectionTicker'></span>"),e.preclosetag("<div class='formcontainer' style='display:none;'></div>"),0!=e.get_perm(e.arg("sortupdater"))&&e.ready(function(e,n){if($(n.find(".dropInTarget")).bind("click",function(e){e.stopPropagation(),e.preventDefault()}),$(n.find(".dropAfterTarget")).bind("click",function(e){e.stopPropagation(),e.preventDefault()}),e.xds.selectable&&void 0!==e.data&&null==e.data.tree&&e.bind("click",function(t,a){$(".xds-threadTreeItem-selected").removeClass("xds-threadTreeItem-selected"),e.id(1).addClass("xds-threadTreeItem-selected"),e.trigger("threadTreeItemSelected"),t.stopPropagation()}),e.xds.droppable){var r=$(n.find(".dropInTarget")[0]);r.next(".thread").after(r)}if(e.xds.draggable&&0==i){var o="this";o=e.get_target(o),$("#"+e.path).draggable({revert:"invalid",helper:"clone",handle:".handle",snap:!1,snapMode:"inner",start:function(e,t){$(this).addClass("hidden")},stop:function(e,t){$(this).removeClass("hidden")}})}if(e.xds.droppable&&0==i){var s=e.xds.droppable.split(",");for(var d in s)"after"==s[d]?$("#"+e.path+" .dropAfterTarget").droppable({tolerance:"touch",accept:function(t){var i=$(this),n=$(this).parent(),r=a.get_obj(t),o=a.get_obj(n);if(e.xds.isdroppable){var s=a.get_func(e.xds.isdroppable);return s&&s($(t),$(i.parent()),r,o)}return!0},activate:function(t,a){for(var i=$("#"+e.path+" .dropAfterTarget"),n=0;n<i.length;n++)i[n].parentNode.id===e.path&&(i[n].className+=" dragactive")},over:function(t,a){$("#"+e.path+" .dropAfterTarget").addClass("dragover")},out:function(t,a){$("#"+e.path+" .dropAfterTarget").removeClass("dragover")},deactivate:function(t,a){$("#"+e.path+" .dropAfterTarget").removeClass("dragover"),$("#"+e.path+" .dropAfterTarget").removeClass("dragactive")},drop:function(i,n){var r=n.draggable[0],o=$(this).parent(),s=a.get_obj(n.draggable),d=a.get_obj(o),l=!1;return e.xds.handledrop?l=a.get_func(e.xds.handledrop):e.xds.sort&&(l=t.getHandler(e.xds.sort)),!!l&&(i.stopPropagation(),l&&l(s,d,r,o))}}):"inside"==s[d]&&$("#"+e.path+" .dropInTarget").length>=1&&$($("#"+e.path+" .dropInTarget")[1]).droppable({tolerance:"touch",accept:function(t){var i=$(this),n=($(this).hasClass("dropInTarget"),$(this).parent()),r=a.get_obj(t),o=a.get_obj(n);if(e.xds.isdroppable){var s=a.get_func(e.xds.isdroppable);return s&&s($(t),$(i.parent()),r,o,"inside")}return!0},activate:function(t,a){for(var i=$("#"+e.path+" .dropInTarget"),n=0;n<i.length;n++)i[n].className+=" dragactive"},over:function(t,a){$($("#"+e.path+" .dropInTarget")[1]).addClass("dragover")},out:function(t,a){$($("#"+e.path+" .dropInTarget")[1]).removeClass("dragover")},deactivate:function(t,a){$($("#"+e.path+" .dropInTarget")[1]).removeClass("dragover"),$($("#"+e.path+" .dropInTarget")[1]).removeClass("dragactive")},drop:function(i,n){var r=n.draggable[0],o=$(this).hasClass("dropInTarget"),s=$(this).parent(),d=a.get_obj(n.draggable),l=a.get_obj(s),c=!1;return e.xds.handledrop?c=a.get_func(e.xds.handledrop):e.xds.sort&&(c=t.getHandler(e.xds.sort)),!!c&&(i.stopPropagation(),c&&c(d,l,r,s,o))}});e.addClass("droptarget")}})},wait:function(e){e.tag("h2").ready(function(t,i){var n,r=!1;i.parents(a.$css.lightbox).length?(n=i.parents(a.$css.lightbox),r=!0):n=e.id(1).parent();var o=n.outerHeight();e.id(1).css({top:r?-10:0,width:n.outerWidth(),height:o,"line-height":o-32+"px"})})},libraryItemViewer:function(e){e.ready(function(){e.args.xds="fileViewer",e.args.target="children:fileViewer",e.args.pageNid=e.get_setting("pageNid"),a.fn.loadxds(e)})}})}(window,document,cf,cf.fn),function(e,t,a){a.gbl,a.html,a.css,$.extend(a,{elapsedDateFormat:function(e,t){var i,n,r,o,s=Math.round((e.getTime()-(new Date).getTime())/1e3),d=s>0;return(s=Math.abs(s))>=604800?(r="week",o="w",n=s/604800):s>=86400?(r="day",o="d",n=s/86400):s>=3600?(r="hour",o="h",n=s/3600):s>=60?(r="minute",o="m",n=s/60):s>1?(r="second",o="s",n=s):(r="now",o="now",n=null),null!=n&&1!==(n=Math.round(n))&&(r+="s"),r=a.lang(r),o=a.lang(o),i=d?1:null!==n?0:2,a.tpl(a.lang(t[i]),{num:null!=n?n:"",period:r,shortperiod:a.lang(o,void 0,"Short elapsed time suffix")})},numsuffix:function(){var e;return function(t){var i,n;if(isNaN(t=parseInt(t,10)))return"";for(function(){var t,i,n,r;if(!e)for(e=[],t=a.lang("%100==11,th;%100==12,th;%100==13,th;%10==1,st;%10==2,nd;%10==3,rd;th",void 0,'Ordinal suffix rules.  Rules are separated by semi-colon (";").  Each rule is of the form "%number==value,suffix", where % indicates the remainder operator.  Example: "%100=11,th" => if remainder when divided by 100 equals 11 use suffix "th":  11->11th.  Rules are processed in order until a match is found.').split(";"),r=0;r<t.length;r++)n={suffix:(i=t[r].split(",")).pop()},i.length&&(i=i[0].split("=="),n.value=parseInt(i.pop(),10),i.length&&"%"===i[0].charAt(0)&&(n.modulus=parseInt(i[0].substr(1),10)||1)),e.push(n)}(),i=0;i<e.length;i++)if((n=e[i]).modulus){if(t%n.modulus===n.value)return n.suffix}else{if(!n.value)return n.suffix;if(t===n.value)return n.suffix}return""}}(),dateFormat:function(){var e,t,i,n,r,o,s,d,l;function c(){e||(e=[a.lang("January"),a.lang("February"),a.lang("March"),a.lang("April"),a.lang("May"),a.lang("June"),a.lang("July"),a.lang("August"),a.lang("September"),a.lang("October"),a.lang("November"),a.lang("December")],t=[a.lang("Jan"),a.lang("Feb"),a.lang("Mar"),a.lang("Apr"),a.lang("May"),a.lang("Jun"),a.lang("Jul"),a.lang("Aug"),a.lang("Sep"),a.lang("Oct"),a.lang("Nov"),a.lang("Dec")],i=[a.lang("Sunday"),a.lang("Monday"),a.lang("Tuesday"),a.lang("Wednesday"),a.lang("Thursday"),a.lang("Friday"),a.lang("Saturday")],n=[a.lang("Sun"),a.lang("Mon"),a.lang("Tue"),a.lang("Wed"),a.lang("Thu"),a.lang("Fri"),a.lang("Sat")],r=[a.lang("a",void 0,"meridian indicator short"),a.lang("p",void 0,"meridian indicator short")],o=[a.lang("am",void 0,"meridian indicator"),a.lang("pm",void 0,"meridian indicator")])}function u(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}return(l=function(s,d,l,f){var g,p,h,m,v,b,_=!1;if(c(),!1===(g=a.parseDate(s))&&(g=a.parseTime(s))&&(_=!0),!1!==g&&void 0!==g){switch((h=_?{wday:0,day:0,month:0,year:0,hours:g[0],minutes:g[1],seconds:g[2]}:f?{wday:g.getUTCDay(),day:g.getUTCDate(),month:g.getUTCMonth(),year:g.getUTCFullYear(),seconds:g.getUTCSeconds(),minutes:g.getUTCMinutes(),hours:g.getUTCHours()}:{wday:g.getDay(),day:g.getDate(),month:g.getMonth(),year:g.getFullYear(),seconds:g.getSeconds(),minutes:g.getMinutes(),hours:g.getHours()}).hours12=h.hours>12?h.hours-12:0===h.hours?12:h.hours,h.ampm=h.hours>=12?1:0,d){case"elapsed":d=a.elapsedDateFormat(g,[a.lang("{{num}} {{period}} ago",void 0,"Elapsed time in the past (ago)"),a.lang("{{num}} {{period}} from now",void 0,"Elapsed time in the future (ahead)"),a.lang("{{period}}",void 0,"Elapsed time right now (now)")]);break;case"shortelapsed":d=a.elapsedDateFormat(g,[a.lang("{{num}}{{shortperiod}}",void 0,"Short elapsed time in the past (ago)"),a.lang("in {{num}}{{shortperiod}}",void 0,"Short elapsed time in the future (ahead)"),a.lang("{{shortperiod}}",void 0,"Short elapsed time right now (now)")]);break;case"obj":case"object":return g;case"timestamp":return _?(p=36e5*g[0]+6e4*g[1]+1e3*g[2],g.length>3&&(p+=g[3]),g.length>4&&(p+=(g[4]<0?-1:1)*(36e5*Math.floor(Math.abs(g[4])/100)+Math.abs(g[4])%100*6e4)),p/1e3):g instanceof Date?g.getTime()/1e3:void 0;case"u":case"iso":if(!_){d=u(g.getUTCFullYear(),4)+"-"+u(g.getUTCMonth()+1,2)+"-"+u(g.getUTCDate(),2)+("iso"===d?"T":" ")+u(g.getUTCHours(),2)+":"+u(g.getUTCMinutes(),2)+":"+u(g.getUTCSeconds(),2)+("iso"===d?"Z":"");break}case"isotime":d=_?u(h.hours,2)+":"+u(h.minutes,2)+":"+u(h.seconds,2):u(g.getUTCHours(),2)+":"+u(g.getUTCMinutes(),2)+":"+u(g.getUTCSeconds(),2)+"Z";break;case"Y-M-D":d=u(h.year,4)+"-"+u(h.month+1,2)+"-"+u(h.day,2);break;case"M D, Y":d=t[h.month]+" "+h.day+a.numsuffix(h.day)+", "+h.year;break;case"MM D, Y":d=e[h.month]+" "+h.day+a.numsuffix(h.day)+", "+h.year;break;case"":case void 0:d=n[h.wday]+" "+e[h.month]+" "+h.day+" "+h.year;break;case"long":d=i[h.wday]+", "+e[h.month]+" "+h.day+", "+h.year;break;case"longNoYear":d=i[h.wday]+", "+e[h.month]+" "+h.day;break;default:for(p="",m=null,v=0;v<d.length;)if(b=d.charAt(v),null!==m)b===m?(m=null,++v):"\\"===b?++v<d.length&&(p+=d.charAt(v++)):(p+=b,++v);else switch(b){case'"':case"'":m=b,++v;break;case"d":"dddd"===d.substr(v,4)?(p+=i[h.wday],v+=4):"ddd"===d.substr(v,3)?(p+=n[h.wday],v+=3):"dd"===d.substr(v,2)?(p+=u(h.day,2),v+=2):(p+=h.day,++v);break;case"S":p+=a.numsuffix(h.day),++v;break;case"w":p+=h.wday,++v;break;case"m":"mmmm"===d.substr(v,4)?(p+=e[h.month],v+=4):"mmm"===d.substr(v,3)?(p+=t[h.month],v+=3):"mm"===d.substr(v,2)?(p+=u(h.month+1,2),v+=2):(p+=h.month+1,++v);break;case"y":"yyyy"===d.substr(v,4)?(p+=u(h.year,4),v+=4):"yy"===d.substr(v,2)?(p+=u(h.year%100,2),v+=2):(p+=b,++v);break;case"h":case"H":case"M":case"s":var y;switch(d.charAt(v)){case"h":y=h.hours12;break;case"H":y=h.hours;break;case"M":y=h.minutes;break;case"s":y=h.seconds}v+1<d.length&&d.charAt(v+1)===b?(p+=u(y,2),v+=2):(p+=y,++v);break;case"t":case"T":var x;v+1<d.length&&d.charAt(v+1)===b?(x=o[h.ampm],v+=2):(x=r[h.ampm],++v),p+="t"===b?x:x.toUpperCase();break;case"p":p+=h.ampm,++v;break;case"o":var w=f?0:g.getTimezoneOffset();p+=0===w?"UTC":(w>0?"-":"+")+u(Math.abs(w),4),++v;break;case"e":if("eee"===d.substr(v,3)){var C=[a.lang("{{num}} {{period}} ago",void 0,"Elapsed time in the past (ago)"),a.lang("{{num}} {{period}} from now",void 0,"Elapsed time in the future (ahead)"),a.lang("{{period}}",void 0,"Elapsed time right now (now)")];p+=a.elapsedDateFormat(g,C),v+=3}else p+=b,++v;break;default:p+=b,++v}d=p}return d}return void 0!==l&&l}).getWeekdays=function(e){return c(),e?n:i},l.getMonths=function(a){return c(),a?t:e},l.getMeridian=function(e){return c(),e?r:o},l.getWeekdayArray=function(){var e,t,i;if(s)e=s;else{try{if(null===(t=a.lang("[0,1,1,1,1,1,0]",void 0,"List of weekday/weekend days for the locale (1=weekday, 0=weekend) Sunday -> Saturday").match(/(\[[0-6,]*\])/)))throw"Localised week list: invalid format";for(t=t[1].substring(1,t[1].length-1).split(","),e=[],t.reverse();t.length;){if(i=parseInt(t.pop(),10),isNaN(i))throw"Localised weekday/weekend flag is not a number";e.push(i)}if(7!==e.length)throw"Localised week length is not 7 days"}catch(t){console.error(t),e=[0,1,1,1,1,1,0]}s=e}return e},l.getFirstDayOfWeek=function(){var e;if(void 0!==d)e=d;else{try{var t=a.lang("0",void 0,"First day of week (Sunday=0, Saturday=6)").match(/([0-6])/);if(null===t)throw"Localised first day of week is not an integer between 0 (Sunday) and 6 (Saturday)";e=null!==(t=parseInt(t,10))&&!isNaN(t)&&t>=0&&t<=6?t:0}catch(t){console.error(t),e=0}d=e}return e},l}(),isSameDate:function(e,t){return e=e?a.dateFormat(e,"object"):new Date,t=t?a.dateFormat(t,"object"):new Date,e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameYear:function(e,t){return e=e?a.dateFormat(e,"object"):new Date,t=t?a.dateFormat(t,"object"):new Date,e.getFullYear()===t.getFullYear()},uriEncodeObject:function(e,t){for(var a=[],i=Object.entries(e),n=0;n<i.length;n++){var r=_slicedToArray(i[n],2),o=r[0],s=r[1];t&&!t(s,o,e)||(void 0!==s?a.push([encodeURIComponent(o),encodeURIComponent(s)].join("=")):a.push(encodeURIComponent(o)))}return a.join("&")}}),$.extend(a.sort,{basic:function(e,t,a,i){return"string"==typeof e?e.toUpperCase():e},lastcomponent:function(e,t,a,i){return"string"==typeof e?e.toUpperCase().split(/\s/).pop():e},lookup:function(e,t,i,n){return"object"===_typeof(e=a.lookup(i.sortLookup,e,!0))?e.sort?e.sort:(e.display||e.value||"").toUpperCase():(e||"").toUpperCase()||void 0},date:function(e,t,i,n){var r=a.parseDate(e);return r instanceof Date?r.valueOf():void 0},int:function(e,t,a,i){var n=a&&a.round||1;return 1!==n&&(e=Math.round(e*n)),e=parseInt(e,10),isNaN(e)?void 0:e},number:function(e,t,a,i){return e=parseFloat(e),isNaN(e)?void 0:e},recentdate:function(e,t,i){var n,r=new Date;for(var o in r.setMinutes(0),r.setHours(0),r.setSeconds(0),e){var s;(n=a.parseDate(e[o].date))&&((s=new Date(n.getTime())).setMinutes(0),s.setHours(0),s.setSeconds(0)),n&&s.getTime()>r.getTime()?e[o]._date=n.setTime(0):n||(n=new Date).setTime(0),e[o]._date=n}return e.sort(function(e,t){return t._date.getTime()-e._date.getTime()})},natural:function(e,t,a,i,n){return t[n]=e,function(e,t,a,i){function n(e){for(var t,a,i=[],n=0,r=-1,o=0;t=(a=e.charAt(n++)).charCodeAt(0);){var s=46==t||t>=48&&t<=57;s!==o&&(i[++r]="",o=s),i[r]+=a}return i}for(var r=n(e),o=n(t),s=0;r[s]&&o[s];s++)if(r[s]!==o[s]){var d=Number(r[s]),l=Number(o[s]);return d==r[s]&&l==o[s]?d-l:r[s]>o[s]?1:-1}return r.length-o.length}},standards:function(e,t,a,i,n){return t[n]=e,function(e,t,a,i){function n(e){for(var t,a,i=[],n=0,r=-1,o=0;t=(a=e.charAt(n++)).charCodeAt(0);){var s=t>=48&&t<=57;46!=t?(s!==o&&(i[++r]="",o=s),i[r]+=a):o=0}return i}for(var r=n(e),o=n(t),s=0;r[s]&&o[s];s++)if(r[s]!==o[s]){var d=Number(r[s]),l=Number(o[s]);return d==r[s]&&l==o[s]?d-l:r[s]>o[s]?1:-1}return r.length-o.length}},groupfeed:function(e,t,i){return a.sort.feed(e,t,i)},activityfeed:function(e,t,i){return a.sort.coursefeed(e,t,i)},coursefeed:function(e,t,i){var n=void 0!==t.groupDirection?t.groupDirection>0:i&&i.get_setting("groupDirection")&&i.get_setting("groupDirection")>0,r=(void 0!==t.sortDirection?t.sortDirection:i&&i.get_setting("groupDirection")&&i.get_setting("groupDirection"),{getcmp:function(e){if(e){if(!e._parsedDate){var t=!1,i=e.right;!i&&e.head&&e.head.content&&e.head.content.body&&(i=e.head.content.body),e.body&&(i=e.body),e.itembody&&(i=e.itembody.content.bodycontent),e._nt===a.nt.Message.LessonSummary()&&i&&i.lessonsummary&&i.lessonsummary.journal&&i.lessonsummary.journal.jdate?t=a.parseDate(i.lessonsummary.journal.jdate):e._nt===a.nt.Document.Event()&&i&&i.eventDetails&&i.eventDetails.date&&i.eventDetails.date.date?t=!1:!t&&i&&i.assessment&&i.assessment.sdate?t=!1:!t&&i&&i.assessment&&i.assessment.type&&i.assessment.type.sdate?t=!1:!t&&e.itembody&&e.itembody.content&&e.itembody.content.header&&e.itembody.content.header.details&&e.itembody.content.header.details.date?t=a.parseDate(e.itembody.content.header.details.date):!t&&i&&i.footer&&i.footer.date&&(t=a.parseDate(i.footer.date)),e._parsedDate=t}var n={rid:e.rid,nid:e.nid};return e._parsedDate&&(n.date=e._parsedDate.getTime(),n._parsedDate=e._parsedDate),n}},groupsortfunc:function(e,t){return t.cmp&&e.cmp?t.cmp.date&&e.cmp.date?t.cmp.date-e.cmp.date:(t.cmp.rid||t.list[0].rid)-(e.cmp.rid||e.list[0].rid):t.list[0].rid-e.list[0].rid},cmpCompare:function(e,t){var a=r.getcmp(e);return a.date&&t&&t.date?a.date>t.date:!(a.rid&&t&&t.rid)||a.rid>t.rid},sortfunc:function(e,t){return e._threadhead^t._threadhead?e._threadhead?-1:1:16&e.pin^16&t.pin?16&e.pin?-1:1:e._nt===a.nt.Message.AttendanceIncident()||t._nt===a.nt.Message.AttendanceIncident()?e._nt!==t._nt?e._nt===a.nt.Message.AttendanceIncident()?-1:1:t.rid-e.rid:n?t.rid-e.rid:e.rid-t.rid}});return a.sort.feed(e,t,i,r)},feed:function(e,t,i,n){var r,o,s,d,l,c=void 0!==t.groupDirection?t.groupDirection>0:i&&i.get_setting("groupDirection")&&i.get_setting("groupDirection")>0,u=void 0!==t.sortDirection?t.sortDirection>0:i&&i.get_setting("groupDirection")&&i.get_setting("groupDirection")>0,f=void 0!==t.updateThreads?t.updateThreads:i&&i.get_setting("updateThreads"),g=function(e,t){return e._threadhead^t._threadhead?e._threadhead?-1:1:16&e.pin^16&t.pin?16&e.pin?-1:1:e._nt===a.nt.Message.AttendanceIncident()||t._nt===a.nt.Message.AttendanceIncident()?e._nt!==t._nt?e._nt===a.nt.Message.AttendanceIncident()?-1:1:t.rid-e.rid:c?t.rid-e.rid:e.rid-t.rid},p=function(e,t){return(t.cmp||t.list[0].rid)-(e.cmp||e.list[0].rid)},h=[],m=function(e){return e.rid},v=function(e,t){return m(e)>(t||0)};for(n&&(n.getcmp&&(m=n.getcmp),n.sortfunc&&(g=n.sortfunc),n.groupsortfunc&&(p=n.groupsortfunc),n.cmpCompare&&(v=n.cmpCompare)),r=0;r<e.length;r++)e[r].thread?"string"==typeof e[r].thread&&(e[r].thread=parseInt(e[r].thread,10)):e[r].thread=e[r].nid;for(e.sort(function(e,t){return(e.thread||0)-(t.thread||0)}),r=0;r<e.length;r++)(o=e[r])._threadhead=!1,o._nt=a.get_nt(o),[a.nt.Message.LessonSummary(),a.nt.Document.Assignment()].includes(o._nt)&&(o.thread=o.nid),d&&o.thread&&o.thread===d?s.list.push(o):(h.push(s={list:[o]}),d=o.thread),o._nt===a.nt.Message.AttendanceIncident()&&(s.atthistlen=(s.atthistlen||0)+1,m(o)>(s.attheaditem||0)&&(s.attheaditem=m(o),s.attheaditemndx=s.list.length-1)),v(o,s.cmp)&&(s.cmp=m(o));for(r=0;r<h.length;r++)l=(s=h[r]).list,s.attheaditem&&s.list.length>1&&((o=l.splice(s.attheaditemndx,1)[0])._threadhead=!0,l.push(o),delete s.attheaditemndx),l.length>1&&l.sort(g),l.length>0&&(l[l.length-1]._threadlastitem=!0),l[0]._threadlen=l.length,l[0].numReplies=l.length-1,s.atthistlen&&(l[0]._atthistlen=s.atthistlen),l[0]._threadhead=!f;for(e=[],h.sort(p),u&&h.reverse(),r=0;r<h.length;r++)e=e.concat(h[r].list);return e},treemergeddates:function(e){e.__cmpDate||function e(t,a){if("object"==_typeof(t)){for(var i,n=["assdate","sdate"],r=0;r<n.length;r++)if(t[n[r]])return t.__cmpDate=t[n[r]],t[n[r]];for(var o=0;o<t.length;o++){var s=e(t[o],!1);(null==i||s<i)&&(i=s)}if(void 0!==t.tree){var d=e(t.tree);(null==i||null!=d&&d<i)&&(i=d)}return t[0]&&!a&&(t[0].__cmpDate=i),t.__cmpDate=i,i}}(e,!0);var t=function(e){return e.__cmpDate};return e.sort(function(e,a){var i=t(e),n=t(a);return 0==i?-1:0==n?1:i>n?1:n>i?-1:0})},treefractional:function(e){return a.sort.fractional(e,!0)},fairy:function(e,t,a,i){var n,r=void 0;return e&&e.indexOf&&e.indexOf("/")>=0&&2===(n=e.split("/")).length&&(r=parseFloat(n[0])/parseFloat(n[1])),r},fractional:function(e,t){var a=function(e){if(!0===t){if(void 0===e.tree)return 0;e=e.tree[0]}var a,i;if(void 0===e.fraction)i=e.rid,a=1;else{var n=e.fraction.split("/");i=parseFloat(n[0]),a=parseFloat(2===n.length?n[1]:1)}return i/a};return e.sort(function(e,t){var i=a(e),n=a(t);return 0==i?-1:0==n?1:i>n?1:n>i?-1:0})}}),a.dataSet={none:function(e){},noValue:function(e){return""},commaList:function(e,t){var a=t.substr(10)||"value",i=e.data;void 0!==i&&!1!==i||(i=""),i=(i+"").split(",");var n={};return n[a]=i,n},json:function(e){try{return JSON.parse(e.get_val())}catch(e){}},jsonList:function(e,t){var a=t.split(":");try{a=a.length>1?a.pop():"item";var i={};return i[a]=JSON.parse(e.get_val()),i}catch(e){}},htmldecode:function(e,t){return a.htmlentitiesdecode(e.get_val())},htmlstrip:function(e,t){return"string"==typeof e.get_val()?e.get_val().replace(/(?:&lt;).*?(?:(?:&gt;)|$)/g," ").replace(/^(.*?(?:&gt;))/," ").replace(/((?:&lt;).*$)/," ").replace(/<\/?[^>]+?(?:>|$)/g,"").replace(/&amp;/g,"&"):e.get_val()},get_val:function(e,t){return e.get_val(t.split(":").pop())},var:function(e,t){return e.global(t)}},a.displayVal={sanitize:function(e,t){var i=t.split(":"),n="strict";return i.length>1&&(n=i[1]),a.get("sanitizer").sanitize(e.get_val(),n)},decimal:function(e,t){var i=t.split(":"),n=i[1]||0,r=e.get_val();return void 0!==r&&!1!==r&&(r=+r,a.is_num(r)&&!isNaN(r)?(r=n?Math.round(r*Math.pow(10,n))/Math.pow(10,n):Math.round(r),r="fixed"===i[2]?r.toFixed(n):""+r):r="",r)},percent:function(e,t){var i=a.displayVal.decimal(e,t);return i.length&&(i+="%"),i},round:function(e,t){var i=t.split(":")[1]||0,n=e.get_val();return void 0===n||!1===n||(n+"").length<i?n:(n=+n,n=a.is_num(n)&&!isNaN(n)?Number(n).toPrecision(i):"")},multiply:function(e,t){var i=t.split(":")[1]||1,n=e.get_val();return void 0===n||!1===n?n:n=a.is_num(n)&&!isNaN(n)?Math.round(Number(n)*Number(i)*100)/100:""},redact:function(e,t){var a=t.split(":")[1]||4,i=e.get_val();if(i&&"string"==typeof i){var n=i.substr(i.length-a);return i.substr(0,i.length-a).replace(/./g,"*")+n}},truncate:function(e,t){var a=parseInt(t.replace("truncate:",""),10)||50,i=e.displayVal;return i.length>a?(-1!==i.indexOf("<")&&(i=i.replace(/<(?:.|\n)*?>/gm,"")),i=i.substr(0,a)+"&hellip;"):i},stripTags:function(e,t){var i=e.displayVal;return i=(i=i.replace(/&lt;(?:.|\n)*?&gt;/gm,"")).replace(/<(?:.|\n)*?>/gm,""),a.mlescape(i)},stripMyName:function(e,t){var i=e.displayVal,n=a.gbl.user.name;return i.replace(","+n+",",",").replace(n+",","").replace(","+n,"").replace(/,/g,", ")},nl2br:function(e){return a.is_str(e.displayVal),e.addStyle("white-space","pre-wrap"),e.displayVal},simpleHTML:function(e,t){var i=!1;return e.arg("allowedTags")&&(i=e.arg("allowedTags").toUpperCase().split(",")),e.displayVal?a.mlescape(a.mlunescape(e.displayVal),i):e.displayVal},mlescape:function(e){return a.mlescape(e.displayVal)},noValue:function(e,t){return void 0!==t&&t.split(":").length>1?t.split(":").slice(1).join(":"):" "},emptyStr:function(e){return""},refCount:function(e,t){(t=t.split(":")).shift(),t=t.join(":");var a=e.get_val(t),i=0;for(var n in a)a.hasOwnProperty(n)&&(i+=1);return i},filteredRefCount:function(e,t){setTimeout(function(){var a,i,n=t.split(":");if(a=(n=n.pop().split("-")).pop(),(i=(n=n.join("-"))?e.get_xdo("*"+n):e.parent_xdo())&&i._paging){var r=i._paging[a],o=0;for(var s in r.pages)o+=r.pages[s].length;e.id(1).append(o)}else e.dom().append("0")},0)},totalCount:function(e,t){},searchHighlight:function(e,t){if(e.displayVal)return e.displayVal.replace(/\u231e\u231e/g,'<span class="xdl-search-token">').replace(/\u231f\u231f/g,"</span>")},currency:function(e,t){var i,n,r,o,s=parseFloat((void 0!==t&&"currency"!==t?t:e.displayVal)||0);if(!isNaN(s))return i=parseInt(a.lang("2",void 0,"Currency digit precision"),10),n=a.lang("$",void 0,"Currency prefix"),r=a.lang("",void 0,"Currency suffix"),o=Math.pow(10,i),a.tpl(a.lang("{{currency_prefix}}{{currency}}{{currency_suffix}}"),{currency_prefix:n,currency:(Math.round(s*o)/o).toFixed(i),currency_suffix:r})},parenthesize:function(e,t){var a=e.displayVal;return a?" ("+a+")":""}},a.extend.fn({filterToday:function(e){var t=e.global("filterToday");return!(!e.data||!e.data._date)&&(t||(e.global("filterToday",e.data._date),t=e.data._date),0!==t.getTime()&&t.getDate()===e.data._date.getDate()&&t.getMonth()===e.data._date.getMonth()&&t.getFullYear()===e.data._date.getFullYear())},currentUserIsStaffType:function(e){return e.has_role("SysAdmin")||e.has_role("Staff")},currentUserIsAdminType:function(e){return e.has_role("SysAdmin")||e.has_role("Administrator")},currentUserIsType:function(e,t){for(var i=!1,n=0;n<t.length&&0==i;n++)i=a.gbl.user.nodesubtype==t[n];return i}})}(window,document,cf);var Submittable=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"submit",value:function(){}},{key:"await",value:function(e){}}]),e}(),SubmittableForm=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).form=e,a}return _inherits(t,Submittable),_createClass(t,[{key:"submit",value:function(){this.form.trigger("ajax_post")}}]),t}(),SubmittableObject=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._url=e,a}return _inherits(t,Submittable),_createClass(t,[{key:"submit",value:function(){}},{key:"add",value:function(e,t){this._data||(this._data={}),this._data[e]=t}},{key:"remove",value:function(e){delete this._data[e]}}]),t}();function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var i=_superPropBase(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(a):n.value}})(e,t,a||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function arrayUnique(e){for(var t=e.concat(),a=0;a<t.length;++a)for(var i=a+1;i<t.length;++i)t[a]===t[i]&&t.splice(i--,1);return t}var DateRange=function(){function e(t,a){_classCallCheck(this,e),this._min=t,this._max=a}return _createClass(e,[{key:"is",value:function(e){return"string"==typeof e&&(e=cf.parseDate(e)),this._min<=e&&this._max>=e}}]),e}(),DateMatcher=function(){function e(t){_classCallCheck(this,e),this._cmp=t}return _createClass(e,[{key:"is",value:function(e){return"string"==typeof e&&(e=cf.parseDate(e)),this._cmp.getFullYear()===e.getFullYear()&&this._cmp.getMonth()===e.getMonth()&&this._cmp.getDate()===e.getDate()}},{key:"toString",value:function(){return cf.dateFormat(this._cmp)}},{key:"date",value:function(){return this._cmp}}]),e}(),SanitizedData=function(){function e(t,a){for(var i in _classCallCheck(this,e),t)if("____SANITIZER_REENTRANCY_GUARD____"!==i){var n=t[i];n instanceof jQuery||n instanceof cf.XDO||cf.isBuild(n)||n instanceof Versionable||n instanceof cf.constant.Constant||n instanceof e?this[i]=n:"string"==typeof n?cf.is_json(n)||((a&&!cf.is_rich(n)||!a)&&(this[i]=cf.mlescape(n)),this[i]=cf.sanitize(n)):"object"==_typeof(t[i])?this[i]=cf.sanitizeObject(n,a):this[i]=n}}return _createClass(e,[{key:Symbol.iterator,value:function(){return Object.values(this)}}]),e}(),Versionable=function(){function e(){_classCallCheck(this,e),this.uuid=cf.get("guid").rfc4122(),this.__version=0,this._observers={}}return _createClass(e,[{key:"_notifyObserver",value:function(t,a){var i=this,n=this._observers[t],r=n.obs;if(r instanceof e)r.checkpoint&&r.checkpoint(),n.handler&&r[handler]?r[handler](this):r.version();else{var o=r.resolve();if(o){if(o===a||Array.isArray(a)&&a.includes(o))return;if(!n.handler)return function(){o.state.set("".concat(i.uuid,"__version"),i.__version)};try{n.handler(this)}catch(e){cf.log.debug({message:"Versionable._notifyObserver(".concat(this.uuid,"): exception in handler"),exception:e})}}else cf.log.debug("Versionable._notifyObserver(".concat(this.uuid,"): removing invalidated reference ")+t),delete this._observers[t]}}},{key:"_notify",value:function(e){if(this._notifying)cf.log.debug("Versionable._notify(".concat(this.uuid,"): already notifying, preventing reentrancy"));else{this._notifying=!0;var t=[];for(var a in this._observers){var i=this._notifyObserver(a,e);i&&t.push(i)}t.length>0&&window.setTimeout(function(){for(var e=0;e<t.length;e++)t[e]()},1),this._notifying=!1}}},{key:"version",value:function(e){this.__version=this.__version+1;try{this._notify(e)}catch(e){}}},{key:"_cleanObservers",value:function(){for(var e in this._observers){var t=this._observers[e];this.detach(t.obs),delete this._observers[e]}}},{key:"attach",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t instanceof e?this._observers[t.uuid]={obs:t,handler:a}:(t.state.get("".concat(this.uuid,"__version")),this._observers[t.id()]={obs:t.ref(),handler:a}),this}},{key:"detach",value:function(t){if(t instanceof e)delete this._observers[t.uuid];else if(t&&t.resolve){var a=t.resolve();a&&(a.state.forget("".concat(this.uuid,"__version")),delete this._observers[a.id()])}else t.state&&t.state.forget("".concat(this.uuid,"__version"))}},{key:"destroy",value:function(){this._cleanObservers()}}]),e}(),CheckpointableData=function(e){function t(e){var a,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _classCallCheck(this,t),a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),e&&(e.uuid=a.uuid),a._savecheckpoints=i,a._checkpoints=[],a.data=e,a.checkpoint(),a}return _inherits(t,Versionable),_createClass(t,[{key:"checkpoint",value:function(){this._savecheckpoints&&this._checkpoints.push(cf.clone(this.data))}},{key:"rollback",value:function(){if(this._savecheckpoints){var e=this._checkpoints.pop();e&&(this.data=e,this.version())}}},{key:"toJSON",value:function(){var e={};for(var t in this.data)this.data.hasOwnProperty(t)&&"uuid"!==t&&(e[t]=this.data[t]);return e}},{key:"destroy",value:function(){delete this._checkpoints,_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(),DataRow=function(e){function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).__proto__={__proto__:a.__proto__},a.__reentrancyguard={};var n=function(e){try{Object.defineProperty(a.__proto__,e,{get:function(){return a.data[e]},set:function(t){return"string"==typeof t&&(t=cf.sanitize(cf.mlescape(t))),a.__set_raw_data(e,t),!0}})}catch(e){}};for(var r in e)n(r);if(i)for(var o in i)void 0===e[o]&&(n(o),e[o]=i[o]);return a}return _inherits(t,CheckpointableData),_createClass(t,[{key:"__set_raw_data",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.__reentrancyguard[e]){this.__reentrancyguard[e]=!0;var i=this.data[e];if(t!==i){if(Array.isArray(t)&&Array.isArray(i)&&t.length==i.length){for(var n=!0,r=0;r<t.length;r++)if(t[r]!==i[r]){n=!1;break}if(n)return delete this.__reentrancyguard[e],!0}this.data[e]=t,a&&this.version()}delete this.__reentrancyguard[e]}}},{key:"bulk",value:function(e){for(var t in e)this.__set_raw_data(t,e[t],!1);this.version()}},{key:"clone",value:function(){return new t(cf.clone(this.data),this._schema)}},{key:"delete",value:function(){this._deleted=!0}}]),t}(),ReflectedDataRow=function(e){function t(e){var a;_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).__proto__={__proto__:a.__proto__},a.createReflectedProp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row";if(!a.__proto__[e])try{Object.defineProperty(a.__proto__,e,{get:function(){if(a.data&&a.data[t])return a.data[t][e]},set:function(i){if(!a.__reentrancyguard[e])return a.__reentrancyguard[e]=!0,a.data[t]&&i!==a.data[t][e]&&(a.data[t][e]=i,a.version()),delete a.__reentrancyguard[e],!0}})}catch(e){}};var i=function(e){if(a.data.row)for(var t in a.data.row.data)"row"!=t&&a.createReflectedProp(t,"row")};return Object.defineProperty(a.__proto__,"row",{get:function(){return a.data.row},set:function(e){var t=a.data.row;return(t&&t.uuid!=e.uuid||!t&&t!==e)&&(t&&t.detach(_assertThisInitialized(_assertThisInitialized(a))),a.data.row=e,i(),a.version(),a.data.row&&a.data.row.attach(_assertThisInitialized(_assertThisInitialized(a)))),!0}}),i(),a}return _inherits(t,DataRow),_createClass(t,[{key:"clone",value:function(){return new t(this.data.row)}},{key:"destroy",value:function(){this.data.row&&this.data.row.detach(this),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(),PivotedDataRow=function(e){function t(e,a){var i;_classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e));var n=function(e){if(i.data.pivoted)for(var t in i.data.pivoted.data)"row"!=t&&"pivoted"!=t&&i.createReflectedProp(t,"pivoted")};if(a)for(var r in a)i.createReflectedProp(r,"pivoted");return Object.defineProperty(i.__proto__,"pivoted",{get:function(){return i.data.pivoted},set:function(e){var t=i.data.pivoted;return(t&&t.uuid!=e.uuid||!t&&t!==e)&&(t&&t.detach(_assertThisInitialized(_assertThisInitialized(i))),i.data.pivoted=e,n(),i.version(),i.data.pivoted&&i.data.pivoted.attach(_assertThisInitialized(_assertThisInitialized(i)))),!0}}),n(),i}return _inherits(t,ReflectedDataRow),_createClass(t,[{key:"clone",value:function(){return new t(this.data.row,this.data.pivoted)}}]),t}(),DataSource=function(e){function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DataRow;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,[])))._schema=e,a._idmap={},a._index={},a._subscribers=[],a._rowBaseClass=i,a}return _inherits(t,CheckpointableData),_createClass(t,[{key:"updateschema",value:function(e){this._schema=e}},{key:"forEach",value:function(e){for(var t=0;t<this.data.length;t++)e(this.data[t])}},{key:"rowByID",value:function(e){return this._idmap[e]}},{key:"rowsByNid",value:function(e){return this.rowsByData("nid",e)}},{key:"rowsByData",value:function(e,t){return this._index[e]?this._index[e][t]||[]:this.data.filter(function(t,a,i){return t[e]===t})}},{key:"rowByData",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.rowsByData(e,t,a)[0]}},{key:"_indexRow",value:function(e){for(var t in this.idRow(e)&&(this._idmap[this.idRow(e)]=e),this._schema)if(this._index[t]||(this._index[t]={}),e[t]){var a=this._index[t][e[t]];a||(a=[]),a.indexOf(e)<0&&a.push(e),this._index[t][e[t]]=a}}},{key:"_reindexData",value:function(){this._index={},this._idmap={};var e=!0,t=!1,a=void 0;try{for(var i,n=this.data[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value;this._indexRow(r)}}catch(e){t=!0,a=e}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"_removeFromIndex",value:function(e){for(var t in this._schema)if(this._index[t]||(this._index[t]={}),e[t]){var a=this._index[t][e[t]];a||(a=[]),this._index[t][e[t]]=a.filter(function(t,a,i){return t===e})}}},{key:"entries",value:function(){return this.data.entries()}},{key:"id",value:function(){return this.uuid}},{key:"idRow",value:function(e){if(this._idkey)return e[this._idkey];if(e.nid){var t=[e.nid];return this.xdo&&e.rid&&this.xdo.arg("userid")&&t.unshift(e.rid),t.join("_")}return!1}},{key:"update",value:function(e){var t=[];for(var a in e)t.push(e[a].data),this._notifySubscribers(e[a]);this.data=t,this._reindexData(),this.checkpoint(),this.version()}},{key:"remove",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[],i=0;i<this.data.length;i++)this.data[i].uuid!==e.uuid&&a.push(this.data[i]);this.data=a,this.idRow(e)&&delete this._idmap[this.idRow(e)],this._removeFromIndex(e),t&&(this.checkpoint(),this.version())}},{key:"empty",value:function(){this.data=[],this._idmap={},this._index={},this.checkpoint(),this.version()}},{key:"append",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.data.push(e),this.idRow(e)&&(this._idmap[this.idRow(e)]=e),this._indexRow(e),t&&(this.checkpoint(),this.version()),e.attach(this),this._notifySubscribers(e),e}},{key:"_notifySubscribers",value:function(e){this._subscribers.forEach(function(t){t.observer.resolve()&&t.handler(e)})}},{key:"subscribe",value:function(e,t){this._subscribers.push({observer:e.ref(),handler:t})}},{key:"unsubscribe",value:function(e){this._subscribers=this._subscribers.filter(function(t){var a=t.observer.resolve();return!(a&&a.id()==e.id()||!a)})}},{key:"add",value:function(){var e=new this._rowBaseClass(cf.clone(this._schema));return e._new=!0,e.attach(this,"rowupdate"),this.append(e)}},{key:"rowupdate",value:function(e){}},{key:"checkpoint",value:function(){for(var e=[],t=0;t<this.data.length;t++)e.push(this.data[t]);this._checkpoints||(this._checkpoints=[]),this._checkpoints.push(e)}},{key:"rollback",value:function(){_get(_getPrototypeOf(t.prototype),"rollback",this).call(this),this._reindexData()}},{key:"destroy",value:function(){for(var e=0;e<this.data.length;e++)this.data[e]&&(this.data[e].detach(this),this.data[e].destroy(),this.data[e]=!1);_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),cf.log.debug("DataSource.destroy(".concat(this.uuid,"): destroyed"))}},{key:"rows",get:function(){return this.data}}]),t}(),FunctionDataSource=function(e){function t(e,a){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,a))).sourceFunc=e,i}return _inherits(t,DataSource),t}(),IteratorDataSource=function(e){function t(e,a,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return!0};_classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,a)))._idkey=i,n._rowfilter=o;var s=!0,d=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var f=c.value;n._rowfilter(f)&&n.data.push(new DataRow(r(f),n._schema))}}catch(e){d=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(d)throw l}}return n._reindexData(),n}return _inherits(t,DataSource),t}(),ArrayDataSource=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i));for(var n=0;n<a.length;n++){var r=new DataRow(a[n],e._schema);e.append(r,!1)}return e._checkpoints=[],e.checkpoint(),e}return _inherits(t,DataSource),t}(),XDSDataSource=function(e){function t(e,a,i){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).xds=e,n.nid=a,n}return _inherits(t,DataSource),t}(),XDODataSource=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,function(){for(var t=e.arg("items")||"item",a=e.xds.fields[t].fields,i={nid:""},n=Object.keys(a),r=0;r<n.length;r++){var o=n[r];i[o]=void 0!==a[o].defaultValue?a[o].defaultValue:""}return i}())))._itemkey=e.arg("items")||"item",e.arg("idkey")&&(a._idkey=e.arg("idkey")),a._dataroot=e.arg("dataroot"),void 0===a._dataroot&&(a._dataroot=e.xds.id),a.setxdo(e),e.arg("poll")&&(a._pollConfiguredInterval=e.arg("poll"),a.poll(),a._setupVisibilityHandler()),!e.data[a._itemkey]||e.arg("ignoreSeedData")?a.fetch():e.arg("ignoreSeedData")||a.update(e.data[a._itemkey],{__source:[e.nid()]}),a}return _inherits(t,DataSource),_createClass(t,[{key:"is",value:function(e){var t=this.xdo;return!!t&&e.nid()==t.nid()}},{key:"setxdo",value:function(e){if(this.xdoref&&this.detach(this.xdoref),this.xdoref=e.ref(),e.data&&e.data[this._itemkey]&&!e.arg("ignoreSeedData")){var t=e.data[this._itemkey];for(var a in(e.xds.fields[this._itemkey].sort||e.xds.fields[this._itemkey].sortBy)&&(t=cf.sort(e.xds.fields[this._itemkey],t,e)),t){var i=new DataRow(Object.assign({__source:[e.nid()]},t[a]),this._schema);this.append(i,!1)}}this._checkpoints=[],this.checkpoint()}},{key:"_setupVisibilityHandler",value:function(){var e=this;cf.pageListen({xdoArgs:{id:this.xdo&&this.xdo.path},trigger:"visibilitychange"},function(t){"hidden"===document.visibilityState&&e._pollInterval?(cf.log.debug("XDODataSource._setupVisibilityHandler(".concat(e.uuid,": stopping poll")),e.stop(),e._resumeonreturn=!0):e._resumeonreturn&&(cf.log.debug("XDODataSource._setupVisibilityHandler(".concat(e.uuid,": restarting poll")),e.poll(),delete e._resumeonreturn)})}},{key:"poll",value:function(){var e=this;this.stop(),this._pollInterval=window.setInterval(function(){(Date.now()-cf.get("notif").lastMovement)/1e3<60&&e.fetch()},1e3*this._pollConfiguredInterval)}},{key:"stop",value:function(){window.clearInterval(this._pollInterval),delete this._pollInterval}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a=!1,i=!1,n=Object.values(e),r=0;r<n.length;r++){var o=n[r],s=this.rowByID(this.idRow(o));if(s){for(var d in o)o.hasOwnProperty(d)&&s[d]!==o[d]&&(s[d]=o[d],a=!0);for(var l in t)if(Array.isArray(t[l])){var c=arrayUnique(s[l].concat(t[l]));c.length!=s[l].length&&(s[l]=c,a=!0)}}else{var u=Object.assign(Object.assign({},o),t),f=new DataRow(u,this._schema);this.append(f,!1),a=!0,i=!0}}(this.xdo.xds.fields[this._itemkey].sort||this.xdo.xds.fields[this._itemkey].sortBy)&&(this.data=cf.sort(this.xdo.xds.fields[this._itemkey],this.data,this.xdo)),a&&this.checkpoint(),i&&this.version(),this._reindexData()}}},{key:"filterSources",value:function(e){var t=this.data.filter(function(t,a,i){var n=!1;for(var r in e)if(t.__source.includes(e[r])){n=!0;break}return!n});for(var a in t)this.remove(t[a],!1);this.checkpoint(),this.version()}},{key:"fetch",value:function(e){var t=this,a={xds:this.xdo.arg("xds")||this.xdo.xds_full.id,nid:e||this.xdo.nid(),noCache:!0};return a.xds?cf.get("cfnp").get(this.xdo,a).then(function(a){if(a&&a.slices&&a.slices.length>0){var i=a.slices[0].data;if(t._dataroot&&(i=i[t._dataroot]),i){var n=i[t._itemkey];t.update(n,{__source:[e]})}}}):Promise.reject()}},{key:"destroy",value:function(){this.stop(),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"xdo",get:function(){var e=this.xdoref.resolve();return e||this.destroy(),e}}]),t}(),PagedDataSource=function(e){function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DataRow;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)))._pagesize=i,a._initialized=!1,a._page=0,a.version(),a}return _inherits(t,DataSource),_createClass(t,[{key:"pagesize",value:function(e){if(e!==this._pagesize){for(this._pagesize=e;this.rows.length>this._pagesize;){var t=this.rows.pop();t.detach(this),t.destroy()}this.repage(),this.version()}}},{key:"version",value:function(){this._versioning||(this._versioning=!0,this._initialized&&this.repage(),_get(_getPrototypeOf(t.prototype),"version",this).call(this),this._versioning=!1)}},{key:"repage",value:function(){}},{key:"prev",value:function(){this.hasPrev()&&(this._page=this._page-1,this.repage())}},{key:"next",value:function(){this.hasNext()&&(this._page=this._page+1,this.repage())}},{key:"hasPrev",value:function(){return this._page>0}},{key:"hasNext",value:function(){return!1}},{key:"pages",get:function(){return this._pagenoversionable||(this._pagenoversionable=new DataRow({current:this._page,count:1,pagesize:this._pagesize})),this._pagenoversionable}}]),t}(),BoundDataSource=function(e){function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,cf.extend({row:!1},e._schema),i,ReflectedDataRow)))._ds=e;for(var n=0;n<i;n++){var r=a.add();a._ds.rows.length>=n&&(r.row=a._ds.rows[n])}return a._initialized=!0,a._ds.attach(_assertThisInitialized(_assertThisInitialized(a))),a.version(),a}return _inherits(t,PagedDataSource),_createClass(t,[{key:"is",value:function(e){return this._ds.uuid==e.uuid}},{key:"repage",value:function(){for(var e=0;e<this._pagesize&&e+this._page*this._pagesize<this._ds.rows.length;e++)this.rows[e]||this.add(),this.rows[e].row=this._ds.rows[e+this._page*this._pagesize];for(;e<this._pagesize;e++)this.rows[e]||this.add(),this.rows[e].row=!1;this.pages.current=this._page+1,this.pages.count=Math.ceil(this._ds.rows.length/this._pagesize)||1,this.pages.pagesize=this._pagesize}},{key:"hasNext",value:function(){return this._ds.rows.length-(this._page+1)*this._pagesize>0}},{key:"destroy",value:function(){this._ds.detach(this),this._ds=!1,_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"pages",get:function(){return this._pagenoversionable||(this._pagenoversionable=new DataRow({current:this._page,count:Math.ceil(this._ds.rows.length/this._pagesize)||1,pagesize:this._pagesize})),this._pagenoversionable}}]),t}(),TimeSeriesDataSource=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:864e5,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{when:!0,display:!0},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,o,s)))._checkpoints=[],e._intervalms=a,e._max=n,e._min=i,e._anchor=new Date(r.getTime()+a),e.checkpoint(),e.repage(),e}return _inherits(t,PagedDataSource),_createClass(t,[{key:"repage",value:function(){this.pagemin;for(var e=0;e<this._pagesize;e++){this.rows[e]||this.add();var t=new Date(this.pagemin.getTime()+this._intervalms*e);this.rows[e].when=new DateMatcher(t),this.rows[e].display=t}this.pages.current=this._page+1,this.pages.count=1,this.pages.pagesize=this._pagesize}},{key:"next",value:function(){this._anchor=new Date(this._anchor.getTime()+this._pagesize*this._intervalms),this.repage()}},{key:"prev",value:function(){this._anchor=new Date(this.pagemin.getTime()-1),this.repage()}},{key:"hasPrev",value:function(){if(!this._min)return!0}},{key:"hasNext",value:function(){return!0}},{key:"pagemin",get:function(){return new Date(this._anchor-this._pagesize*this._intervalms)}}]),t}(),PivotedDataSource=function(e){function t(e,a,i,n,r,o){var s,d;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,((d={pivots:!1})[i]=!1,d))))._pivot1=e,s._pivot2=a,s._pivotSchema=o,s._idkey=i,s._idkey2=n,s._pivotkey=r,s._initialized=!1,s._pivot1.attach(_assertThisInitialized(_assertThisInitialized(s))),s._pivot2.attach(_assertThisInitialized(_assertThisInitialized(s))),s._initialized=!0,s.version(),s}return _inherits(t,DataSource),_createClass(t,[{key:"_pivot",value:function(){for(var e={},t={},a=0;a<this._pivot1.rows.length;a++){var i=this._pivot1.rows[a],n=this.rowsByData(this._idkey,i[this._idkey2||this._idkey]);for(n.length?n=n[0]:((n=this.add())[this._idkey]=i[this._idkey],this._indexRow(n)),n.pivots||(n.pivots=[]);n.pivots.length>this._pivot2.rows.length;)n.pivots.pop();for(var r=0;r<this._pivot2.rows.length;r++){var o=this._pivot2.rows[r],s=n.pivots[r],d=!1;s&&s instanceof PivotedDataRow||(s=new PivotedDataRow({},this._pivotSchema),d=!0),s.row=o,("object"===_typeof(i[this._pivotkey])&&i[this._pivotkey].is?i[this._pivotkey].is(o[this._pivotkey]):"object"===_typeof(o[this._pivotkey])&&o[this._pivotkey].is?o[this._pivotkey].is(i[this._pivotkey]):i[this._pivotkey]==o[this._pivotkey])?(s.pivoted=i,e[s.uuid]=!0,t[s.uuid]=!1):e[s.uuid]||(t[s.uuid]=s),d&&n.pivots.push(s)}}for(var l in t)t[l]&&(t[l].pivoted=!1)}},{key:"version",value:function(){this._versioning||(this._versioning=!0,this._initialized&&this._pivot(),this._versioning=!1,_get(_getPrototypeOf(t.prototype),"version",this).call(this))}},{key:"destroy",value:function(){this._pivot1.detach(this),this._pivot1=!1,this._pivot2.detach(this),this._pivot2=!1,_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"rowsByData",value:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=_get(_getPrototypeOf(t.prototype),"rowsByData",this).call(this,e,a);if(0===n.length&&i){for(var r=[],o=0;o<this._pivot2.rows.length;o++){var s=this._pivot2.rows[o];r.push(s)}return[new DataRow({pivots:r})]}return n}},{key:"rowByID",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=_get(_getPrototypeOf(t.prototype),"rowByID",this).call(this,e);if(!i&&a){for(var n=[],r=0;r<this._pivot2.rows.length;r++){var o=this._pivot2.rows[r];n.push(o)}return new DataRow({pivots:n})}return i}}]),t}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,e)})(e)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,a){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,a){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return a&&_setPrototypeOf(n,a.prototype),n}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ParseError=function(e){function t(e,a){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name="ParseError",i}return _inherits(t,_wrapNativeSuper(Error)),t}(),UnexpectedTypeError=function(e){function t(e,a){var i;_classCallCheck(this,t);var n=_typeof(a);return"object"===n&&a.constructor&&(n=a.constructor.name),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"".concat(e,", got ").concat(n)))).name="UnexpectedTypeError",i}return _inherits(t,_wrapNativeSuper(Error)),t}();function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Point=function e(t,a){_classCallCheck(this,e),this.x=t,this.y=a},RectangleGroup=function(){function e(t){_classCallCheck(this,e);var a=!0,i=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var s=r.value;this.add(s)}}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}}return _createClass(e,[{key:"add",value:function(e){(void 0===this._x||e.x<this._x)&&(this._x=e.x),(void 0===this._y||e.y<this._y)&&(this._y=e.y),(void 0===this._x2||e.x+e.width>this._x2)&&(this._x2=e.x+e.width),(void 0===this._y2||e.y+e.height>this._y2)&&(this._y2=e.y+e.height),this.rectangles.push(e)}},{key:"intersects",value:function(e){if(this.bounds.intersects(e.bounds)){var t=!0,a=!1,i=void 0;try{for(var n,r=this.rectangles[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value,s=!0,d=!1,l=void 0;try{for(var c,u=e.rectangles[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var f=c.value;if(o.intersects(f))return!0}}catch(e){d=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(d)throw l}}}}catch(e){a=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}return!1}},{key:"simplify",get:function(){var t=[],a=!0,i=!1,n=void 0;try{for(var r,o=this._rectangles[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){for(var s=r.value,d=!1,l=0;l<t.length;l++){if(s.contains(t[l])){d=!0;break}if(t[l].contains(s)){d=!0,t[l]=s;break}}d||t.push(s)}}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return new e(t)}},{key:"rectangles",get:function(){return this._rectangles||(this._rectangles=[]),this._rectangles}},{key:"bounds",get:function(){return new Rectangle(this._x,this._y,this._x2-this._x,this._y2-this._y)}}]),e}(),LineSegment=function(){function e(t,a){_classCallCheck(this,e),this._p1=t,this._p2=a}return _createClass(e,[{key:"intersects",value:function(e){var t=this._p1.x,a=this._p1.y,i=this._p2.x,n=this._p1.y,r=e._p1.x,o=e._p1.y,s=e._p2.x,d=e._p2.y;if(t===i&&a===n||r===s&&o===d)return!1;var l=(d-o)*(i-t)-(s-r)*(n-a);if(0===l)return!1;var c=((s-r)*(a-o)-(d-o)*(t-r))/l,u=((i-t)*(a-o)-(n-a)*(t-r))/l;return!(c<0||c>1||u<0||u>1)&&{x:t+c*(i-t),y:a+c*(n-a)}}}]),e}(),Rectangle=function(){function e(t,a,i,n){_classCallCheck(this,e),Array.isArray(t)&&(a=t[1],i=t[2],n=t[3],t=t[0]),this._x=t,this._y=a,this._width=i,this._height=n}return _createClass(e,[{key:"intersects",value:function(e){var t=!0,a=!1,i=void 0;try{for(var n,r=this.edges[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value,s=!0,d=!1,l=void 0;try{for(var c,u=e.edges[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var f=c.value,g=o.intersects(f),p=f.intersects(o);if(g||p)return!0}}catch(e){d=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(d)throw l}}}}catch(e){a=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}return this.contains(e)||e.contains(this)}},{key:"contains",value:function(t){var a=t;if(t instanceof Point&&(a=new e(t.x,t.y,0,0)),Array.isArray(t)){var i=!0,n=!0,r=!1,o=void 0;try{for(var s,d=t[Symbol.iterator]();!(n=(s=d.next()).done);n=!0){var l=s.value;if(!(i=i&&this.contains(l)))return!1}}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return i}if(!(a instanceof e))throw new UnexpectedTypeError("expected Rectangle");var c=this.x<=a.x&&a.x+a.width<=this.x+this.width,u=this.y<=a.y&&a.y+a.height<=this.y+this.height;return c&&u}},{key:"equals",value:function(e){return e.contains(this)&&this.contains(e)}},{key:"x",get:function(){return this._x},set:function(e){this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this._y=e}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"bottom",get:function(){return this.y+this._height},set:function(e){this._height=e-this.y}},{key:"top",get:function(){return this.y},set:function(e){this.y=e}},{key:"left",get:function(){return this.x},set:function(e){this.x=e}},{key:"right",get:function(){return this.x+this.width},set:function(e){this.width=e-this.x}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"points",get:function(){return[this.topleft,this.topright,this.bottomleft,this.bottomright]}},{key:"topleft",get:function(){return new Point(this.x,this.y)}},{key:"topright",get:function(){return new Point(this.x+this.width,this.y)}},{key:"bottomleft",get:function(){return new Point(this.x,this.y+this.height)}},{key:"bottomright",get:function(){return new Point(this.x+this.width,this.y+this.height)}},{key:"edges",get:function(){return[new LineSegment(this.topleft,this.topright),new LineSegment(this.topleft,this.bottomleft),new LineSegment(this.topright,this.bottomright),new LineSegment(this.bottomleft,this.bottomright)]}},{key:"area",get:function(){return Math.abs(this.width*this.height)}}]),e}(),ansi_up;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _get(e,t,a){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var i=_superPropBase(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(a):n.value}})(e,t,a||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,a,i,n,r,o){try{var s=e[r](o),d=s.value}catch(e){return void a(e)}s.done?t(d):Promise.resolve(d).then(i,n)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var r=e.apply(t,a);function o(e){asyncGeneratorStep(r,i,n,o,s,"next",e)}function s(e){asyncGeneratorStep(r,i,n,o,s,"throw",e)}o(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cf.module("accessory",function(e,t,a){var i=function(){function i(e){var t=this;_classCallCheck(this,i),this.xdo=e,this._offset=0,this._inset=0,this._anchor="center",this._allowoverflow=!0,this._recalcHandler=function(){t.position()},this._hideHandler=function(){t.hide()},this._destroyHandler=function(){t.hide(),t.destroy()}}return _createClass(i,[{key:"bindEvents",value:function(){this.dom&&(this.dom.on("recalculate",this._recalcHandler),this.dom.on("hide",this._hideHandler),this.dom.on("destroy",this._destroyHandler))}},{key:"unbindEvents",value:function(){this.dom&&(this.dom.off("recalculate",this._recalcHandler),this.dom.off("hide",this._hideHandler),this.dom.off("destroy",this._destroyHandler))}},{key:"overflowParents",value:function(){return e=this.xdo.dom(),t=["auto","scroll"],(i=$.map(e.parents(),function(e,a){var i=$(e);if(t.includes(i.css("overflow")))return{domEl:e,scrollTop:i.scrollTop(),scrollbarWidth:e.offsetWidth-e.clientWidth}})).push({domEl:a.body,scrollTop:a.body.scrollY,scrollbarWidth:a.body.offsetWidth-a.body.clientWidth}),i;var e,t,i}},{key:"calculatePosition",value:function(i,n){var r=this.anchorelem;if(r){var o={offset:r.offset(),box:{outerWidth:r.outerWidth(!0),outerHeight:r.outerHeight(!0),width:r.outerWidth(!1),height:r.outerHeight(!1)},margins:{right:parseInt(r.css("marginRight")),left:parseInt(r.css("marginLeft")),top:parseInt(r.css("marginTop")),bottom:parseInt(r.css("marginBottom"))}},s={height:e.window.height(),width:a.body.clientWidth},d=!1;if(r.parents().each(function(e,t){if("fixed"===$(t).css("position"))return d=!0,!1}),d&&(o.offset.left=o.offset.left-t.scrollX,o.offset.top=o.offset.top-t.scrollY),this._opts&&this._opts.matchwidth&&(i=o.box.width),o&&!o.offset)return!1;var l={top:o.offset.top+o.box.height+this._offset,left:o.offset.left+o.box.width/2-i/2,variant:"below",parameters:o,viewport:s};return this._allowoverflow?l["overflow-y"]="auto":l["overflow-y"]="hidden",o.offset.top+o.box.height+o.margins.top+o.margins.bottom+n+40>t.scrollY+s.height&&(o.offset.top+o.box.height+o.margins.top+o.margins.bottom-t.scrollY<s.height/2||(l.top="initial",l.bottom=s.height-(o.offset.top-this._offset),l.variant="above"),this.dom.css("max-height","".concat(s.height/2,"px"))),"corner"==this._anchor?s.width-(o.offset.left+o.box.width)<o.offset.left?(l.modifier="left",l.left="initial",l.right=s.width-(o.offset.left+o.box.width)):(l.modifier="right",l.left=o.offset.left,l.right="initial"):o.offset.left+o.box.width/2<i/2?(l.modifier="right",l.left=Math.max(0,o.offset.left+o.box.width/2-this._inset)):s.width-(o.offset.left+o.box.width)<i/2&&(l.modifier="left",l.left="initial",l.right=Math.max(0,-1*this._inset+(s.width-(o.offset.left+o.box.width/2)))),d&&(void 0!==l.right&&"string"!=typeof l.right&&(l.right=l.right-t.scrollX),void 0!==l.left&&"string"!=typeof l.left&&(l.left=l.left+t.scrollX),void 0!==l.top&&"string"!=typeof l.top&&(l.top=l.top+t.scrollY),void 0!==l.bottom&&"string"!=typeof l.bottom&&(l.bottom=l.bottom-t.scrollY)),l}}},{key:"position",value:function(e,t){var a=this.calculatePosition(this.dom.outerWidth(),this.dom.outerHeight());if(a){if(["above","below"].includes(a.variant)){var i="".concat(a.left,"px"),n="".concat(a.right,"px");"initial"==a.left?i="initial":n="initial";var r="".concat(a.top,"px"),o="initial";if("initial"==a.top?(r="initial",o="".concat(a.bottom,"px")):o="initial",this.dom.css({position:"absolute",top:r,bottom:o,left:i,right:n}),this._opts&&this._opts.matchwidth&&this.dom.css("min-width",this.anchorelem.css("width")),this.dom){var s="var(--ui-container-padding)";a.parameters.offset.left<100?(s="".concat(a.parameters.offset.left,"px"),this.dom.css("max-width","calc(var(--viewport-width) - ".concat(s," - ").concat(a.parameters.offset.left,"px)"))):this.dom.css("max-width","calc(var(--viewport-width) - var(--ui-container-padding) - var(--ui-container-padding))")}}return a["overflow-y"]&&this.dom.css("overflow-y",a["overflow-y"]),a}}},{key:"toggle",value:function(){this.dom?this.hide():this.show()}},{key:"insert",value:function(){this.dom&&$(a.body).append(this.dom)}},{key:"show",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dom.removeAttr("aria-hidden"),s.hideAll(a),this.xdo.on("xds-state-set",function(){t.hide()}),this.xdo.dom().addClass(e.css.removed),this.xdo.on("xds-removed",function(){t.hide(),t.remove()}),this.insert(),this._showTimeout=this.xdo.setTimeout(function(){delete t._showTimeout,t.dom&&t.dom.addClass("xds-accessory-shown")},10)}},{key:"hide",value:function(){this.dom&&this.dom.length>0&&(this.dom.attr("aria-hidden","true"),this.dom.hasClass("xds-accessory-shown")&&this.dom.removeClass("xds-accessory-shown"),this.dom.css("overflow-y","initial"),this.dom.css("max-height",""))}},{key:"remove",value:function(){this.dom&&this.dom.length>0&&this.dom.remove(),delete this._dom}},{key:"destroy",value:function(){this.unbindEvents(),this.remove(),this.xdo=!1,delete this._anchorelem}},{key:"xdo",get:function(){return!!this._xdoref&&this._xdoref.resolve()},set:function(e){e?(this._xdoref=e.ref(),this.domId=[this.xdo.id(),"tooltip"].join("_"),this.bindEvents()):(this.unbindEvents(),delete this._xdoref,delete this.domId)}},{key:"dom",set:function(e){this._dom=e,this._dom.addClass("xds-accessory")},get:function(){return this._dom}},{key:"anchorelem",get:function(){return this._anchorelem&&"function"==typeof this._anchorelem?this._anchorelem():this._anchorelem||this.xdo&&this.xdo.dom()},set:function(e){this._anchorelem=e}}]),i}(),n=function(t){function a(e){var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,a),(t=_possibleConstructorReturn(this,_getPrototypeOf(a).call(this,e)))._offset=7,t._inset=6,t.tooltip=i,t._allowoverflow=!1,e.accessories?e.accessories.tooltip=_assertThisInitialized(_assertThisInitialized(t)):e.accessories={tooltip:_assertThisInitialized(_assertThisInitialized(t))},e.attr("data-accessories","tooltip"),t}return _inherits(a,i),_createClass(a,[{key:"bindEvents",value:function(){var t=this;_get(_getPrototypeOf(a.prototype),"bindEvents",this).call(this),e.browser.touch?this.xdo.on("touchend",function(e){var a=t.xdo.parents("xds-has-click");t.xdo.dom().hasClass("xds-has-click")||0==a.length&&t.toggle()}):(this.xdo.on("mouseover",function(e){t.show(),e.stopPropagation()}),this.xdo.on("mouseout",function(e){t.hide()}))}},{key:"show",value:function(){if(this.xdo){this.dom=$(e.html.tooltip(this.xdo.tpl(this.tooltip),"",this.domId)),_get(_getPrototypeOf(a.prototype),"show",this).call(this);var t=this.position(this.dom.outerWidth(),this.dom.outerHeight());t&&(this.dom.addClass("xds-tooltip-".concat(t.variant)),t.modifier&&this.dom.addClass("xds-accessory-modifier-".concat(t.modifier)))}}},{key:"hide",value:function(){_get(_getPrototypeOf(a.prototype),"hide",this).call(this),_get(_getPrototypeOf(a.prototype),"remove",this).call(this)}}]),a}(),r=function(t){function n(t){var a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return _classCallCheck(this,n),a=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,t)),t.attr("data-accessories","popover"),a._id="popover-".concat(e.get("guid").rfc4122()).replace(/\-/g,"_"),a._snippet=i,a._anchor="corner",a._anchorelem=r,a._opts=o,a._decorate=s,t.accessories?(t.accessories.popover&&(t.accessories.popover.remove(),t.accessories.popover.destroy()),t.accessories.popover=_assertThisInitialized(_assertThisInitialized(a))):t.accessories={popover:_assertThisInitialized(_assertThisInitialized(a))},a._eventfilter=d,a}return _inherits(n,i),_createClass(n,[{key:"build",value:function(t){var a=this;if(this._snippet&&!this._built){var i=e.xdsbuild({target:this.dom,slice:this._snippet,parentxdo:this.xdo,noCont:!0});return i.then(function(e){a.contentxdo=e,a._decorate&&"function"==typeof a._decorate&&a._decorate(e)}),this._built=!0,void(t&&i.then(t))}t&&t()}},{key:"bindEvents",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"bindEvents",this).call(this),this.dom.on("xds-event-triggering",function(t,a){e._eventfilter&&!e._eventfilter(a)||e.dom.on(a,function(t,i){e.xdo.trigger(a,i)})})}},{key:"show",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"show",this).call(this,!0),this._snippet&&this.build(function(){var t=e.position(e.dom.outerWidth(),e.dom.outerHeight());t&&(e.dom.addClass("xds-popover-".concat(t.variant)),t.modifier&&e.dom.addClass("xds-accessory-modifier-".concat(t.modifier)))})}},{key:"hide",value:function(){_get(_getPrototypeOf(n.prototype),"hide",this).call(this)}},{key:"dom",get:function(){return this._dom||(this._dom=$(a.createElement("div")),this._dom.addClass("xds-accessory"),this._dom.addClass("xds-accessory-popover"),this._dom.addClass("xds-accessory-persistent"),this.xdo&&this._dom.attr("data-parent",this.xdo.id()),this._dom.attr("id",this._id)),this._dom}},{key:"contents",get:function(){return this._contents},set:function(e){this._contents&&this._contents.attr("id")!==e.attr("id")&&this._contents.remove(),this._contents=e,this.dom.append(e)}},{key:"contentxdo",get:function(){if(this._contentxdoref)return this._contentxdoref.resolve()},set:function(e){var t=this;if(this.xdo){if(this._contentxdoref&&this._contentxdoref.resolve()===e)return!0;if(this.xdo){var a=this.xdo.ref();e.target=function(e){var t=this.__proto__.target(e),i=a.resolve();return!t&&i&&(t=i.target(e)),t},e.get_target=function(e,t){var i=this.__proto__.get_target(e,t),n=a.resolve();return!i&&n&&(i=n.get_target(e,t)),i},this._contentxdoref=e.ref(),e._dom=e.dom,e.dom=function(){return t.dom},e.on("xds-event-triggering",function(e){})}}}}]),n}();t.PopOver=r;var o={},s={handlers:{bodyClick:function(t){s.hideAll(),$(".xds-lightbox-accessoryclose").length>0&&($(t.originalEvent.target).hasClass("lightbox")||$(t.originalEvent.target).parent(".xds-lightbox-accessoryclose").length>0||e.get("lightbox").triggerClose())}},handleScroll:function(e){t.clearTimeout(o.scrollHandler),o.scrollHandler=t.setTimeout(function(){s.forceHideAll("scroll"),s.updateAll("scroll")},100)},hideAll:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"boolean"!=typeof e&&(e=!1);var i=".xds-accessory-shown:not(.xds-accessory-persistent)";e&&(i=".xds-accessory-shown");var n=$(i);n.length&&(n.removeClass("xds-accessory-shown"),n.trigger(a?"destroy":"hide"),n.each(function(e,a){var i=$(a);i.hasClass("xds-accessory-persistent")||t.setTimeout(function(){i.remove()})}));var r=[{selector:".xds-confirmDelete-confirm",css:{display:""}}];for(var o in r){var s=r[o];$(s.selector).css(s.css)}$(t).trigger("xds-hoverbox-hide")},forceHideAll:function(t){e.log.debug("accessory.forceHideAll"),s.hideAll(!0),$(".xds-dd-isopen:not(.xds-dd-legacyMode)").each(function(e,a){var i=$(a);i&&i.xdo&&i.xdo.dd&&i.xdo.dd.close(!0,!1,t)})},updateAll:function(e){$(".xds-accessory-shown.xds-accessory-persistent").trigger("recalculate"),s.hideAll()},tooltip:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.tooltip||e.xds.tooltip;if(t&&t.tooltip&&(a=t.tooltip),a&&"string"==typeof a&&a.indexOf("{{")>=0&&(e&&(a=e.tpl(a)),a.indexOf("{{")>=0&&(a=!1)),a&&"object"===_typeof(a)&&Array.isArray(a)){var i=[];for(var r in a){var o=a[r],s=o.data;s||(s=[]),"string"==typeof s&&(s=[s]);for(var d=!0,l={},c=0;c<s.length&&d;c++){var u=s[c];l[u]=e.get_val(u),l[u]||(d=!1)}if(d){var f=e.tpl(o.tpl);i.push(f)}}i.length>0&&(a=i.join("<br/>"))}a&&new n(e,a)},popover:function(e){new r(e)}};return e.browser.touch?e.pageListen({trigger:"touchstart"},s.handlers.bodyClick):e.pageListen({trigger:"click"},s.handlers.bodyClick),e.pageListen({trigger:"xds-lightbox-opening"},s.hideAll),e.pageListen({trigger:"xds-lightbox-closing"},s.hideAll),e.pageListen({trigger:"scroll"},s.handleScroll),e.pageListen({trigger:"wheel"},s.handleScroll),e.pageListen({trigger:"resize",source:t},s.updateAll),["xds-lightbox-closing","xds-lightbox-dragging"].map(function(a){e.pageListen({trigger:a,source:t},s.forceHideAll)}),t.setInterval(function(){$(".xds-accessory")},5e3),s}),cf.module("acharts",function(e,t,a,i){var n={chart:{},xaxis:{}},r=!1,o={},s={},d={};function l(e){return e.split(",").map(function(e){return e.trim()})}function c(e,t,a){"datetime"==e.arg("xtype")?u(t,a):t.sort(function(e,t){return t[a]-e[a]})}function u(e,t){e.sortBy(function(e){return e[t]})}function f(e,t){var a=[],n=!0,r=!1,o=i;try{for(var s,d=e[Symbol.iterator]();!(n=(s=d.next()).done);n=!0){var l=s.value,c={},u=!0,f=!1,g=i;try{for(var p,h=t[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var m=p.value;c[m]=l[m]}}catch(e){f=!0,g=e}finally{try{u||null==h.return||h.return()}finally{if(f)throw g}}a.push(c)}}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}return a}function g(e,t,a){var i=[],n={},r=[],o=e.arg("xdata")||"x",s=[];a.xonly||(s=l(s=e.arg("ydata")||"y"));var d=!0,u=!0;for(var f in Array.isArray(t)&&a.sort&&c(e,t,o),t)if(t[f][o]){for(var g in i.push(t[f][o]),s){var p=s[g];n.hasOwnProperty(p)||(n[p]=[]),e.arg("nulls")?n[p].push(t[f][p]&&+t[f][p]):n[p].push(+t[f][p])}t[f].nid&&t[f].rid&&r.push({nid:t[f].nid,rid:t[f].rid}),u&&isNaN(t[f][o])&&(u=!1),d&&!Date.parse(t[f][o])&&(d=!1)}return _defineProperty({x:i,y:n,xtype:u?"numeric":d?"datetime":"category",ndata:r},"ndata",r)}function p(e,t,a){var i=e.arg("pdata")||"y",n=e.arg("labels")||"x",r=[],o=[],s=[];for(var d in a&&(t=x(e,e.arg("datatarget"),a,t),n="x",i="y"),t)t[d][i]&&(r.push(t[d][i]),o.push(t[d][n]),t[d].nid&&t[d].rid&&s.push({nid:t[d].nid,rid:t[d].rid}));return{data:r,labels:o,ndata:s}}function h(e,t,a,i,n){series=[];var r=[];for(var o in Array.isArray(t)&&e.arg("sort")&&c(e,t,a),t)t[o][a]&&(series.push([t[o][a],t[o][i],t[o][n]]),t[o].nid&&t[o].rid&&r.push({nid:t[o].nid,rid:t[o].rid,snid:t[o].snid,pnid:t[o].pnid,id:t[o].id}));return{data:series,ndata:r}}function m(e,t){var a=[],i=[],n=e.arg("xdata")||"x",r=e.arg("ydata")||"y";r=r.split(",").map(function(e){return e.trim()});var o=!0,s=!0;for(var d in r)a[d]={},a[d].name=r[d],a[d].data=[];for(var l in t)if(t[l][n]){for(var c in r){var u=r[c];a[c].data.push({x:t[l][n],y:t[l][u]&&+t[l][u]})}t[l].nid&&t[l].rid&&i.push({nid:t[l].nid,rid:t[l].rid}),s&&isNaN(t[l][n])&&(s=!1),o&&!Date.parse(t[l][n])&&(o=!1)}return _defineProperty({data:a,xtype:s?"numeric":o?"datetime":"category",ndata:i},"ndata",i)}function v(e){var t=e.arg("datatarget"),a=function(a){var i=d[t][a];if(i===e||"enabled"!=i.arg("crossfilter"))return"continue";if("acharts.types.basic"==i.xds.type){if(i.arg("groupby"))n=s[a].all().map(function(e){return{x:e.key,y:e.value}});else{var l=r[t].size();n=o[a].top(l).map(function(e){return{x:e[i.arg("xdata")],y:e[i.arg("ydata")]}})}i.apexchart.updateSeries([{data:n}]),i.data=n}else"acharts.types.pie"==i.xds.type&&(n=s[a].all().map(function(e){return e.value}),i.apexchart.updateSeries(n))};for(var i in d[t]){var n;a(i)}}function b(e,t,a){var i=t.xdo,n=i.xds.type,r=a.selectedDataPoints[0],s=[];for(var d in r){var l=r[d];if("acharts.types.basic"==n)var c=i.data[l].x;else"acharts.types.pie"==n&&(c=i.data.labels[l]);s.push(c)}var u=t.xdo.arg("groupby");0==r.length?o[u].filterAll():o[u].filter(function(e){for(var t=!1,a=0;a<s.length;a++)if(e===s[a]){t=!0;break}return t}),v(i)}function _(e,t){var a=t.xaxis,i=(t.yaxis,e.xdo),n=a.min,r=a.max,s=e.xdo.arg("groupby");o[s].filter(function(e){return e>=n&&e<=r}),v(i)}function y(e,t){var a=e.arg("datatarget");if(e.xds.events||(t.chart.events={}),t.chart.events.dataPointSelection=b,t.chart.events.selection=_,t.chart.selection={enabled:!0},t.states={active:{allowMultipleDataPointsSelection:!0}},!e.arg("groupby")){var i=e.arg("xdata");r||(r={}),r[a]||(r[a]=crossfilter(e.state.get(a))),o[i]=r[a].dimension(function(e){return e[i]}),d[a][i]=e}return t}function x(e,t,a,i){r||(r={}),r[t]||(r[t]=crossfilter(i));var n=e.arg("groupformatter");return n?(n=new Function("x","return "+n.replace("x",'x["'.concat(a,'"]'))),o[a]=r[t].dimension(n)):o[a]=r[t].dimension(function(e){return e[a]}),s[a]=o[a].group(),i=(i=s[a].all()).map(function(e){return{x:e.key,y:e.value}}),d[t]||(d[t]={}),d[t][a]=e,i}function w(e,t,a){var i=e.state.get(t);return g(e,i,a)}function C(e,t){var i=e.arg("acoptions");i&&(function e(t,a){for(var i in a)if("string"==typeof a[i]&&a[i].includes("state:")){var n=a[i].split(":")[1];a[i]=t.state.get(n)}else"formatter"==i?function(){var e=a[i],t=e.split(":");a[i]=function(a,i){return D.formatters[t[0]](e,a,i)}}():"object"==_typeof(a[i])&&e(t,a[i])}(e,i=JSON.parse(i)),t=$.extend(!0,i,t));var n=new ApexCharts(a.getElementById(e.id().replace("#","")),t);return n.xdo=e,n.render(),n}function k(e,t){for(var a in t)"_"!=a[0]&&"id"!=a&&"type"!=a&&"fields"!=a&&"acoptions"!=a&&("title"!=a?e[a]=t[a]:e.text=t[a]);return e}function S(e){var t={};t=k(t,e.xds);var a=e.xds.fields;for(var i in a)if("acharts.aux.annotationlabel"==a[i].type){var n=a[i].id,r=e.xds.fields[n],o=e.state.get(n);o&&(r.title=r.title?r.title+" "+o:o);break}if(e.arg("datatarget")){var s=e.state.get(e.arg("datatarget"));t["acharts.aux.xannotation"==e.xds.type?"x":"y"]=s}if(r){t.label={},t.label=k(t.label,r);var d=r._styles;d&&d[0]&&d[0].styles&&(t.label.style=d[0].styles)}e.data=t,e.exit()}function T(e,t,a){var n=e.arg("aclabels");if(n)n=JSON.parse(n),t.dataLabels=n;else{var r=e.arg("dataLabels")||e.arg("dataLabels")===i;t.dataLabels={enabled:r}}var o=e.arg("tooltipxds"),s=e.arg("tooltipxdofunc");if(o||s){var d;if(o){var c=e;d=function(e){e.series;var t=e.seriesIndex,a=e.dataPointIndex,i=(e.w,e.t),n=void 0===i?c:i,r=e.xds,s=void 0===r?o:r,d=n.val().ndata?n.val().ndata[a].nid:n.val()[t].ndata[a].nid,l=n.get_xdo("*tloader");return l.args&&l.args.nid==d||l.newEvent("loadxds",{nid:d,xds:s}),$(l.id())[0].innerHTML}}else s&&(d=e.state.get(s));t.tooltip={custom:d}}var u=e.arg("acgrid");u&&(u=JSON.parse(u),t.grid=u);var f=e.arg("stacked");f&&(t.chart.stacked=f);var g=e.arg("group");g&&(t.chart.group=g);var p=e.arg("cid")||e.id();t.chart.id=p;var h=e.arg("toolbar");h&&(h=JSON.parse(h),t.chart.toolbar=h);var m=e.arg("brushtarget");m&&(t.chart.brush=m,t.chart.selection={enabled:!0,xaxis:{min:new Date(a[0]).getTime(),max:new Date(a[Math.floor(1*(a.length-1)/4)]).getTime()},fill:{color:"#fff",opacity:.4}}),e.arg("basetoolbar")&&(t.chart.toolbar={show:!0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:1,customIcons:[]},autoSelected:"zoom"});var v=e.arg("stroke");v&&(t.stroke={curve:v});var b=e.arg("charttitle");b&&(t.title={text:b});var _=e.arg("xtype");_&&(t.xaxis.type=_);var y=e.arg("colors");y&&e.state.get(y)?(y=e.state.get(y),t.colors=y):y&&(y=l(y),t.colors=y);var x=e.arg("yaxisTitle");if(x&&x.includes("datatarget:")){var w=x.split(":")[1];t.yaxis={title:{text:e.state.get(w)}}}var C=e.arg("yaxis-labels-show");if(C&&C.includes("datatarget:")){var k=C.split(":")[1];t.yaxis?t.yaxis.labels={show:e.state.get(k)}:t.yaxis={labels:{show:e.state.get(k)}}}return t}function M(e,t){if(!e.xds.events)return t;for(var a in t.chart.events={},e.xds.events){var i=e.xds.events[a];"chartclick"==i.trigger?t.chart.events.click=function(t,a,i){e.trigger("chartclick",{event:t,chartContext:a,config:i})}:"beforeMount"==i.trigger?t.chart.events.beforeMount=function(e,t){e.xdo.trigger("beforeMount",{chartContext:e,config:t})}:"mounted"==i.trigger?t.chart.events.mounted=function(e,t){e.xdo.trigger("mounted",{chartContext:e,config:t})}:"updated"==i.trigger?t.chart.events.updated=function(e,t){e.xdo.trigger("updated",{chartContext:e,config:t})}:"legendClick"==i.trigger?t.chart.events.legendClick=function(e,t,a){e.xdo.trigger("legendClick",{chartContext:e,seriesIndex:t,config:a})}:"selection"==i.trigger?t.chart.events.selection=function(e,t){var a=t.xaxis,i=t.yaxis;e.xdo.trigger("selection",{chartContext:e,xaxis:a,yaxis:i})}:"dataPointSelection"==i.trigger?t.chart.events.dataPointSelection=function(t,a,i){var n=e.data.ndata[i.dataPointIndex].nid;e.trigger("dataPointSelection",{event:t,chartContext:a,config:i,nid:n})}:"dataPointMouseEnter"==i.trigger?t.chart.events.dataPointMouseEnter=function(e,t,a){t.xdo.trigger("dataPointMouseEnter",{event:e,chartContext:t,config:a})}:"dataPointMouseLeave"==i.trigger?t.chart.events.dataPointMouseLeave=function(e,t,a){t.xdo.trigger("dataPointMouseLeave",{event:e,chartContext:t,config:a})}:"beforeZoom"==i.trigger?t.chart.events.beforeZoom=function(e,t){var a=t.axis;e.xdo&&e.xdo.trigger("beforeZoom",{chartContext:e,axis:a})}:"zoomed"==i.trigger?t.chart.events.zoomed=function(e,t){var a=t.xaxis,i=t.yaxis;e.xdo.trigger("zoomed",{chartContext:e,xaxis:a,yaxis:i})}:"scrolled"==i.trigger&&(t.chart.events.scrolled=function(e,t){var a=t.xaxis;e.xdo.trigger("scrolled",{chartContext:e,xaxis:a})})}return t}function I(e,t){var a=e.get_children();if(!a)return t;for(var i in t.annotations={},a){var n=a[i];"acharts.aux.yannotation"==n.type?(t.annotations.yaxis||(t.annotations.yaxis=[]),t.annotations.yaxis.push(e.get_xdo("*"+n.id).val())):"acharts.aux.xannotation"==n.type?(t.annotations.xaxis||(t.annotations.xaxis=[]),t.annotations.xaxis.push(e.get_xdo("*"+n.id).val())):"acharts.aux.yaxis"==n.type&&(t.yaxis||(t.yaxis=[]),t.yaxis.push(e.get_xdo("*"+n.id).val()))}return t}function A(a){if(!t.ApexCharts){var n=e.get("guid").rfc4122();return e.get("resourceutils").load([{name:"apexcharts",injectdirect:!0,initTest:function(e){return e._apexrsrc!==i||(e._apexrsrc=!0,!1)},loadedTest:function(){return!!t.ApexCharts},main:[e.gbl.lib+"pkg/node_modules/apexcharts/dist/apexcharts.min.js",e.gbl.lib+"pkg/node_modules/crossfilter2/crossfilter.min.js"],postFunc:function(){}}]).then(function(){a.state.set(n,1)}),a.state.get(n),a.exitBlank(),!1}return!0}!function(){if("function"==typeof Object.defineProperty)try{Object.defineProperty(Array.prototype,"sortBy",{value:e})}catch(e){}function e(e){for(var t=this.length;t;){var a=this[--t];this[t]=[].concat(e.call(a,a,t),a)}for(this.sort(function(e,t){for(var a=0,i=e.length;a<i;++a)if(e[a]!=t[a])return e[a]<t[a]?-1:1;return 0}),t=this.length;t;)this[--t]=this[t][this[t].length-1];return this}Array.prototype.sortBy||(Array.prototype.sortBy=e)}();var D={types:{basic:function(e){A(e)&&e.on("onload",function(e){var t=e.arg("datatarget"),a={};$.extend(!0,a,n),e.arg("xdata"),e.arg("ydata"),e.arg("dataLabels"),e.arg("tooltipxds"),e.arg("aclabels"),e.arg("acgrid"),e.arg("stacked"),e.arg("acoptions"),e.arg("toolbar"),e.arg("stroke"),e.arg("charttitle"),e.arg("nulls"),e.arg("charttype");var i=e.arg("dataformat"),r=e.arg("groupby");r&&t?a=function(e,t,a,i){var n,r=e.state.get(t);n=r,r=Object.keys(n).map(function(e){return n[e]}),i&&(r=x(e,t,i,r));var o=e.arg("charttype")||"bar";return a.series=[{name:e.arg("ydata"),data:r,type:o}],e.data||(e.data=r),a}(e,t,a,r):"paired"==i&&t?a=function(e,t,a){data=e.state.get(t),sort&&c(e,data,0);var i=e.arg("charttype")||"bar";return a.series=[{name:e.arg("ydata"),data:data,type:i}],e.data||(e.data=data),a}(e,t,a):"ppm"==i&&t?a=function(e,t,a){var i,n=e.state.get(t),r=[];i=e.arg("dynamicLabels")?e.state.get(e.arg("dynamicLabels")):l(e.arg("ydata"));var o=e.arg("charttype")?l(e.arg("charttype")):"bar";a.series=[];var s=0;for(var d in n){var c=n[d];u(c,"x");var g=f(c,["rid","nid","snid","pnid","id"]);c=f(c,["x","y"]),a.series.push({name:i.length>1?i[s]:i[0],charttype:o.length>1?o[s]:o[0],data:c}),r.push({data:c,ndata:g}),s++}return e.data=r,a}(e,t,a):t&&(a=function(e,t,a){var i=e.arg("sort");t?(data=w(e,t,{sort:i}),xdata=data.x,ydata=data.y,xtype=data.xtype):e.val()&&(data=g(e,e.val(),{sort:i}),xdata=data.x,ydata=data.y,xtype=data.xtype);var n=e.arg("charttype")||"bar";if(n=n.split(",").map(function(e){return e.trim()}),a.series=[],1==Object.keys(ydata).length)a.series=[{name:e.arg("ydata"),data:ydata[e.arg("ydata")]}],a.chart={type:n[0]};else{var r=0;for(var o in ydata)a.series.push({name:o,data:ydata[o],type:n[r]}),n.length>1&&r++}return a.xaxis={type:xtype,categories:xdata},e.data||(e.data=data),a}(e,t,a)),"enabled"==e.arg("crossfilter")&&(a=y(e,a)),a=M(e,a=T(e,a=I(e,a),void 0)),e.apexchart=C(e,a)})},radar:function(e){A(e)&&e.on("onload",function(e){var t,a,i,r=e.arg("datatarget"),o={};if($.extend(!0,o,n),e.arg("xdata"),e.arg("ydata"),e.arg("dataLabels"),e.arg("tooltipxds"),e.arg("acoptions"),e.arg("toolbar"),e.arg("charttitle"),r)for(var s in t=(i=w(e,r,{})).x,a=i.y,o.series=[],a){var d=a[s];o.series.push({name:s,data:d}),o.labels=t}e.data||(e.data=i),o.chart.type="radar",o=M(e,o=T(e,o,t)),e.apexchart=C(e,o)})},circle:function(e){A(e)&&e.on("onload",function(e){var t,a,i,r=e.arg("datatarget");r?(a=(i=p(e,e.state.get(r))).labels,t=i.data):t=e.val().x,e.data||(e.data=i);var o={};$.extend(!0,o,n),o.chart.type="radialBar",o.series=t,o.labels=a,o=M(e,o=T(e,o,a)),e.apexchart=C(e,o)})},pie:function(e){A(e)&&e.on("onload",function(e){var t,a,i,r=e.arg("datatarget"),o=e.arg("groupby");r?(t=(i=p(e,e.state.get(r),o)).data,a=i.labels):e.val()&&(i=p(e,e.val()),xdata=i.x,xtype=i.xtype),e.data||(e.data=i);var s={};$.extend(!0,s,n);var d=e.arg("charttype")||"pie";"pie"!=d&&"donut"!=d&&(d="pie"),s.chart.type=d,s.series=t,s.labels=a,"enabled"==e.arg("crossfilter")&&(s=y(e,s));var l=e.arg("customscale"),c=e.arg("piesize"),u=e.arg("donutradius");(c||l||u)&&(s.plotOptions={pie:{customScale:l,size:c}},u&&(s.plotOptions.pie.donut={size:u})),s=M(e,s=T(e,s,a)),e.apexchart=C(e,s)})},sync:function(e){A(e)&&e.on("onload",function(e){var t=e.get_children(),a=e.arg("xdata"),i=e.arg("datatarget"),n=e.id();for(var r in t){var o=t[r];o.xdata=a,o.group=n,o.datatarget=i}})},brush:function(e){A(e)&&e.on("onload",function(e){var t=e.get_children(),a=e.arg("xdata"),i=e.arg("datatarget"),n=e.arg("ydata"),r=e.arg("brushtarget");for(var o in t){var s=t[o];s.xdata=a,s.ydata=n,s.datatarget=i,s.id==r?(s.toolbar={autoSelected:"pan",show:!1},s.cid=r):s.brushtarget={target:r,enabled:!0}}})},candlestick:function(e){A(e)&&e.on("onload",function(e){var t,a=e.arg("datatarget");if(e.arg("xdata"),e.arg("ydata"),e.arg("dataLabels"),e.arg("tooltipxds"),e.arg("aclabels"),e.arg("acgrid"),e.arg("stacked"),e.arg("acoptions"),e.arg("toolbar"),e.arg("stroke"),a){t=e.state.get(a),t=function(e,t){var a=[],i=[],n=e.arg("xdata")||"x",r=[];for(var o in r=(r=e.arg("ydata")||"open, high, low, close").split(",").map(function(e){return e.trim()}),t)if(t[o][n]){for(var s in a.push({x:t[o][n],y:[]}),r){var d=r[s];a[o].y.push(+t[o][d])}t[o].nid&&t[o].rid&&i.push({nid:t[o].nid,rid:t[o].rid})}return a}(e,t),e.data||(e.data=t);var i={};$.extend(!0,i,n),i.series=[{data:t}],i.chart.type="candlestick",i.xaxis={type:"datetime"},i=M(e,i=T(e,i,void 0)),e.apexchart=C(e,i)}})},realtime:function(e){A(e)&&e.on("onload",function(e){var a=e.arg("datatarget");e.arg("xdata"),e.arg("ydata"),e.arg("dataLabels"),e.arg("tooltipxds"),e.arg("aclabels"),e.arg("acgrid"),e.arg("stacked"),e.arg("acoptions"),e.arg("toolbar"),e.arg("stroke"),e.arg("charttitle");var r=m(e,e.state.get(a)),o=r.data;e.data=r;var s={};$.extend(!0,s,n);var d=e.arg("charttype")||"bar";s.chart.type=d,s.xaxis={type:r.xtype},s.series=o;var l=e.arg("rtaspeed");l&&(s.chart.animations={dynamicAnimation:{enabled:!0,speed:l}}),s=T(e,s,void 0),s=M(e,s),e.apexchart=C(e,s);var c,u=e.arg("realtimeinterval")||1e3,f=(c=e.ref(),function(e){var t=c.resolve();if(t){var a=m(t,e),i=a.data;t.data=a,t.apexchart.updateSeries(i)}});e.arg("rtstate")?e.state.watch(e.arg("rtstate"),f):t.setInterval(function(){var t=arguments.length>0&&arguments[0]!==i?arguments[0]:e,n=arguments.length>1&&arguments[1]!==i?arguments[1]:a;t.trigger("rtupdate",{target:n});var r=t.state.get(n);f(r)},u)})},bubble:function(e){A(e)&&e.on("onload",function(e){var t,a=[],i=e.arg("dynamicDataTarget"),r=e.arg("auxDataTarget"),o=e.arg("charttype"),s=[],d=e.arg("connectBubbles")||!1;if("string"==typeof d&&(d=l(d)),i){t=e.state.get(i);var c=l(e.arg("datatarget"));for(var f in c)s.push(e.state.get(c[f]))}else t=e.arg("datatarget");var g=e.arg("xdata")||"x",p=e.arg("ydata")||"y",m=e.arg("zdata")||"z",v=e.arg("labels")||t;i||(t=l(t),g=l(g),p=l(p),m=l(m),v=l(v));var b=[],_=[];if(r)for(var y in r=l(r),o=l(o),r){var x=r[y],w=e.state.get(x);if(w||(w=[]),"line"==o[y])e.arg("sort")&&(u(w,"x"),w=w.map(function(e){return[e.x,e.y]})),w.length>1&&_.push({name:x,data:w,type:o[y]});else{var k=h(e,w,g,p,m);b.push({name:x,data:k.data,type:o[y]}),a.push(k)}}var S=function(e,t,i){i?(b.push({name:t,data:e.data,type:"scatter"}),a.push(e),e.data.length>1&&_.push({name:t+"line",data:e.data.map(function(e){return e.slice(0,2)}),type:"line"})):(b.push({name:t,data:e.data}),a.push(e))};for(var A in t){var D=t[A],L=void 0,E="";if(i){L=e.state.get(e.arg("dynamicLabels"))[A];var N=0;for(var P in s)S(h(e,s[P][D],g,p,m),L+E,"boolean"==typeof d&&!0===d||"true"===d[N]),E+=e.arg("multiDynamicSeriesModifier")||"*",N++}else S(h(e,e.state.get(D),g[A],p[A],m[A]),L=v[A],d)}e.arg("connectBubbles")&&(b=b.concat(_)),e.data=a;var j={};$.extend(!0,j,n),j.series=b,e.arg("connectBubbles")?_.length?j.chart.type="line":j.chart.type="scatter":j.chart.type="bubble",j=M(e,j=T(e,j=I(e,j),[])),e.apexchart=C(e,j)})},heatmap:function(e){A(e)&&e.on("onload",function(e){var t=e.arg("datatarget"),a=m(e,e.state.get(t));e.data=a;var i={};$.extend(!0,i,n),i.series=a.data,i.chart.type="heatmap",i.plotOptions={heatmap:{}};var r=e.arg("colors");r=l(r),i.colors=r,e.arg("invert")&&(i.plotOptions.heatmap.colorScale={inverse:!0});var o=e.arg("radius");o&&(i.plotOptions.heatmap.radius=+o),i=M(e,i=T(e,i,[])),e.apexchart=C(e,i)})},rangebar:function(e){A(e)&&e.on("onload",function(e){var t=e.arg("datatarget"),a=function(e,t){var a=[],i=[],n=e.arg("xdata")||"x",r=e.arg("maxdata")||"max",o=e.arg("mindata")||"min",s=e.arg("ydata");for(var d in t){var l=t[d][n];if(l){if(s){var c=JSON.parse(t[d][s]);a.push({x:l,y:c})}else{var u=t[d][o],f=t[d][r];a.push({x:l,y:[u,f]})}t[d].nid&&t[d].rid&&i.push({nid:t[d].nid,rid:t[d].rid})}}return{data:a,ndata:i}}(e,e.state.get(t));e.data=a;var i={};$.extend(!0,i,n),i.chart.type="rangeBar",i.series=[{data:a.data}],i=M(e,i=T(e,i,[])),e.apexchart=C(e,i)})}},aux:{yannotation:function(e){S(e)},xannotation:function(e){S(e)},annotationlabel:function(e){},yaxis:function(e){!function(e){var t={};t=k(t,e.xds),acoptions=e.xds.acoptions,acoptions&&(acoptions=JSON.parse(acoptions),t=$.extend(!0,acoptions,t)),e.data=t,e.exit()}(e)}},formatters:{decimal:function(e,t){var a=e.split(":"),i=0;return a.length>1&&(i=parseInt(a[1])),t.toFixed(i)},perspectiveFormatter:function(e,t,a){return 0==a.seriesIndex?"A":1==a.seriesIndex?"L":void 0},multiPerspectiveFormatter:function(e,t,a){if(1==a.ctx.xdo.state.get("studentList").length)return 0==a.seriesIndex?"A":1==a.seriesIndex?"L":void 0},nullFormatter:function(e,t,a){}}};return D}),cf.module("addresources",function(e,t,a){var i={registered:{}},n={malwarescanning:!1,inbrowseraudio:!0,inbrowservideo:!0,cordovaaudio:!0,allowServerPreviewers:!1,allowXDSPreview:!0},r=function(t,a){e.settings.dev},o=function(e){for(var t=[".xds-scroll",".xds-responsive-layout-body"],a=0;a<t.length;a++){var i=t[a],n=e.parents(i);if(n.length)return n}return[]},s=function(e){var t=o(e);t.length?e.global("savedScroll",t[0].scrollTop):e.global("savedScroll",a.body.scrollTop)},d={fileTypeAllowed:function(t,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!0;if(e.settings.blockedfiles&&!t.has_role("SysAdmin")){var r=a.split(".").pop().toUpperCase();e.settings.blockedfiles.whitelist?n=e.settings.blockedfiles.whitelist[r]||!1:e.settings.blockedfiles.blacklist&&e.settings.blockedfiles.blacklist[r]&&(n=!1)}return!n&&i&&e.dialog(e.tpl(e.lang("The file type of &quot;{{filename}}&quot; is not permitted by your organization."),{filename:e.mlescape(a)})),n},upload:function(t,a,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return r||(r="upload"),e.get("queues").create("net::upload",function(e){return e.extradata.factory()},!1,1).queue(e.get("guid").rfc4122(),void 0,{factory:function(){return new Promise(function(l,c){var u=new XMLHttpRequest,f=new FormData;for(var g in a){var p=a[g];o&&"name"===g&&(p=[o,p].join("/")),f.append(g,p)}if(t.lastModifiedDate&&t.lastModifiedDate.toISOString&&(f.append("ctime",t.lastModifiedDate.toISOString()),f.append("mtime",t.lastModifiedDate.toISOString())),Array.isArray(t)&&Array.isArray(r))for(var h=0;h<t.length;h++){var m=t[h].name;if("BlobUpload"==t[h].name||a.name){var v=t[h].name,b=a.name;if("BlobUpload"!==v&&v.includes(".")){var _=v.split(".").pop();b.endsWith(".".concat(_))||(b="".concat(b,".").concat(_))}}f.append(r[h],t[h],m)}else{if(t.size&&t.size>536870912)return void c({status:403,response:{err:e.lang("Error: File is larger than 512MB.")}});var y=t.name;("BlobUpload"==t.name||a.name)&&(y=a.name),f.append(r,t,y)}n&&u.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=Math.round(100*e.loaded/e.total);n(t)}}),u.onreadystatechange=function(){if(4==u.readyState&&200==u.status){var t=u.responseText;try{t=JSON.parse(t)}catch(e){}t.slices&&(t={nid:t.slices[0].nid}),l({response:t,xhr:u})}else if(4==u.readyState){var a=e.handleResponse(u.responseText,u);c(a)}};var x={command:i&&i.command||"create",nid:i&&i.nid||"persfolder",xds:i&&i.xds||"MultiFileUploaderNoThumbnailing",nodetype:d||e.nt.File.Attachment()};s||(x.temp="tmp"),e.settings.runtime.permlog&&(x._permlog=1),u.open("POST",i&&i.action||e.gen_url(x)),u.send(f)})}}).promise},linkUploads:function(t,a){return e.post({url:{xds:a.xds,nid:a.nid},xdo:t,data:{"body-uploader-linkFiles":a.linknids.join(",")}})},doUpload:function(e,t){t||(t={}),e.global("uploadTargetNid")&&(t.nid=e.global("uploadTargetNid"));var a=!1;return new Promise(function(i,n){t.xds=t.xds||"AddFilesLBNoThumbnail",t.supercede=!0,e.on("xds-AddFilesLB-done",function(e){a||(i({response:e.get_arg("response"),filenames:e.get_arg("filenames"),files:e.get_arg("files")}),a=!0)}),e.newEvent("lightbox.open",t).finally(function(){$(".xds-lightbox-wrap-supercede").remove(),a||(i(),a=!0)})})},have_file_integration:function(e,t,a){var i,n=d.fn.getIDByName(t);return!(!(n&&(i=d.fn.get(n))&&i.file)||!i.share&&a)},fn:{cleanupTransitive:function(e){e.trigger("xds-addresources-cleanupTransitive")},updateFileCaption:function(a){a.temp.captionTimeout&&t.clearTimeout(a.temp.captionTimeout);var i=a.state.get(a.get_val("id")),n=e.get("sanitizer").sanitize(a.val());i.response&&(a.temp.captionTimeout=t.setTimeout(function(){e.post({url:{xds:"MultiFileUploaderNoThumbnailing",nid:i.response.nid},xdo:a,data:{caption:n}}),delete a.temp.captionTimeout},300))},isImageUpload:function(e){var t=e.state.get(e.get_val("id"));return t&&t.internal&&t.internal.type&&0===t.internal.type.toLowerCase().indexOf("image/")},hasUploads:function(e){for(var t=e.state.data.activeFiles||[],a=0,i=0;i<t.length;i++)t[i]._removed||(a+=1);return a>0},hasSharedUploads:function(e){for(var t=e.state.data.activeFiles||[],a=Object.values(t),i=0;i<a.length;i++){var n=a[i];if(!n._removed&&n.response.shared)return!0}return!1},haveShareEnabled:function(e){for(var t=Object.values(i.registered),a=0;a<t.length;a++)if(t[a].share)return!0;return!1},register:function(t){var a=d.fn.getIDByName(t.name);return a||(a=e.get("guid").rfc4122(),i.registered[a]=t,void 0===t.file&&(t.file=!0),"upload"==t.commit&&(t.commit=c),$(".xds-addresources-container").trigger("availableUploadersChanged"),a)},unregister:function(e){return!!i.registered[e]&&(delete i.registered[e],$(".xds-addresources-container").trigger("availableUploadersChanged"),!0)},get:function(e){return!!i.registered[e]&&i.registered[e]},getIDByName:function(e){for(var t in i.registered)if(i.registered[t].name==e)return t;return!1}},types:{skel:function(e){var t=d.fn.get(e.get_val("uploaderID"));t.skel?t.skel(e):(e.displayVal="",e.tag("div"))},picker:function(t){t.state.get("availableUploaders"),t.state.get("registeredUploaders");var a=t.global("suppressedButtons")||{},n=t.arg("share"),r=[],o="";for(var s in t.get_setting("filter")&&(o=t.get_setting("filter")),e.settings.dev,i.registered)if(e.settings.dev,(!n||i.registered[s].share)&&("*"===i.registered[s]["content-types"]||0===i.registered[s]["content-types"].indexOf(o))&&!a[i.registered[s].name]&&(!i.registered[s].disabled||t.state.get("upenable-"+s))){var l=!0;if(i.registered[s].extensions)for(var c=0;c<i.registered[s].extensions.length&&(l=d.fileTypeAllowed(t,"file.".concat(i.registered[s].extensions[c]),"",!1));c++);l&&(i.registered[s].requirementscheck&&i.registered[s].requirementscheck()||!i.registered[s].requirementscheck)&&r.push({uploaderID:s})}e.settings.dev,t.data={button:r}},container:function(a){var i;if(a.arg("viewerBlacklist")){var n=a.arg("viewerBlacklist").split(","),o={};for(i=0;i<n.length;i++)o[n[i]]=!0;a.state.set("viewerBlacklist",o)}if(a.addClass("xds-needsunload"),a.arg("suppressButtons")){var l=a.arg("suppressButtons").split(","),c={};for(i=0;i<l.length;i++)c[l[i]]=1;a.global("suppressedButtons",c)}if(a.arg("filter")&&a.set_setting("filter",a.arg("filter")),a.arg("uploadData"))if("string"==typeof a.arg("uploadData"))try{a.temp.uploadData=JSON.parse(a.arg("uploadData"))}catch(e){}else a.temp.uploadData=a.arg("uploadData");a.get_setting("fieldref")&&(a.temp.uploadData||(a.temp.uploadData={}),a.temp.uploadData.fieldref=a.get_setting("fieldref")),a.state.set("filenameMap",{});var f=function(e,t){var a=e.target("*linkFiles"),i=e.target("*linkRich");if(void 0===t){var n={temp:a.val().split(","),rich:i.val().split(",")};return 1==n.temp.length&&""==n.temp[0]&&(n.temp=[]),1==n.rich.length&&""==n.rich[0]&&(n.rich=[]),n}Array.isArray(t)?(a.val(t.join(",")),i.val(t.join(","))):(t.temp&&a.val(t.temp.join(",")),t.rich&&i.val(t.rich.join(",")))},g=function(e,t,a){var i=f(e),n=function(e,t){for(var a={},i=0;i<t.length;i++){var n=t[i];e!=n&&(a[n]=!0)}return Object.keys(a)};(t.temp||void 0===t.temp)&&(i.temp=n(a,i.temp)),(t.rich||void 0===t.rich)&&(i.rich=n(a,i.rich)),f(e,i)},p=function(e,t,a){g(e,t,a);var i=f(e);(t.temp||void 0===t.temp)&&i.temp.push(a),(t.rich||void 0===t.rich)&&i.rich.push(a),f(e,i)};a.set_val("uploaderID",e.get("guid").rfc4122()),a.ready(function(t){var a=e.constant.np.Library();t.temp.uploadData&&(a=t.temp.uploadData.pin),t.target("*integrationfiledata").val("pin:".concat(a));var i=t.parents("form");i.find('textarea, input[type="text"], .xds-richforms-f_extendedTextEditor').on("paste",function(a){var i=d.fn.getIDByName("localBrowse");if(a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.items&&a.originalEvent.clipboardData.items.length>0){for(var n in a.originalEvent.clipboardData.items){var r=a.originalEvent.clipboardData.items[n];if("string"===r.kind&&"text/plain"===r.type)return}for(var o in a.originalEvent.clipboardData.items){var s=a.originalEvent.clipboardData.items[o];if("file"==s.kind){var l=s.getAsFile();if(l){var c=l.name.replace(".","-"+e.get("guid").rfc4122()+"."),u=[{id:e.get("guid").rfc4122(),uploader:i,internal:l,type:"File",name:c}];t.trigger("filesSelected",{files:u,from:i}),t.trigger("filesReady",{files:u,from:i}),a.stopPropagation(),a.preventDefault()}}}}}),i.xdo&&e.settings.oembed&&(i.xdo.temp.urlhandler=function(t){var a=d.fn.getIDByName("registeredApp-bookmark"),n=i.xdo;n.temp.handledUrls||(n.temp.handledUrls={});var r=t;t.indexOf("?")>=0&&(r=t.split("?")[0]),r.indexOf("#")>=0&&(r=t.split("#")[0]),n.temp.handledUrls[r]||(n.temp.handledUrls[r]=!0,r.indexOf("@")<=0&&e.post({url:{xds:"AddBookmark",command:"create",nodetype:e.nt.Document.Bookmark(),temp:"tmp",nid:"tmp",xdsr:"Embed",rxdstype:"node"},xdo:n,data:{"body-bookmark-linkurl":t},callback:function(e){e.error||n.find("[data-uploaderid=".concat(a,"]")).trigger("resourcesSaved",e)}}))})}).on("xds-addresources-cleanupTransitive",function(e){var t,a=e.temp._uploader&&e.temp._uploader._active||[],i=[];for(t=0;t<a.length;t++)a[t].transitive&&i.push(a[t]);for(t=0;t<i.length;t++)e.trigger("xds-addresources-remove-file",i[t])}).on("availableUploadersChanged",function(t){t.state.set("availableUploaders",e.get("guid").rfc4122())}).on("filesSelected",function(t){var a=t.get_arg("files");s(t),t.global("scrollLastIntoView",e.platform.mobile),t.target("*preview").trigger("previewFiles",{files:a}),t.temp._uploader||(t.temp._uploader={_active:[]}),t.temp._uploader[t.get_arg("from")]||(t.temp._uploader[t.get_arg("from")]={objects:[]});for(var i=0;i<a.length;i++){var n=t.get_arg("from");d.fileTypeAllowed(t,a[i].name)&&(t.temp._uploader[n].objects.push(a[i]),t.temp._uploader._active.push(a[i]),t.state.set(a[i].id,a[i]))}t.state.set("activeFiles",t.temp._uploader._active),r()}).on("filesReady",function(e){var t=e.get_arg("files");s(e),e.target("*preview").trigger("previewFiles",{files:t}),e.temp._uploader||(e.temp._uploader={_active:[]}),e.temp._uploader[e.get_arg("from")]||(e.temp._uploader[e.get_arg("from")]={objects:[]});for(var a=0;a<t.length;a++){for(var i=e.get_arg("from"),n=d.fn.get(i),o=0;o<e.temp._uploader._active.length;o++)e.temp._uploader._active[o].id==t[a].id&&(e.temp._uploader._active[o]=t[a]);e.state.set(t[a].id,t[a]),n.commit&&n.commit(e,t[a],e.temp.uploadData)}e.state.set("activeFiles",e.temp._uploader._active),r()}).on("drop",function(t){var a=function(a){var i=new XMLHttpRequest;i.open("GET",a),i.responseType="blob",i.onload=function(a){if(200==this.status){var n=this.response,r=d.fn.getIDByName("localBrowse"),o=i.getResponseHeader("content-disposition"),s=i.getResponseHeader("content-type");if(o&&0==o.indexOf("filename=")?o=o.replace('filename="',"").replace('"',""):s&&(o="capturedFile-"+e.get("guid").rfc4122()+"."+s.split("/")[1]),o){n.lastModifiedDate=new Date,n.name="BlobUpload";var l=[{id:e.get("guid").rfc4122(),uploader:r,internal:n,type:"File",name:o}];t.trigger("filesSelected",{files:l,from:r}),t.trigger("filesReady",{files:l,from:r})}}else e.settings.dev},i.send()};t.stopPropagation(),t.preventDefault();var i=t.e.originalEvent;if(i.dataTransfer&&i.dataTransfer.files&&u(t,i.dataTransfer.files,d.fn.getIDByName("localBrowse")),i.dataTransfer&&i.dataTransfer.items){for(var n={},o=0;o<i.dataTransfer.items.length;o++)e.settings.dev,n[i.dataTransfer.items[o].type]=i.dataTransfer.items[o];if(n["edsby/fileuri"])n["edsby/fileuri"].getAsString(function(e){a(e)});else if(n["text/uri-list"]){var s=event.dataTransfer.getData("URL");0==s.indexOf(e.gbl.p)?a(s):a(e.get("files").utils.embedExternalImageURI(t,s))}}r()}).on("xds-addresources-upload-progress",function(e){for(var t=e.get_arg("id"),a=e.get_arg("percentage"),i=0;i<e.temp._uploader._active.length;i++)e.temp._uploader._active[i].id!=t||e.temp._uploader._active[i].complete||(e.temp._uploader._active[i].percentage=a,e.state.set(t+"-progress",e.temp._uploader._active[i]));r()}).on("xds-addresources-upload-complete",function(e){var t,a,i=e.get_arg("uploader"),n=d.fn.get(i),o=e.temp._uploader[i],s=e.get_arg("id");for(t=0;t<o.objects.length;t++)o.objects[t].id==s&&(o.objects[t].percentage=100,o.objects[t].complete=!0,o.objects[t].response=e.get_arg("response"),o.objects[t].response&&p(e,n,o.objects[t].response.nid),e.state.set(s+"-progress",o.objects[t]),e.state.set(s+"-complete",o.objects[t]),e.trigger("xds-addresources-file-uploaded",{}));var l=!0;for(!1===e.get_arg("allcomplete")&&(l=!1),a=0;a<e.temp._uploader._active.length;a++)e.temp._uploader._active[a].id==s&&(e.temp._uploader._active[a].complete=!0),e.temp._uploader._active[a].complete||(l=!1);if(l){var c=[],u=[];for(t in e.temp._uploader._active)e.temp._uploader._active._removed||(c.push(e.temp._uploader._active[t].name),u.push({name:e.temp._uploader._active[t].name,response:e.temp._uploader._active[t].response}));e.trigger("xds-addresources-all-files-uploaded",{filenames:c,files:u})}r()}).on("xds-addresources-upload-failed",function(e){var t,a,i=e.get_arg("uploader"),n=e.temp._uploader[i],r=e.get_arg("id"),o=!0;for(t=0;t<n.objects.length;t++)n.objects[t].id==r&&(n.objects[t].percentage=100,n.objects[t].complete=!0,n.objects[t].failed=!0,n.objects[t].response=e.get_arg("response"),n.objects[t].response&&n.objects[t].response.nid&&nids.push(n.objects[t].response.nid),e.state.set(r+"-progress",n.objects[t]),e.state.set(r+"-complete",n.objects[t]),e.state.set(r+"-failed",n.objects[t]),e.trigger("xds-addresources-file-uploaded",{}));for(a=0;a<e.temp._uploader._active.length;a++)e.temp._uploader._active[a].id==r&&(e.temp._uploader._active[a].complete=!0),e.temp._uploader._active[a].complete||(o=!1);if(o){var s=[],d=[];for(t in e.temp._uploader._active)e.temp._uploader._active._removed||(s.push(e.temp._uploader._active[t].name),d.push({name:e.temp._uploader._active[t].name,response:e.temp._uploader._active[t].response}));e.trigger("xds-addresources-all-files-uploaded",{filenames:s,files:d})}}).on("xds-addresources-remove-file",function(t){var a,i=t.get_arg("id"),n=[],r=t.get_arg("uploader"),o=d.fn.get(r),s=t.temp._uploader[r];for(a=0;a<s.objects.length;a++)s.objects[a].id==i&&(s.objects[a]._removed=!0),!s.objects[a]._removed&&s.objects[a].response?n.push(s.objects[a].response.nid):s.objects[a]._removed&&s.objects[a].response&&g(t,o,s.objects[a].response.nid);for(a=0;a<t.temp._uploader._active.length;a++)if(t.temp._uploader._active[a].id==i){t.temp._uploader._active[a]._removed=!0;var l=d.fn.get(t.temp._uploader._active[a].uploader);l.remove&&l.remove(t,t.temp._uploader._active[a]);var c=e.get_obj($([".xds-addresources-file",i].join("-")));c&&c.target("*preview").xdo.trigger("xds-addresources-preview-cleanup")}t.state.set("activeFiles",t.temp._uploader._active)}).on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.temp.draginprogress=!0,e.e.preventDefault(),e.e.stopPropagation()}).on("drop dragend",function(e){a.temp.draginprogress=!1,a.temp.outtimeout=a.setTimeout(function(){a.temp.draginprogress||a.dom().removeClass("is-droppable")},100),a.e.preventDefault(),a.e.stopPropagation()}).on(t,"dragover dragenter",function(e){e.dom().addClass("is-droppable"),e.temp.draginprogress=!0,e.temp.outtimeout&&(t.clearTimeout(e.temp.outtimeout),e.temp.outtimeout=!1)}).on(t,"dragleave dragend drop",function(e){e.temp.draginprogress=!1,e.temp.outtimeout=t.setTimeout(function(){e.temp.draginprogress||e.dom().removeClass("is-droppable")},300)}).on("xds-addresources-launchUploader",function(t){for(var a=t.child("buttons",1).children(),i=0;i<a.length;i++)t.get_arg("uploader")==e.get_obj(a[i]).get_val("uploaderID")&&e.get_obj(a[i]).trigger("xds-addresources-launch",{nid:t.get_arg("nid")})})},glyph:function(e){e.displayVal="",e.arg("icon",e.data),e.arg("fa_class","fas"),e.inherit("fa.glyph")},existingFiles:function(e){var t=e.state.parent().get("amalgamatedFiles");e.data={file:t}},existingFile:function(t){var a=d.fn.getIDByName("existingfile");t.data.nid=t.nid();var i={id:e.get("guid").rfc4122(),uploader:a,internal:t.data,type:"File",complete:!0,_includeNID:!1,name:t.data.ContentName};t.ready(function(){t.trigger("filesSelected",{files:[i],from:a}),t.trigger("filesReady",{files:[i],from:a})})},button:function(a){a.attr("role","button");var n=a.data.uploaderID,r=i.registered[n];if(a.attr("data-uploaderid",n),r.button=a,r.tooltip&&(a.tooltip=r.tooltip),a.attr("aria-label",a.tooltip),a.data={glyph:r.glyph,label:r.tooltip},r.skel&&(a.data.skel=!0),a.on("click",function(a){var i=!0;if(a.stopPropagation(),a.preventDefault(),r.toggle)for(var o=a.state.parent().data.activeFiles||[],s=0;s<o.length;s++)if(n==o[s].uploader&&!o[s]._removed&&!o[s].complete){i=!1;break}if(d.fn.cleanupTransitive(a),i)if(e.platform.native&&t.EdsbyReactBridge&&r.mobilepermissions){var l=t.EdsbyReactBridge.appControls.permissions.request(r.mobilepermissions);l&&l.then?l.then(function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}"object"===_typeof(t)&&t.permissions&&(t=t.permissions);var i=!0;if("object"===_typeof(t))for(var n=0;n<r.mobilepermissions.length;n++){var o=["granted","limited"].includes((""+t[r.mobilepermissions[n]]).toLowerCase());i=i&&o}i?r.start(a):e.dialog("Permissions declined, please allow access in your operating system's settings")}):r.start(a)}else r.start(a)}).on("xds-addresources-launch",function(e){d.fn.cleanuptransitive(e),r.start(e,e.get_arg("nid"))}),r.bindEvents)for(var o in r.bindEvents)a.on(o,r.bindEvents[o]);r.after&&a.postclosetag(r.after)},previewName:function(t){if(!1===e.get("addresources").fn.get(t.get_val("uploader")).showName)return!1},preview:function(t){var i=t.state.get("previewedFiles");if(i)for(var n in t.data={file:[]},i)t.data.file.push({file:i[n]});t.on("previewFiles",function(t){var n=t.get_arg("files");i||(i=[]);for(var r=function(e,t){return function(){t._dimensions={width:e.width,height:e.height}}},o=function(e,t,a,i){return $(i).css("width","calc(100%)"),$(i).attr("id","xds-addresources-preview-"+a),t=n[e].internal,i.src=URL.createObjectURL(t),i},s=0;s<n.length;s++)if("File"==n[s].type){var d=!1,l=e.get("files").registry.get(n[s].internal.type,n[s].internal.name);if("image"==l.name?d="img":"video"==l.name&&(d="video"),d){var c=o(s,n[s].internal,n[s].id,a.createElement(d));"video"==d?$(c).attr("controls","controls").attr("playsinline","playsinline").attr("preload","auto"):"img"==d&&(c.onload=r(c,n[s])),t.dom().append(c)}}})},activeFiles:function(e){var t=e.state.get("activeFiles");if(e.trigger("xds-addresources-activeFiles-changed"),t){for(var i=[],n=0;n<t.length;n++)t[n]._removed||i.push(t[n]);e.data={file:i}}else e.data={file:[]};e.ready(function(){e.global("scrollLastIntoView")?e.setTimeout(function(){var t=e.target("*buttons");t.length>0&&t[0].scrollIntoView()},200):e.global("savedScroll")&&e.setTimeout(function(){!function(e){var t=e.global("savedScroll");if(!1!==t){var i=o(e);if(i.length)return void(i[0].scrollTop=t);a.body.scrollTop=t}e.global("savedScroll",!1)}(e)},100)}),e.arg("inherit")&&e.inherit(e.arg("inherit"));var r=e.data.file.length;e.trigger("uploaderHasFiles",{count:r})},file:function(e){if(e.addClass(["xds-addresources-file",e.get_val("id")].join("-")),e.data._removed)return!1;e.data.failed&&e.addSubClass("failed"),e.arg("inherit")&&e.inherit(e.arg("inherit"))},progress:function(t){var a=t.state.get(t.get_val("id")+"-progress");if(t.data=a,a){t.displayVal="",100!=a.percentage||a.complete?a.complete?a.summary=e.lang("Upload Complete"):a.summary=e.tpl(e.lang("{{percentage}}%"),a):a.summary=e.lang("Processing, please wait...");var i="<div class='xds-addresources-progress-bar xds-addresources-progress-bar-comp_{{complete}}' style='width:{{percentage}}%;text-align:center;'>{{summary}}</div>";a.failed&&(a.response.contents.err?a.summary=a.response.contents.err:a.summary=e.lang("Error"),i="<div class='xds-addresources-progress-bar xds-addresources-progress-bar-failed' style='width:{{percentage}}%;text-align:center;'>{{summary}}</div>"),t.preclosetag(e.tpl(i,a))}else t.exitBlank()},previewFile:function(a){var i=a.state.get(a.get_val("id")),r=d.fn.get(i.uploader);if(a.state.get(a.get_val("id")+"-complete"),n.malwarescanning&&i.response&&e.get("files").monitorFileStatus(a,{nid:[i.response.pnid,i.response.rid,i.response.nid].join("/")}),a.displayVal="",a.removeChild("preview"),a.removeChild("thumbnail"),!(r&&r.preview&&r.preview(a,i))){var o=e.get("files").registry.get(i.internal.type,i.internal.name);if(!o||o&&!["image","video","audio"].includes(o.name)){var s={ContentType:i.internal.type};i.response&&(s={ContentType:i.internal.type,nid:i.response.nid,pnid:i.response.pnid,rid:i.response.rid,name:i.name}),!a.has_role("Experimental")&&o.experimental&&(o=!1);var l=a.state.get("viewerBlacklist")||{};o&&l[o.name]&&(o=!1),o&&o.requiresServer&&!n.allowServerPreviewers&&(o=!1),!o||!i.complete&&o.requiresServer?a.addChild({xds:{id:"thumbnail",type:"files.smartThumb",iconSize:64,fa_class:"fad",_styles:[{styles:{"text-align":"center",margin:"20px"}}]},data:s}):(i.internal&&i.internal.size&&(s.ContentSize=i.internal.size),a.removeChild("thumbnail"),a.addChild({xds:{id:"preview",type:"files.viewer",litePreview:!0,viewerOverrideArgs:{queueable:!1},iconSize:64,_styles:[{styles:{"min-height":"100px","max-height":"400px"}}]},data:s}))}else{var c="img",u=!1;if("video"===o.name?(c="video",u={controls:!0,playsinline:"","webkit-playsinline":"webkit-playsinline",preload:"auto",autoplay:!0,muted:!0}):"audio"===o.name&&(c="audio",u={controls:!0}),i&&i._dimensions&&(u.width=i._dimensions.width,u.height=i._dimensions.height),u){var f=u;for(var g in u="",f)u+=g,""!==f[g]?u=u+'="'+f[g]+'" ':u+=" "}else u="";var p={tag:c,id:a.get_val("id"),attrs:u};if(i)if(i._complete&&videoType.test(i.internal.type))a.data=i,p.src=e.gbl.p+"core/nodedl/"+i.response.nid+"?field=file&xds=fileThumbnail&size=orig",a.preclosetag(e.tpl('<{{tag}} id="preview-{{id}}" style="width:calc(100%);" src="{{src}}" {{attrs}}>',p));else if(i._loading||i._loaded)i._loaded&&(a.data=i,a.data._blobCopy&&(p.src=URL.createObjectURL(i._blobCopy)),a.preclosetag(e.tpl('<{{tag}} id="preview-{{id}}" style="max-width:calc(100%);width:'.concat("audio"===p.tag?"100%":"auto",';max-height:400px;align-self:center;" src="{{src}}" {{attrs}}>'),p)),"video"===p.tag?a.ready(function(){a.dom()[0].addEventListener("playing",function e(){var i=a.dom()[0];t.setTimeout(function(){i.pause(),$(i).attr("muted","false")},1e3),i.removeEventListener("playing",e)})}):"audio"===p.tag&&a.posttag("<canvas class='xds-addresources-audio-visualization' style='width:100%;height:130px;'></canvas>").ready(function(t){var a=t.find(".xds-addresources-audio-visualization")[0],i=t.find("audio")[0];e.get("media")._utils.visualizeAudioTag(t,i,a)}));else{a.data=i;var h=new FileReader;i._loading=!0,i._blobCopy=new Blob([i.internal],{type:i.internal.type}),i._blobURL=URL.createObjectURL(i._blobCopy),i._loaded=!0,i._loading=!1,p.src=i._blobURL,h.readAsArrayBuffer(i.internal),a.preclosetag(e.tpl('<{{tag}} id="preview-{{id}}" src="{{src}}" style="width:calc(100%);" {{attrs}}>',p))}else a.exitBlank()}}},registerApp:function(t){if(t.get_perm(t.arg("xds"))){var a,i=["registeredApp",t.xds.id].join("-");(a=d.fn.getIDByName(i))&&d.fn.unregister(a),a=function(t,a){var i=t.arg("xds"),r=t.arg("usenid")||t.nid(),o=t.arg("xdsSnippet"),s={xds:i,nid:r,noPath:!0,noCache:!0};t.arg("command")&&(s.command=t.arg("command")),t.arg("noCommit")&&(s.noCommit=!0);var l={};l[t.arg("responseEvent")||"itemSelected"]=function(t){var a=(""+t.get_arg("nid")).split("/").pop(),i=t.get_val("uploaderID"),n=t.get_arg("slice"),r=e.get("guid").rfc4122(),o="app-"+r;if(t.get_arg("app")&&(a=t.get_arg("app").nid),n&&n.slices&&n.slices.length>0){if(a=(n=n.slices[0]).nid,n.data&&n.data.embed&&!n.data.embed.url.includes(e.gbl.server+"/p/PermaLink/")&&"complete"!=n.data.embed.embedStatus)return;n.data&&n.data.embed&&n.data.embed.title&&(o=n.data.embed.title)}var s=[{id:r,uploader:i,internal:{response:{nid:a,pnid:t.get_arg("pnid"),rid:t.get_arg("rid")}},type:"File",name:o}];t.trigger("filesSelected",{files:s,from:i}),t.trigger("xds-addresources-files-changed"),t.trigger("filesReady",{files:s,from:i}),t.trigger("xds-addresources-upload-complete",{uploader:i,id:r,response:{nid:a,pnid:t.get_arg("pnid"),rid:t.get_arg("rid")}})};var c={name:a,tooltip:t.arg("title"),"content-types":t.arg("contenttypes")||"*",glyph:t.arg("icon")||"file-o",showName:t.arg("showName"),start:function(e){e.newEvent("lightbox.open",s)},commit:function(){},bindEvents:l};if(void 0!==t.arg("temp")&&(c.temp=t.arg("temp")),void 0!==t.arg("rich")&&(c.rich=t.arg("rich")),o);else if(t.arg("xdsPreview")&&n.allowXDSPreview){var u=t.arg("xdsPreview");c.preview=function(e){var t=e.state.get(e.get_val("id"));e.ready(function(){e.newEvent("loadxds",{xds:u,nid:[t.response.pnid,t.response.rid,t.response.nid].join("/"),noForm:!0,noPath:!0,noLightbox:!0})}).inherit("loader")}}return d.fn.register(c)}(t,i),t.ready(function(e){e.state.set("upenable-"+a,1)})}t.exitBlank()}}},l=function(a,i){return function(n){var r;for(r in n.displayVal="",n.tag("input").addAttr("type","file"),a.title||(a.title=e.lang("Upload File")),a)n.addAttr(r,a[r]);for(r in i)n.addStyle(r,i[r]);n.on("change",function(e){u(e,e.dom()[0].files)}).on("click",function(e){t.cordova&&t.cordova.plugins&&t.cordova.plugins.photoLibrary&&cordova.plugins.photoLibrary.requestAuthorization(function(){},function(e){},{read:!0,write:!1}),e.stopPropagation()})}},c=function(t,a,i){var n={nodetype:e.nt.File.Attachment(),pin:"2"};if(t.arg("uploadData")){var r=t.arg("uploadData");if("string"==typeof r)try{r=JSON.parse(r.replace(/\'/g,'"'))}catch(e){}$.extend(n,r)}var o={_formkey:t.key(),name:a.name};if($.extend(o,n),i)for(var s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);return function(e,t,a,i,n){return d.upload(i,n,{command:"new",nid:"tmp",xds:e.arg("xdsUpload")},function(i){e.trigger("xds-addresources-upload-progress",{uploader:t,id:a,percentage:i})},void 0,e.get_setting("nameprefix")).then(function(n){var r=n.response;r.name=i.name,r.id=a,e.trigger("xds-addresources-upload-complete",{uploader:t,id:a,response:r})}).catch(function(n){var r=n.response,o=n.status;r.name=i.name,r.id=a,e.trigger("xds-addresources-upload-failed",{uploader:t,id:a,response:{id:a,name:i.name,code:o,contents:r}})})}(t,a.uploader,a.id,a.internal,o)},u=function(t,a,i){for(var n=[],r=i||t.get_val("uploaderID"),o=t.state.parent().get("filenameMap")||t.state.get("filenameMap")||{},s=0;s<a.length;s++){var d=a[s].name,l=e.get("guid").rfc4122();if(o[d]){var c=d.split("."),u=c.pop();c.push(e.get("guid").rfc4122()),c.push(u),d=c.join(".")}o[d]=l,n.push({id:l,uploader:r,internal:a[s],type:"File",name:d})}t.trigger("filesSelected",{files:n,from:r}),t.trigger("filesReady",{files:n,from:r})},f=function(){var i,r,o=!1;if(navigator.camera?o=d.fn.register({name:"takephoto",tooltip:e.lang("Take Photograph",!1,"Take Photograph Button for Uploader"),"content-types":"image/*",glyph:"camera-retro",mobilepermissions:["CAMERA"],fa_class:"fas",start:function(t){navigator.camera.getPicture(function(a){var i=function(e,t){var a=!1;try{a=atob(e.split(",")[1])}catch(e){}try{a=atob(e)}catch(e){}t||(t=e.split(",")[0].split(":")[1].split(";")[0]);for(var i=new ArrayBuffer(a.length),n=new Uint8Array(i),r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([i],{type:t})}(a,"image/jpeg"),n=[];i.lastModifiedDate=new Date,i.name="BlobUpload";var r=e.get("guid").rfc4122();n.push({id:r,uploader:t.get_val("uploaderID"),internal:i,type:"File",name:r+".png"}),t.trigger("filesSelected",{files:n,from:t.get_val("uploaderID")}),t.trigger("filesReady",{files:n,from:t.get_val("uploaderID")}),navigator.camera.cleanup(function(){},function(){})},function(){navigator.camera.cleanup(function(){},function(){})},{quality:75,destinationType:0,correctOrientation:!0,saveToPhotoAlbum:!1})},commit:c}):e.platform.android||(o=d.fn.register({name:"takephoto",tooltip:e.lang("Take Photograph"),"content-types":"image/*",glyph:"camera-retro",mobilepermissions:["CAMERA"],fa_class:"fas",start:function(e){e.target("*skel").trigger("click")},skel:l({accept:"image/*",capture:"camera"},{display:"none"}),commit:c})),e.platform.mobile||(d.fn.unregister(o),o=!1),t.MediaRecorder&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var s=[],u=function(t,a){a||(a={audio:!0,video:{width:1280,height:720}}),navigator.mediaDevices.getUserMedia(a).then(function(e){var a=t.find("video")[0];a.srcObject=e,t.temp.stream=e,a.onloadedmetadata=function(e){a.play(),t.target("*recordButton").show()}},function(t){e.log.info("Unable to get permission to record video"),e.dialog(e.lang("Unable to get permission to record video."))})},f=function(){if(s.length>1){for(var e=$("<select class='xds-mediarecorder-videosource' style='width:100%;font-size:16px;'></select>"),t=0;t<s.length;t++){var i=s[t],n=a.createElement("option");n.value=i.deviceId,n.text=i.label&&i.label.split(" (")[0]||"Camera "+t,e[0].appendChild(n)}return e[0].outerHTML}return""},g=function(e){for(var t=0;t<e.length;t++)try{if(MediaRecorder.isTypeSupported(e[t]))return e[t]}catch(e){}return!1},p=g(["video/webm;codecs=vp9,opus","video/webm;codecs=avc1","video/webm;codecs=vp9.0","video/webm;codecs=vp9","video/webm;codecs=vp8,opus","video/webm;codecs=h264","video/webm;codecs=h264,opus","video/webm","video/mp4"]),h=g(["audio/webm;codecs=opus","audio/webm","audio/mp4"]);if(e.platform.mobile||e.platform.native||d.fn.register({name:"html5camera",tooltip:e.lang("Take Photograph"),"content-types":"image/*",extensions:["png"],glyph:"camera",fa_class:"fas",toggle:!0,start:function(t){var a=[{id:e.get("guid").rfc4122(),uploader:t.get_val("uploaderID"),type:"PhotoSnapshot",name:"Photo Snapshot",transitive:!0}];t.trigger("filesSelected",{files:a,from:t.get_val("uploaderID")})},preview:function(t){var i,n=t.state.get(t.get_val("id"));return"PhotoSnapshot"==n.type&&(t.data=n,t.state.get(t.get_val("id")+"-complete")?(i={tag:"img",id:t.get_val("id")},t.data=n,i.src=e.gbl.p+"core/nodedl/"+n.response.nid+"?field=file&xds=fileThumbnail&size=orig",t.preclosetag(e.tpl('<{{tag}} id="preview-{{id}}" style="width:calc(100%);background-color: black;" src="{{src}}"/>',i))):(t.ready(function(e){u(e,{audio:!1,video:{width:1280,height:720}})}),t.data._dorecord="",t.data._dostop="",i={id:t.get_val("id"),attrs:"height='300' muted='true'",select:f()},t.posttag(e.tpl('<video id="preview-{{id}}" style="width:calc(100%);background-color: black;" {{attrs}}></video>{{select}}',i)).on("startRecording",function(e){var t=a.createElement("canvas"),i=t.getContext("2d"),n=e.find("video")[0];t.width=n.videoWidth,t.height=n.videoHeight,i.drawImage(n,0,0,t.width,t.height),t.toBlob(function(t){e.temp&&e.temp.stream&&($.each(e.temp.stream.getVideoTracks(),function(){this.stop()}),$.each(e.temp.stream.getAudioTracks(),function(){this.stop()}),t.lastModifiedDate=new Date,t.name="BlobUpload",e.trigger("filesReady",{files:[{id:e.get_val("id"),uploader:e.get_val("uploader"),internal:t,type:"File",name:"photosnapshot-"+t.lastModifiedDate.getTime()+".png"}],from:e.get_val("uploader")}))},"image/png")}).on("change",function(e){u(e,{audio:!1,video:{width:1280,height:720,deviceId:{exact:e.e.originalEvent.srcElement.value}}})}).on("xds-addresources-preview-cleanup",function(e){e&&e.temp&&e.temp.stream&&($.each(e.temp.stream.getVideoTracks(),function(){this.stop()}),$.each(e.temp.stream.getAudioTracks(),function(){this.stop()}))})),!0)},commit:c}),!e.platform.mobile&&e.gbl.user&&n.inbrowservideo&&p){var m="webm";"video/mp4"===p&&(m="mp4"),i=d.fn.register({name:"recordvideo",tooltip:e.lang("Record Video"),"content-types":"video/*",extensions:["webm"],glyph:"video-camera",mobilepermissions:["CAMERA"],fa_class:"fas",toggle:!0,requirementscheck:function(){return e.settings.fileprocessors},start:function(t){var a=[{id:e.get("guid").rfc4122(),uploader:t.get_val("uploaderID"),type:"VideoRecording",name:"Video Recording",transitive:!0}];t.trigger("filesSelected",{files:a,from:t.get_val("uploaderID")})},preview:function(t){var a,i=t.state.get(t.get_val("id"));return"VideoRecording"==i.type&&(t.data=i,t.state.get(t.get_val("id")+"-complete")?(a={tag:"video",id:t.get_val("id")},t.data=i,a.src=e.gbl.p+"core/nodedl/"+i.response.nid+"?field=file&xds=fileThumbnail&size=orig",t.preclosetag(e.tpl('<{{tag}} id="preview-{{id}}" style="width:calc(100%);background-color:black;" src="{{src}}" controls playsinline webkit-playsinline preload autoplay muted></{{tag}}>',a))):(t.ready(function(e){u(e)}),t.data._dorecord="",t.data._dostop="",a={id:t.get_val("id"),attrs:" muted='true'",select:f()},t.posttag(e.tpl('<video id="preview-{{id}}" style="width:calc(100%);background-color:black;" {{attrs}}></video>{{select}}',a)).on("startRecording",function(e){e.target("*recordButton").hide(),e.target("*stopButton").show(),e.find(".xds-mediarecorder-videosource").attr("disabled","disabled");var t=new MediaRecorder(e.temp.stream,{mimeType:p});t.ondataavailable=function(t){e.temp.chunks||(e.temp.chunks=[]),e.temp.chunks.push(t.data)},t.onstop=function(){var t=new Blob(e.temp.chunks,{type:p});e.temp.chunks=[],t.lastModifiedDate=new Date,t.name="BlobUpload",e.trigger("filesReady",{files:[{id:e.get_val("id"),uploader:e.get_val("uploader"),internal:t,type:"File",name:"videorecording-".concat(t.lastModifiedDate.getTime(),".").concat(m)}],from:e.get_val("uploader")})},t.start(),e.temp.mediaRecorder=t}).on("stopRecording",function(e){e.temp.mediaRecorder&&e.temp.mediaRecorder.stop(),e.temp.mediaRecorder&&e.temp.mediaRecorder.stream&&($.each(e.temp.mediaRecorder.stream.getVideoTracks(),function(){this.stop()}),$.each(e.temp.mediaRecorder.stream.getAudioTracks(),function(){this.stop()}))}).on("xds-addresources-preview-cleanup",function(e){e.trigger("stopRecording")}).on("change",function(e){u(e,{audio:!0,video:{width:1280,height:720,deviceId:{exact:e.e.originalEvent.srcElement.value}}})})),!0)},commit:c})}if(!h&&navigator.userAgent.indexOf("Firefox")>=0&&(h="audio/webm"),e.platform.android&&(n.inbrowseraudio=!1),h&&e.gbl.user&&n.inbrowseraudio&&(!e.platform.native||t.EdsbyReactBridge)){var v="webm";"audio/mp4"===h&&(v="m4a"),r=d.fn.register({name:"recordaudio",tooltip:e.lang("Record Audio"),"content-types":"audio/*",extensions:["webm"],glyph:"microphone",mobilepermissions:["MICROPHONE","RECORD_AUDIO"],fa_class:"fas",toggle:!0,requirementscheck:function(){return e.settings.fileprocessors},start:function(t){var a=[{id:e.get("guid").rfc4122(),uploader:t.get_val("uploaderID"),type:"AudioRecording",name:"Audio Recording",transitive:!0}];t.trigger("filesSelected",{files:a,from:t.get_val("uploaderID")})},preview:function(a){var i=a.state.get(a.get_val("id")),n={id:a.get_val("id")};return"AudioRecording"==i.type&&(a.data=i,a.state.get(a.get_val("id")+"-complete")?(n.tag="audio",a.data=i,n.src=e.gbl.p+"core/nodedl/"+i.response.nid+"?field=file&xds=fileThumbnail&size=orig",a.preclosetag(e.tpl("<canvas class='xds-addresources-audiorecorder-visualization' style='width:100%;height:130px;'></canvas>"+'<{{tag}} id="preview-{{id}}" style="width:calc(100%);" src="{{src}}" controls playsinline webkit-playsinline preload></{{tag}}>',n)).ready(function(t){var a=t.find(".xds-addresources-audiorecorder-visualization")[0],i=t.find("audio")[0],n=e.get("media")._getAudioContext(),r=n.createAnalyser();n.createMediaElementSource(i).connect(r),r.connect(n.destination),e.get("files")._utils.visualizeAudioStream(r,a)})):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(a.ready(function(t){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){var a=t.find("audio")[0];t.temp.stream=e,a?(a.srcObject=e,a.onloadedmetadata=function(e){t.target("*recordButton").show()}):t.target("*recordButton").show()},function(t){e.log.info("Unable to get permission to record audio"),e.dialog(e.lang("Unable to get permission to record audio"))})}),a.data._dorecord="",a.data._dostop="",n.attrs=" controls='false'",a.posttag("<canvas class='xds-addresources-audiorecorder-visualization' style='width:100%;height:130px;'></canvas>").on("startRecording",function(a){a.target("*recordButton").hide(),a.target("*stopButton").show();var i=!1;try{i=new MediaRecorder(a.temp.stream,{mimeType:h})}catch(e){}if(i||(i=new MediaRecorder(a.temp.stream)),i.ondataavailable=function(e){a.temp.chunks||(a.temp.chunks=[]),a.temp.chunks.push(e.data)},i.onstop=function(){var e=new Blob(a.temp.chunks,{type:h});a.temp.chunks=[],e.lastModifiedDate=new Date,e.name="BlobUpload",a.trigger("filesReady",{files:[{id:a.get_val("id"),uploader:a.get_val("uploader"),internal:e,type:"File",name:"audiorecording-".concat(e.lastModifiedDate.getTime(),".").concat(v)}],from:a.get_val("uploader")})},i.start(),a.temp.mediaRecorder=i,t.AudioContext){var n=e.get("media")._getAudioContext(),r=n.createAnalyser(),o=n.createMediaStreamSource(a.temp.stream),s=n.createScriptProcessor(2048,1,1),d=a.find(".xds-addresources-audiorecorder-visualization")[0];r.smoothingTimeConstant=.3,r.fftSize=128,o.connect(r),r.connect(s),s.connect(n.destination),e.get("media")._utils.visualizeAudioStream(r,d)}}).on("stopRecording",function(e){e.temp.mediaRecorder&&e.temp.mediaRecorder.stop(),e.temp.mediaRecorder&&e.temp.mediaRecorder.stream&&($.each(e.temp.mediaRecorder.stream.getVideoTracks(),function(){this.stop()}),$.each(e.temp.mediaRecorder.stream.getAudioTracks(),function(){this.stop()}))})),!0)},commit:c})}try{navigator.mediaDevices.enumerateDevices().then(function(e){var t=!1,a=!1;e.forEach(function(e){"videoinput"==e.kind&&(t=!0,s.push(e)),"audioinput"==e.kind&&(a=!0)}),t||d.fn.unregister(i),a||d.fn.unregister(r)}).catch(function(t){e.settings.dev})}catch(e){}}e.platform.mobile&&d.fn.register({name:"recordvideo",tooltip:e.lang("Record Video"),"content-types":"video/*",extensions:["mov","mp4"],glyph:"video-camera",mobilepermissions:["CAMERA","MICROPHONE"],fa_class:"fas",start:function(e){e.target("*skel").trigger("click")},skel:l({accept:"video/*",capture:"camcorder"},{display:"none"}),commit:c}),n.cordovaaudio&&e.platform.native&&t.Media&&(r&&d.fn.unregister(r),r=d.fn.register({name:"cdvrecordaudio",tooltip:e.lang("Record Audio"),"content-types":"audio/*",glyph:"microphone",fa_class:"fad",toggle:!0,requirementscheck:function(){return e.settings.fileprocessors},start:function(t){var a=[{id:e.get("guid").rfc4122(),uploader:t.get_val("uploaderID"),type:"AudioRecording",name:"Audio Recording",transitive:!0}];t.trigger("filesSelected",{files:a,from:t.get_val("uploaderID")})},preview:function(a){var i=a.state.get(a.get_val("id")),n={id:a.get_val("id")};return a.addStyle("margin-top","10px"),"AudioRecording"==i.type&&(a.data=i,a.state.get(a.get_val("id")+"-complete")?(n.tag="audio",a.data=i,n.src=e.gbl.p+"core/nodedl/"+i.response.nid+"?field=file&xds=fileThumbnail&size=orig",a.preclosetag(e.tpl('<{{tag}} id="preview-{{id}}" style="width:calc(100%);" src="{{src}}" controls playsinline webkit-playsinline preload></{{tag}}>',n))):Media&&(a.ready(function(e){e.target("*recordButton").css("display","block")}),a.data._dorecord="",a.data._dostop="",n.attrs=" controls='false'",a.on("startRecording",function(t){t.target("*recordButton").hide(),t.target("*stopButton").show(),t.temp.mediaFileName=e.get("guid").rfc4122()+".m4a",t.temp.media=new Media(t.temp.mediaFileName),t.temp.media.startRecord()}).on("stopRecording",function(e){e.temp.media&&(e.temp.media.stopRecord(),t.requestFileSystem(LocalFileSystem.TEMPORARY,0,function(t){t.root.getFile(e.temp.mediaFileName,{create:!1,exclusive:!1},function(t){t.file(function(t){var a=new FileReader;a.onloadend=function(){var t=new Blob([new Uint8Array(this.result)],{type:"audio/m4a"});t.lastModifiedDate=new Date,t.name="BlobUpload",e.trigger("filesReady",{files:[{id:e.get_val("id"),uploader:e.get_val("uploader"),internal:t,type:"File",name:e.temp.mediaFileName}],from:e.get_val("uploader")})},a.readAsArrayBuffer(t)})})}))})),!0)},commit:c})),e.platform.mobile&&d.fn.register({name:"chooseimage",tooltip:e.lang("Choose from Photo Library"),"content-types":"image/*",mobilepermissions:["PHOTO_LIBRARY","CAMERA"],extensions:["jpg"],glyph:"picture-o",fa_class:"fas",start:function(e){e.target("*skel").trigger("click")},skel:l({accept:"image/*",multiple:"multiple"},{display:"none"}),commit:c}),d.fn.register({name:"localBrowse",tooltip:e.lang("Browse your Computer"),"content-types":"*",glyph:"files-o",mobilepermissions:["PHOTO_LIBRARY"],fa_class:"fas",start:function(e){e.target("*skel").trigger("click")},skel:l({accept:"*",multiple:"multiple"},{display:"none"}),commit:c}),d.fn.register({name:"existingfile",tooltip:"previously uploaded content","content-types":"*",disabled:!0,glyph:"file-o",fa_class:"fas",start:function(e){},skel:l({accept:"*",multiple:"multiple"},{display:"none"}),remove:function(e,t){var a=e.target("*unlinkFiles"),i=[];a.val()&&(i=a.val().split(",")),i.push(t.internal.nid),a.val(i.join(",")),e.trigger("setFormDirty")},preview:function(e,t){return e.removeChild("thumbnail"),e.addChild({xds:{id:"preview",type:"files.viewer",viewerOverrideArgs:{queueable:!1},litePreview:!0,iconSize:64,noPath:!0,sparse:!0,_styles:[{styles:{"min-height":"100px"}}]},data:t.internal}),e.sparse=!0,!0},commit:function(){}})};return e.bootstrapped?f():e.init(f),d}),cf.module("admin",function(e,t,a){var i=String.fromCharCode(30),n={pickers:{nodetype:function(t){var a,i=e.constant.nt,n=[];for(var r in i)if(i.hasOwnProperty(r))for(a in n.push({value:i[r](),display:r}),i[r])i[r].hasOwnProperty(a)&&n.push({value:i[r][a](),display:r+"."+a});return n.push({value:"0.0",display:"Home Node"}),n.sort(function(e,t){return e.display.localeCompare(t.display)}),n}},poll:function(e,t,a){var i=e.get_args();i.transition=!1,i.noSpinner=!0,setTimeout(function(){e.dom().length&&e.event("reload",i)},1e3*(e.args.timer||1))},progressBar:function(t){var a=t.arg("max")||100,i=t.arg("min")||0,n=t.get_val()||0;n=n/(a-i)*100,t.displayVal=e.html.progress(n,"",t.arg("colour")),t.arg("width")&&t.addStyle("width",t.arg("width")),t.arg("tooltip",n.toFixed(2)+"%"),t.attr("role","progressbar"),t.attr("aria-valuenow",n.toFixed(2)),t.attr("aria-valuemin",i),t.attr("aria-valuemax",a)},led:function(e){e.addStyle("background",e.get_val()||e.arg("colour"));var t=e.arg("size");t&&(e.addStyle("width",t),e.addStyle("height",t)),e.displayVal=""},fixedformat:function(e,t){t=Number(t);var a=e.arg("limit");a&&t>a&&e.addStyle("color",e.arg("colour")||"red"),e.displayVal=t?t.toFixed(e.arg("precision")||3):"&nbsp"},fixed:function(e){n.fixedformat(e,Number(e.get_val()))},avg:function(e){var t,a=Number(e.get_val(e.arg("count"))),i=Number(e.get_val());t=a?i/a:0,n.fixedformat(e,t),e.arg("tooltip",i.toFixed(e.arg("precision")||3)+" / "+a)},roleRights:function(e){var t=e.get_val();e.displayVal=t.rights,e.tooltip=t.derived,"(inherited)"==t.derived?e.addStyle("color",e.arg("colour")||"#999"):t.custom&&(e.addStyle("color",e.arg("colour")||"#F0F"),e.tooltip+=" ("+t.custom+")")},jstrace:function(t){var a,n=t.get_val()||"";for((n=n.split("\n"))[0]=i+"eb\t"+n[0],n[0]+="\n"+i+"h\tMethod\tFile\tLocation",a=n.length;--a;)n[a]=(n[a]||"").split(" ").join("\t");t.data=n.join("\n");var r=e.gbl.static.replace(":","&#58;")+"(xdl_min|xdl)(/core/|)";t.data=(t.data||"").replace(new RegExp(r,"g"),"").replace(/\?[0-9]+\.[0-9]+/g,"\t").replace(/(\)|\()/g,"").replace(/at\t/g,"").replace(/\t\t/g,""),t.inherit("admin.log")},log:function(t){t.addChild({id:"lines",type:"admin.logline"});var a=t.get_val()||"";t.data={lines:e.is_arr(a)?a:a.split("\n")},t.hasData=!0},logline:function(e){var t=e.get_val()||"";if(e.runOnce(function(){e.addChild({id:"col",type:"admin.logcol",displayVal:"simpleHTML"})}),t.substr(0,1)===i){if((t=t.split("\t")).length>1){for(var a=t[0].split(""),n=a.length;--n;)e.addClass("xds-admin-log-"+a[n]);t.shift()}}else t=t.split("\t");e.data={col:t},e.hasData=!0},logcol:function(e){},rights:function(t){var a=parseInt(t.get_val()),i="",n=e.html.span;i+=n("R",["xds-admin-right",1&a?"xds-admin-right-has":""]),i+=n("W",["xds-admin-right",2&a?"xds-admin-right-has":""]),i+=n("D",["xds-admin-right",4&a?"xds-admin-right-has":""]),t.displayVal=i},ansiLog:function(t){t.addStyle("font-family","monospace"),"string"==typeof(t.get_val()||"")&&(t.displayVal=ansi_up.ansi_to_html(t.get_val()||"")),t.displayVal=e.displayVal.nl2br(t)}};return n}),function(e){var t="undefined"!=typeof module,a=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]];function i(){this.fg=this.bg=null,this.bright=0}i.prototype.escape_for_html=function(e){return e.replace(/[&<>]/gm,function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":void 0})},i.prototype.linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})},i.prototype.ansi_to_html=function(e,t){var a=e.split(/\033\[/),i=a.shift(),n=this,r=a.map(function(e){return n.process_chunk(e,t)});return r.unshift(i),r.reduce(function(e,t){return Array.isArray(t)?e.concat(t):(e.push(t),e)},[]).join("")},i.prototype.process_chunk=function(e,t){var i=void 0!==(t=void 0===t?{}:t).use_classes&&t.use_classes,n=i?"class":"color",r=e.match(/([\d;]*)m([\s\S]*)/m);if(!r)return e;var o=r[2],s=r[1].split(";"),d=this;if(s.map(function(e){var t=parseInt(e);isNaN(t)||0===t?(d.fg=d.bg=null,d.bright=0):1===t?d.bright=1:t>=30&&t<38?d.fg=a[d.bright][t%10][n]:t>=90&&t<98?d.fg=a[1][t%10][n]:t>=40&&t<48?d.bg=a[0][t%10][n]:t>=100&&t<108&&(d.bg=a[1][t%10][n])}),null===d.fg&&null===d.bg)return o;var l=[],c=l;return d.fg&&(i?l.push(d.fg+"-fg"):c.push("color:rgb("+d.fg+")")),d.bg&&(i?l.push(d.bg+"-bg"):c.push("background-color:rgb("+d.bg+")")),i?['<span class="'+l.join(" ")+'">',o,"</span>"]:['<span style="'+c.join(";")+'">',o,"</span>"]},ansi_up={escape_for_html:function(e){return(new i).escape_for_html(e)},linkify:function(e){return(new i).linkify(e)},ansi_to_html:function(e,t){return(new i).ansi_to_html(e,t)},ansi_to_html_obj:function(){return new i}},t&&(module.exports=ansi_up),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.ansi_up=ansi_up),"function"==typeof define&&define.amd&&define("ansi_up",[],function(){return ansi_up})}(Date),cf.module("animations",function(e,t,a){return new e.classes.XDSModule("animations",{animation:function(e){},fireworks:function(i){i.sparse=!0;var n=function(){var e=!1;i.temp.fireworks&&(i.temp.fireworks.stop(),delete i.temp.fireworks,e=!0),i.temp.domNode&&(i.temp.domNode.remove(),delete i.temp.domNode),i.temp.timeout&&(t.clearTimeout(i.temp.timeout),delete i.temp.timeout),e&&i.trigger("xds-animation-fireworks-stopped")},r=function(){n();var r,o,s,d=i.target(i.arg("target"));0===d.length&&(d=i.dom()[0]),i.arg("fullscreen")?(r={top:0,left:0},s="var(--viewport-width)",o="var(--viewport-height)"):(r=d.offset(),o="".concat(d.height(),"px"),s="".concat(d.width(),"px"));var l=$('<div class="'.concat(i.genSubClass("overlay"),'"/>'));l.css({height:o,width:s}),i.addStyle("position","relative"),i.arg("fullscreen")?l.css({top:"".concat(r.top,"px"),left:"".concat(r.left,"px"),height:o,width:s,position:"fixed","z-index":3e3}):l.css({position:"absolute",top:0,left:0}),i.arg("interactive")||l.css("pointer-events","none"),l.attr("aria-label",e.lang("Fireworks Visual Effect, click to dismiss")),i.temp.domNode=l,i.arg("fullscreen")?a.body.appendChild(l[0]):i.dom()[0].appendChild(l[0]);var c=new Fireworks(l[0],{});i.temp.fireworks=c,c.start(),i.arg("duration")&&(i.temp.timeout=t.setTimeout(function(){n()},i.arg("duration"))),i.arg("interactive")&&l.on("click",function(e){e.stopPropagation(),n()})};i.on(e.css.removed,function(){n()}),i.on("xds-animation-fireworks-animate",r),i.on("xds-animation-fireworks-stop",n),e.get("resourceutils").xdoReady(i,[{name:"fireworks",main:["".concat(e.gbl.lib,"/pkg/node_modules/fireworks-js/dist/fireworks.js")],injectdirect:!0,initTest:function(e){return void 0!==e._fireworksrsrc||(e._fireworksrsrc=!0,!1)},loadedTest:function(){return!!t.Fireworks},postFunc:function(){}}]).then(function(){i.arg("autostart")&&r()})}})}),cf.module("attendance_public",function(e,t,a,i){var n={code_string:function(t,a,n,r){var o,s,d,l,c,u,f,g=i;if((o=(a||"").split("-")).length>1){for(l in s=o[0],d=e.lookup("AttendancePickerCodes"))if("_"!==l.substr(0,1)&&(f=(c=d[l]).params||{})["reason-type"]===s&&(f.acode!==i?f.acode:c.val())==t){u=c;break}u&&(s=o[0],o=o.slice(1).join("-"))}return u||(d=e.lookup("AttendanceCodes",t))&&d.string&&(u=d),u&&(r&&u.params&&(g=u.params.inputDisplay),!g&&n&&u.params&&(g=u.params.titlePublic),!g&&u.string&&(g=u.str())),g},format_code:function(e){var t,a,i=e.arg("field_source"),r=e.arg("reason_field")||"reason",o=e.arg("code_field");"val"==i?(a=e.get_val(o),t=e.get_val(r)):"rnode"==i||"siblings"==i||"data_full"==i?(a=e.get_val(o,i),t=e.get_val(r,i)):(a=o?e.state.get(o):e.get_val(),t=e.state.get(r)),e.displayVal=n.code_string(a,t,e.arg("public"),e.arg("letter"))},format_reason:function(e){var t=e.arg("code_field")||"code",a=e.state.get(t);e.displayVal=n.reason_string(a,e.get_val())},reason_string:function(t,a){var n,r,o,s,d,l,c=i,u={};if((s=(a=a||"").split("-")).length>1?d=s[0]:(l=e.lookup("AttendanceCodes",t))&&l.params&&(d=l.params["reason-type"]),d&&(u[d]=1,(l=e.lookup("AttendanceReasons"+d,a))&&l.string&&(c=l.str())),c===i)for(r in n=e.lookup("AttendanceCodes"))if("_reverse"!==r&&(d=(o=n[r]).params&&o.params["reason-type"])&&!u[d]&&(u[d]=1,(l=e.lookup("AttendanceReasons"+d,a))&&l.string)){c=l.str();break}return c}};return n}),cf.module("broadcast",function(e,t,a){var i=[],n=!0,r={subscribe:function(e){},send:function(e){},disable:function(){n=!1},enable:function(){n=!0}};if("undefined"!=typeof BroadcastChannel){var o=new BroadcastChannel("edsbyclient_bus");o.onmessage=function(e){i.forEach(function(t){t.listener(e.data)})},r.subscribe=function(e){i.push({listener:e})},r.send=function(t){t&&"object"==_typeof(t)&&(t.tabid=e.uuid),o.postMessage(t)}}return r.subscribe(function(i){n&&("object"==_typeof(i)&&i&&i.userChanged?(i.unid&&e.gbl&&e.gbl.user&&i.unid!==e.gbl.user.nid||!i.unid)&&(a.hidden?e.notif.userChanged(void 0,i.isLogin,!0):e.notif.userChanged(void 0,i.isLogin)):"object"==_typeof(i)&&i&&i.codeUpdated?e.links.reloadPage(!0):"object"==_typeof(i)&&i&&i.isLogout&&(t.cfNative?e.notif.userChanged(void 0,i.isLogin,!0,i.isLogout):e.links.reloadPage()))}),e.broadcast=r.send,r}),cf.module("cfnp",function(e,t,a){var i=function t(a){if("string"==typeof a)return e.mlescape(a);if(Array.isArray(a)){for(var i=[],n=0;n<a.length;n++)i.push(t(a[n]));return i}if("object"==_typeof(a)){if(null===a)return a;var r=Object.keys(a),o={};return r.forEach(function(e){o[e]=t(a[e])}),o}return a},n=function(t){var a=new Date;if(t.slices)for(var n=0;n<t.slices.length;n++){var r=t.slices[n];r.data&&(r.data=i(r.data))}else t=i(t);var o=new Date;return e.log.debug("cfnp.sanitizeSlice: elapsed time(".concat(o.getTime()-a.getTime(),"ms)")),t},r=function(t,a,i,n){var r,o,s={},d={};for(r=0;r<i.length;r++)o=i[r],t&&void 0!==t.arg(o)&&(s[o]=t.arg(o),d[o]=!0),t&&void 0!==t.get_arg(o)&&(s[o]=t.get_arg(o),d[o]=!0),a&&void 0!==a[o]&&(s[o]=a[o],d[o]=!0),"nid"==o&&!s[o]&&t&&(s[o]=t.nid(),d[o]=!0);for(r=0;r<i.length;r++)d[i[r]]||e.log.debug("cfnp.fetch_args: expected arg not found"+i[r]);if(n)for(r=0;r<n.length;r++)o=n[r],t&&void 0!==t.arg(o)&&(s[o]=t.arg(o),d[o]=!0),t&&void 0!==t.get_arg(o)&&(s[o]=t.get_arg(o),d[o]=!0),a&&void 0!==a[o]&&(s[o]=a[o],d[o]=!0),"nid"==o&&!s[o]&&t&&(s[o]=t.nid(),d[o]=!0);return s.nid&&Array.isArray(s.nid)&&(s.nid=s.nid.join("/")),s},o={},s={events:{postField:function(e){var t={};t[e.arg("fieldName")||e.name()]=void 0!==e.arg("postValue")?e.arg("postValue"):e.val(),e.arg("postData")&&"string"==typeof(t=e.arg("postData"))&&(t=JSON.parse(t));var a=function(){e.trigger("xds-cfnp-field-post-failed",{field:e.name()}),e.trigger("xds-cfnp-field-post-failed-".concat(e.name()))};return s.put(e,{postData:t,is_cfnp_args:!0}).then(function(t){return e.trigger("xds-cfnp-field-posted",{field:e.name()}),e.trigger("xds-cfnp-field-posted-".concat(e.name())),t},a).catch(a)}},put:function(t,a){t.e&&!a.is_cfnp_args&&(a=!1);var i=r(t,a,["xds","postData"],["urlArgs"]),n=i.xds,o=a&&a.nid||t.arg("nid")||t.nid();t.get_arg("usePath")&&(o=t.cnid());var s=i.postData;return new Promise(function(a,r){var d={xds:n,nid:o};i.urlArgs&&$.extend(d,i.urlArgs);var l=function(){e.post({url:d,data:s,xdo:t,success:function(e){e.error?r(e):a(e)},error:function(e){r(e)}})};t.get_arg("confirm")?e.confirm({message:t.get_arg("confirm"),cancelButton:e.lang("Cancel"),continueButton:e.lang("Ok")}).then(l,r).catch(function(){r()}):l()})},get:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"net::get",o=r(t,a,["xds","nid"],["noCache"]),s={xds:o.xds,nid:o.nid,command:e.gbl.p+"core/node.json"};return o.noCache&&(s._ts=(new Date).getTime()),new Promise(function(a,r){e.ajax({url:e.gen_url(s),xdo:t,_netqueueid:i,callback:function(e){(e=n(e)).error?r(e):a(e)},error:function(e){r(e)}})})},multinode:function(t){var a=t.arg("xds"),i=t.arg("nids")||t.nid();return Array.isArray(i)||(i=[i]),new Promise(function(r,o){e.ajax({url:e.gen_url({xds:a,nid:i.join("."),command:e.gbl.p+"core/multinode.json"}),xdo:t,callback:function(e){(e=n(e)).error?o(e):r(e)},error:function(e){o(e)}})})},xdsperm:function(t,a){var i=r(t,a,["xds"]).xds;return new Promise(function(a,r){var s=e.gen_url({xds:i,command:e.gbl.p+"core/xdsperm"});o[s]?a(o[s]):e.ajax({url:s,xdo:t,callback:function(e){(e=n(e)).error?r(e):(o[s]=e,a(e))},error:function(e){r(e)}})})},download:function(e){},delete:function(t,a){t&&!t.arg("nids")&&t.arg("nids",t.nid());var i=r(t,a,["nids","xds"]);Array.isArray(i.nids)||(i.nids=[i.nids]);for(var o=[],s=function(t,a){return new Promise(function(r,o){e.post({url:{xds:i.xds,nid:a,command:e.gbl.p+"core/delete"},xdo:t,success:function(e){(e=n(e)).error?o(e):r(e)},error:function(e){o(e)}})})},d=0;d<i.nids.length;d++)o.push(s(t,i.nids[d]));return Promise.all(o)},link:function(t,a){var i=r(t,a,["xds","to","nid"],["fields"]);return new Promise(function(a,r){var o={_dest:i.nid};if(i.fields)for(var s in i.fields)o[s]=i.fields[s];e.post({url:{xds:i.xds,nid:i.to,command:"link"},xdo:t,data:o,success:function(e){(e=n(e)).error?r(e):a(e)},error:function(e){r(e)}})})},move:function(t,a){var i=r(t,a,["xds","to","nid"],["fields"]);return new Promise(function(a,r){var o={_dest:i.to};if(i.fields)for(var s in i.fields)o[s]=i.fields[s];e.post({url:{xds:i.xds,nid:i.nid,command:"move"},xdo:t,data:o,success:function(e){(e=n(e)).error?r(e):a(e)},error:function(e){r(e)}})})},putfield:function(t,a){var i=r(t,a,["nid","xds","rid","field","value"],[]);return new Promise(function(a,r){e.post({url:{command:"putfield",xds:i.xds,nid:i.nid},xdo:t,data:{rid:i.rid,field:i.field,value:i.value},success:function(e){(e=n(e)).error?r(e):a(e)},error:function(e){r(e)}})})},getAuthTicket:function(t,a){return new Promise(function(i,n){e.ajax({url:{xds:a,nid:e.gbl.user.nid,_ts:(new Date).getTime()},xdo:t,callback:function(e){var t=!1;try{t=e.slices[0].data.ticket,i(t)}catch(e){}t||n(e)}})})},getRestrictedAuthTicket:function(t,a){return new Promise(function(i,n){e.ajax({url:{xds:a,nid:t.nid(),_ts:(new Date).getTime()},xdo:t,callback:function(e){var t=!1;try{t=e.slices[0].data.ticket,i(t)}catch(e){}t||n(e)}})})},logout:function(t){return new Promise(function(a,i){e.ajax({xdo:t,url:"/core/logout",callback:function(){a()}})})},copy:function(t,a){var i={_dest:a.dest};return a.pin&&(i.pin=a.pin),new Promise(function(n,r){e.post({url:{xds:"Copy",nid:a.src,command:"copy",_new:!0},xdo:t,data:i,callback:function(e){n(e)}})})}};return s.download._returnsPromise=!0,s.delete._returnsPromise=!0,s.copy._returnsPromise=!0,s.xdsperm._returnsPromise=!0,s}),cf.module("controls",function(e,t,a){return new e.classes.XDSModule("controls",{IconAndContentBox:function(e){!e.arg("tooltip")&&e.arg("title")?e.arg("tooltip",e.arg("title")):e.get_val("tooltip")&&e.arg("tooltip",e.get_val("tooltip")),e.arg("title")&&!e.get_val("content")&&(e.data||(e.data={}),e.data.content=e.arg("title")),["row"].includes(e.arg("mode"))&&e.addSubClass("mode-".concat(e.arg("mode")))},IconAndContentBoxContent:function(e){e.arg("height")&&e.addStyles({height:"".concat(e.arg("height"),"px"),flex:"0 0 ".concat(e.arg("height"),"px")})},toggleIcon:function(t){t.temp.active=t.arg("active")||!1,t.on("xds-controls-internal-toggle",function(e){var t=e.target("*glyph").find(".e_fa"),a=e.temp.active;if("on"===e.get_arg("toggleTo")?a=!1:"off"===e.get_arg("toggleTo")&&(a=!0),a?(e.trigger("xds-controls-toggleIcon-toggled-off"),e.temp.active=!1,e.removeSubClass("active"),t.removeClass("fas"),t.addClass("fal")):(e.trigger("xds-controls-toggleIcon-toggled-on"),e.temp.active=!0,e.addSubClass("active"),t.removeClass("fal"),t.addClass("fas")),e.arg("linkto")&&!e.get_arg("toggleTo")){var i=e.arg("linkto").split(","),n=!0,r=!1,o=void 0;try{for(var s,d=i[Symbol.iterator]();!(n=(s=d.next()).done);n=!0){var l=s.value;e.target(l).trigger("xds-controls-internal-toggle",{toggleTo:a?"off":"on"})}}catch(e){r=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw o}}}}),t.on("click",function(e){(void 0===e.arg("toggleable")||e.arg("toggleable"))&&(e.trigger("xds-controls-internal-toggle"),e.stopPropagation())}),t.addChild({xds:{id:"icon",css:"xds-controls-toggleIcon-control",fields:[{id:"glyph",type:"fa.icon",icon:t.arg("icon"),sparse:!0},{id:"text"}],tooltip:t.arg("title")||e.lang("Toggle")},data:{text:t.data,active:t.arg("active")||!1}}),t.temp.active&&t.addSubClass("active"),t.displayVal="",t.showTitle=!1},scope:function(e){var t=e.arg("scopeStates",void 0,{});for(var a in t)e.state.set(a,t[a])},controllingParent:function(e){var t=e.arg("childArgs",void 0,{}),a=function(e){for(var a in t)e[a]||(e[a]=t[a])};if(e.xds.fields,e.xds.fields)for(var i=Object.values(e.xds.fields),n=0;n<i.length;n++)a(i[n])},sidebar:function(a){a.inherit("controls.scope");var i=a.arg("side")||"left";a.proxyCSS="xds-controls-sidebar",a.attr("data-sidebar-mode",i),a.arg("avoidheader")&&a.addSubClass("avoids-header");var n=function(e){var t=!0;return e.get_arg("sidebar")&&(t=!!["all",i].includes(e.get_arg("sidebar"))),t},r=function(t){t.addSubClass("shown"),t.find("*[tabindex=0]").first().focus(),e.platform.phone||$("body").addClass("xds-hasSidebar")},o=function(a){a.addSubClass("hiding"),a.removeSubClass("shown"),t.setTimeout(function(){a.removeSubClass("hiding"),e.platform.phone||$("body").removeClass("xds-hasSidebar")},1e3)};a.on("xds-sidebar-hide",function(e){o(e),e.stopPropagation()}),a.on(t,"xds-sidebar-hide",function(e){n(e)&&o(e)}),a.on(t,"xds-sidebar-show",function(e){n(e)&&r(e)}),a.on("xds-sidebar-show",function(e){r(e),e.stopPropagation()}),a.on("click",function(e){o(e),e.stopPropagation()})},separator:function(e){e.sparse=!0},modeSwitch:function(t){var a=t.arg("defaultMode"),i=!1;if(t.arg("storeMode")){var n=t.cssPath;"string"===t.arg("storeMode")&&(n=t.arg("storeMode")),i="xds-controls-modeSwitch:"+n;var r=a;a=e.storage(i)||r}var o=function(t,a){var n=(t.arg("validModes")||"default").split(","),r=a||t.get_arg("mode")||n[0];if(n.includes(r)){var o=!0,s=!1,d=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;t.removeSubClass("mode-".concat(u))}}catch(e){s=!0,d=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw d}}t.addSubClass("mode-".concat(r)),t.temp.currentMode=r,e.storage(i,t.temp.currentMode)}};o(t,a),t.arg("targetType")&&t.addSubClass("targets-".concat(t.arg("targetType"))),t.arg("modeState")&&t.state.watch(t.arg("modeState"),function(e){o(t,e)}),t.on("xds-controls-modeSwitch-switchMode",function(e){o(e)}),t.on("xds-controls-modeSwitch-nextMode",function(e){!function(e){var t,a=(e.arg("validModes")||"default").split(","),i=e.temp.currentMode,n=a.indexOf(i);t=n===a.length-1?a[0]:a[n+1],o(e,t)}(e)})}})}),cf.module("copier",function(e,t,a){var i=function(e){for(var t=[],a=0;a<e.length;a++)void 0!==e[a]&&t.push(e[a]);return t},n=function(e,t,a){var i="gbl";return e&&(i=e.get_arg("copierContext")||e.arg("copierContext")||e.global("copierContext")||"gbl"),a&&a.copierContext&&(i=a.copierContext),i},r={_lastRun:!1,_defs:{inputClass:"xds-copier-copyInput",targetClass:"xds-copier-copyTarget",xdsmap:{4.14:{xdscopy:"CopyJournalEntry",xdsmove:"CourseJournalEntry",dragkey:"formbox-date"},5.16:{xdsCopy:"CopyFile"},6.3:{xdscopy:"CopyCoursePlanEntry",xdsmove:"UberPlannerUpdateDueDate",dragkey:"duedate:assdate:sdate"},6.2:{xdscopy:"Copy"},6.5:{xdscopy:"CopyCoursePlanEntry",xdsmove:"UberPlannerUpdateLessonDate",dragkey:"sdate"},6.55:{xdscopy:"CopyRubric"},6.58:{xdscopy:"OnlineTestQuestionCopy"},default:{xdscopy:"Copy"}},pinmap:{4.14:520,5.2:2,6.3:12,6.55:2,6.56:2,6.2:12,default:10}},context:function(e){e.inherit("sys").global("copierContext",e.arg("context"))},getScheduleIndexForDate:function(t,a){for(var i=0;i<a.length;i++)if(0===r.compareDatesNoTime(t,e.parseDate(a[i].parsed)))return i;return r.workingDaysBetweenDates(a[0].parsed,t)},setDateField:function(t,a,i,n){var o=e.parseDate(i);i=e.dateFormat(o,"iso","",!0).replace("Z","").replace("T"," ");var s=!!n&&(n.destAltProps||n.altprops);if(n&&s&&s.saveIndexes){var d=s.indexMap[a];d||(d=s.indexMap.date);var l=r.getScheduleIndexForDate(o,s.schedule);t[d]=l,t[a]=""}else t[a]=i},cmpObjects:function(e,t,a){for(var i=!0,n=0;n<a.length;n++)if(void 0!==e&&void 0!==t){var r=e[a[n]],o=t[a[n]];"nt"==a[n]&&(void 0===e.nt&&e.nodetype&&(r=e.nodetype+"."+e.nodesubtype),void 0===t.nt&&t.nodetype&&(o=t.nodetype+"."+t.nodesubtype)),i=i&&r==o}return i},getDateUntimedFromDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},compareDatesNoTime:function(e,t){var a=r.getDateUntimedFromDate(e),i=r.getDateUntimedFromDate(t);return a.getTime()>i.getTime()?1:a.getTime()==i.getTime()?0:-1},workingDaysBetweenDates:function(e,t){var a=!1;if(t<e){var i=e;e=t,t=i,a=!0}e.setHours(0,0,0,1),t.setHours(23,59,59,999);var n=t-e,r=Math.ceil(n/864e5);r-=2*Math.floor(r/7);var o=e.getDay(),s=t.getDay();return o-s>1&&(r-=2),0===o&&6!=s&&(r-=1),6==s&&0!==o&&(r-=1),a?-1*r:r},getNormalizedDates:function(t){var a=t;return"string"==typeof t?a=e.parseDate(t):t=e.dateFormat(t,"yyyy-mm-dd"),{date:t,parsedDate:a}},copy:function(t,a,i){r._utils.buffer(t,r._utils.processSelection(t,"copy")),e.get_func(t.get_arg("clearSelectionFunc")||"clearSelectionFunc")&&e.get_func(t.get_arg("clearSelectionFunc")||"clearSelectionFunc")(t,a,i),e.get_func(t.get_arg("toggleFunc")||"toggleGearMode")&&e.get_func(t.get_arg("toggleFunc")||"toggleGearMode")(t,a,i)},cut:function(t,a,i){r._utils.buffer(t,r._utils.processSelection(t,"cut")),e.get_func(t.get_arg("toggleFunc")||t.arg("toggleFunc")||"toggleGearMode")(t,a,i)},pasteFromDate:function(t,a,i){return e.get_func("copier.run")(t,a,"directpaste")},move:function(t,a,i){return r._utils.buffer(t,r._utils.processSelection(t,"move")),e.get_func("copier.run")(t,a,"move")},paste:function(t,a,i){var n=r.clipboard(t),o=t.state.get("toc"),s=t.get_arg("toc_destid")||t.arg("toc_destid"),d=t.get_arg("toc_where")||"sub",l=!1,c=!1;if(s&&o){for(var u=0;u<n.nodes.length;u++)if(n.nodes[u].toc_id){var f=n.nodes[u];l=!0,"cut"===n.command?o.nid!=f.toc_pathnid?(o.copy(f.toc_pathnid,f.toc_id,s,d),o.altNid(f.toc_pathnid).del(f.toc_id)):o.multi().copy(f.toc_pathnid,f.toc_id,s,d).del(f.toc_id).exec():o.copy(f.toc_pathnid,f.toc_id,s,d)}c=new Promise(function(e,t){e()})}return l||(s&&t.arg("toccmd",{op:"move",path:"*",dest:s,where:d}),c=e.get_func("copier.run")(t,a,"paste").then(function(e){return e}),s&&c.then(function(e){})),c.then(function(e){return t.trigger("xds-copier-paste-finished"),e}),c},clipboard:function(e,t,a){return JSON.parse(JSON.stringify(r._utils.buffer(e)||{}))},pasteCustom:function(e,t,a){return r._utils.buffer(e)||!1},run:function(t,a,i){return new Promise(function(n,o){a&&a.css("visibility","hidden");var s=!1;t.arg("copierSuppressDialog")||(s=e.dialog({message:e.lang("Working, please wait...")+"<br/>"+e.html.loading(),buttons:[]}));var d=r._utils.buffer(t),l=function(o){s&&s.remove(),"move"==i&&r._utils.buffer(t,-1),e.get_func("copyComplete")&&e.get_func("copyComplete")(t,a,i),t.trigger("xds-copier-copyComplete"),a&&a.css("visibility",""),n(o.map)};t.global("copierPreFilterPasteBuffer")&&(d="function"==typeof t.global("copierPreFilterPasteBuffer")?t.global("copierPreFilterPasteBuffer")(t,d):e.get_func(t.global("copierPreFilterPasteBuffer"))(t,d)),"cut"==d.command&&e.gbl.nid==""+d.from?d.command="move":"cut"==d.command&&(d.command="copy");var c=e.get_func("copierGetAltProps");c&&(c=c(t,null,i||"paste")),d?(d.map={},d.responses={},d.finalCB=l,r._utils.runCommand(t,d,c)):l()})},del:function(t,a,i){var n=r._utils.processSelection(t,"del");if(n.nodes.length>0){for(var o=0,s=0;s<n.nodes.length;s++)n.nodes[s].graded&&o++;if(o>0)return void e.dialog({message:e.tpl(e.lang("You have selected {{count}} {{descriptor}} with grades and/or submitted files. These assessments must be deleted via the Gradebook."),{count:o,descriptor:o>1?e.lang("assessments"):e.lang("assessment")}),buttons:[{text:e.lang("Dismiss")}]});var d;d=1==n.nodes.length?e.lang("Are you sure you want to delete the selected item?"):e.tpl(e.lang("Are you sure you want to delete the {{count}} selected items?"),{count:n.nodes.length}),e.confirm({message:d,confirm:function(){r._utils.doDel(t,a,i,n)}})}},bindEvents:function(e,t,a){$("."+r._defs.inputClass).on("click",function(e){e.stopPropagation()})},pasteAvailable:function(e,t,a){e.state.global().get("copier-pasteAvailable");var i=n(e,0,a),o=r._utils.buffer(e,!1,i);if(o&&a&&a.nodetypes&&a.nodetypes.length>0){var s,d={},l=[];for(s=0;s<a.nodetypes.length;s++)d[""+a.nodetypes[s]]=!0;for(s=0;s<o.nodes.length;s++)(d[o.nodes[s].nt]||d[""+parseFloat(o.nodes[s].nt)]||d[""+parseInt(o.nodes[s].nt)])&&l.push(o.nodes[s]);return a.returnNodeList?l:l.length}if(o){if(e&&e.global("copierPreFilterPasteBuffer")){var c=o;"function"==typeof e.global("copierPreFilterPasteBuffer")&&(c=e.global("copierPreFilterPasteBuffer")(e,o)),o=c}return a&&a.returnNodeList?o.nodes:o.nodes.length}return!1},getNodes:function(t){var a=[],i=!1;return t&&t.types&&(a=t.types),t&&t.clipboard&&(i=t.clipboard),Array.isArray(a)||(a=[a]),e.get_func("copier.pasteAvailable")(!1,!1,{nodetypes:a,returnNodeList:!0,copierContext:i})},_utils:{commands:{customPaste:function(e,t,a){},copy:function(e,t,a){r._utils.doCopy(e,t,a,t.nid,e.arg("copyTargetNID")||e.cnid(),t.xdscopy)},move:function(e,t,a){e._config={initData:t,bufferObj:a,fromNid:t.nid},r._utils.doUpdate(e,{nid:t.nid})},cut:function(e,t,a){var i=a.finalCB;delete a.finalCB;var n=$.extend(!0,{},a);n.nodes.unshift(t),n.command="del",n.finalCB=i,a.command="copy",a.finalCB=function(){r._utils.doDel(e,void 0,!1,n)},r._utils.commands.copy(e,t,a)},del:function(t,a,i){var n=function(){a.preventDelete?r._utils.runCommand(t,i):e.post({url:{xds:a.xdsdel,nid:a.nid,command:"delete"},xdo:t,success:function(){r._utils.runCommand(t,i)}})};"6.4"==a.nt&&void 0===a.name?(t.args={preventDefault:!0,xds:"bookPlanUnitEntry",nid:a.nid,data:{"bookPlanEntryForm-unit-section-name":"dummy name"},no_ajax_post:!0,func:function(){n()}},e.post({url:{xds:t.args.xds,nid:t.args.nid},xdo:t,data:t.args.data,success:function(){n()}})):n()}},doDel:function(t,a,i,n){var o=n.finalCB;n.finalCB=function(){r._utils.buffer(t,-1),o?o():e.get_func("copyComplete")(t,a,i)},r._utils.runCommand(t,n)},updateDataArgs:function(t,a){t.args||(t.args={}),t.args.data||(t.args.data={});var n=t._config.initData,o=t._config.bufferObj,s=t._config.bufferObj.destAltProps;t._config.fromNid,r._defs.xdsmap[n.nt]&&r._defs.xdsmap[n.nt].dragkey&&(n.movekey=r._defs.xdsmap[n.nt].dragkey);var d=n.nt.split(".");if(t.args.data.nodetype=d[0],t.args.data.nodesubtype=d[1],n.thread){var l=n.thread;o.map[n.thread]&&(l=o.map[n.thread]),t.args.data.thread=l}else a&&a.nid&&(t.args.data.thread=a.nid.split("/").pop());if("move"!=o.command&&o.destAltProps&&o.destAltProps.allThreads&&o.destAltProps.allThreads.length>0){var c=i(o.destAltProps.allThreads);if(r.cmpObjects(c[0],n,["nt"])){for(var u={},f=0;f<c.length;f++)u[c[f].name]=c[f].nid;for(var g=n.name,p=n.name,h=0;u[p];)p=g+e.lang(" copy ")+ ++h;t.args.data.name=p}}var m=function(e){if(!e.movekey)return!1;for(var t=e.movekey.split(":"),a=!1,i=0;i<t.length;i++)if(e[t[i]]){a=e[t[i]];break}return a};if(n.movekey&&!m(n)&&!n.sdate&&s.fromDate)for(var v=n.movekey.split(":"),b=0;b<v.length;b++)r.setDateField(t.args.data,v[b],s.fromDate,o);else if(m(n)||n.movekey&&n.sdate){var _=m(n)||n.sdate,y=o.scheduleMap,x=!1;if(y&&y[_])x=y[_];else if(y){var w=r.getNormalizedDates(_);for(var C in y)if(y.hasOwnProperty(C)){var k=r.getNormalizedDates(C);0===r.compareDatesNoTime(k.parsedDate,w.parsedDate)&&(x=y[C])}}if(x)for(var S=n.movekey.split(":"),T=0;T<S.length;T++)r.setDateField(t.args.data,S[T],x,o)}else if(n[n.startkey]||n[n.endkey]){var M=n[n.startkey],I=n[n.endkey],A=o.scheduleMap;M&&r.setDateField(t.args.data,n.startkey,A[M],o),I&&r.setDateField(t.args.data,n.endkey,A[I],o)}else if(n.startkey&&o.altprops&&o.altprops.fromDate)if(n[n.startkey]){for(var D in o.scheduleMap)if(o.scheduleMap.hasOwnProperty(D)){r.setDateField(t.args.data,n.startkey,o.scheduleMap[D],o);break}}else r.setDateField(t.args.data,n.startkey,o.scheduleMap[o.altprops.fromDate],o);"CourseJournalEntry"==t.args.xds&&(t.args.data["formbox-pin"]=n.pin||r._defs.pinmap[n.nt])},doUpdate:function(t,a){var i=t._config.initData,n=t._config.bufferObj,o=t._config.fromNid,s=i.nt,d=function(){if("move"!=n.command&&(r._defs.xdsmap[s]&&r._defs.xdsmap[s].xdscopy||t.global("copierEnforcePinBit")||t.arg("copierEnforcePinBit"))){var o=i.pin||r._defs.pinmap[s];if(void 0===o&&(o=r._defs.pinmap.default),t.global("copierEnforcePinBit")||t.arg("copierEnforcePinBit")){var d=t.global("copierEnforcePinBit")||t.arg("copierEnforcePinBit");o?(o&d)!=d&&(o+=d):o=d}e.post({url:{xds:t.global("xdsPin")||"pin",nid:t.arg("copyTargetNID")||t.nid(),command:"putfield"},xdo:t,data:{rid:a.rid,field:o,value:1},success:function(){r._utils.runCommand(t,n)}})}else r._utils.runCommand(t,n)};t.global("copierSkipDateUpdate")||t.arg("copierSkipDateUpdate")?d():(t.args={xds:r._defs.xdsmap[s]&&r._defs.xdsmap[s].xdsmove||i.xdsmove||"Copy",nid:a.nid,func:function(e,t){d()}},n.map[o.split("/").pop()]=a.nid.split("/").pop(),n.responses[o.split("/").pop()]=a,r._utils.updateDataArgs(t,a),t.args.data.thumbnail=1,t.args.no_ajax_post=!0,e.post({url:{xds:t.args.xds,nid:t.args.nid},xdo:t,data:t.args.data,success:function(){d()}}))},doCopy:function(t,a,n,o,s,d){if(n.destAltProps&&n.destAltProps.threadsToMap&&n.destAltProps.threadsToMap.length>0)for(var l=i(n.destAltProps.threadsToMap),c=0;c<l.length;c++)if(r.cmpObjects(l[c],a,["name","nt"]))return n.map[o.split("/").pop()]=l[c].nid,void r._utils.runCommand(t,n);t.args={source:o,xds:d,_destxds:d,dest:s.split("/").pop(),_new:!0},t._config={initData:a,bufferObj:n,fromNid:o,toNid:s};var u=a.nt,f=!1;if(r._defs.xdsmap[u]&&r._defs.xdsmap[u].xdscopy||t.global("copierEnforcePinBit")||t.arg("copierEnforcePinBit")){if(f=a.pin||r._defs.pinmap[u],t.global("copierEnforcePinBit")||t.arg("copierEnforcePinBit")){var g=t.global("copierEnforcePinBit")||t.arg("copierEnforcePinBit");f?(f&g)!=g&&(f+=g):f=g}t.args.pin=f}if(a._extraData)for(var p in a._extraData)a._extraData.hasOwnProperty(p)&&(t.args[p]=a._extraData[p]);e.get_func("copy")(t),t.global("copierEnforceOneStep")?(r._utils.updateDataArgs(t),t.args.func=function(e,a){n.map[o.split("/").pop()]=a.nid.split("/").pop(),n.responses[o.split("/").pop()]=a,r._utils.runCommand(t,n)}):t.args.func=r._utils.doUpdate,!1!==f&&(t.args.data||(t.args.data={}),t.args.data.pin=f),(t.get_arg("toccmd")||t.arg("toccmd"))&&(t.args.data.toccmds=JSON.stringify([t.get_arg("toccmd")||t.arg("toccmd")])),t.args.no_ajax_post=!0,t.args.error=function(e,a){r._utils.runCommand(t,n)},e.get_func("post")(t)},runCommand:function(t,a,n){if(n){if(n&&n.threadsToMap&&n.threadsToMap.length>0){for(var o=[],s=0;s<a.nodes.length;s++)"6.4"!=a.nodes[s].nt&&o.push(a.nodes[s]);if(1==o.length)o[0].thread=n.threadsToMap[0].nid;else{o=[];for(var d=0;d<a.nodes.length;d++)for(var l=i(n.threadsToMap),c=0;c<l.length;c++)r.cmpObjects(l[c],a.nodes[d],["name","nt"])?a.map[a.nodes[d].nid.split("/").pop()]=l[c].nid:(o.push(a.nodes[d]),o[o.length-1].unitName&&(o[o.length-1]=n.threadsToMap[0].nid))}a.nodes=o}else if(n&&n.allThreads&&n.allThreads.length>0)for(var u=[],f=0;f<a.nodes.length;f++)for(var g=i(n.allThreads),p=0;p<g.length;p++)a.nodes[f].unitName&&g[p].name==a.nodes[f].unitName?a.nodes[f].thread=g[p].nid:r.cmpObjects(g[p],a.nodes[f],["name","nt"])?a.map[a.nodes[f].nid.split("/").pop()]=g[p].nid:u.push(a.nodes[f]);a.destAltProps=n;var h=e.get_func("mapSchedules")(t,a,n);a.scheduleMap=h}if(0===a.nodes.length)a.finalCB(a);else{var m=a.nodes.shift();r._utils.commands[a.command](t,m,a)}},processSelection:function(t,a){var i,n,o=e.get_func(t.arg("getSelectionFunc")||"copierGetSelection")(t,null,a),s={at:new Date,command:a,from:t.nid(),nodes:[]},d=t.arg("copyaltprops")||e.get_func(t.arg("copierAltPropsFunc")||"copierGetAltProps");d&&(d=d(t,null,a)),d&&(s.altprops=d);for(var l=0;l<o.length;l++)if((i=o[l])&&i.cnid){var c={nid:i.cnid(),nt:i.nt(),graded:i.data.graded,name:i.data.name,sdate:i.data.sdate,edate:i.data.edate,duedate:i.data.duedate,assdate:i.data.assdate,pin:i.data.pin,unitName:i.data.unitName,xdscopy:r._defs.xdsmap[i.nt()]&&r._defs.xdsmap[i.nt()].xdscopy||i.arg("xdscopy")||r._defs.xdsmap.default&&r._defs.xdsmap.default.xdscopy,xdsdel:i.arg("xdsdel"),xdsmove:r._defs.xdsmap[i.nt()]&&r._defs.xdsmap[i.nt()].xdsmove||i.arg("xdsdrag"),movekey:r._defs.xdsmap[i.nt()]&&r._defs.xdsmap[i.nt()].dragkey||i.arg("dragkey"),startkey:r._defs.xdsmap[i.nt()]&&r._defs.xdsmap[i.nt()].startkey||i.arg("startkey"),endkey:r._defs.xdsmap[i.nt()]&&r._defs.xdsmap[i.nt()].endkey||i.arg("endkey")},u=i.arg("copyextra")||i.get_arg("copyextra")||i.get_val("copyextra")||t.arg("copyextra")||t.get_arg("copyextra")||t.get_val("copyextra");if("string"==typeof u)try{u=JSON.parse(u)}catch(e){u=!1}u&&(c=$.extend(c,u)),c.edate&&c.sdate&&c.edate<c.sdate&&delete c.edate,i.data.thread&&(c.thread=i.data.thread),i.preventDelete&&(c.preventDelete=i.preventDelete),s.nodes.push(c)}else try{"processSelection Crash Averted",n=JSON.stringify({checked:o,copyAltProps:d}),e.diagnosticMessage('Copier Sanity Check "processSelection Crash Averted" ('+n+")","Copier Sanity Check")}catch(e){}return s},setFieldData:function(e){function t(t,a,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,a){if(2!=arguments.length){t=t.split("-");for(var i=e.data,n=!1,r=0;r<t.length-1;r++)i[n=t[r]]||(i[n]={}),i=i[n];i[t[t.length-1]]=a}else for(var o in t)t.hasOwnProperty(o)&&setFieldData(e,o,t[o])}),clearBuffer:function(t){localStorage.removeItem(n(t)+"_pasteBuffer"),t.state.global().set("copier-pasteAvailable",e.get("guid").rfc4122())},buffer:function(t,a,i){return a&&t.state.global().set("copier-pasteAvailable",e.get("guid").rfc4122()),e.storage(n(t)+"_pasteBuffer",a,"localStorage")}}};return e.extend.fn({copierGetSelection:function(t,a,i){if(t.global("copierFunctionPrefix")&&e.get_func(t.global("copierFunctionPrefix")+".fn.copierGetSelection"))return e.get_func(t.global("copierFunctionPrefix")+".fn.copierGetSelection")(t,a,i);if($("."+r._defs.targetClass).length>0){console.warn('Using generic copierGetSelection - this is deprecated and may not work as expected, use arg "getSelectionFunc" to specify a targeting function.');for(var n=$([".",r._defs.inputClass," input:checked"].join("")),o=[],s=0;s<n.length;s++)o.push($($(n[s]).closest("."+r._defs.targetClass)).xdo);n=$([".",r._defs.inputClass,".xds-f_checkbox-checked"].join(""));for(var d=0;d<n.length;d++)o.push($($(n[d]).closest("."+r._defs.targetClass)).xdo);return o}return[t]},copyComplete:function(t,a,i){t.global("copierFunctionPrefix")&&e.get_func(t.global("copierFunctionPrefix")+".fn.copyComplete")?e.get_func(t.global("copierFunctionPrefix")+".fn.copyComplete")(t,a,i):t.trigger("xds-copier-copyComplete")}}),e.extend.fn({mapSchedules:function(t,a,i){var n=function(e,t){for(var a=[],i=0;i<e.length;i++)e[i].scheduled==t&&a.push(e[i]);return a},o=function(t,a){var i,n=!1,r=!1;for(i=0;i<t.length;i++)if(t[i].scheduled){r=e.parseDate(t[i].date).getTime();break}for(i=0;i<t.length;i++){var o=e.parseDate(t[i].date);n||(n=o.getTime()),t[i].offset=o.getTime()-n,r&&!t[i].scheduleoffset&&(t[i].scheduleoffset=o.getTime()-r)}return t.scheduleStart=r,t.startTime=n,t},s=a.altprops&&a.altprops.schedule||[],d=i.schedule,l=function(t,a){for(var i=[],n=0;n<a.length;n++){var o=e.parseDate(a[n].date);r.compareDatesNoTime(t,o)<=0&&i.push(a[n])}return i};if(i.fromDate){for(var c=!1,u=e.parseDate(i.fromDate),f=0;f<a.nodes.length;f++){var g=a.nodes[f],p=g.sdate,h=p?g.edate:null,m=g.assdate,v=g.duedate;p&&(p=e.parseDate(p)),h&&(h=e.parseDate(h)),m&&(m=e.parseDate(m)),v&&(v=e.parseDate(v)),c||(c=p||h||m||v||u),c&&("6.4"==g.nt?(p&&p.getTime()<c.getTime()&&(c=p),h&&h.getTime()<c.getTime()&&(c=h)):v?v.getTime()<c.getTime()&&(c=v):m?m.getTime()<c.getTime()&&(c=m):p&&p.getTime()<c.getTime()&&(c=p))}c&&(s=l(c,s),d=l(e.parseDate(i.fromDate),d))}var b=o(s),_=o(n(b,!0)),y=(n(b,!1),o(d)),x=o(n(y,!0)),w=(n(y,!1),{}),C=new Date(y.startTime),k=!1;if(_.length>0&&x.length>0){var S=new Date(y.scheduleStart);if(i.fromDate){var T=e.parseDate(i.fromDate);0===r.compareDatesNoTime(T,S)&&b[0].scheduled&&(k=!0,C=S)}}if(k){for(var M=0;M<_.length;M++)x[M]&&(w[_[M].date]=x[M].date);for(var I=0;I<b.length;I++){var A=b[I];w[A.date]||(w[A.date]=e.dateFormat(new Date(A.scheduleoffset+C.getTime()+C.getTimezoneOffset()),"yyyy-mm-dd"))}}else if(0==_.length){y.scheduleStart||(y.scheduleStart=e.parseDate(y[0].date)),C.setTime(y.scheduleStart);for(var D=function(e,t){return 0==e.getDay()?new Date(e.getTime()+864e5):6==e.getDay()?new Date(e.getTime()+1728e5):e},L=function(t){var a=new Date,i=new Date;t&&t[0]&&t[0].date&&(a=e.parseDate(t[0].date)),t&&t.length>0&&t[t.length-1].date&&(i=e.parseDate(t[t.length-1].date));for(var n=r.getDateUntimedFromDate(a),o=D(r.getDateUntimedFromDate(i)),s=0,d=[];r.compareDatesNoTime(n,o)<=0;){if(0==n.getDay()||6==n.getDay());else{for(var l=[];s<t.length&&r.compareDatesNoTime(e.parseDate(t[s].date),n)<=0;)l.push(t[s++]);l.push({date:e.dateFormat(n,"yyyy-mm-dd"),hasItems:!1,scheduled:!1}),d.push(l)}n=new Date(n.getTime()+864e5)}return d}(b),E=function(t,a){for(var i=[];i.length<a;)i.push({date:e.dateFormat(t,"yyyy-mm-dd"),hasItems:!1,scheduled:!1}),t=D(new Date(t.getTime()+864e5));return i}(C,L.length),N=0;N<L.length;N++)for(var P=L[N],j=0;j<P.length;j++){var O=P[j];E.length>N?w[O.date]=E[N].date:w[O.date]=e.dateFormat(new Date(O.offset+C.getTime()),"yyyy-mm-dd")}}else for(var R=0;R<b.length;R++){var F=b[R];w[F.date]=e.dateFormat(new Date(F.offset+C.getTime()),"yyyy-mm-dd")}for(var B in w)if(w.hasOwnProperty(B)){var z=B.split(" ");w[z[0]]||(w[z[0]]=w[B])}return w}}),r}),cf.module("crypt",function(e,t,a,i){var n=Math.pow(2,16),r=n-1,o=n*n,s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=[0],l={};function c(e){var t,a,i=[];for(t=0;t<e.length;t++)55296==(56320&(a=e.charCodeAt(t)))&&t+1<e.length&&56320==(56320&e.charCodeAt(t+1))&&(a=e.codePointAt(t),++t),a<128?i.push(a):a<2048?i.push(192|a>>>6,128|63&a):a<65536?i.push(224|a>>>12,128|a>>>6&63,128|63&a):a<2097152?i.push(240|a>>>18,128|a>>>12&63,128|a>>>6&63,128|63&a):a<67108864?i.push(248|a>>>24,128|a>>>18&63,128|a>>>12&63,128|a>>>6&63,128|63&a):a<2147483648&&i.push(252|a>>>30,128|a>>>24&63,128|a>>>18&63,128|a>>>12&63,128|a>>>6&63,128|63&a);return i}function u(e){var t,a="";for(t=0;t<e.length;t++)a+=s[(240&e[t])>>>4]+s[15&e[t]];return a}var f,g,p,h,m,v,b,_,y,x,w,C,k,S,T,M,I,A,D,L=(g={as:function(e){return this.int64(e.hi,e.lo)},int64:function(e,t){return{hi:e,lo:t}},addint:function(e,t,a){var n=e.lo+t,r=e.hi;return n>=4294967296?(r+=Math.floor(n/4294967296))>=4294967296?(a!==i&&a.length>0&&(a[0]=this.addint(a[0],Math.floor(r/4294967296),a.length>1?a.slice(1,a.length-1):i)),this.int64(r%4294967296,n%4294967296)):this.int64(r,n%4294967296):this.int64(r,n)},add:function(e,t,a){var n=e.lo+t.lo,r=e.hi+t.hi;return n>=4294967296&&(r+=Math.floor(n/4294967296),n%=4294967296),r>=4294967296&&(a!==i&&a.length>0&&(a[0]=this.addint(a[0],Math.floor(r/4294967296),a.length>1?a.slice(1,a.length-1):i)),r%=4294967296),this.int64(r,n)},and:function(e,t){return this.int64(f.and(e.hi,t.hi),f.and(e.lo,t.lo))},or:function(e,t){return this.int64(f.or(e.hi,t.hi),f.or(e.lo,t.lo))},not:function(e){return this.int64(f.not(e.hi),f.not(e.lo))},xor:function(e,t){return this.int64(f.xor(e.hi,t.hi),f.xor(e.lo,t.lo))},ls:function(e,t,a){if(t>=64)return this.int64(0,0);if(t>0){var n,r=[0,0];return n=t>=32?this.int64(f.ls(e.lo,t-32,r),0):this.int64(f.or(f.ls(e.hi,t,r),f.rs(e.lo,32-t)),f.ls(e.lo,t)),a!==i&&a.length>0&&0!==r[0]&&(a[0]=this.ls(a[0],t,a.slice(1,a.length-1)),a[0].lo=f.or(a[0].lo,r[0]),a[0].hi=f.or(a[1].hi,r[1])),n}return this.int64(e.hi,e.lo)},rs:function(e,t){return t>=64?this.int64(0,0):t>=32?this.int64(0,f.rs(e.hi,t-32)):t>0?this.int64(f.rs(e.hi,t),f.add(f.ls(e.hi,32-t),f.rs(e.lo,t))):this.int64(e.hi,e.lo)},rl:function(e,t){return this.add(this.ls(e,t),this.rs(e,64-t))},rr:function(e,t){return this.add(this.ls(e,64-t),this.rs(e,t))}},p=function(){var e={priv:{block:[],blocksize:0,resultsize:0,resultbytes:[],resultstr:"",inputLen:[g.int64(0,0)],Transform:function(){},EncodeLength:function(){},EncodeState:function(){}},pub:{}},t=e.priv;return t.IncreaseLen=function(e){t.inputLen[0]=g.addint(t.inputLen[0],e,t.inputLen.length>1?t.inputLen.slice(1,1):i)},e.pub.BlockSize=function(){return t.blocksize},e.pub.ResultSizeBytes=function(){return t.resultsize},e.pub.ResultSizeStr=function(){return 2*t.resultsize},e.pub.ResultBytes=function(){return t.resultbytes},e.pub.ResultStr=function(){return t.resultstr},e.pub.Update=function(e){if("string"==typeof e&&(e=c(e)),t.IncreaseLen(e.length),e.length+t.block.length>=t.blocksize)for(t.block=t.block.concat(e.splice(0,t.blocksize-t.block.length)),t.Transform();e.length>=t.blocksize;)t.block=e.splice(0,t.blocksize),t.Transform();e.length>0&&(t.block=e.splice(0,e.length))},e.pub.Final=function(){if(t.block.push(128),t.block.length>56*t.inputLen.length){for(;t.block.length<64*t.inputLen.length;)t.block.push(0);t.Transform()}for(;t.block.length<56*t.inputLen.length;)t.block.push(0);return t.inputLen[0]=g.ls(t.inputLen[0],3,t.inputLen.length>1?t.inputLen.slice(1,1):i),t.EncodeLength(),t.Transform(),t.EncodeState(),t.resultstr=u(t.resultbytes),e.pub.Reset(!1),t.resultbytes},e.pub.Reset=function(a){var i;for(i=0;i<t.inputLen.length;i++)t.inputLen[i]=g.int64(0,0);t.block=[],a&&(e.pub.resultbytes=[],e.pub.resultstr="")},e},m=function(){var e=p();return e.priv.M=f,e.priv.blocksize=64,e},v=function(){var e=m(),t=e.priv;return t.IC=[1732584193,4023233417,2562383102,271733878],t.state=[],t.resultlen=32,t.EncodeInt32=function(e){return[255&e,e>>>8&255,e>>>16&255,e>>>24&255]},t.DecodeInt32=function(e){var t=e.splice(0,4);return f.or(t[0]|t[1]<<8|t[2]<<16,f.ls(t[3],24))},t.EncodeState=function(e){for(t.resultbytes=[];t.state.length;)t.resultbytes=t.resultbytes.concat(t.EncodeInt32(t.state.splice(0,1)))},t.EncodeLength=function(){t.block=t.block.concat(t.EncodeInt32(t.inputLen[0].lo)),t.block=t.block.concat(t.EncodeInt32(t.inputLen[0].hi))},t.XX=function(e,a,i,n,r,o){return f.rl(f.add(f.add(i[(16-a)%4],t.XF[e](i[(17-a)%4],i[(18-a)%4],i[(19-a)%4])),f.add(n,r)),o)},t.Transform=function(){var e,a,i=[],n=[];for(e=0;e<t.state.length;e++)i.push(t.state[e]);for(;t.block.length;)n.push(t.DecodeInt32(t.block));for(e=0;e<t.S.length;e++)for(a=0;a<n.length;a++)i[(16-a)%4]=t.XX(e,a,i,n[t.XIM[e][a]],t.gAC(e,a),t.S[e][a%4]);for(e=0;e<t.state.length;e++)t.state[e]=t.M.add(t.state[e],i[e])},t.ResetBase=e.pub.Reset,e.pub.Reset=function(e){var a;for(t.ResetBase(e),a=0;a<t.IC.length;a++)t.state[a]=t.IC[a]},e},_=function(){var e=v(),t=e.priv;return t.S=[[7,12,17,22],[5,9,14,20],[4,11,16,23],[6,10,15,21]],t.AC=[[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329],[4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562],[4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645],[4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745]],t.gAC=function(e,a){return t.AC[e][a]},t.XF=[function(e,a,i){return t.M.or(t.M.and(e,a),t.M.and(t.M.not(e),i))},function(e,a,i){return t.M.or(t.M.and(e,i),t.M.and(a,t.M.not(i)))},function(e,a,i){return t.M.xor(e,t.M.xor(a,i))},function(e,a,i){return t.M.xor(a,t.M.or(e,t.M.not(i)))}],t.XIM=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12],[5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2],[0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9]],t.XXi=t.XX,t.XX=function(e,a,i,n,r,o){return f.add(i[(17-a)%4],t.XXi(e,a,i,n,r,o))},e.pub.Reset(!0),e.pub},y=function(e){var t=64===e?function(){var e=p();return e.priv.M=g,e.priv.blocksize=128,e}():m(),a=t.priv;return a.H=[],a.IH=[],a.EncodeInt32=function(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e]},a.DecodeInt32=function(e){var t=e.splice(0,4);return f.or(t[3]|t[2]<<8|t[1]<<16,f.ls(t[0],24))},a.Ch=function(e,t,i){return a.M.xor(a.M.and(e,t),a.M.and(a.M.not(e),i))},a.Maj=function(e,t,i){return a.M.xor(a.M.and(e,t),a.M.xor(a.M.and(e,i),a.M.and(t,i)))},t},x=function(){var e=y(32),t=e.priv;return t.EncodeLength=function(){t.block=t.block.concat(t.EncodeInt32(t.inputLen[0].hi)),t.block=t.block.concat(t.EncodeInt32(t.inputLen[0].lo))},t.EncodeState=function(){for(t.resultbytes=[];t.resultbytes.length<t.resultsize;)t.resultbytes=t.resultbytes.concat(t.EncodeInt32(t.H.splice(0,1)))},t.DecodeWords=function(){for(var e=[];t.block.length;)e.push(t.DecodeInt32(t.block));return e},t.ResetBase=e.pub.Reset,e.pub.Reset=function(e){var a;for(t.ResetBase(e),a=0;a<t.IH.length;a++)t.H[a]=t.IH[a]},e},C=function(e){var t=64===e?function(){var e=y(64),t=e.priv;return t.inputLen.push(g.int64(0,0)),t.EncodeLength=function(){t.block=t.block.concat(t.EncodeInt32(t.inputLen[1].hi)),t.block=t.block.concat(t.EncodeInt32(t.inputLen[1].lo)),t.block=t.block.concat(t.EncodeInt32(t.inputLen[0].hi)),t.block=t.block.concat(t.EncodeInt32(t.inputLen[0].lo))},t.EncodeState=function(){var e;for(t.resultbytes=[];t.resultbytes.length<t.resultsize;)e=t.H.splice(0,1),t.resultbytes=t.resultbytes.concat(t.EncodeInt32(e[0].hi)),t.resultbytes.length<t.resultsize&&(t.resultbytes=t.resultbytes.concat(t.EncodeInt32(e[0].lo)))},t.DecodeWords=function(){for(var e=[];t.block.length;)e.push(t.M.int64(t.DecodeInt32(t.block),t.DecodeInt32(t.block)));return e},t.ResetBase=e.pub.Reset,e.pub.Reset=function(e){var a;for(t.ResetBase(e),a=0;a<t.IH.length;a++)t.H[a]=g.int64(t.IH[a].hi,t.IH[a].lo)},e}():x(),a=t.priv;return 64===e?(a.BSS=[[28,34,39],[14,18,41]],a.LSS=[[1,8,7],[19,61,6]],a.K=[a.M.int64(1116352408,3609767458),a.M.int64(1899447441,602891725),a.M.int64(3049323471,3964484399),a.M.int64(3921009573,2173295548),a.M.int64(961987163,4081628472),a.M.int64(1508970993,3053834265),a.M.int64(2453635748,2937671579),a.M.int64(2870763221,3664609560),a.M.int64(3624381080,2734883394),a.M.int64(310598401,1164996542),a.M.int64(607225278,1323610764),a.M.int64(1426881987,3590304994),a.M.int64(1925078388,4068182383),a.M.int64(2162078206,991336113),a.M.int64(2614888103,633803317),a.M.int64(3248222580,3479774868),a.M.int64(3835390401,2666613458),a.M.int64(4022224774,944711139),a.M.int64(264347078,2341262773),a.M.int64(604807628,2007800933),a.M.int64(770255983,1495990901),a.M.int64(1249150122,1856431235),a.M.int64(1555081692,3175218132),a.M.int64(1996064986,2198950837),a.M.int64(2554220882,3999719339),a.M.int64(2821834349,766784016),a.M.int64(2952996808,2566594879),a.M.int64(3210313671,3203337956),a.M.int64(3336571891,1034457026),a.M.int64(3584528711,2466948901),a.M.int64(113926993,3758326383),a.M.int64(338241895,168717936),a.M.int64(666307205,1188179964),a.M.int64(773529912,1546045734),a.M.int64(1294757372,1522805485),a.M.int64(1396182291,2643833823),a.M.int64(1695183700,2343527390),a.M.int64(1986661051,1014477480),a.M.int64(2177026350,1206759142),a.M.int64(2456956037,344077627),a.M.int64(2730485921,1290863460),a.M.int64(2820302411,3158454273),a.M.int64(3259730800,3505952657),a.M.int64(3345764771,106217008),a.M.int64(3516065817,3606008344),a.M.int64(3600352804,1432725776),a.M.int64(4094571909,1467031594),a.M.int64(275423344,851169720),a.M.int64(430227734,3100823752),a.M.int64(506948616,1363258195),a.M.int64(659060556,3750685593),a.M.int64(883997877,3785050280),a.M.int64(958139571,3318307427),a.M.int64(1322822218,3812723403),a.M.int64(1537002063,2003034995),a.M.int64(1747873779,3602036899),a.M.int64(1955562222,1575990012),a.M.int64(2024104815,1125592928),a.M.int64(2227730452,2716904306),a.M.int64(2361852424,442776044),a.M.int64(2428436474,593698344),a.M.int64(2756734187,3733110249),a.M.int64(3204031479,2999351573),a.M.int64(3329325298,3815920427),a.M.int64(3391569614,3928383900),a.M.int64(3515267271,566280711),a.M.int64(3940187606,3454069534),a.M.int64(4118630271,4000239992),a.M.int64(116418474,1914138554),a.M.int64(174292421,2731055270),a.M.int64(289380356,3203993006),a.M.int64(460393269,320620315),a.M.int64(685471733,587496836),a.M.int64(852142971,1086792851),a.M.int64(1017036298,365543100),a.M.int64(1126000580,2618297676),a.M.int64(1288033470,3409855158),a.M.int64(1501505948,4234509866),a.M.int64(1607167915,987167468),a.M.int64(1816402316,1246189591)]):(a.BSS=[[2,13,22],[6,11,25]],a.LSS=[[7,18,3],[17,19,10]],a.K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a.BigSigma=function(e,t){return a.M.xor(a.M.rr(e,a.BSS[t][0]),a.M.xor(a.M.rr(e,a.BSS[t][1]),a.M.rr(e,a.BSS[t][2])))},a.LittleSigma=function(e,t){return a.M.xor(a.M.rr(e,a.LSS[t][0]),a.M.xor(a.M.rr(e,a.LSS[t][1]),a.M.rs(e,a.LSS[t][2])))},a.Transform=function(){var e,t,i,n=a.DecodeWords(),r=[];for(i=0;i<a.H.length;i++)r[i]=a.M.as(a.H[i]);for(i=n.length;i<a.K.length;i++)n[i]=a.M.add(a.M.add(a.LittleSigma(n[i-2],1),n[i-7]),a.M.add(a.LittleSigma(n[i-15],0),n[i-16]));for(i=0;i<a.K.length;i++)e=a.M.add(a.M.add(a.M.add(r[7],a.BigSigma(r[4],1)),a.Ch(r[4],r[5],r[6])),a.M.add(a.K[i],n[i])),t=a.M.add(a.BigSigma(r[0],0),a.Maj(r[0],r[1],r[2])),r[7]=r[6],r[6]=r[5],r[5]=r[4],r[4]=a.M.add(r[3],e),r[3]=r[2],r[2]=r[1],r[1]=r[0],r[0]=a.M.add(e,t);for(i=0;i<a.H.length;i++)a.H[i]=a.M.add(a.H[i],r[i])},t},T=function(){var e=C(64);return e.priv.resultsize=48,e.priv.IH=[g.int64(3418070365,3238371032),g.int64(1654270250,914150663),g.int64(2438529370,812702999),g.int64(355462360,4144912697),g.int64(1731405415,4290775857),g.int64(2394180231,1750603025),g.int64(3675008525,1694076839),g.int64(1203062813,3204075428)],e.pub.Reset(!0),e.pub},M=function(){var e=C(64);return e.priv.resultsize=64,e.priv.IH=[g.int64(1779033703,4089235720),g.int64(3144134277,2227873595),g.int64(1013904242,4271175723),g.int64(2773480762,1595750129),g.int64(1359893119,2917565137),g.int64(2600822924,725511199),g.int64(528734635,4215389547),g.int64(1541459225,327033209)],e.pub.Reset(!0),e.pub},I=function(){var e=C(64);return e.priv.resultsize=28,e.priv.IH=[g.int64(2352822216,424955298),g.int64(1944164710,2312950998),g.int64(502970286,855612546),g.int64(1738396948,1479516111),g.int64(258812777,2077511080),g.int64(2011393907,79989058),g.int64(1067287976,1780299464),g.int64(286451373,2446758561)],e.pub.Reset(!0),e.pub},A=function(){var e=C(64);return e.priv.resultsize=32,e.priv.IH=[g.int64(573645204,4230739756),g.int64(2673172387,3360449730),g.int64(596883563,1867755857),g.int64(2520282905,1497426621),g.int64(2519219938,2827943907),g.int64(3193839141,1401305490),g.int64(721525244,746961066),g.int64(246885852,2177182882)],e.pub.Reset(!0),e.pub},{math32:f={as:function(e){return e},add:function(e,t,a){var n=e+t;return n>=4294967296?(a!==i&&a.length>0&&(a[0]=this.add(a[0],Math.floor(n/4294967296),a.slice(1,a.length-1))),n%4294967296):n},and:function(e,t){return(2147483647&e&t)+(e>=2147483648&&t>=2147483648?2147483648:0)},or:function(e,t){return(2147483647&e|2147483647&t)+(e>=2147483648||t>=2147483648?2147483648:0)},not:function(e){return~(2147483648|e)+(e<2147483648?2147483648:0)},xor:function(e,t){return(2147483647&e^2147483647&t)+(!(e>=2147483648||t>=2147483648)||e>=2147483648&&t>=2147483648?0:2147483648)},ls:function(e,t,a){if(t>=32)return 0;if(t>0){var n=e*Math.pow(2,t);return n>=4294967296?(a!==i&&a.length>0&&(a[0]=this.or(this.ls(a,t,a.slice(1,a.length-1)),Math.floor(n/4294967296))),n%4294967296):n}return e},rs:function(e,t){return t>=32?0:t>0?e>>>t:e},rl:function(e,t){return this.add(this.ls(e,t),this.rs(e,32-t))},rr:function(e,t){return this.add(this.ls(e,32-t),this.rs(e,t))}},math64:g,get_digestor:D=function(e){switch(e.toUpperCase()){case"MD2":return h;case"MD4":return b;case"MD5":return _;case"SHA-1":case"SHA1":return w;case"SHA-224":case"SHA224":return k;case"SHA-256":case"SHA256":return S;case"SHA-384":case"SHA384":return T;case"SHA-512":case"SHA512":return M;case"SHA-512_224":case"SHA512_224":return I;case"SHA-512_256":case"SHA512_256":return A;default:return null}},HMAC:function(e,t,a,i){var n=[],r=[];for("string"==typeof e&&(e=D(e)),"string"==typeof t&&(t=c(t)),t.length>e.BlockSize()&&(e.Update(t),e.Final(),t=e.ResultBytes().slice(),e.Reset(!0));t<e.BlockSize();)t.push(0);for(;n.length<e.BlockSize();)r[n.length]=92^t[n.length],n[n.length]=54^t[n.length];return e.Update(n),e.Update(a),e.Final(),e.Update(r),e.Update(e.ResultBytes()),e.Final(),i?e.ResultStr():e.ResultBytes()},MD2:h=function(){var e=p(),t=e.priv;return t.C=[41,46,67,201,162,216,124,1,61,54,84,161,236,240,6,19,98,167,5,243,192,199,115,140,152,147,43,217,188,76,130,202,30,155,87,60,253,212,224,22,103,66,111,24,138,23,229,18,190,78,196,214,218,158,222,73,160,251,245,142,187,47,238,122,169,104,121,145,21,178,7,63,148,194,16,137,11,34,95,33,128,127,93,154,90,144,50,39,53,62,204,231,191,247,151,3,255,25,48,179,72,165,181,209,215,94,146,42,172,86,170,198,79,184,56,210,150,164,125,182,118,252,107,226,156,116,4,241,69,157,112,89,100,113,135,32,134,91,207,101,230,45,168,2,27,96,37,173,174,176,185,246,28,70,97,105,52,64,126,15,85,71,163,35,221,81,175,58,195,92,249,206,186,197,234,38,44,83,13,110,133,40,132,9,211,223,205,244,65,129,77,82,106,220,55,200,108,193,171,250,36,225,123,8,12,189,177,74,120,136,149,139,227,99,232,109,233,203,213,254,59,0,29,57,242,239,183,14,102,88,208,228,166,119,114,248,235,117,75,10,49,68,80,180,143,237,31,26,219,153,141,51,159,17,131,20],t.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.checksum=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.blocksize=16,t.resultsize=16,t.Transform=function(){var e,a,i;if(null!=t.checksum)for(i=t.checksum[15],e=0;e<16;e++)i=t.checksum[e]^=t.C[t.block[e]^i];for(t.state=t.state.concat(t.block),e=0;e<16;e++)t.state[32+e]=t.state[e]^t.state[16+e];for(i=0,a=0;a<18;a++){for(e=0;e<48;e++)i=t.state[e]^=t.C[i];i=(i+a)%256}t.state.splice(16,32),t.block=[]},t.ResetPriv=e.pub.Reset,e.pub.Reset=function(e){t.ResetPriv(e),t.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.checksum=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},e.pub.Final=function(){for(var a=16-t.block.length;t.block.length<t.blocksize;)t.block.push(a);return t.Transform(),t.block=t.checksum,t.checksum=null,t.Transform(),t.resultbytes=t.state,t.resultstr=u(t.resultbytes),e.pub.Reset(!1),t.resultbytes},e.pub},MD4:b=function(){var e=v(),t=e.priv;return t.S=[[3,7,11,19],[3,5,9,13],[3,9,11,15]],t.AC=[0,1518500249,1859775393],t.gAC=function(e,a){return t.AC[e]},t.XF=[function(e,a,i){return t.M.or(t.M.and(e,a),t.M.and(t.M.not(e),i))},function(e,a,i){return t.M.or(t.M.and(e,a),t.M.or(t.M.and(e,i),t.M.and(a,i)))},function(e,a,i){return t.M.xor(e,t.M.xor(a,i))}],t.XIM=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]],e.pub.Reset(!0),e.pub},MD5:_,SHA1:w=function(){var e=x(),t=e.priv;return t.resultsize=20,t.IH=[1732584193,4023233417,2562383102,271733878,3285377520],t.K=[1518500249,1859775393,2400959708,3395469782],t.Parity=function(e,a,i){return t.M.xor(e,t.M.xor(a,i))},t.f=[t.Ch,t.Parity,t.Maj,t.Parity],t.Transform=function(){var e,a,i,n=t.DecodeWords(),r=[];for(a=0;a<t.H.length;a++)r[a]=t.H[a];for(a=n.length;a<80;a++)n[a]=t.M.rl(t.M.xor(t.M.xor(n[a-3],n[a-8]),t.M.xor(n[a-14],n[a-16])),1);for(i=0;i<4;i++)for(a=0;a<20;a++)e=t.M.add(t.M.add(t.M.add(t.M.rl(r[0],5),t.f[i](r[1],r[2],r[3])),r[4]),t.M.add(t.K[i],n[20*i+a])),r[4]=r[3],r[3]=r[2],r[2]=t.M.rl(r[1],30),r[1]=r[0],r[0]=e;for(a=0;a<t.H.length;a++)t.H[a]=t.M.add(t.H[a],r[a])},e.pub.Reset(!0),e.pub},SHA224:k=function(){var e=C(32);return e.priv.resultsize=28,e.priv.IH=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],e.pub.Reset(!0),e.pub},SHA256:S=function(){var e=C(32);return e.priv.resultsize=32,e.priv.IH=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.pub.Reset(!0),e.pub},SHA384:T,SHA512:M,SHA512_224:I,SHA512_256:A});function E(e){for(;d.length<e;)d=d.concat(d);return d.slice(0,e)}function N(e,t,a,i){var r=e+t+a;return r>=n?(r-=n,a=1):r<0?(r+=n,a=-1):a=0,i.push(r),a}function P(e,t,a,i){var o;if(e<t.numDigits){if(-1===t.sign){for(a=1,o=0;o<i.digits.length;o++)a&&0===i.digits[o]?i.digits[o]=0:(i.digits[o]=r-i.digits[o]+a,a=0);for(a=-1;e<t.digits.length&&a;)0===t.digits[e]?i.digits.push(r):(i.digits.push(t.digits[e]+a),a=0),++e;i.sign=-1}i.digits=i.digits.concat(t.digits.slice(e))}if(a<0){for(a=1,o=0;o<i.digits.length;o++)i.digits[o]=r-i.digits[o]+a,i.digits[o]>=n?(a=1,i.digits[o]-=n):a=0;i.sign=-1}else a&&i.digits.push(1);for(;i.digits.length>1&&0===i.digits[i.digits.length-1];)i.digits.pop();i.numDigits=i.digits.length}function j(e,t,a,i,r){var o=r+a*i;return e[t]=o%n,(o-e[t])/n}function O(e,t){this.init(e,t)}O.prototype.init=function(e,t){this.digits=[],this.sign=1,this.numDigits=0,e===i||("number"==typeof e?this.fromNumber(e):"string"==typeof e&&e.length&&("0x"===e.substr(0,2)?this.fromHex(e.substr(2)):"-0x"===e.substr(0,3)?this.fromHex("-"+e.substr(3)):e.match(/^-?[\d]+$/)?this.fromDecimal(e):e.match(/^-?[\da-fA-f]+$/)?this.fromHex(e):this.fromBase64(e))),t&&(this.numDigits=t/16,this.numDigits>this.digits.length?this.digits=this.digits.concat(E(this.numDigits-this.digits.length)):this.numDigits<this.digits.length&&this.digits.splice(this.numDigits,this.digits.length-this.numDigits))},O.prototype.fromHex=function(e){for(var t,a=0,i=(4-e.length%4)%4,n=0;n<e.length;)a<<=4,(t=e.charCodeAt(n))>96&&(t-=32),a+=t-(t>64?55:48),4==++i&&(this.digits.push(a),i=a=0),++n;for(;this.digits.length&&0===this.digits[this.digits.length-1];)this.digits.pop();this.digits.reverse(),this.numDigits=this.digits.length},O.prototype.toHex=function(){var e,t,a,i=[];for(e=0;e<this.numDigits;e++)for(a=this.digits[e],t=0;t<4;t++)i.push(s[15&a]),a>>>=4;for(;"0"===i[i.length-1];)i.pop();return-1===this.sign&&i.push("-"),i.reverse(),i.join("")},O.prototype.fromBase64=function(e){var t,a,i,n,r=[],o=0;if(e.length%4!=0)return!1;for(t=0;t<e.length;t+=4){for(i=0,n=t;n<t+4;n++)if(i<<=6,(a=e.charCodeAt(n))>=65&&a<=90)i+=a-65;else if(a>=97&&a<=122)i+=a-71;else if(a>=48&&a<=57)i+=a+4;else if(43===a)i+=62;else if(47===a)i+=63;else{if(!(61===a&&n>=e.length-2))return this.digits=[],this.sign=1,this.numDigits=0,!1;++o}r.push(i>>16),o<2&&r.push(i>>8&255),o<1&&r.push(255&i)}for(r.reverse(),r.length%2&&r.push(0),n=0;n<r.length;n+=2)this.digits.push(r[n]+(r[n+1]<<8));return this.numDigits=this.digits.length,!0},O.prototype.toBase64=function(){var e=this.numDigits-1,t=10,a=0,i=[];if(-1===this.sign)return null;if(0===this.numDigits)return"A==";for(;e>=0;)t>0?(a=this.digits[e]>>>t&63,t-=6):e>0?(a=(this.digits[e]&63>>>-t)<<-t,t+=10,a|=this.digits[--e]>>>t&63):(a=(this.digits[e]&63>>>-t)<<-t,--e),63===a?i.push("/"):62===a?i.push("+"):a>=52?i.push(String.fromCharCode(a-4)):a>=26?i.push(String.fromCharCode(a+71)):i.push(String.fromCharCode(a+65));if(e=2*this.digits.length,e%=3)for(e=3-e;e--;)i.push("=");return i.join("")},O.prototype.fromDecimal=function(e){var t=new O(0),a=-1;for("-"===e.charAt(0)&&(t.sign=-1,++a);++a<e.length;)t=t.multNative(10).add(e.charCodeAt(a)-48);this.digits=t.digits,this.sign=t.sign,this.numDigits=this.digits.length},O.prototype.toDecimal=function(){for(var e=this.copy(),t=[],a=[];!e.eq(R);)e=e.divNative(10,a),t.push(String.fromCharCode(48+a[0].toNumber()));return-1===this.sign&&t.push("-"),t.reverse(),t.join("")},O.prototype.fromNumber=function(e){var t;for(0===e&&this.digits.push(0);e;)t=e%n,this.digits.push(t),e=(e-t)/n;this.numDigits=this.digits.length},O.prototype.toNumber=function(){var e,t=0;if(this.numDigits>4)return null;if(0!==this.numDigits){for(e=this.numDigits-1;e>=0;e--)t&&(t*=n),t+=this.digits[e];-1===this.sign&&(t=-t)}return t},O.prototype.valueOf=function(){return this.toHex()},O.prototype.copy=function(){var e=new O;return e.digits=this.digits.slice(0),e.numDigits=this.numDigits,e.sign=this.sign,e},O.prototype.eq=function(e){var t,a=this;if(0===a.numDigits){if(0===e||0===e.numDigits)return!0;a=R}else"number"==typeof e?e=new O(e):0===e.numDigits&&(e=R);if(a.sign!==e.sign)return!1;if(a.numDigits===e.numDigits)for(t=a.numDigits;--t>=0&&a.digits[t]===e.digits[t];);return-1===t},O.prototype.neq=function(e){return!this.eq(e)},O.prototype.gt=function(e){var t,a=this,i=1;if(0===a.numDigits&&(a=R),"number"==typeof e&&(e=new O(e)),0===e.numDigits&&(e=R),a.sign!==e.sign)return a.sign>e.sign;if(a.numDigits===e.numDigits){for(t=a.numDigits;--t>=0&&a.digits[t]===e.digits[t];);i=t>=0&&a.digits[t]>e.digits[t]?1:-1}else i=a.numDigits>e.numDigits?1:-1;return i===a.sign},O.prototype.lt=function(e){var t,a=this,i=1;if(0===a.numDigits&&(a=R),"number"==typeof e&&(e=new O(e)),0===e.numDigits&&(e=R),a.sign!==e.sign)return a.sign<e.sign;if(a.numDigits===e.numDigits){for(t=a.numDigits;--t>=0&&a.digits[t]===e.digits[t];);i=t>=0&&a.digits[t]<e.digits[t]?1:-1}else i=a.numDigits<e.numDigits?1:-1;return i===a.sign},O.prototype.gte=function(e){var t,a=this,i=1;if(0===a.numDigits&&(a=R),"number"==typeof e&&(e=new O(e)),0===e.numDigits&&(e=R),a.sign!==e.sign)return a.sign>e.sign;if(a.numDigits===e.numDigits){for(t=a.numDigits;--t>=0&&a.digits[t]===e.digits[t];);i=t<0||a.digits[t]>e.digits[t]?1:-1}else i=a.numDigits>e.numDigits?1:-1;return i===a.sign},O.prototype.lte=function(e){var t,a=this,i=1;if(0===a.numDigits&&(a=R),"number"==typeof e&&(e=new O(e)),0===e.numDigits&&(e=R),a.sign!==e.sign)return a.sign<e.sign;if(a.numDigits===e.numDigits){for(t=a.numDigits;--t>=0&&a.digits[t]===e.digits[t];);i=t<0||a.digits[t]<e.digits[t]?1:-1}else i=a.numDigits<e.numDigits?1:-1;return i===a.sign},O.prototype.cpl=function(e){var t,a=this.copy();if(!a.eq(R)){for(t=0;t<a.numDigits;t++)e&&a.digits[t]===r?a.digits[t]=0:(a.digits[t]=r-a.digits[t]+e,e=0);a.sign*=-1}return a},O.prototype.addNative=function(e){var t,a=new O,i=1,r=-1,o=0;for(e<0&&(i=-1,e=-e);++r<this.numDigits&&(e||o);)t=e%n,o=N(this.sign*this.digits[r],i*t,o,a.digits),e=(e-t)/n;for(;e;)o=N(0,i*(t=e%n),o,a.digits),e=(e-t)/n;return P(r,this,o,a),a},O.prototype.addLong=function(e){var t,a=new O,i=0,n=-1,r=this;for(e.numDigits>r.numDigits&&(t=r,r=e,e=t);++n<e.numDigits;)i=N(r.sign*r.digits[n],e.sign*e.digits[n],i,a.digits);for(;n<r.numDigits&&i;)i=N(r.sign*r.digits[n++],0,i,a.digits);return P(n,r,i,a),a},O.prototype.add=function(e){return"number"==typeof e?this.addNative(e):this.addLong(e)},O.prototype.sub=function(e){var t;return"number"==typeof e?this.addNative(-1*e):(e.sign=-e.sign,t=this.addLong(e),e.sign=-e.sign,t)},O.prototype.multNative=function(e){var t,a,i=0;if(0===e)return R.copy();for(a=new O,t=0;t<this.numDigits;t++)i=j(a.digits,t,this.digits[t],e,i);for(;i;)i=j(a.digits,t++,0,0,i);return a.numDigits=a.digits.length,a.sign=this.sign*(e>=0?1:-1),a},O.prototype.multLong=function(e){var t,a,i,r,o;for((t=new O).digits=E(this.numDigits+e.numDigits-1),a=0;a<e.numDigits;a++){for(o=0,i=0;i<this.numDigits;i++)r=t.digits[a+i]+this.digits[i]*e.digits[a]+o,t.digits[a+i]=r%n,o=(r-t.digits[a+i])/n;t.digits[a+this.numDigits]=o}for(;t.digits.length>1&&0===t.digits[t.digits.length-1];)t.digits.pop();return t.numDigits=t.digits.length,t.sign=this.sign*e.sign,t},O.prototype.multToom2=function(e){var t,a,i,n,r,o,s=this,d=[];if(s.numDigits<e.numDigits&&(t=s,s=e,e=t),t=1&s.numDigits,a=(s.numDigits-t)/2,e.numDigits<a){for(d[0]=new O,d[0][0].digits=s.digits.slice(0,a),d[0][1].digits=s.digits.slice(a),r=0;r<d[0].length;r++){for(;d[0][r].digits.length>1&&0===d[0][r].digits[d[0][r].digits.length-1];)d[0][r].digits.pop();d[0][r].numDigits=d[0][r].digits.length}d[1]=e.copy(),d[3]=[d[0][1].mult(d[1]),d[0][0].mult(d[1])]}else{for(i=[s,e],n=0;n<2;n++){for(d[n]=[new O,new O],d[n][0].digits=i[n].digits.slice(0,a),d[n][1].digits=i[n].digits.slice(a),r=0;r<d[n].length;r++){for(;d[n][r].digits.length>1&&0===d[n][r].digits[d[n][r].digits.length-1];)d[n][r].digits.pop();d[n][r].numDigits=d[n][r].digits.length}d[n][2]=d[n][0].add(d[n][1])}d[2]=[d[0][1].mult(d[1][1]),d[0][2].mult(d[1][2]),d[0][0].mult(d[1][0])],d[3]=[d[2][0],d[2][1].sub(d[2][0]).sub(d[2][2]),d[2][2]]}for(o=d[3].pop(),r=1;r<=d[3].length;r++)o=o.add(d[3][d[3].length-r].ls(r*a*16));return o.sign=this.sign*e.sign,o},O.prototype.multToom3=function(e){var t,a,i,n,r,o,s=this,d=[];if(s.numDigits<e.numDigits&&(a=s,s=e,e=a),a=s.numDigits%3,i=(s.numDigits-a)/3,e.numDigits<=2*i){for(d[0]=[new O,new O,new O],d[0][0].digits=s.digits.slice(0,i),d[0][1].digits=s.digits.slice(i,2*i),d[0][2].digits=s.digits.slice(2*i),d[1]=[new O,new O],d[1][0].digits=e.digits.slice(0,i),d[1][1].digits=e.digits.slice(i),r=0;r<2;r++)for(o=0;o<d[r].length;o++){for(;d[r][o].digits.length>1&&0===d[r][o].digits[d[r][o].digits.length-1];)d[r][o].digits.pop();d[r][o].numDigits=d[r][o].digits.length}d[0][3]=d[0][0].add(d[0][2]),d[0][4]=d[0][3].add(d[0][1]),d[0][5]=d[0][3].sub(d[0][1]),d[1][2]=d[1][0].add(d[1][1]),d[1][3]=d[1][0].sub(d[1][1]),d[2]=[d[0][0].mult(d[1][0]),d[0][4].mult(d[1][2]),d[0][5].mult(d[1][3]),d[0][2].mult(d[1][1])],d[3]=[d[2][0],a=d[2][1].rs(1),d[2][2].rs(1),d[2][3]],d[3][1]=d[3][1].sub(d[3][2]).sub(d[2][3]),d[3][2]=d[3][2].add(a).sub(d[2][0])}else{for(n=[s,e],r=0;r<2;r++){for(d[r]=[new O,new O,new O],d[r][0].digits=n[r].digits.slice(0,i),d[r][1].digits=n[r].digits.slice(i,2*i),d[r][2].digits=n[r].digits.slice(2*i),o=0;o<3;o++){for(;d[r][o].digits.length>1&&0===d[r][o].digits[d[r][o].digits.length-1];)d[r][o].digits.pop();d[r][o].numDigits=d[r][o].digits.length}d[r][3]=d[r][0].add(d[r][2]),d[r][4]=d[r][3].add(d[r][1]),d[r][5]=d[r][3].sub(d[r][1]),d[r][6]=d[r][5].add(d[r][2]).ls(1).sub(d[r][0])}d[2]=[d[0][0].mult(d[1][0]),d[0][4].mult(d[1][4]),d[0][5].mult(d[1][5]),d[0][6].mult(d[1][6]),d[0][2].mult(d[1][2])],d[3]=[d[2][0],d[2][1].sub(d[2][2]).rs(1),d[2][2].sub(d[2][0]),d[2][3].sub(d[2][1]).divNative(3),d[2][4]],d[3][3]=d[3][2].sub(d[3][3]).rs(1).add(d[2][4].ls(1)),d[3][2]=d[3][2].add(d[3][1]).sub(d[2][4]),d[3][1]=d[3][1].sub(d[3][3])}for(t=d[3][0],o=1;o<d[3].length;o++)t=t.add(d[3][o].ls(o*i*16));return t.sign=this.sign*e.sign,t},O.prototype.mult=function(e){var t,a=this;return"number"==typeof e?a.multNative(e):(a.numDigits<e.numDigits&&(t=a,a=e,e=t),0===e.numDigits||0===a.numDigits?R.copy():e.numDigits>=1/0?a.multFuhrer(e):e.numDigits>=1/0?a.multSchonhageStrassen(e):e.numDigits>=64?a.multToom3(e):e.numDigits>=32?a.multToom2(e):e.numDigits>=2?a.multLong(e):a.numDigits<2?new O(a.toNumber()*e.toNumber()):a.multNative(e.toNumber()))},O.prototype.square=function(){var e,t,a,i,r=new O;for(r.digits=E(2*this.numDigits),e=0;e<this.numDigits;e++){for(i=((a=r.digits[2*e]+this.digits[e]*this.digits[e])-(r.digits[2*e]=a%n))/n,t=e+1;t<this.numDigits;t++)i=((a=r.digits[e+t]+2*this.digits[e]*this.digits[t]+i)-(r.digits[e+t]=a%n))/n;r.digits[e+this.numDigits]=i}for(;r.digits.length>1&&0===r.digits[r.digits.length-1];)r.digits.pop();return r.numDigits=r.digits.length,r},O.prototype.divNative=function(e,t){var a,i,r,o=0;for(i=new O,a=this.numDigits;--a>=0;)o*=n,r=(this.digits[a]+o)%e,i.digits[a]=(this.digits[a]+o-r)/e,o=r;for(;i.digits.length&&0===i.digits[i.digits.length-1];)i.digits.pop();return i.numDigits=i.digits.length,i.sign=this.sign*(e>=0?1:-1),t&&(-1===i.sign&&(o=e-o),t[0]=new O(o)),i},O.prototype.divLong=function(e,t){var a,i,s,d,l,c,u,f,g,p=this.copy(),h=0;if(p.sign=1,a=new O,e.digits[e.numDigits-1]<n/2){for(;e.digits[e.numDigits-1]<n>>>++h;);e=e.ls(--h),p=p.ls(h)}for(d=p.numDigits-1,l=e.numDigits-1,g=(f=e.digits[l])*n+e.digits[l-1],(s=new O).digits=E(d-l).concat(e.digits),s.numDigits=e.numDigits+d-l,a.digits=E(d-l);p.gte(s);)++a.digits[d-l],p=p.sub(s);for(s.digits.splice(0,1),--s.numDigits,i=d;i>=l+1;i--){if(i<p.numDigits){if(i>1)c=p.digits[i]*o+p.digits[i-1]*n+p.digits[i-2],p.digits[i]===e.digits[l]?a.digits[i-l-1]=r:(u=c%g,a.digits[i-l-1]=(c-u)/g),a.digits[i-l-1]*g>c&&--a.digits[i-l-1];else for(c=p.digits[i]*o+p.digits[i-1],p.digits[i]===e.digits[l]?a.digits[i-l-1]=r:(u=c%f,a.digits[i-l-1]=(c-u)/f);a.digits[i-l-1]*g>c;)--a.digits[i-l-1];-1===(p=p.sub(s.multNative(a.digits[i-l-1]))).sign&&(p=p.add(s),++a[i-l-1])}s.digits.splice(0,1),--s.numDigits}for(;a.digits.length&&0===a.digits[a.digits.length-1];)a.digits.pop();return a.numDigits=a.digits.length,a.sign=this.sign*e.sign,t&&(t[0]=p,h&&(t[0]=t[0].rs(h)),-1===a.sign&&(t[0]=-1===e.sign?e.add(t):e.sub(t))),a},O.prototype.div=function(e,t){return"number"==typeof e?this.divNative(e,t):1===e.numDigits?this.divNative(e.digits[0],t):1===this.numDigits?(t&&(t[0]=this.copy()),R.copy()):this.divLong(e,t)},O.prototype.modNative=function(e){var t=[];return this.divNative(e,t),t[0]},O.prototype.modLong=function(e){var t=[];return this.divLong(e,t),t[0]},O.prototype.modBarrett=function(e,t){var a,i,n,r,o,s,d;for(0===t.length&&((i=new O).numDigits=2*e.numDigits,(i.digits=E(i.numDigits++)).push(1),t[0]=i.div(e)),e.k1=e.numDigits+1,e.k_1=e.numDigits-1,(n=this.copy()).sign=1,n.digits.splice(0,e.k_1),n.numDigits-=e.k_1,(o=(r=n.mult(t[0])).copy()).digits.splice(0,e.k1),o.numDigits-=e.k1,(s=this.copy()).sign=1,s.digits=s.digits.slice(0,e.k1),s.numDigits=e.k1,d=o.mult(e),r.digits=d.digits.slice(0,e.k1),r.numDigits=e.k1,-1===(a=s.sub(d)).sign&&(e.bk1||(e.bk1=new O,(e.bk1.digits=E(e.k1)).push(1),e.bk1.numDigits=e.k1+1),a=a.add(e.bk1));a.gte(e);)a=a.sub(e);return-1===this.sign&&(a=e.sub(a)),a},O.prototype.mod=function(e,t){var a,n,r;if("number"==typeof e)return this.modNative(e);if(1===this.sign&&this.lt(e))return this.copy();if(1===t&&e.numDigits>1&&this.numDigits<2*e.numDigits)return t=[],a=this.modBarrett(e,t),e.mu=t[0],a;if((t||e.mu)&&e.numDigits>1&&this.numDigits<2*e.numDigits)return this.modBarrett(e,t||e.mu);if(e.nb===i)for(e.nb=0,r=e.numDigits;e.nb<2&&r>0;)for(n=e.digits[--r];n&&++e.nb<2;)n&=n-1;if(0===e.nb)return null;if(1===e.nb){if(a=this.copy(),1===e.digits[e.numDigits-1]){for(a.digits=a.digits.slice(0,e.numDigits-1);a.digits.length>1&&0===a.digits[a.digits.length-1];)a.digits.pop();a.numDigits=a.digits.length}else a.digits=a.digits.slice(0,e.numDigits),a.numDigits=e.numDigits,a.digits[e.numDigits-1]&=e.digits[e.numDigits-1]-1;return-1===this.sign&&(a=a.add(e)),a}return e.numDigits<2?this.modNative(e.toNumber()):(a=[],this.div(e,a),a[0])},O.prototype.expNative=function(e){var t=this,a=F.copy();for(1&e&&(a=a.mult(t));e;)t=t.square(),1&(e>>>=1)&&(a=a.mult(t));return a},O.prototype.expLong=function(e){var t=this,a=F.copy();if(0!==e.numDigits)for(1&e.digits[0]&&(a=a.mult(t));e.numDigits>1||0!==e.digits[0];)t=t.square(),1&(e=e.rs(1)).digits[0]&&(a=a.mult(t));return a},O.prototype.exp=function(e){return"number"==typeof e?e<4294967296?this.expNative(e):this.exp(new O(e)):this.exp(e)},O.prototype.ls=function(e){var t,a,i,n=this.copy();if(e>=16&&(t=((t=e)-(e%=16))/16),e){for(i=16-e,n.digits[n.numDigits]=n.digits[n.numDigits-1]>>>i,a=n.numDigits-1;a>=1;a--)n.digits[a]=n.digits[a-1]>>>i|this.digits[a]<<e&r;n.digits[0]=n.digits[0]<<e&r,0===n.digits[n.numDigits]?n.digits.pop():++n.numDigits}return t&&(n.digits=E(t).concat(n.digits),n.numDigits+=t),n},O.prototype.rs=function(e){var t,a,i,n,o=this.copy();if(e>=16*o.numDigits?(o.digits=[0],o.numDigits=1,e=0):e>=16&&(t=((t=e)-(e%=16))/16,o.digits.splice(0,t),o.numDigits-=t),e){for(n=r>>>(i=16-e),a=0;a<o.numDigits-1;a++)o.digits[a]=o.digits[a]>>>e|(o.digits[a+1]&n)<<i;o.digits[a]>>>=e,o.numDigits>1&&0===o.digits[o.numDigits-1]&&(o.digits.pop(),--o.numDigits)}return o},O.prototype.and=function(e){var t,a;for(e.numDigits<this.numDigits?(t=e.copy(),e=this):t=this.copy(),a=0;a<e.numDigits;a++)t.digits[a]&=e.digits[a];return t},O.prototype.or=function(e){var t,a;for(e.numDigits>this.numDigits?(t=e.copy(),e=this):t=this.copy(),a=0;a<e.numDigits;a++)t.digits[a]|=e.digits[a];return t},O.prototype.xor=function(e){var t,a;for(e.numDigits>this.numDigits?(t=e.copy(),e=this):t=this.copy(),a=0;a<e.numDigits;a++)t.digits[a]^=e.digits[a];return t},O.prototype.not=function(e){var t=this.copy(),a=-1;for(e&&(t.numDigits=e/16,t.numDigits<t.digits.length?t.digits.splice(t.numDigits,t.numDigits-t.digits.length):t.numDigits>t.digits.length&&(t.digits=t.digits.concat(t.numDigits-t.digits.length)));++a<t.numDigits;)t.digits[a]=r-t.digits[a];return t},O.prototype.addmod=function(e,t){var a,i=this;return t&&((i.numDigits>t.numDigits||i.numDigits===t.numDigits&&i.gte(t))&&(i=i.mod(t)),(e.numDigits>t.numDigits||e.numDigits===t.numDigits&&e.gte(t))&&(e=e.mod(t))),a=i.add(e),t?(-1===a.sign&&(a=a.add(t)),(a.numDigits>t.numDigits||a.numDigits===t.numDigits&&a.gte(t))&&(a=a.sub(t))):(-1===a.sign&&(a=a.cpl(1)),a.numDigits=this.numDigits),a},O.prototype.submod=function(e,t){var a;return e.sign*=-1,a=this.addmod(e,t),e.sign*=-1,a},O.prototype.multmod=function(e,t){var a,i=this;return t&&((-1===i.sign||i.numDigits>t.numDigits||i.numDigits===t.numDigits&&i.gte(t))&&(i=i.mod(t)),(-1===e.sign||e.numDigits>t.numDigits||e.numDigits===t.numDigits&&e.gte(t))&&(e=e.mod(t))),a=i.mult(e),t?a=a.mod(t):a.numDigits=this.numDigits,a},O.prototype.multmodmontgomery=function(e,t){var a,i,r,o=R.copy();for(t.mp=t.mp||(n-function(e,t){var a=e,i=t,n=1,r=0,o=0,s=1;if(0===e||0===t||0==(1&(e|t)))return null;do{for(;!(1&a);)1&(n|r)&&(n+=t,r-=e),n>>>=1,r>>>=1,a>>>=1;for(;!(1&i);)1&(o|s)&&(o+=t,s-=e),o>>>=1,s>>>=1,i>>>=1;a<i?(i-=a,o-=n,r-=s):(a-=i,n-=o,s-=r)}while(a);return 1!==i?null:(o<0&&(o+=t),o)}(t.digits[0],n))%n,a=0;a<t.numDigits;a++)r=a<this.digits.length?this.digits[a]:0,i=(o.digits[0]+r*e.digits[0])*t.mp%n,(o=o.add(e.multNative(r)).add(t.multNative(i))).numDigits>1?(o.digits.splice(0,1),--o.numDigits):o.digits[0]=0;return(o.numDigits>t.numDigits||o.numDigits===t.numDigits&&o.gte(t))&&(o=o.sub(t)),o},O.prototype.expmodnative=function(e,t){var a,i,n=31;if(e<1||e>2147483647)return F.copy();for(t.R||(t.R=new O,t.R.digits=E(t.digits.length).concat([1]),t.R.numDigits=t.R.digits.length),i=t.Rm=t.Rm||t.R.mod(t),t.R2m=t.R2m||t.Rm.multmod(t.Rm,t),a=this.multmodmontgomery(t.R2m,t);n>0&&1<<n-1>e;)--n;for(;n--;)i=i.multmodmontgomery(i,t),e&1<<n&&(i=i.multmodmontgomery(a,t));return i.multmodmontgomery(F,t)},O.prototype.expmodlong=function(e,t){var a,i,n,r=16;if(0===e.numDigits||1===e.numDigits&&1===e.digits[0]||1!==e.sign)return F.copy();for(t.R||(t.R=new O,t.R.digits=E(t.digits.length).concat([1]),t.R.numDigits=t.R.digits.length),i=t.Rm=t.Rm||t.R.mod(t),t.R2m=t.R2m||t.Rm.multmod(t.Rm,t),a=this.multmodmontgomery(t.R2m,t),n=e.numDigits;r>0&&1<<r-1>e.digits[n-1];)--r;for(;n-- >0;){for(;r--;)i=i.multmodmontgomery(i,t),e.digits[n]&1<<r&&(i=i.multmodmontgomery(a,t));r=16}return i.multmodmontgomery(F,t)},O.prototype.expmod=function(e,t){return"number"==typeof e?e<4294967296?this.expmodnative(e,t):this.expmodlong(new O(e),t):this.expmodlong(e,t)},O.prototype.invmod=function(e){var t,a,i,n=this.copy(),r=e.copy(),o=F,s=R,d=R,l=F;if(0===this.numDigits||0===e.numDigits||0==(1&(this.digits[0]|e.digits[0])))return null;do{for(a=0,i=1;!(n.digits[0]&i);)1&(o.digits[0]|s.digits[0])&&(o=o.add(e),s=s.sub(this)),o=o.rs(1),s=s.rs(1),16==++a?(i=1,a=0,n.digits.length>1?(n.digits.splice(0,1),--n.numDigits):n.digits[0]=0):i<<=1;for(a&&(n=n.rs(a)),i=1,a=0;!(r.digits[0]&i);)1&(d.digits[0]|l.digits[0])&&(d=d.add(e),l=l.sub(this)),d=d.rs(1),l=l.rs(1),16==++a?(i=1,a=0,r.digits.length>1?(r.digits.splice(0,1),--r.numDigits):r.digits[0]=0):i<<=1;a&&(r=r.rs(a)),-1===(t=n.sub(r)).sign?(t.sign=1,r=t,d=d.sub(o),s=s.sub(l)):(n=t,o=o.sub(d),l=l.sub(s))}while(n.numDigits>1||0!==n.digits[0]);return 1!==r.numDigits||1!==r.digits[0]?null:(-1===d.sign&&(d=d.add(e)),d)},O.prototype.lsmodbits=function(e,t){var a,i,n,o=this.copy();if(t?((n=t/16)<o.digits.length?o.digits=o.digits.slice(0,n):n>o.numDigits&&(o.digits=o.digits.slice(0,o.numDigits).concat(E(n-o.numDigits))),o.numDigits=n):n=o.numDigits,e>=16&&((a=((a=e)-(e%=16))/16)>=o.numDigits?(o.digits=[],e=0):a&&o.digits.splice(o.numDigits-a,a)),e){for(t=16-e,i=o.digits.length-1;i>=1;i--)o.digits[i]=o.digits[i-1]>>>t|this.digits[i]<<e&r;o.digits[0]=o.digits[0]<<e&r}return o.digits.length<n&&(o.digits=E(n-o.digits.length).concat(o.digits)),o},O.prototype.rol=function(e,t){var a,i,n,o=this.copy(),s=0;if(t&&((n=t/16)<o.digits.length?o.digits=o.digits.slice(0,n):n>o.numDigits&&(o.digits=o.digits.slice(0,o.numDigits).concat(E(n-o.numDigits))),o.numDigits=n),e>=16&&(n=((n=e)-(e%=16))/16,o.digits=o.digits.splice(o.numDigits-n,n).concat(o.digits)),e){for(t=16-e,a=0;a<o.numDigits;a++)i=o.digits[a]>>>t,o.digits[a]=s|o.digits[a]<<e&r,s=i;o.digits[0]|=s}return o},O.prototype.ror=function(e,t){var a,i,n,o=this.copy(),s=0;if(t&&((i=t/16)<o.digits.length?o.digits=o.digits.slice(0,i):i>o.numDigits&&(o.digits=o.digits.slice(0,o.numDigits).concat(E(i-o.numDigits))),o.numDigits=i),e>=16&&(i=((i=e)-(e%=16))/16,o.digits=o.digits.concat(o.digits.splice(0,i))),e){for(t=16-e,a=o.numDigits-1;a>=0;a--)n=o.digits[a]<<t&r,o.digits[a]=s|o.digits[a]>>>e,s=n;o.digits[o.numDigits-1]|=s}return o};var R=new O(0),F=new O(1);function B(e){this.val=e||28573}function z(e,t){var a,i,n,r,o,s,d,l=[],u=new B;for(e=c(e),i=t-(s=t>256?8:4)-Math.floor(t/8);e.length;){for(n=e.splice(0,i),o=Math.floor(Math.random()*(t-s-n.length))+s/2,a=Math.floor(255*Math.random()),u.reseed(a),(r=[]).push(3&Math.floor(255*Math.random())|(240&a)>>>1),r.push((15&n.length)<<4|(240&o)>>>4),t>256&&(r.push(225&Math.floor(255*Math.random())|(61440&o)>>>11),r.push(240&Math.floor(255*Math.random())|(3840&n.length)>>>8));r.length<o;)r.push(Math.floor(255*Math.random()));for(r=r.concat(n);r.length<t-s/2;)r.push(Math.floor(255*Math.random()));for(t>256&&(r.push(15&Math.floor(255*Math.random())|(61440&n.length)>>>8),r.push(195&Math.floor(255*Math.random())|(3840&o)>>>6)),r.push(195&Math.floor(255*Math.random())|(240&n.length)>>>2),r.push((15&o)<<4|15&a),d=u.get_bytes(t-s);d.length;)r[s/2+d.length-1]^=d.pop();l=l.concat(r)}return l}function U(e,t){var a,i,n=[],r=new B;for(e=c(e);e.length;)a=e.splice(0,t-11),r.reseed(255*Math.random()),i=r.get_bytes(t-3-a.length,!0),n=n.concat([0,2]).concat(i).concat([0]).concat(a);return n}function H(e){this.p=null,this.q=null,this.e=null,this.n=null,this.d=null,this.dp=null,this.dq=null,this.qinv=null,this.byteSize=0,this.init(e)}function W(e){var t=new H(e),a=[],i=[];return{setKey:function(e){return null!==(t=new H(e))},encrypt:function(e){return a=function(e,t,a){var i,n=[],r=0;if(!e)return null;for(!a&&(a=z),t=a(t,e.byteSize);r<t.length;)(i=new O("0x"+u(t.slice(r,r+e.byteSize))).expmod(e.getPublicExponent(),e.getModulus()).toHex()).length<2*e.byteSize&&(i=E(2*e.byteSize-i.length)+i),n=n.concat(i),r+=e.byteSize;return n}(t,e,U)},decrypt:function(e){return i=function(e,t){var a,i=[];if(!e||!e.hasPrivateKey())return null;for(;0<t.length;)if(a=t.slice(0,0+e.byteSize),e.hasRawPrimes()){var n=a.expmod(e.getDp(),e.p),r=a.expmod(e.getDq(),e.q),o=e.getQinv(n.add(-1===n.sub(r).sign?r.add(r,e.p):r)).mod(e.p);i.push(r.add(o.mult(e.q)))}else i.push(a.expmod(e.getPrivateExonent(),e.getModulus()));return i}(t,e)},encryptedText:function(){return a},decryptedText:function(){return i},reset:function(e){a=[],i=[],e&&(t=null)}}}function q(e,t,a){var i;a?(i=a.split(":")).length>=3&&"RSA"===i[0]?(e.value=W({n:"0x"+i[1],e:"0x"+i[2]}).encrypt(e.value),t.value="RSA"):"Plaintext"===i[0]||"Plaintext-"===i[0].substr(0,10)?t.value=i[0]:e.disabled=t.disabled=!0:t.value="Plaintext"}function V(e,t,a){var i,n;if(e)for((i=e.split(";")).reverse();i.length;)n=i.pop().split(":"),t.push(n[0]),a.push(n.length>1?n.slice(1):null)}function Y(e,t){var a,i,n;if(e)for((a=e.split(";")).reverse();a.length;)if(n=(i=a.pop().split(":")).slice(1),"Plaintext"===(i=i[0])||"Plaintext-"===i.substr(0,10)||"RSA"===i||"RSA-"===i.substr(0,4)||null!==L.get_digestor(i)||"HMAC-"===i.substr(0,5)&&null!==L.get_digestor(i.substr(5))||l[i]&&(!l[i].activatorCB||l[i].activatorCB(t))){for(;n.length;)t.splice(0,0,n.pop());return i}return null}function G(e,t,a){return!t||a&&(new Date).valueOf()-a>29e4}function Q(e,t,a,i){var n,r,o;if(null!==(o=L.get_digestor(e))||"HMAC-"===e.substr(0,5)&&null!==(o=L.get_digestor(e.substr(5))))if(i)t.value=n=i,t.disabled=!0;else{for((r=o().ResultSizeStr())<=a.length&&(r=a.length),r/=2,n=[];n.length<r;)n.push(Math.floor(255*Math.random()));n=t.value=u(n)}else t.disabled=!0;return n}function X(e,t,a,i,n,r,o,s,d){var c,u,f,g,p=[],h=[],m=[];if(s&&V(s,p,h),l[e])return l[e].cryptor(e,t,a,i,n,r,o,s,d);if(null!==(c=L.get_digestor(e))||"HMAC-"===e.substr(0,5)&&null!==(c=L.get_digestor(e.substr(5)))){if(f=[],c=c(),""!==n.value&&f.push(n.value),""!==r.value?f.push(r.value):r.disabled=!0,f=f.join(":"),p.length)for(g=0;g<p.length;g++)(null!==(u=L.get_digestor(p[g]))||"HMAC-"===p[g].substr(0,5)&&null!==(u=L.get_digestor(p[g].substr(5))))&&(null===h[g]&&(h[g]=[]),m.push(L.HMAC(c,L.HMAC(u(),h[g].join(":"),i.value,!0),f,!0)),c.Reset(!0));d?m.length?(d.value=m.join(";"),m=[]):d.disabled=!0:m.length&&(i.value=m.join(":")),0===m.length&&(i.value=L.HMAC(c,i.value,f,!0),c.Reset(!0)),o.value=e}else if(("RSA"===e||"RSA-"===e.substr(0,4))&&t&&t.length>=2)d&&(d.disabled=!0),f=[i.value],""!==n.value&&f.push(n.value),i.value=W({n:"0x"+t[0],e:"0x"+t[1]}).encrypt(f.join("\t")),o.value="RSA"===e?"RSA":e.substr(4),r.disabled=!0;else{if("Plaintext"!==e&&"Plaintext-"!==e.substr(0,10))return i.disabled=r.disabled=o.disabled=!0,d&&(d.disabled=!0),!1;if(r.disabled=!0,"Plaintext"===e?o.disabled=!0:o.value=e.substr(10),p.length)for(g=0;g<p.length;g++)(null!==(u=L.get_digestor(p[g]))||"HMAC-"===p[g].substr(0,5)&&null!==(u=L.get_digestor(p[g].substr(5))))&&(null===h[g]&&(h[g]=[]),m.push(L.HMAC(u(),h[g].join(":"),i.value,!0)));m.length?d&&(d.value=m.join(";")):d&&(d.disabled=!0)}return!0}function J(t,a){var i="sauthdata:"+e.gbl.host+"/"+(a||"HMAC-SHA-512"),n=-1;return t&&(n={data:t,timestamp:(new Date).valueOf()}),e.storage(i,n),n}function K(e,t,a){var i=e.get_arg(t)||a;if(i)return(i=i.split(":")).length>1?"state"===i[0]?e.state.get(i[1]):"top"===i[0]?e.state.top().get(i[1]):e.get_val(i[1],i[0]):e.get_val(i[0],"data_full")}function Z(e,a,n){var r,o,s,d=(t.location.search||"?").slice(1);if(!(r=e.data_full.urlparams)){if(n)try{d=e.build.hash.split("?").slice(1).join("?")}catch(e){}for(o=d.split("&"),r=e.data_full.urlparams={};o.length;)""!==(s=o.pop().split("="))[0]&&(r[s[0]]=s.length>=2?s.slice(1).join("="):i)}return a!==i?r[a]:r}return B.prototype.get_bytes=function(e,t){for(var a,i=[];e>0;)this.val=(34033*this.val+45677)%65536,0==(a=(30720&this.val)>>>11|(60&this.val)<<2)&&t||(i.push(a),--e);return i},B.prototype.reseed=function(e){this.val=e},H.prototype.init=function(e){e===i||("string"==typeof e?this.initFromString(e):"object"===_typeof(e)&&this.initFromObj(e))},H.prototype.initFromCert=function(e){},H.prototype.initFromString=function(e){},H.prototype.initFromObj=function(e){e.p&&(this.p=new O(e.p)),e.q&&(this.q=new O(e.q)),e.e&&(this.e=parseInt(e.e,16)),e.n&&(this.n=new O(e.n)),e.d&&(this.d=new O(e.d)),e.dp&&(this.dp=new O(e.dp)),e.dq&&(this.dq=new O(e.dq)),e.qinv&&(this.qinv=new O(e.qinv)),e.n&&(this.byteSize=2*this.n.numDigits)},H.prototype.hasPrivateKey=function(){return null!==this.d||this.hasRawPrimes()},H.prototype.hasRawPrimes=function(){return null!==this.p&&null!==this.q},H.prototype.getPublicExponent=function(){return this.e},H.prototype.getModulus=function(){return!this.n&&this.hasRawPrimes()&&(this.n=this.p.mult(this.q)),this.n},H.prototype.getPrivateExponent=function(){!this.d&&this.hasRawPrimes()&&(this.d=this.e.invmod(this.p.sub(F).mult(this.q.sub(F))))},H.prototype.getDp=function(){return!this.dp&&this.hasRawPrimes()&&this.getPrivateExponent().mod(this.p.sub(F)),this.dp},H.prototype.getDq=function(){return!this.dq&&this.hasRawPrimes()&&this.getPrivateExponent().mod(this.q.sub(F)),this.dq},H.prototype.getQinv=function(){return!this.qinv&&this.hasRawPrimes()&&(this.qinv=this.q.invmod(this.p)),this.qinv},{strtoutf8:c,utf8tostr:function(e){var t,a,i=[],n=0;for(t=0;t<e.length;t++)if(n){if(!0&e[t])break;a=64*a+(63&e[t]),0==--n&&i.push(String.fromCharCode(a))}else e[t]<128?i.push(String.fromCharCode(e[t])):!1&e[t]?(a=31&e[t],n=1):!1&e[t]?(a=15&e[t],n=2):!1&e[t]?(a=7&e[t],n=3):!1&e[t]?(a=3&e[t],n=4):!1&e[t]&&(a=1&e[t],n=5);return n?null:i.join("")},bintohex:u,BigNum:function(e,t){return new O(e,t)},RSA:W,math32:L.math32,math64:L.math64,HMAC:L.HMAC,get_digestor:L.get_digestor,MD2:L.MD2,MD4:L.MD4,MD5:L.MD5,SHA1:L.SHA1,SHA224:L.SHA224,SHA256:L.SHA256,SHA384:L.SHA384,SHA512:L.SHA512,SHA512_224:L.SHA512_224,SHA512_256:L.SHA512_256,doPWEncrypt:q,processPreCryptData:V,selectBestSupportedCryptType:Y,cryptTypeNeedsNewServerData:G,setServerNonce:J,generateCryptClientData:Q,doAuthCrypt:X,registerUserCryptModule:function(e,t,a,i){l[e]={name:e,cryptor:t,needsSData:!!a,activatorCB:i}},get_url_parameter:Z,events:{initiate_encryption:function(t,a,i){var n,r,o,s,d,l,c,u,f=[],g="sauthdata:"+e.gbl.host+"/";t.e.stopPropagation(),t.e.preventDefault();try{n=a[0].elements}catch(a){return t.get_arg("reenter")?e.log.warn({name:"Encryption",message:"Unable to locate form elements on reentry, encryption failed",body:"Did a different encryption attempt succeed first?"}):e.log.error({name:"Encryption",message:"Unable to locate form elements, encryption failed"}),!1}try{if((r=t.get_arg("prefix"))||(r=t.path.split("-").slice(1).join("-")),r.length&&(r+="-"),o=n[t.get_arg("sautdataf")||r+"sauthdata"],d=K(t,"authtypes_data","state:authtypes"),l=Y(d,f)){if(g+=l,!G(0,(s=e.storage(g,!1)||{}).data,s.timestamp))return o.value=s.data,e.storage(g,-1),t.event(t.get_arg("encryptfunc")||"ajax_post",{authtype:l,authparams:f});if(e.storage(g,-1),!t.get_arg("reenter"))return u=(new Date).valueOf()+"."+Math.floor(1e3*Math.random()),c=$.extend(!0,{reenter:1},t.get_args()),$.ajax({url:e.utils.gbl.p+"core/node.json/"+t.get_val("nid","user")+"?xds=fetchcryptdata&type="+l,success:function(a){s=J(a.slices[0].data.sauthdata,l),n._formkey.value=a.slices[0]._formkey,s.data?(e.log.info({name:"Encryption",message:"Received server nonce data, proceeding with encryption",body:"reqid="+u}),o.value=s.data,t.event("crypt.events.initiate_encryption",c)):e.log.error({name:"Encryption",message:"Request for server nonce data return empty slice, encryption operation failed",body:"reqid="+u})},failure:function(t){e.log.error({name:"Encryption",message:"Request for server nonce data failed, encryption operation failed",body:"reqid="+u})},dataType:"json"}),e.log.info({name:"Encryption",message:"Requesting server nonce data, encryption operation deferred",body:"reqid="+u}),!1}}catch(t){e.log.error({name:"Encryption",message:"Unable to get required server nonce data, aborting encryption operation",exception:t})}return e.log.error({name:"Encryption",message:"No available supported auth methods, unable to perform encrypt operation"}),!1},do_login_pw_encrypt:function(t,a,n){var r,o,s,d,l,c,u,f,g,p=a[0].elements,h=t.get_arg("authtype"),m=t.get_arg("authparams"),v={};try{if((g=t.get_arg("prefix"))||(g=t.path.split("-").slice(1).join("-")),g.length&&(g+="-"),d=p[t.get_arg("sauthdataf")||g+"sauthdata"],c=p[t.get_arg("crypttypef")||g+"crypttype"],r=!1===t.get_arg("uidf")?i:p[t.get_arg("uidf")||g+"userid"],0===(o=p[t.get_arg("pwf")||g+"password"]).value.length)return!1;if(s=p[t.get_arg("extpwf")||g+"extendedpasswords"],l=p[t.get_arg("cauthdataf")||g+"cauthdata"],u=K(t,"precrypt"),s.disabled=l.disabled=c.disabled=!1,Q(h,l,d.value),!0===(f=X(h,m,r,o,d,l,c,u,s)))return v.pw=o.value,r&&(v.uid=r.value),t.trigger("saveauthinfo",v),t.event("ajax_post");if(!1!==f)return!0}catch(t){e.log.error({name:"Error excrypting password, aborting login POST",exception:t})}return!1},do_credential_update_encrypt:function(t,a,n){var r,o,s,d,l,c,u,f,g,p,h,m,v=!1,b=a[0].elements,_=[],y=[];try{if((r=t.path.split("-").slice(1).join("-")).length&&(r+="-"),"none"!==t.get_arg("update_pwf")?(q(f=b[t.get_arg("update_pwf")||r+"update_password"],g=b[t.get_arg("update_crypttypef")||r+"update_crypttype"],K(t,"update_crypt_data","data_full:update_crypt_data")),h=!0):h=f=g=!1,o=b[t.get_arg("sautdataf")||r+"sauthdata"],s=b[t.get_arg("cauthdataf")||r+"cauthdata"],l=b[t.get_arg("crypttypef")||r+"crypttype"],d=b[t.get_arg("pwf")||r+"password"],c=K(t,"precrypt"),p=t.get_arg("update_fields")){p=p.split(",");var x=!0,w=!1,C=i;try{for(var k,S=p.values()[Symbol.iterator]();!(x=(k=S.next()).done);x=!0){var T=k.value;(m=(b[T]||{}).value||"").length&&-1!==b[T].className.indexOf("xds-f_ttdate-f_ttdate-input")?y.push(e.dateFormat(b[T].value,"timestamp")):y.push(m),h&&T===(t.get_arg("update_pwf")||r+"update_password")&&(h=!1)}}catch(e){w=!0,C=e}finally{try{x||null==S.return||S.return()}finally{if(w)throw C}}}h&&y.push(f.value),(u=Y(K(t,"authtypes_data","state:authtypes"),_))&&(Q(u,s,o.value,y.join("\n")),X(u,_,null,d,o,s,l,c)||(v=!0))}catch(e){d.disabled=l.disabled=o.disabled=s.disabled=!0,f&&(f.disabled=g.disabled=!0);for(var M=Object.values(p||{}),I=0;I<M.length;I++)(b[M[I]]||{}).disabled=!0;v=!0}if(v)throw new Error("Critical Error: Unable to encrypt passwords, credential update aborted")},reset_password_fields:function(e,t,a){var n,r,o,s,d,l=t[0].elements;if((r=e.path.split("-").slice(1).join("-")).length&&(r+="-"),"none"!==(o=e.get_arg("pwf")||r+"password")&&((s=l[o]).disabled=!1,d=$(s).xdo,s.value=d.temp.initdata||d.data||"",d.state.set(d.arg("id"),s.value)),e.get_arg("update_pwf")&&((s=l[e.get_arg("update_pwf")]).disabled=!1,s.value="",$(s).parents(".xds-has-validate").next().find("input").val("")),e.get_arg("update_fields")){n=e.get_arg("update_fields").split(",");var c=!0,u=!1,f=i;try{for(var g,p=n.values()[Symbol.iterator]();!(c=(g=p.next()).done);c=!0)l[g.value].disabled=!1}catch(e){u=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw f}}}a&&a.sauthdata&&(s=l[e.get_arg("crypttypef")||r+"crypttype"],J(a.sauthdata,s?s.value:i))}},types:{f_ticketpw:function(e){var t,a=e.arg("urlparam");a&&(t=Z(e,a),e.set(t),e.state.set(t)),e.temp.initdata=e.data,e.inherit("f_hidden")}}}}),cf.module("cssvar",function(e,t,a){var i,n="default",r={vh:"1vh",vw:"1vw"},o=function(t){return function(){return e&&e.settings&&e.settings.runtime&&!e.settings.runtime.noAnim?t:"none"}},s={default:{"font-sizes":{largest:"32px",larger:"24px",large:"18px",normal:"14px"},viewport:{height:"calc(var(--vh, 1vh) * 100)",width:"calc(var(--vw, 1vw) * 100)"},colours:{reset:"white",basefg:"#4C4C4C",neutral:"#ddd"},edsby:{blue:"#1C75BC",lightblue:"#cceaff","complementary-foreground-colour":"#85caff","complementary-foreground-colour-active":"#c8edff",custard:"#ffedc8"},"ui-font":{"family-main":'"system-ui", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, "Fira San", "Droid Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',"weight-bold":"600","weight-bolder":"700","weight-normal":"400","size-main":"15px"},ui:{animations:{clickable:{transition:{type:"ease-in-out",time:"0.15s"},transform:{hover:o("scale(1.03)"),active:o("scale(0.98)")}},transitions:{a:o("all 0.5s ease-in-out"),b:o("all 0.35s ease-in-out"),c:o("all 0.75s ease-in-out"),d:o("opacity 0.5s cubic-bezier(1, 0, .58, 1)"),e:o("all 0.05s ease-in-out"),f:o("all 0.15s ease-in-out, visibility 0s")}},sprites:{generic:function(t){return"url(".concat(e.gbl.xdl,"/images/generic-sprite.png)")}},zorder:{lightbox:"1001",sidebar:"9000","mobile-sidebar":"10000000","lightbox-supercede":"1400",newcontent:"1000",header:"1000","header-sidebar":"10000","mobile-header":"1000",supportwidget:"9000",notification:"10000",tooltip:"11000",popover:"100000",dialog:"10000000"},profpic:{"background-colour":"rgba(224,231,238,1)","foreground-colour":"rgba(138,162,188,1)"},unread:"var(--edsby-custard)",body:{"foreground-colour":"#4C4C4C","subordinate-colour":"#999999","secondary-background-colour":"rgba(28,117,188,0.03)","background-colour":"var(--colours-reset)"},calendar:{"subheader-colour":"var(--ui-body-subordinate-colour)"},header:{height:function(){return"".concat(55,"px")},outerheight:function(){var a=55;return e&&e.platform&&e.platform.ios&&t.EdsbyReactBridge&&(a+=20),"".concat(a,"px")},margin:"5px","background-colour":"var(--edsby-blue)","foreground-colour":"var(--colours-reset)","icon-colour":"var(--edsby-complementary-foreground-colour)","icon-hover-colour":"var(--edsby-complementary-foreground-colour-active)","icon-colour-active":"var(--edsby-complementary-foreground-colour-active)"},nocontent:{"background-colour":"var(--ui-container-subsidiary-background-colour)","foreground-colour":"var(--ui-container-subsidiary-foreground-colour)"},"inactive-foreground-colour":"#ddd",input:{"background-colour":"var(--colours-reset)","background-colour-disabled":"var(--colours-neutral)","background-colour-tongue":"var(--ui-input-background-colour)","foreground-colour":"var(--ui-body-foreground-colour)","checkbox-foreground-colour":"var(--edsby-blue)","checkbox-readonly-foreground-colour":"#C0C0C0","border-colour-enabled":"rgba(28,117,188,0.3)","border-colour-active":"#3f93ff","border-width":"1px","border-style":"solid","border-radius":"3px","border-colour-disabled":"transparent","placeholder-colour":"#aaa","arrow-background-colour":"var(--ui-input-background-colour)","arrow-colour":"var(--ui-container-foreground-colour)"},"list-item":{"background-colour-selected":"#f4f4f4","foreground-colour-selected":"var(--ui-body-foreground-colour)","border-radius":"3px","background-colour-active":"var(--edsby-complementary-foreground-colour-active)",padding:{vertical:"8px",horizontal:"5px"}},forms:{radio:{padding:"5px"}},switch:{"colour-active":"#74b844","font-size":"24px"},login:{"background-colour":"#1b74bb","footer-background-colour":"#242a34"},picker:{"background-colour":"#f8f9f9","border-colour":"#c2c2c2","foreground-colour":"var(--ui-body-foreground-colour)","subordinate-colour":"var(--ui-body-subordinate-colour)"},dropdown:{"box-shadow":"0 0 15px rgba(0, 0, 0, 0.1)",border:"none","foreground-colour":"black",list:{item:{"hover-background-colour":"var(--ui-hover-background-colour)","focus-background-colour":"var(--ui-focus-ring-colour)"}}},error:{"border-colour":"#cb8e8d","background-colour":"#fbe9e8","foreground-colour":"#931506","neutral-foreground-colour":"#333","standalone-colour":"var(--ui-error-foreground-colour)"},warning:{"border-colour":"#ece179","background-colour":"#fffcd9","foreground-colour":"var(--ui-body-foreground-colour)"},focus:{"ring-colour":"var(--ui-input-border-colour-active)","ring-style":"solid","ring-width":"1px",inactive:{"ring-width":"0"},"box-sizing":{inactive:"invalid",active:"border-box"},"border-width":"1px"},qrcode:{container:{"background-colour":"#f2f2f2","foreground-colour":"#0A2C47"}},container:{padding:"10px",spacing:"10px","background-colour":"white",subsidiary:{"background-colour":"#f2f2f2","foreground-colour":"#0A2C47",spacing:"calc(var(--ui-container-spacing) / 2)"},"foreground-colour":"var(--ui-body-foreground-colour)","border-colour":"rgba(200,200,200,0.4)","border-colour-complementary":"rgba(171,171,171,0.3)","border-width":"1px","border-style":"solid","border-radius":"5px",sep:{"border-width":"1px","border-style":"solid","primary-border-colour":"#ccc","secondary-border-colour":"#E2EEF7"}},button:{default:{"background-colour":"var(--ui-link-foreground-colour)","foreground-colour":"white","hover-colour":"#1791f5","active-colour":"#4AC4FF","border-colour":"transparent","font-size":"13px",padding:{vertical:"4px",horizontal:"10px"},height:{line:"16px",overall:"26px"}},large:{padding:{vertical:"8px",horizontal:"10px"}},lightblue:{"background-colour":"transparent","foreground-colour":"var(--ui-link-foreground-colour)","hover-colour":"#e8e6e6","active-colour":"white","border-colour":"var(--colours-neutral)"},white:{"background-colour":"var(--ui-container-background-colour)","foreground-colour":"var(--ui-link-foreground-colour)","hover-colour":"#e8e6e6","active-colour":"white","border-colour":"var(--ui-container-sep-primary-border-colour)"},disabled:{"background-colour":"var(--colours-neutral)","background-colour-hover":"#ddd","foreground-colour":"#666","border-colour":"var(--ui-container-sep-primary-border-colour)"},red:{"border-colour":"#cb8e8d","background-colour":"#931506","foreground-colour":"#fff","neutral-foreground-colour":"#333","standalone-colour":"var(--ui-error-foreground-colour)"},orange:{"border-colour":"var(--ui-warning-border-colour)","background-colour":"var(--ui-warning-background-colour)","foreground-colour":"var(--ui-body-foreground-colour)","neutral-foreground-colour":"#333","standalone-colour":"var(--ui-error-foreground-colour)"}},selectable:{selected:{"background-colour":"#eaeaea","foreground-colour":"var(--ui-link-foreground-colour)"}},tab:{selected:{"background-colour":"var(--ui-selectable-selected-background-colour)","foreground-colour":"var(--ui-selectable-selected-foreground-colour)"},hover:{"foreground-colour":"var(--ui-tab-selected-foreground-colour)","background-colour":"#f4f4f4",border:{colour:"#dadada",width:"1px",style:"solid"}}},table:{"header-background-colour":"#e9e9e9","primary-row-colour":"var(--ui-container-background-colour)","secondary-row-colour":"var(--ui-container-subsidiary-background-colour)","tertiary-row-colour":"#F7F8FA","disabled-row":"rgba(227,228,229,.6)"},modal:{"background-colour":"var(--ui-container-background-colour)","footer-background-colour":"var(--ui-container-subsidiary-background-colour)","overlay-colour":"rgba(0,0,0,0.3)"},link:{"foreground-colour":{type:"colour",value:"var(--edsby-blue)"},active:{"foreground-colour":"var(--ui-link-foreground-colour)"}},accent:(i={"background-colour":{type:"colour",value:"#1C75BC"},"foreground-colour":{type:"colour",value:"#ffffff"},"border-colour":"#b1dbf7","text-colour":"#003e69"},_defineProperty(i,"background-colour","#e7f5ff"),_defineProperty(i,"background-colour-highlight","#c5e4f9"),i),hover:{"background-colour":"var(--edsby-lightblue)"},shadow:{colour:"rgba(0, 0, 0, 0.13)"},boxshadow:{"box-shadow":"0 0 0.25rem rgba(0,0,0,.15)",underflow:"0 3px 5px rgb(0 0 0 / 20%)"},separator:{"border-bottom":"none"},toolbar:{"background-colour":"var(--ui-container-subsidiary-background-colour)","border-colour":"var(--ui-container-border-colour-complementary)"},ttdate:{cellwidth:function(){return e.window.width()<=375?"40px":"45px"},pickerwidth:function(){var t=45;return e.window.width()<=375&&(t=40),7*t+"px"},padding:function(){return e.window.width()<350?"5px":e.window.width()<=375?"10px":"30px"}},presence:{online:"#73b744",recent:"#f69126",offline:"#aaa"}},gradebook:{"shadow-colour":"#666",focus:"#e7f5ff","selected-row-background":function(t){return"url(".concat(e.gbl.rsrc,"/dataBook/selected-row-").concat(t,".png)")},"selected-col-background":function(t){return"url(".concat(e.gbl.rsrc,"/dataBook/selected-column-").concat(t,".png)")},contrast:"rgba(0,0,0,0.05)",sprites:{master:function(t){return"url(".concat(e.gbl.rsrc,"/dataBook/gradebook-sprite.png)")}}},seatingplan:{grid:function(t){return"url(".concat(e.gbl.rsrc,"/SeatingPlan/Grid-").concat(t,".png)")}},evidence:{"card-background":"#FFFFFF"},chip:{"body-default-background":"rgba(31,31,31,0.12)","tail-default-foreground":"#FFFFFF","body-tag-background":"rgba(1,97,162,0.14)","body-tag-foreground":"#0061A2","body-performance-level1":"#8F1104","body-performance-level2":"#F0B30F","body-performance-level3":"#5FA130","body-performance-level4":"#2F76D8"}},dark:{colours:{reset:"#1f1f1f",basefg:"#dcdcdc",neutral:"#212121"},edsby:{custard:"#223358",blue:"#0089f7","complementary-foreground-colour-active":"#333"},ui:{header:{"foreground-colour":"var(--ui-container-foreground-colour)","background-colour":"var(--ui-container-subsidiary-background-colour)","icon-colour":"var(--edsby-blue)","icon-colour-active":"#81c6ff"},body:{"foreground-colour":"#dcdcdc","secondary-background-colour":"var(--colours-reset)","background-colour":"var(--colours-reset)"},hover:{"background-colour":"#3e3e3e"},accent:{"text-colour":"var(--colours-basefg)","foreground-colour":"#fff","background-colour":"#0c3454","background-colour-highlight":"#2c5474"},shadow:{colour:"#131313"},boxshadow:{"box-shadow":"0 0 0.25rem rgba(0,0,0,.75)",underflow:"initial"},profpic:{"background-colour":"rgb(95,95,95)","foreground-colour":"rgb(37 37 37)"},modal:{"overlay-colour":"rgba(0,0,0, 0.5)"},separator:{"border-bottom":"1px solid var(--ui-container-sep-secondary-border-colour)"},container:{"background-colour":"#2f2f2f",subsidiary:{"background-colour":"#3e3e3e","foreground-colour":"#8c8c8c"},sep:{"primary-border-colour":"#1e1e1e","secondary-border-colour":"rgb(25, 24, 15)"}},tab:{hover:{"background-colour":"var(--ui-hover-background-colour)",border:{colour:"var(--ui-container-sep-primary-border-colour)"}}},table:{"tertiary-row-colour":"var(--ui-container-background-colour)","disabled-row":"#3c3c3c"},toolbar:{"background-colour":"#252626"},picker:{"background-colour":"#424242","border-colour":"#7d7d7d","foreground-colour":"var(--ui-body-foreground-colour)"},dropdown:{"box-shadow":"0 0 15px rgba(0, 0, 0, 0.1)",border:"var(--ui-container-border-width) var(--ui-container-border-style) var(--ui-container-sep-primary-border-colour)","foreground-colour":"var(--ui-colours-basefg)"},error:{"border-colour":"#1d0d0c","background-colour":"#73130c","foreground-colour":"#fff","neutral-foreground-colour":"#333","standalone-colour":"#ff6a6a"},warning:{"border-colour":"#8a7d00","background-colour":"#3c3600","foreground-colour":"var(--ui-body-foreground-colour)"},button:{disabled:{"background-colour":"var(--colours-neutral)","background-colour-hover":"var(--ui-hover-background-colour)","foreground-colour":"#bbb","border-colour":"#171717"},lightblue:{"background-colour":"#3e3e3e"},white:{"hover-colour":"var(--colours-neutral)"}},input:{"border-colour-enabled":"rgba(107,107,107,0.3)","checkbox-foreground-colour":"#afafaf","background-colour-disabled":"#3a3a3a"},selectable:{selected:{"background-colour":"#131313"}},"list-item":{"background-colour-selected":"var(--ui-container-subsidiary-foreground-colour)","foreground-colour-selected":"var(--ui-container-subsidiary-background-colour)"}},gradebook:{"shadow-colour":"var(--ui-shadow-colour)",focus:"#131313",contrast:"rgba(0,0,0,0.1)",sprites:{master:function(t){return"url(".concat(e.gbl.rsrc,"/dataBook/gradebook-sprite-dark.png)")}}},evidence:{"card-background":"#282828"},chip:{"body-default-background":"rgba(227,227,227,0.12)","tail-default-foreground":"#121212","body-tag-background":"#003257","body-tag-foreground":"#9DCAFF","body-performance-level1":"#FF8A76","body-performance-level2":"#FBBC2D","body-performance-level3":"#78BD48","body-performance-level4":"#7CABFF"}},highcontrast:{edsby:{blue:"#0e3a5d"},ui:{body:{"subordinate-colour":"#4c4c4c"},input:{"placeholder-colour":"var(--ui-body-subordinate-colour)"},inactive:{"foreground-colour":"var(--ui-body-subordinate-colour)"},focus:{"ring-width":"3px",inactive:{"ring-width":"var(--ui-focus-ring-width)"},"box-sizing":{inactive:"border-box"}},modal:{"overlay-colour":"black"}}},print:{}},d={},l={initPaths:function(){var t=["modules","lib","images","bundles","rsrc","static","xdl"];for(var a in t)l.set("edsby-path-".concat(t[a]),e.gbl[t[a]])},set:function(e,t){var i="--".concat(e);a.documentElement.style.setProperty(i,t),d[i]=t},get:function(e){return getComputedStyle(a.documentElement).getPropertyValue("--".concat(e))},createRandomTheme:function(){var e=JSON.parse(JSON.stringify(s.default));!function e(t){for(var a in t)"string"==typeof t[a]&&t[a].startsWith("#")?t[a]="rgb(".concat(parseInt(255*Math.random()),",").concat(parseInt(255*Math.random()),",").concat(parseInt(255*Math.random()),")"):"object"===_typeof(t[a])&&e(t[a])}(e),s.random=e},evSetTheme:function(e){var t=e.get_arg("value");t||(t="default"),"auto"==t&&(t=c()),l.setTheme(t)},setTheme:function(t,a){if(a&&delete l._themeForced,!l._themeForced){a&&(l._themeForced=!0),"random"===t&&l.createRandomTheme(),d={};var i=function e(a){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in i=i?"".concat(i,"-"):"",a){var r=a[n];if("function"==typeof r)l.set("".concat(i).concat(n),r(t));else if("string"==typeof r||r.type)"string"!=typeof r&&(r=r.value),l.set("".concat(i).concat(n),r);else{var o=n;""!==i&&(o=[i,n].join("")),e(r,o)}}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var a in e){var n=a;t&&(n=[t,a].join("-")),i(e[a],a,n)}};i(r);for(var c=["default",t],u=0;u<c.length;u++){var f=s[c[u]];f&&o(f)}l.initPaths(),n=t,$("body").attr("data-runtime-theme",e.mlescape(t))}},getTheme:function(){return n},getCSS:function(){var e=[":root {"];for(var t in d)e.push("    ".concat(t,": ").concat(d[t],";"));return e.push("}"),e.join("\n")},getModuleVarName:function(e,t){return"ui-module-".concat(e,"-").concat(t)},dump:function(){},register:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"module";for(var i in s)if(t[i]){var n=t[i];s[i].ui||(s[i].ui={}),s[i].ui[a]||(s[i].ui[a]={}),s[i].ui[a][e]||(s[i].ui[a][e]={}),$.extend(!0,s[i].ui[a][e],n)}l.setTheme(l.getTheme())}},c=function(){return t.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"};l.setTheme("default"),e.init(function(){var a="default";e.gbl.user.prefs&&e.gbl.user.prefs.theme&&(a=e.gbl.user.prefs.theme),e.settings.runtime.theme&&(a=e.settings.runtime.theme),"auto"==a&&(a=c()),"easteregg"===e.settings.runtime.theme&&(l._lastRandomUpdate=new Date,l._randomInterval&&t.clearInterval(l._randomInterval),l._randomInterval=t.setInterval(function(){var e=new Date;e.getTime()-l._lastRandomUpdate.getTime()<45e3||(l._lastRandomUpdate=e,Math.random()>=.5?l.setTheme("random"):l.setTheme(a))},6e4)),l.setTheme(a)});var u=!1;if(e.pageListen({source:t,trigger:"resize",priority:100},function(){t.clearTimeout(u),u=t.setTimeout(function(){$(t).trigger("doneresize")},10)}),e.pageListen({source:t,trigger:"doneresize",priority:100},function(){l.setTheme(l.getTheme())}),t.matchMedia){var f=t.matchMedia("print"),g=!1;f.onchange=function(t){t.matches?(g=e.get("cssvar").getTheme(),e.get("cssvar").setTheme("print")):"string"==typeof g?e.get("cssvar").setTheme(g):e.get("cssvar").setTheme("default")}}return l}),cf.module("dd",function(e,t,a){var i=/^[+-]?([0-9]*[.])?[0-9]+$/g,n=/^[+-]?([0-9]+)$/g,r=function(e){var t=!1;return"string"==typeof e&&e.match(n)?t=parseInt(e):"string"==typeof e&&e.match(i)?t=parseFloat(e):"number"==typeof e&&(t=e),t},o=function(){function i(){_classCallCheck(this,i),this.elements={},this.choices={},this.valueMap={},this.displayMap={},this._nitems=1}return _createClass(i,[{key:"equals",value:function(e){var t=this.getValue();if(void 0===e&&!1===t||void 0===t&&!1===e)return!0;if(e===t)return!0;var a=r(e),i=r(t);return isNaN(a)||isNaN(i)||!1===a||!1===i?0===a&&(!1===t||void 0===t)||(0===i||void 0===t)&&!1===e:a===i}},{key:"open",value:function(t,i){var n=this;if(!(this.disabled||this.addNew&&!t))if(!this._open||i){this._open=!0;var r=this.elements.list.resolve(),o=this.elements.body.resolve();o.dom().addClass("xds-dd-isopen");var s=o.parents(".xds-responsive-layout-body");if(s.length>0&&s.addClass("xds-contains-dd-isopen"),this.popover)return this.popover.show(),this.elements.body.resolve().attr("aria-haspopup","true"),o.accessories.popover.dom.attr("aria-expanded","true"),void this.focusInitial();if(r.dom().css({"margin-top":"","max-height":"",overflow:""}),0!==r.dom().length){if(r.dom()[0].children.length&&r.attr("aria-expanded","true"),e.layout.isPhone()||this.elements.body.resolve().arg("noAutoListHeight")){if(e.layout.isPhone()){var d=this.elements.body.resolve();if(!this._placeholder&&!this.multi&&!this.opts.noMobilePlaceholderMove){var l=e.get("guid").rfc4122(),c=d.dom().outerHeight(),u=d.dom().outerWidth(),f=(d.dom().css("display"),$('<div id="#placeholder-'.concat(l,'" class="').concat(d.dom()[0].className,'" style="width:').concat(u,"px; height:").concat(c,'px;">&nbsp;</div>')));this._placeholder=f,d.dom().attr("role",!1),d.dom()[0].parentNode.insertBefore(f[0],d.dom()[0]),d.dom().appendTo(a.body),d.dom().on("deleted",function(e){n.elements,n._placeholder&&n._placeholder.length>0&&n._placeholder[0].parentNode&&n._placeholder[0].parentNode.insertBefore(d.dom()[0],n._placeholder[0]),n._placeholder&&n._placeholder.trigger&&n._placeholder.trigger("deleted")})}}}else{var g=r.dom().offset().top,p=e.window.height()-g-this.elements.body.resolve().dom().height()+e.window.scrollTop();p<50&&(p=50),r.dom().css("max-height",p+"px")}this.elements.body.resolve().attr("aria-haspopup","true")}}else this.close()}},{key:"selectOpen",value:function(t){if(!this.disabled){this._open=!0;var a=this.elements.list.resolve(),i=this.elements.body.resolve(),n=i.dom();n.addClass("xds-dd-isopen");var r=n.parents(".xds-responsive-layout-body");if(r.length>0&&r.addClass("xds-contains-dd-isopen"),i.accessories&&i.accessories.popover)return i.accessories.popover.show(),i.attr("aria-haspopup","true"),i.accessories.popover.dom.attr("aria-expanded","true"),void this.focusInitial();e.layout.isPhone()||n.css("height",n.height()+"px"),a.dom()[0].children.length&&a.attr("aria-expanded","true"),n.attr("aria-haspopup","true");var o=a.find('.xds-dd-listItem[aria-selected="true"]').prevAll(),s=0;o.each(function(){s+=$(this).outerHeight()});var d=n.position();if(s>d.top&&(s=d.top),t&&!e.layout.isPhone()||a.dom().css("margin-top","-"+s+"px"),!e.layout.isPhone()){a.dom().css("max-height","none");var l=a.dom().height(),c=e.window.height()+e.window.scrollTop();l+(d=a.dom().offset().top)>c&&(l=c-d-20,a.dom().css("max-height",l+"px"),a.dom().css("overflow","scroll"))}}}},{key:"close",value:function(a){var i=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.closing||o){var s=this.elements.body.resolve();if(!["scroll","wheel"].includes(r)||!1!==s.arg("dismissOnScroll")){this.closing=!0,this.listClone&&this.listClone.remove(),this._open=!1,s&&s.dom().removeClass("xds-dd-isopen"),$(".xds-contains-dd-isopen").removeClass("xds-contains-dd-isopen"),this.popover&&this.popover.hide(),a&&s&&s.focus(),s&&s.dom().css("height","");var d=this.elements.list.resolve();d&&(d.attr("aria-expanded","false"),e.layout.isPhone()||d.dom().css({"margin-top":"0","max-height":"none",overflow:""}),this.elements.body.resolve().attr("aria-haspopup","false"),e.layout.isPhone()&&d.dom().css("margin-top",""),this.removeMobilePlaceholder(),!1!==n&&(-1===n?s.focusPreviousElement():s.focusNextElement()),t.setTimeout(function(){delete i.closing},100))}}}},{key:"focusInitial",value:function(t){var a=this.elements.list.resolve(),i=this.elements.body.resolve();i.accessories&&i.accessories.popover&&(a=i.accessories.popover.dom);var n=a.find('.xds-dd-listItem[aria-selected="true"]');if(n.length)e.focus(n);else{t=t?"last":"first";var r=a.find('.xds-dd-listItem[tabindex="-1"]')[t]();r&&r.length>0&&e.focus(r)}}},{key:"focusPrevious",value:function(){var t=this.elements.list.resolve(),a=this.elements.body.resolve();a.accessories&&a.accessories.popover&&(t=a.accessories.popover.dom);var i=this.getFocussedListItem();if((i=!!(i&&i.dom&&i.dom().length>0)&&i.dom())||(i=t.find(":focus")),i.length){var n,r=!1,o=t.find(".xds-dd-listItem:not(.hidden)");for(n=0;n<o.length&&o[n].id!==i[0].id;n++);if(n>0)for(;n--;)if("false"!==$(o[n]).attr("tabindex")){e.focus(o[n]),r=!0;break}r||this.close(!0,-1)}else this.focusInitial(!0)}},{key:"focusNext",value:function(){var t=this.elements.list.resolve(),a=this.elements.body.resolve();a.accessories&&a.accessories.popover&&(t=a.accessories.popover.dom);var i=this.getFocussedListItem();if((i=!!(i&&i.dom&&i.dom().length>0)&&i.dom())||(i=t.find(":focus")),i.length){var n,r=!1,o=t.find(".xds-dd-listItem:not(.hidden)");for(n=0;n<o.length&&o[n].id!==i[0].id;n++);if(n+1<o.length)for(n++;n<o.length;n++)if("false"!==$(o[n]).attr("tabindex")){e.focus(o[n]),r=!0;break}r||this.close(!0,1)}else this.focusInitial()}},{key:"removeMobilePlaceholder",value:function(){if(e.layout.isPhone()&&this._placeholder){var t=this.elements.body.resolve();t.dom().attr("role","button"),this._placeholder[0]&&this._placeholder[0].parentNode&&(this._placeholder[0].parentNode.insertBefore(t.dom()[0],this._placeholder[0]),this._placeholder[0].parentNode.removeChild(this._placeholder[0])),delete this._placeholder}}},{key:"getDisplayValue",value:function(){var e=this;if(e.multi)return"";var t=e.valueMap[e.getValue()],a=!1;if(!t)return this.getValue();var i=t.ref.resolve();return i||(a=""),!a&&i.data&&i.data.display&&(a=i.data.inputDisplay||i.data.display),a||(a=i.arg("title")),a&&(a=a.replace(/\u231e\u231e|\u231f\u231f/g,"")),a}},{key:"searchValue",value:function(e){var t=this.elements.display.resolve();return t?(e&&t.dom().text(e),t.dom().text()):""}},{key:"getValue",value:function(){var e=this,t=void 0!==e.value&&!1!==e.value?e.value:e.defaultValue;return void 0===t?"":t}},{key:"setValueByValue",value:function(e,t){var a=this;if(a.valueMap[e])a.setValueById(a.valueMap[e].id);else if(a.displayMap[e])a.setValueById(a.displayMap[e].id);else{if(a.value=e,a.accessories)a.elements.list.resolve().update();else{var i=a.elements.list.resolve().find('.xds-dd-listItem[aria-selected="true"]');i.length&&i.xdo.update()}!t&&a.elements.display&&a.elements.display.resolve().update()}}},{key:"setValueByIdSimple",value:function(e){var t=this.choices[e];this.value=t.value}},{key:"setValueByValueSimple",value:function(e){this.value=e}},{key:"getValueById",value:function(e){return this.choices[e]}},{key:"setValueById",value:function(e){var t=this,a=(this.value,this.choices[e]);this.value=a.value;var i=t.elements.list.resolve(),n=(t.elements.body.resolve(),i.find('.xds-dd-listItem[aria-selected="true"]'));this.popover?(i.update(),(n=this.popover.dom.find('.xds-dd-listItem[aria-selected="true"]')).length&&n.xdo.update()):n.length&&n.xdo.update();var r=a.ref.resolve();n.length&&!n.xdo.is(r)?r.update():n.length||r.update(),t.elements.display&&t.elements.display.resolve().update()}},{key:"removeMultiValue",value:function(e){e+="";var t=this.value,a=(t=void 0===t||""===t?[]:(t+"").split(",")).indexOf(e);t.splice(a,1),this.value=t.join(","),this.triggerChanged()}},{key:"updateMultiValueFromList",value:function(e){var t=this,a=[];if(e)for(var i=0;i<e.length;i++)a.push(e[i].data.value);t.value=a.join(","),t.elements.display&&t.elements.display.resolve().update(),t.elements.multiList&&t.elements.multiList.resolve().update(),t.triggerChanged()}},{key:"addMultiValue",value:function(e){var t=this,a=this.choices[e],i=t.elements.body.resolve(),n=this.value;-1===(n=void 0===n||""===n||!1===n?[]:(n+"").split(",")).indexOf(a.value+"")&&(n.push(a.value),void 0!==i.arg("insertSorted")&&(i.arg("insertSorted")&&n.sort(),-1==i.arg("insertSorted")&&n.reverse()),t.value=n.join(",")),t.elements.display&&t.elements.display.resolve().update(),t.elements.multiList&&t.elements.multiList.resolve().update()}},{key:"registerListItem",value:function(t){var a,i,n=e.is_xdo(t),r=this._nitems;n?(t.data&&void 0!==t.data.value?(a=t.data.value,i=t.data.display):(a=t.arg("data-value"),i=t.arg("title")),void 0===a&&(a=i),this.equals(a)?t.attr("aria-selected","true"):t.attr("aria-selected","false"),e.settings.dev&&t.attr("data-dd-listitem-value",a)):(a=t.value,i=t.display),n&&t.temp.ddItemId||(this.choices[r]=this.valueMap[a]=this.displayMap[i]={value:a,display:i,ref:n&&t.ref(),id:r},this._nitems++,n&&(t.temp.ddItemId=r))}},{key:"getFocussedListItem",value:function(){var e=$(a.activeElement).xdo;if(e&&e.temp&&e.temp.ddItemId)return e}},{key:"parseList",value:function(t){var a=[];return"object"!==_typeof(t)||Array.isArray(t)||(t=Object.values(t)),t.map(function(t){if(t instanceof e.constant.Constant){var i={};e.extend(i,t.params),e.extend(i,{value:t.val(),display:t.str(),item:t}),a.push(i)}else e.is_str(t)?a.push({display:t,value:t}):e.is_obj(t)&&a.push(t)}),a}},{key:"triggerChanged",value:function(){delete this._changed;var e,t=this.valueMap[this.value];t&&(e=t.ref&&t.ref.resolve());var a=this.elements.body.resolve();a&&(a.trigger("xds-picker-picked",{value:this.value,xdo:e}),this.value?a.trigger("xds-picker-value",{value:this.value,xdo:e}):a.trigger("xds-picker-cleared",{xdo:e}))}},{key:"loadList",value:function(e){var t=this;e._aggregate=!0,e.noForm=!0,"ddSearchPhone"===t.elements.list.resolve().xdsid()&&(e.context=t.elements.list.resolve().caller()),t.elements.list.resolve().event("loadxds",e)}},{key:"listLoaded",value:function(){var e=this;e.elements.list.resolve().trigger("xds-picker-ready");var a=Object.keys(e.choices).length;0==a?(e.elements.body.resolve().trigger("xds-picker-noChoices"),e.elements.body.resolve().state.set("nochoices",!0)):(1==a&&e.opts.autoSelectIfOneChoice&&!e.addNew||e.opts.autoSelectFirst)&&!e.value&&t.setTimeout(function(){e.setValueById(Object.keys(e.choices)[0]),e.triggerChanged()},100),e.elements.body.resolve().state.set("nChoices",a)}},{key:"addNew",get:function(){return this._addNew},set:function(e){this._addNew=e}},{key:"forceCombobox",get:function(){return this._forceCombobox},set:function(e){this._forceCombobox=e}},{key:"choices",get:function(){return this._choices},set:function(e){this._choices=e}},{key:"value",set:function(e){e!==this._value&&(this._value=e,this.elements.value&&this.elements.value.resolve()&&this.elements.value.resolve().update())},get:function(){return this._value}},{key:"popover",get:function(){if(this.elements.body){var e=this.elements.body.resolve();if(e&&e.accessories&&e.accessories.popover)return e.accessories.popover}}},{key:"_open",get:function(){return this.__open},set:function(e){this.__open=e}},{key:"inputValue",get:function(){return this.elements.display.resolve().dom().text()}}]),i}(),s={setupMobileSearch:function(t){t.on("click focus keyup",function(){if("keyup"!=t.e.type||!t.eventKeyIs("BACKSPACE")){var a=t.dd.searchValue()||t.e.key||"",i=t.dd;t.event("lightbox",{slice:{xds:{id:"ddSearchPhone",fields:[{id:"header",type:"lightbox.title",title:t.arg("title")||t.arg("placeholder")},{id:"input",type:"dd.multiSearch",placeholder:t.arg("title")||t.arg("placeholder"),xds:t.arg("xds"),renderNoPerm:!0,nid:t.arg("nid"),autofocus:!0,events:[{trigger:"onload",func:function(t){t.dd.setValueById=function(a){e.extend(i.choices,t.dd.choices),e.extend(i.valueMap,t.dd.valueMap),i.addMultiValue(a),t.event("lightbox.close",{immediate:!0}),i.triggerChanged(),i.elements.display.resolve().event("focus"),e.caretPos(i.elements.display.resolve().dom()[0],0)},i.ddSearchPhone=t.dd,t.dd.searchValue(a),t.event("focus"),e.caretPos(t.dd.elements.display.resolve().dom()[0],a.length),setTimeout(function(){t.trigger("keyup")},50)}}]},{id:"loader",type:"loader"}]},data:{}}})}})},userInput:function(t,a){a=a||{};var i=t.xds.fields&&t.xds.fields.input;i||(i={id:"display",placeholder:t.arg("placeholder")}),i.inherit="dd.display",(t.arg("disabled")||e.get("forms").is_read_only(t))&&(t.dd.disabled=!0,t.addClass("xds-dd-disabled")),t.addChild(i,1)},inputValue:function(e){var t=e.xds.fields&&e.xds.fields.value;t||(t={id:"value",name:e.name()}),e.arg("placeholder")&&(t.placeholder=e.arg("placeholder")),e.arg("name")&&(t.name=e.arg("name")),t.cdid="__value",t.inherit="dd.inputValue",e.addChild(t,1)},arrow:function(e){if(!e.arg("noArrow")&&!e.arg("disabled")){var t=e.xds.fields&&e.xds.fields.arrow;t||(t={id:"arrow"}),t.inherit="dd.arrow",e.addChild(t,e.arg("index")||0)}},label:function(e){var t=e.xds.fields&&e.xds.fields.label;t||(t={id:"label",title:e.arg("title")}),t.title?(t.inherit="dd.label",e.addChild(t,0)):e.removeClass("xds-dd-prep-label")},placeholder:function(e){var t=e.arg("placeholder");t&&(t={id:"placeholder",title:e.arg("placeholder"),css:"xds-dd-placeholder"},e.addChild(t))},multiList:function(t){var a=t.xds.fields&&t.xds.fields.multiList,i=t.arg("disabled")||e.get("forms").is_read_only(t);if(!a){var n=[{id:"multiListItemRemove",css:"xds-dd-multiListItemRemove",type:"fa.glyph",icon:"times",tooltip:e.lang("Remove Item"),"aria-role":"button",events:[{func:"dd.events.removeMultiListItem"}]}];i&&(n=[]),a={id:"multiList",fields:[{id:"multiListItem",type:"dd.multiListItem",fields:n,events:[{func:"dd.events.multiListItemKeydown",trigger:"keydown"}]}]}}t.arg("orderable")&&!i&&(a.sortable=!0,a.sortableNoWrite=!0,t.on("xds-dragdrop-sortable-sortChanged",function(e,t){e.dd.updateMultiValueFromList(e.get_arg("newOrder")),e.arg("insertSorted")&&e.arg("insertSorted",!1)})),a.inherit="dd.multiList",t.addChild(a,4)},prep:function(i){i.arg("mode")&&i.addSubClass("mode-".concat(i.arg("mode")));var n=i.xds.fields&&i.xds.fields.list;if(!n){var r=i.get_children();if(i.arg("sort")&&(r=e.sort({sortBy:"title"},r)),n={id:"list",sparse:!0,fields:r},i.arg("legacyMode")&&(i.addClass("xds-dd-legacyMode"),n.legacyMode=i.arg("legacyMode")),i.data&&!i.data.list&&i.arg("injectData")){var s=i.data;i.data={list:s}}delete i.xds._children,delete i.xds.fields,i.addChild(n,0)}delete n.list,delete n.events,i.arg("list")&&(e.is_str(i.arg("list"))&&e.constant[i.arg("list")]?(n.list=e.obj_to_arr(e.lookupAll(i.arg("list"))),n.list=e.sort({sortBy:"params-_i",sortType:"number"},n.list)):n.list=i.arg("list")),i.arg("width")&&(i.addStyle("width",i.arg("width")),i.addClass("xdl-forms-field-width")),i.addClass("xds-dd-master"),i.animationDisable(),n.inherit="dd.list";var d=i.dd;i.dd=new o(i),i.dd.opts||(i.dd.opts={}),i.arg("noMobilePlaceholderMove")&&(i.dd.opts.noMobilePlaceholderMove=!0),i.arg("forceCombobox")&&(i.dd.forceCombobox=i.arg("forceCombobox")),i.arg("noArrow")&&(i.dd.opts.noArrow=i.arg("noArrow")),i.arg("listOpen")&&(i.dd.opts.listOpen=i.arg("listOpen")),d&&!Object.keys(i.dd.valueMap).length&&(i.dd.valueMap=d.valueMap,i.dd.choices=d.choices),i.arg("noNoneEntry")&&(i.dd.noNoneEntry=i.arg("noNoneEntry")),i.dd.defaultValue=i.arg("defaultValue"),e.is_obj(i.data)&&i.data.value?i.dd.value=i.dd.origValue=i.data.value:i.dd.value=i.dd.origValue=i.get_val(),void 0!==i.dd.defaultValue&&(i.xds.cdid||i.xds.dbid)&&void 0===i.state.get(i.xds.cdid||i.xds.id)&&i.state.set(i.xds.cdid||i.xds.id,i.dd.defaultValue),i.dd.elements.body=i.ref(),(i.arg("disabled")||e.get("forms").is_read_only(i))&&(i.dd.disabled=!0,i.addClass("xds-dd-disabled")),i.displayVal="",i.sparse=!0,i.on(a,"keydown",function(e){e.dd._open&&(e.dd.close(),e.preventDefault())},{keyCode:27,priority:1e6}),i.on(t,"click",function(e){e.dd&&e.dd._open&&!$.contains(e.dom()[0],e.eventSource()[0])&&e.eventSource()[0]!==e.dom()[0]&&(e.dd.close(),e.preventDefault())}),e.layout.isPhone()&&i.addChild({id:"cancelMenu",title:e.lang("Cancel"),type:"dd.cancel"}),i.on("mouseover",function(e){e.dom().attr("data-mouseactive",!0)}).on("mouseout",function(e){e.dom().attr("data-mouseactive","")}),!i.arg("disableSetState")&&i.on("change xds-picker-picked","setState"),i.state.watch(i.statekey,function(e){i.dd.forceCombobox?i.dd.setValueByValueSimple(e):i.dd.setValueByValue(e,!1)})},multiValue:function(t){t.dd.multi=!0,t.dd.setValueById=t.dd.addMultiValue;var a=t.dd.value;if(e.is_arr(t.dd.value)){var i=[];t.dd.value.map(function(e){t.dd.registerListItem(e),i.push(e.value)}),t.dd.value=i.join(",")}else e.is_arr(a)&&0===a.length&&(t.dd.value="")},serverList:function(e){var t=e.xds.fields.list;e.arg("xds")&&(t.events=[{trigger:"onload",func:"dd.events.loadList",args:{_aggregate:!0,url:e.arg("url"),xds:e.arg("xds"),nid:e.arg("nid"),command:e.arg("command"),renderNoPerm:e.arg("renderNoPerm")}}])},istListClick:function(e){var t=e.dd.elements.list.resolve().dom()[0];return!!t&&$.contains(t,e.eventSource()[0])}};return{prep:s,closeAllOpen:function(){var e=$(".xds-dd-isopen");$(".xds-contains-dd-isopen").removeClass(".xds-contains-dd-isopen"),e.remove()},events:{open:function(e){(e=e.target().xdo)?(e.dd&&e.dd.open(),e.dd||console.warn(e+" no dd found for dd.open")):console.warn(e+" no XDO found for dd.open")},loadList:function(e){e.event("loadxds",{noTarget:!0,noForm:!0,func:function(){e.dd.listLoaded()}})},bodyClick:function(a){if(!a.e.isPropagationStopped()&&!s.istListClick(a)){a.dd.elements.list.resolve();var i=a.dd.elements.body.resolve(),n=e.get_obj(a.e.target).hasClass("xds-dd-arrow");if(a.dd.addNew&&n&&i.xds.forceCombobox&&(delete a.dd.addNew,delete i.xds.forceCombobox,delete i.xds._children,delete i.xds.fields,i.update(),t.setTimeout(function(){a.dd.open()},100)),a.dd.opts.behaviour&&"combobox"===a.dd.opts.behaviour&&e.layout.isPhone()&&!e.get_obj(a.e.target).hasClass("xds-dd-arrow"))return;a.dd._open?a.dd.close(!0):a.dd.open(a.arg("noPosition")),a.stopPropagation()}},bodyBlur:function(t){e.layout.isPhone()||setTimeout(function(){var e=a.activeElement,i=t.dd.elements.body.resolve(),n=$(e).parents("*[data-parent]");n.length>0&&(e=$(n.attr("data-parent"))[0]),e&&i&&i.dom().length&&!$.contains(i.dom()[0],e)&&i.dom()[0]!==e&&t.dd.close()})},tabKeyDown:function(e){if(9===e.e.which){var t=e.dd.getFocussedListItem();if(t){var a=e.dd.elements[e.get_arg("el")||"display"];a.resolve().attr("tabindex",-1),e.dd.setValueById(t.temp.ddItemId),setTimeout(function(){a.resolve().attr("tabindex","0")}),e.dd.close()}}},comboboxKeyup:function(t){e.log.debug("dd.comboboxKeyup: keyCode=".concat(t.e.keyCode));var a=t.dd.elements.display,i=t.dd.elements.body.resolve();e.is_xdo(i)||(i=!1);var n="".concat(i?i.statekey:"combobox","-comboboxInputValue"),r=a.resolve().dom().text();t.dd._lastComboboxKeyupValue=r;var o=t.get_arg("typedown");e.log.debug("dd.comboboxKeyup: body=(".concat(i.id(),") val=").concat(r)),t.eventKeyIs("27,36,37,38,39")||(t.dd.addNew?(t.dd._changed=!0,t.dd.setValueByValue(e.mlescape(r),!0),i&&i.arg("setStateInstant")&&!i.arg("disableSetState")&&(i.newEvent("setState",{value:r}),i.state.set(n,e.mlescape(r)))):(o||(t.dd.value!=r||0!==r&&0===t.dd.value||r&&!t.dd.value)&&(!t.dd.valueMap[t.dd.value]||t.dd.valueMap[t.dd.value].display!=r))&&(t.dd._changed=!0,!o&&t.dd.setValueByValue(e.mlescape(r),!0),t.dd.filterValue=r,t.dd.elements.list.resolve().update(),e.layout.isPhone()&&"combobox"===t.dd.opts.behaviour||t.dd.forceCombobox||t.dd.open(),i&&i.arg("setStateInstant")&&!i.arg("disableSetState")&&(i.newEvent("setState",{value:r}),i.state.set(n,e.mlescape(r)))),e.layout.isPhone()&&"combobox"===t.dd.opts.behaviour||t.dd.open(),13==t.e.keyCode&&(delete t.dd.filterValue,t.dd.close(),t.dd.elements.list.resolve().update(),t.dd.triggerChanged()))},comboBoxFocusOut:function(e){e.dd.forceCombobox&&e.dd.triggerChanged(),e.dd.opts.noFocusOutTriggerChange||setTimeout(function(){if(e.dd&&e.dd._changed&&!$.contains(e.dd.elements.body.resolve().dom()[0],a.activeElement)&&e.dd.popover&&!$.contains(e.dd.popover._dom[0],a.activeElement)){if(e.dd.isTypedown)return void e.dd.elements.display.resolve().update();e.event("dd.events.comboboxKeyup",{typedown:e.dd.isTypedown}),e.dd.forceCombobox||e.dd.triggerChanged()}})},bodyKeydown:function(e){if(e.e.which,e.eventKeyIs(["ESC","ENTER"])&&e.dd._open&&(e.e.preventDefault(),e.e.stopPropagation()),e.eventKeyIs(["ESC"]))e.dd.close(!0);else if(e.eventKeyIs(["ENTER"])){var a=e.dd.getFocussedListItem();a&&a.trigger("click")}else e.eventKeyIs(["DOWN","UP"])&&("dd.search"!==e.xds.type&&(e.e.preventDefault(),e.e.stopPropagation()),e.dd._open?e.eventKeyIs(["UP"])?e.dd.focusPrevious():e.eventKeyIs(["DOWN"])&&e.dd.focusNext():t.setTimeout(function(){e.dd._open||e.dd.open()},100),e.e.preventDefault(),e.e.stopPropagation())},multiKeyDown:function(t){var a=t.dd.elements.display;if(a&&a.resolve().dom().length){var i=a.resolve().dom().text();if(t.eventKeyIs(8)&&0==i.length){var n=t.target("children:multiList").find(".xds-dd-multiListItem").last();n.length&&e.focus(n)}}},focusInput:function(e){e.dd.elements.display.resolve().focus()},focusList:function(t){e.inInitialFocus||(t.dd._open||t.dom().attr("data-mouseactive")||t.dd.closing)&&(t.dd.closing||t.dd.elements.list.resolve().focus())},searchTimer:function(e){var t=e.get_arg("input");clearTimeout(e.dd.keyTimer),e.temp.ddSearchTimerXds=e.arg("xds"),e.temp.ddSearchTimerNid=e.arg("nid"),e.dd.keyTimer=setTimeout(function(){var a;e.dom().length&&(a=t?e.find("input").val():e.dd.elements.display.resolve().dom().text(),e.arg("maxlength")&&a&&a.length>e.arg("maxlength")&&(a=a.substr(0,e.arg("maxlength"))),a!==e.dd.searchVal&&a.length>0&&(e.dd.searchVal=a,e.dd.loadList({xds:e.temp.ddSearchTimerXds,nid:e.temp.ddSearchTimerNid,noPath:!0,pattern:a,func:function(){e.dd.listLoaded(),e.dd.open(!1,!0)}})))},500)},removeMultiListItem:function(e){e.parent_xdo().dd.removeMultiValue(e.get_val("value"))},multiListItemKeydown:function(e){if(e.eventKeyIs(8)){var t=e.dom().prev(".xds-dd-multiListItem");t.length||e.dom().next(".xds-dd-multiListItem"),t.length||(t=e.dd.elements.display.resolve().dom()),t.focus(),e.event("dd.events.removeMultiListItem"),e.preventDefault()}}},selectList:function(e){e.inherit("dd.list"),e.attr("role","listbox"),e.attr("tabindex",0);var t=e.dd.elements.body.resolve();t&&t.accessories&&t.accessories.popover&&e.dd.opts.echoselectedtoinline&&e.ready(function(a){var i=t.accessories.popover.find("[aria-selected=true");a.dom().find("aria-selected=true").remove(),i.clone(!0).appendTo(a.dom()),a.dom().addClass(e.xds_full.id),e.xds_full.include&&a.dom().addClass(e.xds_full.include)},100)},listpopover:function(e){e.tag("ul").on("wheel",function(e){return e.stopPropagation(),!1}).on("scroll",function(e){return e.stopPropagation(),!1})},list:function(t){if(t.dd=t.parent_xdo().dd,t.dd){t.dd.opts&&t.dd.opts.listOpen&&t.addSubClass("listOpen-"+t.dd.opts.listOpen),t.attr("aria-expanded","false"),t.dd.elements.list=t.ref(),t.sparse=!0,!1!==t.arg("role")&&t.attr("role",t.dd.listRole||"listbox"),t.on("blur","dd.events.bodyBlur");var a=t.dd._list||t.arg("list")||t.data.item;if(t.dd._list||(t.dd._list=a),t.on("mouseover",function(e){"true"==t.attr("aria-expanded")&&e.stopPropagation()}),a){var i;a=t.dd.parseList(a),"required"===t.parent_xdo().arg("validate")||t.dd.noNoneEntry||a.unshift((_defineProperty(i={id:"blank","data-value":"",display:"None"},"id","DD_INTERNAL_BLANK"),_defineProperty(i,"css","xds-dd-listItem-clearValue"),i)),t.get_children()||t.addChild({id:"item",filters:!0});var n=t.parent;delete t.parent;var r=a;if(t.dd.filterValue){r=e.filter(t.dd.filterValue,a);for(var o=!1,s=0;s<r.length;s++)if(r[s].display.toLowerCase()===t.dd.filterValue.toLowerCase()){o=!0;break}if(t.dd.opts.filterPreserveSections){for(var d=[],l=0;l<a.length;l++)if(a[l].section)d.push(a[l]);else for(var c=0;c<r.length;c++)if(r[c]===a[l]){d.push(r[c]);break}r=d}if(t.dd.opts.suppressExactMatch){for(var u=[],f=0;f<r.length;f++){var g=r[f];g.display.toLowerCase()!==t.dd.filterValue.toLowerCase()&&u.push(g)}r=u}if(t.dd.opts.suppressEmptySections){for(var p=[],h=0;h<r.length;h++){var m=r[h];m.section&&!m.showIfEmpty?h+1<r.length&&!r[h+1].section&&p.push(m):p.push(m)}r=p}if(o){for(var v=[],b=0;b<r.length;b++){var _=r[b];_.hideIfHasMatch||v.push(_)}r=v}}t.set({item:r}),t.parent=n}if(t.get_children()&&t.get_children().map(function(e){e.inherit="dd.listItem"}),t.on("wheel",function(e){return e.stopPropagation(),!1}).on("scroll",function(e){return e.stopPropagation(),!1}),!t.arg("legacyMode")&&!e.layout.isPhone()){var y=!1;t.get_children()&&(y=e.clone(t.get_children()));var x={xds:{id:"list".concat(e.get("guid").rfc4122().replace(/\-/g,"")),type:"dd.listpopover",proxyCSS:t.selector(),fields:y},data:t.data,perm:t._perm};t.xds.events&&(x.xds.events=t.xds.events,t.xds.events=[]);var w=!1;t.dd.opts&&t.dd.opts.popover&&(w=t.dd.opts.popover),new PopOver(t.parent_xdo(),x,!1,w,function(e){e.dd=t.dd}),w&&w.anchorlist&&(t.parent_xdo().accessories.popover.anchorelem=function(e){var a=t.dom(),i=$("[aria-owns=".concat(a.xdo.path,"]"));return i.length&&(a=i),a})}}},listItem:function(e){if(e.animationDisable(),!e.parent_xdo())return!1;if(e.dd=e.parent_xdo().dd,!e.dd){var a=e.caller();if(!a||!a.dd)return;e.dd=a.dd.ddSearchPhone||a.dd}e.get_children()||e.addChild({id:"display"}),e.arg("icon")&&e.inherit("fa.icon"),e.attr("tabindex","-1"),e.on("blur","dd.events.bodyBlur"),e.attr("role",e.dd&&e.dd.listItemRole||"option"),e.data.css&&e.addClass(e.data.css),e.data.html&&(e.displayVal=e.data.html,e.exit()),(e.data.disabled||e.arg("disabled"))&&e.addSubClass("disabled");var i=e.data.submenu||e.arg("submenu");if(!e.data.showFunc||e.data.showFunc(e)){if(e.data.section||e.arg("section"))return e.addClass("xds-dd-listItemSection"),e.attr("aria-selected","false"),e.attr("tabindex",!1),e.data.cdid&&e.state.get(e.data.cdid),e.data.templateDisplay&&(e.data._display&&(e.data.display=e.data._display),e.data.display&&"string"==typeof e.data.display&&e.data.display.indexOf("{{")>=0&&(e.data._display=e.data.display,e.data.display=e.tpl(e.data.display))),void(e.data.sectionClickSetData&&e.on("click",function(e){var t=e.data["data-value"]||e.data.value;t&&"string"==typeof t&&t.indexOf("{{")>=0&&(t=e.tpl(t)),e.dd.setValueByValue(t),e.dd.triggerChanged(),e.dd.removeMobilePlaceholder()}));(e.data.addNew||e.arg("addNew"))&&(e.temp.add=!0,e.addSubClass("addNew"),e.dd.addNew=e.ref()),e.dd&&e.dd.registerListItem(e),i?e.on("mousedown","noop",{stopPropagation:!0,preventDefault:!0}):e.on("click",function(e){if(e.dd){var a=e.dd.elements.body.resolve();if(a)if(a.inListItemClick=!0,t.setTimeout(function(){delete a.inListItemClick},100),e.temp.add){a.xds.forceCombobox=!0,a.xds.placeholder=e.data.placeholder||e.arg("placeholder"),delete a.xds._children,delete a.xds.fields,delete a.data,delete a.xds.defaultValue;var i=e.dd.elements.body.resolve();a.set_val(""),a.val(""),e.dd.value="",i&&i.trigger("xds-dd-addnew"),a.update(""),a.focus()}else e.dd&&("true"===e.dd.elements.list.resolve().attr("aria-expanded")||a.accessories&&a.accessories.popover&&"true"==a.accessories.popover.dom.attr("aria-expanded"))?(e.dd.setValueById(e.temp.ddItemId),e.dd.triggerChanged(),setTimeout(function(){e.dd.close(!0)}),a.xds.forceCombobox&&(delete a.xds.forceCombobox,delete a.xds._children,delete a.xds.fields,a.update())):e.dd&&e.dd.open(a.arg("noPosition"))}}),e.on("keydown",function(e){e.temp.lastkeydown=e.e.keyCode,e.eventKeyIs(["UP","DOWN","TAB"])&&e.preventDefault()}),e.on("keyup",function(e){e.temp.lastkeydown&&e.temp.lastkeydown===e.e.keyCode&&(e.eventKeyIs("SHIFT+TAB")?e.dd.close(!0,-1):e.eventKeyIs("TAB")?e.dd.close(!0,1):e.eventKeyIs(["UP"])?(e.dd.focusPrevious(),e.preventDefault(),e.stopPropagation()):e.eventKeyIs(["DOWN"])&&(e.dd.focusNext(),e.preventDefault(),e.stopPropagation())),delete e.temp.lastkeydown});var n=e.dd.elements.body.resolve(),r=e.dd.elements.list.resolve();"true"===e.attr("aria-selected")&&n.accessories&&n.accessories.popover&&e.dd.opts&&e.dd.opts.popover&&e.dd.opts.popover.echoselectedtoinline&&e.ready(function(t){r.dom().find("[aria-selected=true]").remove(),e.dom().clone(!0).appendTo(r.dom()),r.dom().addClass(e.xds_full.id),e.xds_full.include&&r.dom().addClass(e.xds_full.include)})}else e.exitBlank()},inputValue:function(t){if(t.dd=t.parent_xdo().dd,t.dd.elements.value=t.ref(),t.tag("input"),t.attr("type","hidden"),t.attr("name",t.arg("name")),t.arg("placeholder")&&t.attr("placeholder",t.arg("placeholder")),t.parent_xdo().arg("inputArgs")){var a=t.parent_xdo().arg("inputArgs");for(var i in a=e.get("forms")._normalizeInputArgs(a))t.attr(i,a[i])}var n=t.dd.getValue();void 0!==n&&t.attr("value",e.mlescape(n)),t.sparse=!0,t.displayVal=""},multiList:function(e){e.dd=e.parent_xdo().dd,e.dd.elements.multiList=e.ref(),e.sparse=1,e.tag("ul"),e.dd.value||0===e.dd.value||e.exit();var t=e.dd.value;if(void 0===t||!1===t?t="":"string"!=typeof t&&(t+=""),t.length){t=t.split(",");var a=[];if(t.forEach(function(t){var i=e.dd.valueMap[t];i?a.push(i):a.push({nid:t,value:t,display:t})}),a.length){var i=Object.keys(e.dd.valueMap).length;setTimeout(function(){Object.keys(e.dd.valueMap).length!==i&&e.update()}),e.set({multiListItem:a}),e.arg("sortable")&&(e.arg("sortableRequiresWrite",!1),e.inherit("dragdrop.sortable"))}else e.exit()}},multiListItem:function(e){e.tag("li"),e.dd=e.parent_xdo().dd,e.displayVal=e.get_val("display"),e.on("click","focus")},arrow:function(e){if(e.parent_xdo().dd.disabled)return e.addSubClass("disabled"),void e.exitBlank();e.inherit("fa.glyph",{icon:"angle-down",fa_class:"fas"}),e.tag("span"),e.sparse=!0},display:function(t){t.noLinks=!0,t.tag("div"),t.sparse=!0,t.dd=t.parent_xdo().dd,t.dd.elements.display=t.ref();var a=Object.keys(t.dd.valueMap).length;setTimeout(function(){Object.keys(t.dd.valueMap).length!==a&&t.update()}),t.arg("disabled")||e.get("forms").is_read_only(t)||(t.dd.opts.mobilesearch?t.attr("contenteditable","false"):t.attr("contenteditable","true"),t.attr("autocomplete","off"),t.attr("autocorrect","off"),t.attr("autocapitalize","off"),t.attr("spellcheck","off"),e.layout.isPhone()||t.on("click",function(e){e.stopPropagation()})),t.arg("placeholder")&&t.attr("placeholder",t.arg("placeholder")),t.displayVal=e.mlescape(t.dd.getDisplayValue()),t.on("blur","dd.events.bodyBlur"),t.has_child("label")&&t.attr("aria-labelledby",t.parent_xdo().path+"-label")},cancel:function(e){e.on("click",function(e){e.preventDefault(),setTimeout(function(){e.parent_xdo().dd.close(!0,void 0,void 0,!0)})})},label:function(e){e.tag("label");var t=e.path.split("-");t[t.length]="display",e.attr("for",t.join("-"))},gear:function(e){e.addClass("xds-button"),e.inherit("dd.menu"),e.addChild({id:"gear",type:"fa.glyph",icon:e.arg("icon")||"gear",title:e.arg("title")},1),e.showTitle=!1},icon:function(e){e.inherit("dd.bars",{icon:e.arg("icon")||"gear"})},glyph:function(e){e.inherit("dd.bars",{icon:e.arg("icon")||"gear"})},bars:function(e){e.inherit("dd.menu",{noArrow:!0}),e.addChild({id:"gear",type:"fa.glyph",icon:e.arg("icon")||"gear",fa_class:e.arg("fa_class")||"fal",title:e.arg("title")},1),e.showTitle=!1},button:function(e){e.addClass("xds-button"),e.inherit("dd.menu")},menu:function(t){t.on("click","dd.events.bodyClick"),t.on("focus","dd.events.focusList"),t.on("blur","dd.events.bodyBlur"),t.on("keydown","dd.events.bodyKeydown"),t.attr("role","button"),t.arg("mode")&&t.addClass("xds-dd-menu-"+t.arg("mode")),t.inherit("dd.prep.prep"),t.dd.opts.popover={matchwidth:!0},t.inherit("dd.prep.arrow"),t.dd.setValueById=t.dd.setValueByIdSimple,t.dd.listRole="presentation",t.dd.listItemRole="menuitem",t.dd.noNoneEntry=!0,e.layout.isPhone()&&t.ready(function(e){e.dd&&e.dd.elements&&e.dd.elements.list&&0===e.dd.elements.list.resolve().dom().children().length&&e.dd.elements.body.resolve().dom().css({visibility:"hidden"})})},combobox:function(t){t.off("keydown"),t.off("focus"),t.off("click"),t.off("focusout"),t.off("paste"),t.on("focus","dd.events.focusInput"),t.on("keydown","dd.events.bodyKeydown"),t.on("keydown","dd.events.tabKeyDown"),t.on("click","dd.events.bodyClick"),t.on("focusout","dd.events.comboBoxFocusOut"),t.on("paste",function(t){t.e.originalEvent.clipboardData&&(t.preventDefault(),t.val(e.mlescape(t.e.originalEvent.clipboardData.getData("text/plain"))))}),t.attr("tabindex","-1"),t.inherit("dd.prep.prep"),t.dd.opts.popover={matchwidth:!0,anchorlist:!0},t.dd.opts.behaviour="combobox",t.arg("filterPreserveSections")&&(t.dd.opts.filterPreserveSections=!0),t.arg("suppressEmptySections")&&(t.dd.opts.suppressEmptySections=!0),t.arg("suppressExactMatch")&&(t.dd.opts.suppressExactMatch=!0),t.arg("noFocusOutTriggerChange")&&(t.dd.opts.noFocusOutTriggerChange=!0),t.inherit("dd.prep.serverList"),t.inherit("dd.prep.arrow"),t.inherit("dd.prep.inputValue"),t.inherit("dd.prep.userInput"),t.attr("role","combobox"),t.xds.fields.display["aria-owns"]=t.path+"-list",t.xds.fields.display.events=[{trigger:"keyup",func:"dd.events.comboboxKeyup",args:{typedown:t.arg("typedown")}}],t.dd.isTypedown=t.arg("typedown"),t.inherit("dd.prep.label"),t.addClass(e.css.field),t.arg("setStateInstant")&&t.state.watch(t.statekey,function(a){e.log.debug("dd.combobox(".concat(t.id(),") statewatch: ").concat(a)),t.dd._lastComboboxKeyupValue!==a&&a!==t.dd.inputValue&&t.dd.setValueByValue(a)}),t.showTitle=!1},typedown:function(e){e.inherit("dd.combobox",{typedown:!0})},select:function(t){return void 0===t.arg("legacyMode")&&t.arg("legacyMode",!0),t.xds.forceCombobox?(t.dd&&t.dd.close(),void t.inherit("dd.combobox")):t.arg("noChoicesLabel")&&t.state.get("nochoices")?(t.removeChildren(),t.arg("title",""),t.removeClass("xds-dd-select"),t.addChild({xds:{id:"label",title:t.arg("noChoicesLabel"),sparse:!0}}),void t.inherit("noContent")):(t.on("focus","dd.events.focusList"),t.on("keydown","dd.events.bodyKeydown"),t.on("keydown","dd.events.tabKeyDown",{el:"list"}),t.on("click","dd.events.bodyClick"),t.attr("tabindex","-1"),t.inherit("dd.prep.prep"),t.dd.opts.popover={matchwidth:!0,anchorlist:!0},t.dd.opts.autoSelectIfOneChoice=!0,void 0===t.arg("autoSelectIfOneChoice")||t.arg("autoSelectIfOneChoice")||(t.dd.opts.autoSelectIfOneChoice=!1),t.dd.open=t.dd.selectOpen,t.inherit("dd.prep.serverList"),t.inherit("dd.prep.arrow",{index:1}),t.inherit("dd.prep.inputValue"),t.xds.fields.list.inherit="dd.selectList",t.attr("role","select"),t.inherit("dd.prep.label"),t.inherit("dd.prep.placeholder"),t.addClass(e.css.field),void(t.showTitle=!1))},facet:function(e){e.inherit("dd.search",{noEvents:!0})},search:function(t){t.arg("legacyMode",!0),t.xds&&t.xds.fields&&t.xds.fields.list&&(t.xds.fields.list.legacyMode=!0);var a={inputmode:"search"};t.arg("inputArgs")&&$.extend(a,t.arg("inputArgs")),t.arg("inputArgs",a),e.layout.isPhone()&&!t.arg("noEvents")?t.inherit("dd.prep.setupMobileSearch"):t.arg("noEvents")||(t.on("focus","dd.events.focusInput"),t.on("keydown","dd.events.bodyKeydown"),t.on("click","dd.events.bodyClick"),t.on("keyup","dd.events.searchTimer")),t.attr("tabindex","-1"),t.inherit("dd.prep.prep"),e.layout.isPhone()&&!t.arg("noEvents")&&(t.dd.opts.mobilesearch=!0),t.inherit("dd.prep.label"),t.inherit("dd.prep.inputValue"),t.inherit("dd.prep.userInput"),t.addChild({id:"gear",type:"fa.glyph",icon:"search"},1),t.showTitle=!1},multiSearch:function(t){t.arg("legacyMode",!0);var a={inputmode:"search"};t.arg("inputArgs")&&$.extend(a,t.arg("inputArgs")),t.arg("inputArgs",a),e.layout.isPhone()&&"ddSearchPhone"!==t.xdsid()?t.inherit("dd.prep.setupMobileSearch"):(t.on("focus","dd.events.focusInput"),t.on("keydown","dd.events.bodyKeydown"),t.on("keydown","dd.events.multiKeyDown"),t.on("click","dd.events.bodyClick"),t.on("keyup","dd.events.searchTimer")),t.on("keydown","noop",{keyCode:"enter",preventDefault:!0}),t.on("xds-picker-picked","update",{target:"children:multiList"}),t.attr("tabindex","-1"),t.inherit("dd.prep.prep"),t.inherit("dd.prep.label"),t.inherit("dd.prep.userInput"),t.inherit("dd.prep.multiValue"),t.inherit("dd.prep.inputValue"),t.inherit("dd.prep.multiList"),e.layout.isPhone()&&"ddSearchPhone"!==t.xdsid()&&(t.dd.opts.mobilesearch=!0),t.showTitle=!1},serverSelect:function(e){e.inherit("dd.search")},multiCombobox:function(){},multiSelect:function(t){t.arg("xds")&&t.arg("legacyMode",!0),t.on("keydown","dd.events.bodyKeydown"),t.on("keydown","dd.events.multiKeyDown"),t.on("click","dd.events.bodyClick"),t.on("xds-picker-picked","update",{target:"children:multiList"}),t.on("focus","dd.events.focusList"),t.on("keydown","dd.events.bodyKeydown"),t.attr("tabindex","-1"),t.inherit("dd.prep.prep"),t.dd.opts.popover={matchwidth:!0,anchorlist:!0},t.dd.open=t.dd.selectOpen,t.inherit("dd.prep.serverList"),t.inherit("dd.prep.multiValue"),t.inherit("dd.prep.multiList"),t.inherit("dd.prep.arrow",{index:1}),t.inherit("dd.prep.inputValue"),t.xds.fields.list.type="dd.selectList",t.attr("role","select"),t.inherit("dd.prep.label"),t.addClass(e.css.field),t.showTitle=!1},stateSelect:function(){function t(e,t){return e.display.localeCompare(t.display)}function a(e,t,a){return t&&(e.display=e[t]),a&&(e.value=e[a]),e}return function(i){var n=i.state.get(i.arg("state"))||[],r=i.arg("value_key"),o=i.arg("display_key"),s=i.temp.element_map||(r||o?a:void 0),d=i.temp.element_map_params,l=i.temp.element_sort_cb||t;e.is_obj(n)&&(n=Object.values(n)),e.is_arr(n)||(n=[]),s&&(n=n.map(function(e){return s(e,o,r,d)})),n.sort(l),i.arg("list",n),i.inherit(i.arg("inherit")||"dd.select")}}(),constantSelect:function(){function t(e,t){var a=e.sort-t.sort;return a||(a=e.display.localeCompare(t.display)),a}return function(a){var i=e.lookup(a.arg("choices")),n=[],r=a.arg("block_params"),o=a.arg("require_params");"string"==typeof r&&(r=r.split(",")),Object.entries(i).forEach(function(e,t){return function(e,t,a,i){var n,r=!1,o=t[0],s=t[1];"_reverse"!==o&&(s.params&&s.params.lookuponly||(a&&s.params&&a.forEach(function(e){s.params[e]&&(r=!0)}),i&&(s.params?i.forEach(function(e){s.params[e]||(r=!0)}):r=!0),r||((n=Object.assign({},s.params||{})).display=s.str(),n.value=s.val(),e.push(n))))}(n,e,r,o)}),n.sort(t),a.arg("list",n),a.inherit(a.arg("inherit")||"dd.select")}}()}}),cf.module("dragdrop",function(e,t,a){var i={_utils:{touchHandler:function(i){var n=i.target.id;if(!n)for(var r=i.target;!n;)n=(r=r.parentNode).id;var o=e.get_obj(n),s=i.changedTouches[0],d="",l=new Date,c={},u=!0,f=!0,g=!1;switch(o&&o._dragdroptouches&&(c=o._dragdroptouches),o&&(o._dragdroptouches=c),o._dragdroptouches._timeout&&t.clearTimeout(o._dragdroptouches._timeout),i.type){case"touchstart":d="mousedown",u=!1,g=!0;break;case"touchmove":d="mousemove";break;case"touchend":d="mouseup";break;default:return}c[i.type]={time:l,orig:s};var p=function(e,i){i.target;var n=a.createEvent("MouseEvent");n.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n)};if("touchend"==i.type&&!c.touchmove&&c.touchstart&&Math.abs(c.touchstart.time.getTime()-l.getTime())<600?(d="click",s.target.id):"touchmove"==i.type&&c.touchstart&&Math.abs(c.touchstart.time.getTime()-l.getTime())<420?(u=!1,f=!1):"touchmove"==i.type&&c.touchstart&&Math.abs(c.touchstart.time.getTime()-l.getTime())>600&&p("mousedown",c.touchstart.orig),g){var h=d,m=s;o._dragdroptouches._timeout=t.setTimeout(function(){p(h,m)},600)}("touchend"==i.type&&o||"touchcancel"==i.type&&o)&&delete o._dragdroptouches,f&&!g&&p(d,s),u&&i.preventDefault()},enableTouchDraggable:function(e){e.addEventListener("touchstart",i._utils.touchHandler,!0),e.addEventListener("touchmove",i._utils.touchHandler,!0),e.addEventListener("touchend",i._utils.touchHandler,!0),e.addEventListener("touchcancel",i._utils.touchHandler,!0)},disableTouchDraggable:function(e){e.removeEventListener("touchstart",i._utils.touchHandler,!0),e.removeEventListener("touchmove",i._utils.touchHandler,!0),e.removeEventListener("touchend",i._utils.touchHandler,!0),e.removeEventListener("touchcancel",i._utils.touchHandler,!0)}},types:{droppable:function(t){var a=!0;t.arg("droppableIf")&&(a=e.get_func(t.arg("droppableIf"))(t)),t.global("nodragdrop")&&(draggable=!1),a&&t.ready(function(){t.dom().droppable({accept:t.arg("accept")?t.arg("accept"):".xds-dragdrop-types-draggable, .xds-dragdrop-draggable ",tolerance:t.arg("tolerance")?t.arg("tolerance"):"intersect",activeClass:"xds-dragdrop-types-droppable-dropReady",hoverClass:"xds-dragdrop-types-droppable-dropActive",drop:function(e,a){t.trigger("xds-dragdrop-draggableDropped",{draggable:a.draggable.xdo,modifiers:{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}}),a.draggable.xdo.trigger("xds-dragdrop-droppedOnDroppable",{droppable:t})}}),t.on("xds-removed",function(e){e.dom().data("ui-droppable")&&e.dom().droppable("destroy")}),t.dom().addClass("xds-removed")}),t.arg("dropinherit")&&t.inherit(t.arg("dropinherit"))},draggable:function(t){var a=!0,n=t.arg("delay")||e.platform.mobile&&t.arg("mobileDelay")||!1;t.arg("draggableIf")&&(a=e.get_func(t.arg("draggableIf"))(t)),t.global("nodragdrop")&&(a=!1),a&&t.ready(function(){var a={helper:t.arg("helper")?t.arg("helper"):"clone",stack:t.arg("stack")||!1===t.arg("stack")?t.arg("stack"):"."+t.cssPath,revert:t.arg("revert")||!1===t.arg("revert")?t.arg("revert"):"invalid",zIndex:!!t.arg("zIndex")&&t.arg("zIndex"),distance:10,containment:!!t.arg("containment")&&t.arg("containment"),appendTo:t.arg("appendTo")?t.arg("appendTo"):"parent",opacity:!!t.arg("opacity")&&t.arg("opacity"),start:function(e,a){t.dom().addClass("dragActive").off("click"),$(a.helper).addClass("ui-draggable-helper")},stop:function(e,a){t.dom().removeClass("dragActive"),t.trigger("xds-dragdrop-draggable-dropped",{xdo:t,pos:{y:a.position.top,x:a.position.left},offset:{y:a.offset.top,x:a.offset.left}})}};n&&(a.delay=n),t.dom().draggable(a),e.platform.mobile&&i._utils.enableTouchDraggable(t.dom()[0]),t.on("xds-removed",function(t){e.platform.mobile&&i._utils.disableTouchDraggable(t.dom()[0]),t.dom().data("ui-draggable")&&t.dom().draggable("destroy")}),t.dom().addClass("xds-removed")})},handle:function(e){e.inherit("block")},sortable:function(t){if(!t.has_write(t.arg("xds"))&&!1!==t.arg("sortableRequiresWrite")||e.platform.tablet||t.global("nodragdrop"))t.addClass("xds-dragdrop-sortable-noSortingAllowed");else{t.arg("noDefaultStyling")||t.addClass("xds-dragdrop-sortable-defaultStyling"),t.addClass("xds-dragdrop-sortable-sortingAllowed");var a=function(e){return e.fraction?e.fraction:e.rid},n=function(e){var t={},a=(""+e).split("/");return t.numerator=parseInt(a[0]),t.denominator=parseInt(2==a.length?a[1]:"1"),t},r=function(a,i,n){t.has_write(t.arg("xds"))&&!t.arg("sortableNoWrite")&&e.post({url:{command:"putfield",nid:t.get_val("nid"),xds:t.arg("xds")},xdo:t,data:{field:t.arg("field")||"fraction",value:i,rid:a},success:function(){n&&n()}})};t.ready(function(){var o={tolerance:t.arg("tolerance")?t.arg("tolerance"):"intersect",helper:"clone",distance:5,start:function(e,a){t.dom().addClass("xds-dragdrop-sortable-dragActive")},stop:function(i,o){var s,d,l,c,u,f,g,p,h=e.get_obj(o.item[0].id),m=t.dom().children(t.arg("items")),v=[],b=0,_=!1,y=!1,x=!1;for(t.dom().removeClass("xds-dragdrop-sortable-dragActive"),s=0;s<m.length;s++)v.push(e.get_obj(m[s].id)),h.rnode.rid==v[v.length-1].rnode.rid&&(b=s),v[v.length-1].rnode.fraction?(y=!0,((d=n(a(v[v.length-1].rnode))).numerator>1e6||d.denominator>1e6)&&(x=!0)):x=!0;if(!y||x){var w=v.length,C=0,k=function(){++C==w&&(t.trigger("xds-dragdrop-sortable-initializedAllFractions"),t.trigger("xds-dragdrop-sortable-sortChanged",{newOrder:v}))};for(s=0;s<v.length;s++)v[s].rnode.fraction=[s+1,v.length].join("/"),r(v[s].rid(),v[s].rnode.fraction,k);t.arg("sortableNoWrite")&&t.trigger("xds-dragdrop-sortable-sortChanged",{newOrder:v})}else{var S=!1,T=!1;if(b>0&&(S=v[b-1]),b+1<m.length&&(T=v[b+1]),S&&T){var M=(l=a(S.rnode),c=a(T.rnode),f={},g=n(l),p=n(c),f.numerator=g.numerator*p.denominator+p.numerator*g.denominator,f.denominator=g.denominator*p.denominator,u=function e(t,a){return a?e(a,t%a):t}(f.numerator,f.denominator),f.numerator=f.numerator/u,f.denominator=f.denominator/u,f);_=[M.numerator,2*M.denominator].join("/")}else S?_=[(d=n(a(S.rnode))).numerator+1,d.denominator].join("/"):T&&(_=[(d=n(a(T.rnode))).numerator,d.denominator+1].join("/"));_&&(h.rnode.fraction=_,t.arg("sortableNoWrite")?t.trigger("xds-dragdrop-sortable-sortChanged",{newOrder:v}):r(h.rid(),_,function(){t.trigger("xds-dragdrop-sortable-sortChanged",{newOrder:v})}))}}},s=t.dom();t.arg("handle")&&(o.handle=".xds-dragdrop-handle"),t.arg("items")&&(o.items=t.arg("items")),t.arg("cancel")&&(o.cancel=t.arg("cancel")),(t.arg("placeholder")||t.arg("dropPlaceholder"))&&(o.placeholder=t.arg("placeholder")||t.arg("dropPlaceholder"),o.forcePlaceholderSize=!0),t.arg("axis")&&(o.axis=t.arg("axis")),t.arg("containment")&&(o.containment=t.arg("containment")),s&&s.length&&(s.sortable(o),e.platform.mobile&&i._utils.enableTouchDraggable(s[0]),t.on("xds-removed",function(t){e.platform.mobile&&i._utils.disableTouchDraggable(t.dom()[0]),t.dom().data("ui-sortable")&&t.dom().sortable("destroy")}),s.addClass("xds-removed"))})}},fraction:function(e){e.inherit("sys"),e.data||(e.data=e.rnode.rid)}}};return i}),cf.module("ds",function(e,t,a){var i=function(e){return e.arg("datasourceid")||"ds-".concat(e.xds.id)||"ds-datasource"},n={container:function(e){var t=e.state;"global"==e.arg("stateScope")?t=e.state.global():"top"==e.arg("stateScope")&&(t=e.state.top()),e.arg("datasourceid")&&t.get(e.arg("datasourceid"),e)},datasource:function(t){t.sparse=!0,t.displayVal=" ";var a=t.state;"global"==t.arg("stateScope")?a=t.state.global():"top"==t.arg("stateScope")&&(a=t.state.top());var n=a.get(i(t));n&&n.uuid!==t.temp.source.uuid||!n?a.set(i(t),t.temp.source):n&&n._notify(),t.addClass(e.css.removed),t.on(e.css.removed,function(){t.state,"global"==t.arg("stateScope")?t.state.global():"top"==t.arg("stateScope")&&t.state.top(),t.state.set(i(t),!1),t.temp.source.destroy()}),t.inherit(t.arg("baseclass")||"span")},bound:function(t){var a=t.state;if("global"==t.arg("boundStateScope")?a=t.state.global():"top"==t.arg("boundStateScope")&&(a=t.state.top()),t.arg("bounddsid")){var n=a.get(t.arg("bounddsid"),t);if(n){var r=t.state;"global"==t.arg("stateScope")?r=t.state.global():"top"==t.arg("stateScope")&&(r=t.state.top());var o=r.get(i(t));if(o&&o.is(n))t.temp.source=o;else{o&&o.destroy();var s=t.arg("pagesize");e.platform.phone&&t.arg("mobilepagesize")&&(s=t.arg("mobilepagesize"));var d=new BoundDataSource(n,s);t.temp.source=d}t.inherit("ds.datasource")}else this.exitBlank()}else e.log.debug("ds.bound: must have bounddsid")},pivot:function(t){var a=t.state;if("global"==t.arg("stateScope")?a=t.state.global():"top"==t.arg("stateScope")&&(a=t.state.top()),t.arg("pivot1dsid")&&t.arg("pivot2dsid")){var n=a.get(t.arg("pivot1dsid"),t),r=a.get(t.arg("pivot2dsid"),t),o=t.state;"global"==t.arg("stateScope")?o=t.state.global():"top"==t.arg("stateScope")&&(o=t.state.top());var s=o.get(i(t));s&&s.destroy();var d=new PivotedDataSource(n,r,t.arg("idkey"),t.arg("idkey2"),t.arg("pivotkey"),t.arg("schema"));t.temp.source=d,t.inherit("ds.datasource")}else e.log.debug("ds.pivot: must have pivots")},array:function(e){var t=e.arg("data-value")||e.data;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}e.temp.source=new ArrayDataSource(t,e.arg("schema")),e.inherit("ds.datasource")},timeseries:function(e){var t=e.arg("interval"),a=e.arg("max"),i=e.arg("min");e.temp.source=new TimeSeriesDataSource(t,i,a,new Date),e.inherit("ds.datasource")},xds:function(e){e.temp.source=new XDSDataSource(e.arg("xds"),e.nid()),e.inherit("ds.datasource")},xdo:function(e){var t=e.state;"global"==e.arg("stateScope")?t=e.state.global():"top"==e.arg("stateScope")&&(t=e.state.top());var a=t.get(i(e)),n=e.state.get("".concat(e.xds.id,"-items"));n&&(e.data={item:n}),a&&a.is(e)?(e.temp.source=a,e.arg("ignoreSeedData")?a.update({}):a.update(e.data.item),e.arg("poll")&&a.poll()):(a&&a.destroy(),e.temp.source=new XDODataSource(e)),e.inherit("ds.datasource"),e.exitBlank()},iterator:function(e){e.inherit("ds.datasource")},func:function(e){e.inherit("ds.datasource")},lookup:function(t){var a=e.lookup(t.arg("lookup")),i=[];for(var n in a){var r=a[n];r.params&&i.push(e.clone(r.params))}t.temp.source=new ArrayDataSource(i),t.inherit("ds.datasource")},observer:function(e){e.data.attach(e)},controls:{next:function(e){e.sparse=!0;var t=e.state;"global"==e.arg("stateScope")?t=e.state.global():"top"==e.arg("stateScope")&&(t=e.state.top());var a=t.get(e.arg("datasourceid")||"datasource");a&&a.next?(a.attach(e),a.hasNext()?(e.temp.datasource=a,e.on("click",function(e){e.temp.datasource.next()}),e.arg("icon","chevron-right"),e.inherit("fa.icon"),e.removeSubClass("noPages")):e.addSubClass("noPages")):e.exitBlank()},prev:function(e){e.sparse=!0;var t=e.state;"global"==e.arg("stateScope")?t=e.state.global():"top"==e.arg("stateScope")&&(t=e.state.top());var a=t.get(e.arg("datasourceid")||"datasource");a&&a.prev?(a.attach(e),a.hasPrev()?(e.temp.datasource=a,e.on("click",function(e){e.temp.datasource.prev()}),e.arg("icon","chevron-left"),e.inherit("fa.icon"),e.removeSubClass("noPages")):e.addSubClass("noPages")):e.exitBlank()},page:function(e){e.sparse=!0;var t=e.state;"global"==e.arg("stateScope")?t=e.state.global():"top"==e.arg("stateScope")&&(t=e.state.top());var a=t.get(e.arg("datasourceid")||"datasource");a?(e.data={page:a.pages},e.addChild({id:"page",css:e.genSubClass("page"),fields:[{id:"current",title:"page"},{id:"count",title:"&nbsp;of"}]})):e.exitBlank()}},fields:{serialize:function(e){var t=e.state.get(e.arg("datasourceid")||"ds-datasource").attach(e);e.data=JSON.stringify(t.rows),e.arg("readonly",!0),e.inherit(e.arg("visible")?"f_str":"f_hidden")},rows:function(t){t.temp.__uuid__=e.get("guid").rfc4122(),t.state.get("force-".concat(t.temp.uuid));var a=t.state;"top"===t.arg("stateLevel")&&(a=t.state.top());var i=a.get(t.arg("datasourceid")||"datasource");if(i){i.attach(t);var n=i.rows;t.temp.__lastdslen=n.length,a.watch("".concat(i.uuid,"__version"),function(e){i.rows.length!==t.temp.__lastdslen&&a.set("force-".concat(t.temp.uuid),(new Date).getTime(),!0)});var r=t.arg("items")||"rows";t.data={},t.data[r]=i.rows}else t.exitBlank()},dynamicresizer:function(e){var a=e.state.get(e.arg("datasourceid"));e.state.forget(e.arg("datasourceid"));var i=e.arg("indent"),n=e.arg("colwidth");if(a){e.temp.datasource=a;var r=function(e){var t=e.dom();t.addClass("resizing");var a=t.width();if(a>i+n){var r=a-i,o=Math.floor(r/n);e.arg("maxcols")&&(o=Math.min(o,e.arg("maxcols"))),e.temp.datasource.pagesize(o)}t.removeClass("resizing")};e.on(t,"resize",function(e){e.temp.resizetimer&&t.clearTimeout(e.temp.resizetimer);var a=e.ref();e.temp.reszetimer=t.setTimeout(function(){var e=a.resolve();e&&r(e)},50)}),e.ready(r)}e.inherit("ds.fields.rows")},row:function(e){e.sparse=!0,e.data.row||e.exitBlank()},rowForNid:function(e){e.sparse=!0;var t=e.state.get(e.arg("datasourceid")||"datasource");if(t){t.attach(e);var a=t.rowByData(e.arg("matchField")||"nid",e.nid(),!0);a?e.data=a:e.exitBlank()}else e.exitBlank()},orderable:function(t){t.sparse=!0,t.inherit("ds.fields.row");var a=1e3,i=(t.arg("orderby")||"order").split(":");if(t.data.row&&t.data.row[i[0]]&&(a=t.data.row[i[0]],2===i.length)){var n=i[1],r=!1;switch(n.startsWith("-")&&(n=n.substr(1),r=!0),n){case"date":a=e.parseDate(a).getTime()}r&&(a*=-1)}t.addStyle("order",a)},length:function(t){t.sparse=!0,t.displayVal="";var a=t.state.get(t.arg("datasourceid")||"datasource");t.temp.__uuid__=e.get("guid").rfc4122(),t.state.get("force-".concat(t.temp.uuid)),a?(t.data=a.rows.length,t.temp.__lastdslen=a.rows.length,t.state.watch("".concat(a.uuid,"__version"),function(i){a.rows.length!==t.temp.__lastdslen&&(e.log.debug("ds.length: ".concat(t.arg("datasourceid")||"datasource"," length changed from ").concat(t.temp.__lastdslen," to ").concat(a.rows.length)),t.state.set("force-".concat(t.temp.uuid),(new Date).getTime(),!0))})):t.data=0},ifempty:function(e){n.fields.length(e),0!==e.data&&e.exitBlank()}},debugger:function(e){e.sparse=!0;var t=e.state.get(e.arg("datasourceid")||"ds-datasource");t.attach(e);var a=t._schema;e.inherit("div"),e.data={row:t.rows};var i=[],n=function(e){return function(t){t.parent_xdo().data[e]=t.val()}};for(var r in a)i.push({id:r,type:"f_str",sparse:!0,title:r,events:[{trigger:"change",func:n(r)}]});e.addChild({xds:{id:"row",fields:i,_styles:[{styles:{display:"flex","flex-direction":"row",border:"1px solid black;",padding:"10px 10px 5px 10px","margin-bottom":"10px"}}]}})}};return n}),cf.module("dynamicfunctions",function(e,t,a){var i={},n={register:function(e,t){if("string"==typeof e){if(i[e])return;i[e]=t}else for(var a in e)n.register(a,e[a])},lookup:function(t){var a=i[t],n=e.get("evals");return n&&!a&&(a=n[t]),a}};return n}),cf.module("edsby",function(e,t,a,i){var n=e.gbl;e.html,e.css,e.init(function(){if(t.CoreMobile)try{localStorage.setItem("serverList",JSON.stringify(t.CoreMobile.serverList))}catch(a){try{e.storageReset().then(function(){localStorage.setItem("serverList",JSON.stringify(t.CoreMobile.serverList))})}catch(e){}}var n=e.gbl.user;n.school=e.composeNid(n,"schools");var r,o=n.schools,s=!1;for(var d in o)o[d].FailThreshold===i||isNaN(o[d].FailThreshold)||(s=o[d].FailThreshold),o[d].AverageType===i||r&&o.nodesubtype!=e.nt.Group.School(1)||(r=o[d].AverageType);n.AverageType=parseInt(r,10)||1,n.FailThreshold=s||50;var l=["#259eff","#73b844","#aba000","#9f0000"];if(n.mapping){var c=e.user.mapping,u={};for(var f in c){var g=c[f];try{g.omap=JSON.parse(g.rowsJSON)}catch(e){continue}var p=g.omap&&g.omap.length;for(g.mapping={};p--;){var h=g.omap[p];h.percentage=parseFloat(h.percentage),h.min=parseFloat(h.min),h.max=parseFloat(h.max),h.color?h.color=h.color&&"#"==h.color[0]?h.color:"#".concat(h.color):"4LevelTrafficLights"==g.name&&p<4&&(h.color=l[p]),g.mapping[h.value]=h,h.id=h.value}u[g.name]=g}for(var f in e.user.gradeMapping=u,c=e.user.gradeMapping){g=c[f];var m="gmap_"+f;g.omap.map(function(t){e.constant(m,t.title,t.value,i,t)}),g.omap=e.sort({sortBy:"percentage",sortType:"number",sortDirection:"forward"},g.omap)}}if(n.grading){var v={};for(var f in n.grading)v[n.grading[f].name]=n.grading[f];e.user.gradeSchemes=v}else e.user.gradeSchemes={};e.gbl.user.clienttype&e.constant.cd.Mobile()&&e.extend.fn({enableTouchDraggable:function(e){function i(e){var i=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var r=a.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r),e.preventDefault()}var n;(n=e.dom()[0]).addEventListener("touchstart",i,!0),n.addEventListener("touchmove",i,!0),n.addEventListener("touchend",i,!0),n.addEventListener("touchcancel",i,!0)}})});var r=t.leap={types:{facetLink:function(t){function a(t){var a,n,r,o,s,d,l,c,u,f,g=(t.facetName||"").split(";"),p=String(t.facetEmpty||"").split(";"),h=String(t.facetValue!==i?t.facetValue:"").split(";"),m=String(t.facetLookups||"").split(";");for(a={};g.length;)if(o=g.pop(),s=p.pop(),d=h.pop(),(l=m.pop())&&(c=(l=l.split("-")).length>1?l.slice(1).join("-"):i,l=l[0]),u=a[o]={type:"facet"},s)u.empty=1,u.values={},u.nValues=0;else for(u.keys={},r=(n=d.split(",")).length;r--;)f=n[r],l&&(f=e.lookup(l,f),c?f&&f.params&&(f=f.params[c]):f=f.str()),f=f.toLowerCase(),u.keys[f]=1;return a={filter:a,_f:1},t.search&&(a.filterGlobal=t.search),a}var r=function(t){var i=t.params||t.xds.params,r={command:"loadPage"};i&&(e.is_arr(i)&&(i=i.join("&")),e.is_str(i)&&(i=e.links.queryParams(i)),e.is_obj(i)&&$.extend(r,i));var o=t.tpl(e.gen_url(r),{nid:t.tpl(t.arg("nid")||t.get_val("nid")||n.nid)}),s=a(t.xds);s&&(o+="#/"+btoa(JSON.stringify(s))),t.arg("href",o),t.arg("NavButton")?t.inherit("NavButton"):t.inherit("loadPage")};return r.makeFacetArgs=a,r}(),componentName:function(t){var a={1:function(){function e(e,t){var a,i,n=[];return"object"!==_typeof(e)?"":(e._lfname||(e.LastName||e.FirstName||e.PrefName?(e.Prefix&&n.push(e.Prefix),"teacher"===t?n.push(e.PrefName||e.FirstName):(e.FirstName&&n.push(e.FirstName),e.PrefName&&e.PrefName!==e.FirstName&&n.push(e.FirstName||e.LastName?"&quot;".concat(e.PrefName,"&quot;"):e.PrefName)),e.MName&&n.push(e.MName),e.Suffix&&n.push(e.Suffix),i=n.length?", ":" ",a=n.join(" "),n=e.LastName?[e.LastName]:[],a&&n.push(a),e._lfname=n.join(i)):e._lfname="string"==typeof e.name?e.name:"",e._lfcmpname=(e._lfname||"").replace(", "," ").toUpperCase()),e._lfname)}return{name:"Last, First",html:"<u>Last</u>, First",sort:function(t,a,i){return!a._lfcmpname&&e(a,i),a._lfcmpname||""},build:e,field:"_lfname"}}(),2:function(){function e(e,t){var a=[];return"object"!==_typeof(e)?"":(e._flname||(e.LastName||e.FirstName||e.PrefName?(e.Prefix&&a.push(e.Prefix),"teacher"===t?a.push(e.PrefName||e.FirstName):(e.FirstName&&a.push(e.FirstName),e.PrefName&&e.PrefName!==e.FirstName&&e.PrefName&&e.PrefName!==e.FirstName&&a.push(e.FirstName||e.LastName?'"'.concat(e.PrefName,'"'):e.PrefName)),e.MName&&a.push(e.MName),e.LastName&&a.push(e.LastName),e.Suffix&&a.push(e.Suffix),e._flname=a.join(" "),e.Prefix&&a.push(a.shift()),e._flcmpname=a.join(" ")):e._flname="string"==typeof e.name?e.name:"",e._flcmpname=(e._flcmpname||e._flname).toUpperCase()),e._flname)}return{name:"First Last",html:"<u>First</u> Last",sort:function(t,a,i){return!a._flcmpname&&e(a,i),a._flcmpname||""},build:e,field:"_flname"}}(),order:[1,-1,2,-2,4,-4,3,-3],types:{"last, first":1,"first last":2},rendersorttypes:[0,2,4]};function n(t){var a=t.arg("data"),n=t.arg("nidSource"),r=t.arg("nid")||"namenid";if("data"===a){if(!t.data)return!1;a=i}return"string"==typeof a&&((a=t.get_target(a,1))&&(a=e.get_obj(a)),a&&(a=a.data)),t.rnode?(a||(a=t.rnode),n||(n="rnode")):(a||(a=t.node),n||(n="node")),"string"==typeof r&&-1===r.indexOf("{{")&&(e.is_obj(t[n])&&!t[n][r]&&(t[n][r]=a.nid||a.id),t.arg("nidSource")||t.arg("nidSource",n),t.arg("nid")||t.arg("nid",r)),a}a[3]={name:"Last, First",html:"Last, <u>First</u>",sort:a[2].sort,build:a[1].build,field:a[1].field},a[4]={name:"First Last",html:"First <u>Last</u>",sort:a[1].sort,build:a[2].build,field:a[2].field};var o=function e(t){var a=n(t);if(t.data=e.getBuildFunc(t,t.arg("format"))(a),!t.data||!t.data.length)return!1;t.inherit(t.arg("ttag")||"name")};function s(e,t,a){var i,n,r=e.get_setting("nameTypeIndex")||0,o=parseInt(e.get_arg("value"),10),s=e.get_setting("sortCol");e.set_setting("nameTypeIndex",o),s||(n=$(e.parents(".xds-simpleTable"))).length&&(s=n.xdo.temp.row.sort,e.set_setting("sortCol",s)),s===(e.arg("sortBy")||e.xds.id)&&o===r?((i=(e.get_setting("sortDirection")||"forward").split(","))[0]="reverse"===i[0]?"forward":"reverse",i=i.join(",")):i=e.arg("sortDirection"),e.set_setting("sortCol","_null"),e.trigger("xds-sortcol-clicked",{"data-sortby":e.arg("sortBy")||e.xds.id,"data-sorttype":e.arg("sortType"),"data-sortdirection":i,"data-sortcol":e.xds.id})}function d(e,t,a){e.eventSource().hasClass("xds-tables-simpleTableTH-dir")&&e.event("tables.events.thClicked")}return o.getNameType=function(e,t){var n;return e.get_setting("nameTypeIndex")===i&&(n=a.types[e.arg("nameType")]),n===i&&(n=a.order[e.get_setting("nameTypeIndex")||0]),!t&&(n=Math.abs(n)),n},o.getSortCB=function(e){return a[o.getNameType(e)].sort},o.getNameTypeName=function(e){return a[o.getNameType(e)].name},o.getNameTypeHTML=function(t){return e.lang(a[o.getNameType(t)].html)},o.getBuildFunc=function(e){return a[o.getNameType(e)].build},o.getNameIndex=function(e,t){var i=((e.get_setting("nameTypeIndex")||0)+(t||0))%a.order.length;return i<0&&(i+=a.order.length),i},o.getName=function(e){return n(e)[a[o.getNameType(e)].field]||""},$.extend(e.sort,{componentNameSort:function(e,t,a,i){return r.types.componentName.getSortCB(i)(e,t,a.format)}}),e.types.componentNameTitle=function(t){var i,n=[],o=t.arg("rendersorttypes")||a.rendersorttypes;for(t.arg("noSimpleTable")||t.preclosetag(new e.classes.CFTag("div",{},!1,"xds-tables-simpleTableTH-dir")),t.xds.defaultValue=r.types.componentName.getNameIndex(t),o.includes(t.xds.defaultValue)||(t.xds.defaultValue=o[0],t.set_setting("nameTypeIndex",t.xds.defaultValue)),t.sparse=!0,i=0;i<o.length;i++)n.push({value:o[i],display:e.lang(a[a.order[o[i]]].html)});t.addClass("xds-componentName-sortmenu"),t.addAttr("aria-label",e.lang("Select name sort order")),t.inherit("menu",{mode:"simple",noArrow:!0,simple:!0,choices:n}),t.xds.noSorting=!0,t.on("xds-picker-picked",s),t.on("click",d)},e.types.componentNameTitleLastFirst=function(e){e.arg("rendersorttypes",[0,6]),e.inherit("componentNameTitle")},o}(),componentNameList:($.extend(e.sort,{componentNameListSort:function(e,t,a,n,o){var s=r.types.componentName.getSortCB(n);return function(e,t,a,n){return function(e,t,a,n,r){var o,s,d,l,c;if(!t||!t.length)return 1;if(!a||!a.length)return-1;o=t.length,s=a.length;for(var u=0;u<o;u++){if(u>s){c=-1;break}if(!a[u]){c=-1;break}if((d=e(i,t[u]))!==(l=e(i,a[u]))&&(c=d.localeCompare(l)))break}return!c&&s>o&&(c=1),c||0}(s,e,t)}}}),function(t){var a,i=t.arg("rfield")||"name";t.data&&t.data.hasOwnProperty(i)||(a=t.data?e.is_arr(t.data)?t.data:JSON.parse(t.data):[],t.data={},t.data[i]=a,t.hasData=!0),t.data&&t.data[i]&&(t.data[i]=e.sort({sortType:"componentNameSort",sortBy:"name"},t.data[i],t)),t.inherit(t.arg("ttag")||"ul")}),f_componentName:function(t){var a,i,n,r,o;if(!t._rawData)if(n=t.arg("dataSource")?t.get_val(t.arg("dataSource"),"siblings"):t.data){for(a in t._rawData=e.sort({sortType:"componentNameSort",sortBy:"name"},n,t),t.data=[],o=[],t._rawData)i=t._rawData[a],e.is_obj(i)&&(r={value:i.nid||i.value||a,display:i._flname||i._lfname||i.display},t.data.push(r),o.push(r));t.arg("choices")||t.arg("choices",o)}else t.data=!1;t.inherit("f_str")},gender:function(e){e.get_val()&&(e.displayVal=e.get_val().substr(0,1).toUpperCase())},fancyTwoPane:function(i){i.ready(function(i,n){var r,o,s=i.get_target(i.arg("scroll")),d=$(e.gbl.page).children(".xds-cont").children(),l=d.outerHeight()-n.outerHeight()+20,c=function(e,a){o=$(t).height()-l,a.css("height",o).children().each(function(){$(this).height(o)})},u=function(e,a){d.css("width",$(t).width()-80).css("margin-left",($(t).width()-d.outerWidth())/2+"px")};i.get_target("xds-cont").height(s.outerHeight()+l),setTimeout(function e(){if(i.dom().length){var a=function(){var e=$(t).width(),a=s.windowWidth!==e;return a&&u(),s.windowWidth=e,a}();(a=a||function(){var e=$(t).height(),a=s.windowHeight!==e;return a&&c(0,n),s.windowHeight=e,a}())&&d.trigger("resized"),setTimeout(e,10)}},10),setTimeout(function t(){if(i.dom().length){var n=$(a).scrollTop();r!==n&&(s.hasClass(e.css.dummy)&&(s=i.get_target(i.arg("scroll"))),s.css("margin-top",-$(a).scrollTop())),r=n,setTimeout(t,10)}},10),c(0,n),i.on("xds-fancyTwoPane-recalculate",function(e,a){var r=function(){s=i.get_target(i.arg("scroll")),i.get_target("xds-cont").height(s.outerHeight()+l),c(0,n),u()};r(),t.setTimeout(r,500)})})}},events:{count:function(e){var t=e.target().xdo;if(t){var a,i=t.pages(),n=0;if(i)for(a=i.length;a--;)n+=i[a].length;e.id(1).append(n)}}}};return $.extend(!0,e,r),e.extend.type({arrowToggle:function(){function t(t,a){var i=e.storage(t.temp.hash);1!=i?(2==i||t.arg("defaultOpen"))&&a.trigger("click"):t.arg("defaultOpen")&&(a.trigger("click"),a.trigger("click"))}function a(t,a){var i=t.get_target(t.arg("target"),1),n="fa"===(t.arg("mode")||"fa")?t.find(".e_fa"):t.dom();t.temp.is_open=!t.temp.is_open,n.hasClass(t.temp.arrowClass)?(n.removeClass(t.temp.arrowClass),t.arg("target")&&(i.hide(),t.arg("xds")&&i.empty()),t.arg("state")&&t.state.set(t.arg("state"),1),e.storage(t.temp.hash,1)):(n.addClass(t.temp.arrowClass),t.arg("target")&&i.show(),t.arg("state")&&t.state.set(t.arg("state"),2),t.trigger("arrowOpen"),t.arg("xds")&&(t.args.xds=t.arg("xds"),t.args.nid=t.arg("nid"),t.args.thread=t.temp.thread,t.args.target=i,e.get_func("loadxds")(t,a)),e.storage(t.temp.hash,2))}function i(){return this.temp.is_open}function n(e,t){e.eventKeyIs(["LEFT"])&&e.isOpen()&&a(e,t),e.eventKeyIs(["RIGHT"])&&!e.isOpen()&&a(e,t)}return function(e){e.temp.thread=e.arg("thread"),e.temp.hash="arrowToggle"+e.selector()+"-"+(e.arg("key")||e.nid()),e.temp.is_open=!1,"fa"==(e.arg("mode")||"fa")?(e.addClass("xds-arrowToggle-mode-fa"),e.temp.arrowClass="fa-rotate-90",e.arg("icon","angle-right"),e.arg("fa_class","far"),e.inherit("fa.icon")):(e.temp.arrowClass="xds-arrowToggle-open",e.inherit("icon")),e.isOpen=i,e.on("click",a),e.on("keyup",n),e.ready(t)}}(),classStatusFlag:function(t){var a=t.get_val();if(!1===a&&(a=4),4==a&&t.arg("noBlank"))return!1;if((t.has_role("Student")||t.has_role("Parent"))&&t.get_val("SPIVisibility")&&0!=t.get_val("SPIVisibility"))return!1;var i=e.lookup("classStatusCodes",a);t.addClass("classStatus-flag-"+a).addAttr("data-val",a).sparse=!0,t.displayVal="long"===t.arg("mode")?i.params.titleLong:i.str(),"long"===t.arg("mode")&&t.addStyle("width","auto")},gradeStatusBubble:function(t){var a=e.lookup("dataBookStatusCodes",t.get_val());if(a&&a.params){var i=a.params.background;t.arg("backgroundRequired")&&!i&&t.addStyle("display","none"),i=i||"#000000",t.addStyle("background",i)}},profpicName:function(e){var t=e.get_children(),a=t[t.length-1];a.css&&-1!==a.css.indexOf("xds-profpicName-text")||(a.css=(a.css||"")+" xds-profpicName-text"),e.inherit("miniprofile")},header:function(e){for(var t=e.get_children(),a=t.length;a--;)t[a].css=(t[a].css||"")+" xds-header-col xds-header-col"+(a+1)},toolbar:function(e){},privacyMessage:function(e){if(e.arg("state")){var t=e.arg("state").split(":"),a=e.state.get(t[0]);t.length>1?t[1].split(",").indexOf(""+a)<0&&e.exitBlank():a||e.exitBlank()}var i=e.arg("mode");i&&e.addClass("xds-privacyMessage-"+i),e.addClass("xds-privacyMessage-".concat(e.arg("disptype")||"tongue")),e.tag("div")},severityicon:function(e){var t=e.get_val();(t===i||!1===t&&e.arg("defaultValue"))&&(t=e.arg("defaultValue")),t&&(e.xds.css="severityicon-bars severityicon-"+t,e.displayVal='<span class="severity_value">'+e.get_val()+"</span>",e.preclosetag("<span class='severityicon-first-bar severityicon-bar'></span>"),e.preclosetag("<span class='severityicon-second-bar severityicon-bar'></span>"),e.preclosetag("<span class='severityicon-third-bar severityicon-bar'></span>"),e.preclosetag("<span class='severityicon-fourth-bar severityicon-bar'></span>"))}}),e.extend.fn({doreply:function(t,a,i){var n=t.get_arg("parentSelector")||".xds-feedItem",r=t.parents(n).parent().find("> .xds-threadid-"+t.get_val("thread")),o=e.get_obj(r[r.length-1]);return t.get_arg("loadTarget")?t.args.target=o.target(t.get_arg("loadTarget")):t.args.target=o.find(".feedItem-right-reply"),o.addClass("xds-feedItem-reply-open"),t.args.append=!1,i||(i={}),i.inreplyto=t.get_val("nid"),i.inreplytouser=t.get_val("createid"),i.thread=t.get_val("thread"),e.get_func("thread")(t,a,i)}}),$.extend(e,{getCalendarItemXDS:function(t,a){var n=parseInt(a.type!==i?a.type:a.nodetype,10),r=parseInt(a.subtype!==i?a.subtype:a.nodesubtype,10),o=null;switch(o=a.taskstatus?t.xds_full.xds_calform_task||"CalendarTaskLB":t.xds_full.xds_calform_event||"CalendarEventLB",n){case 6:switch(r){case 18:o="ExcuseFormLB";break;case 13:o=null;break;case 10:o=t.xds_full.xds_calform_task||"CalendarTaskLB";break;case 3:case 102:o="bookPlanEntryReadOnly";break;case 2:o=t.xds_full.xds_calform_event||"CalendarEventLB"}break;case 3:switch(r){case 2:o="Course";break;case 1:case 4:case 9:case 10:case 11:o="Place";break;case 17:o="Messages",a.openPath="/p/Messages/"+e.gbl.user.nid+"#/"+a.nid;break;case 24:o="Duty"}a.openPage=!0}return o},select_fg_colour:function(){function e(e){return(e=parseInt(e,16)/255)<.03928?e:Math.pow((e+.055)/1.055,2.4)}function t(t){var a,i,n;if("string"!=typeof t||!t.length)return!1;if("#"===t.charAt(0)&&(t=t.slice(1)),3===t.length)a=e((a=t.charAt(0))+a),i=e((i=t.charAt(1))+i),n=e((n=t.charAt(2))+n);else{if(6!==t.length)return!1;a=e(t.slice(0,2)),i=e(t.slice(2,4)),n=e(t.slice(4))}return.2126*a+.7152*i+.0722*n}return function(e,a,i){var n,r,o;return a=a||"#000000",i=i||"#FFFFFF",n=t(e)+.05,((r=t(a)+.05)>n?r/n:n/r)>((o=t(i)+.05)>n?o/n:n/o)?a:i}}()}),r}),cf.module("evals",function(e,t,a){return{a5726344c364f94d85e86ee05d22e93afc9c7598:function(e,t,a){e.parents(".hidden").removeClass("hidden")},"3be8dec6c9011349474ee077d52151cf12a7f112":function(e,t,a){e.newEvent("reloadParent"),e.event("lightbox.close")},bf83ce58006407ce5843e1fa605357dcd1df1ba8:function(e,t,a){var i=$(t);i.addClass("hidden"),i.siblings(".editPersonalInformation-notesent").removeClass("xds-display-none")},f7ecdc20f261b38b0aa981ccaf6e10f4b7eaf905:function(e,t,a){e.data_full.noParentReload=!0,e.event("lightbox.close")},ab948f7a8dd4d66861af8eaa0f9414b753492ec8:function(t,a,i){t.data_full.noParentReload=!0,e.storage("confirmPersonalInformation-dismissed",!0),t.event("lightbox.close")},"50250658ad8509004a5ac6b23286c2df95a9d34b":function(e,t,a){e.val(e.get_val("curstatus","siblings")?"0":"1")},e2250d1a3300c41aa489f124bd27ad6aa21d5d70:function(e,t,a,i){return!e.get_val("curstatus","siblings")},"02ca53b07e47b6bad402174fb17173029526ba32":function(e,t,a,i){return e.get_val("curstatus","siblings")},eb0a93522f53df2d940147ba1f6115ecfb0e14f2:function(e,t,a,i){return e.get_val("nologin","siblings")},fa2f5eec2b219f38cafa29d94bdccd1661ec9d97:function(e,t,a,i){return e.get_val("whonid","siblings")},fa22d03d18e8b385e3de3e8acca6ea2d8272bab5:function(e,t,a,i){return e.get_val("curstatus","data_full")},"279c4b8c16e1ba6b2424ec76ce56faf777faedd4":function(e,t,a,i){return!e.get_val("curstatus","data_full")},"1e22ad33dbe1cd6d352a803a651afa29b43e8590":function(t,a,i,n){return t.state.get("nodetype")==e.nt.User()&&t.state.top().get("nid")==e.gbl.nid},be7bfe241880ef27ce3582c618e640f75fba1c7e:function(t,a,i,n){return t.state.get("nodetype")!=e.nt.User()||t.state.top().get("nid")!=e.gbl.nid},"3c2b307f79533cfc1b4f4c83bee0c1b3e882a604":function(e,t,a,i){return e.has_write(e.arg("xds"))||e.has_write(e.arg("xds2"))||e.data},d1aaa32317884a503fe0ebed81c0c8426f5ed721:function(e,t,a,i){return!(2&e.get_perm(e.arg("xds"))||2&e.get_perm(e.arg("xds2")))},c332c8c632d0f785adab0d3c8db7da8b2cae798f:function(e,t,a){var i=e.arg(e.has_write(e.arg("xds"))?"xds":"xds2");e.event("editSettings.events.openSettingsSection",{xds:i})},"7d5c50c382c94d27d8303bda913c3667a4abe4a7":function(e,t,a,i){return 2&e.get_perm(e.arg("xds"))||2&e.get_perm(e.arg("xds2"))},"7f65a31aca9d988bf59a90944ffffff9bf104613":function(e,t,a,i){return e.has_write(e.arg("xds"))||e.has_write(e.arg("xds2"))},db4c76bfe28f407b12b3e656eaed140f7558fccd:function(e,t,a,i){return e.has_write(e.arg("xds"))||e.data},"9c34d3dc2792ab4ff1e1cfbe698f7af2fbcd98d9":function(e,t,a,i){return!(2&e.get_perm(e.arg("xds")))},c7837b13d211012a5667a2873ef567edf8202862:function(e,t,a,i){return 2&e.get_perm(e.arg("xds"))},c032b642279c548a23b98bfad66e2299d8cd27c6:function(e,t,a){e.gebi("editPersonalInformation-body-email").addClass("xds-testmsg-sent")},"07cd5b033a0c7a29bc40af48ecadce1107536aab":function(e,t,a,i){return e.has_write(e.arg("xds"))},e5ed0bfe706b05fec791d0ecbce2971bd1e07970:function(e,t,a){e.gebi("editPersonalInformation-body-email").removeClass("xds-testmsg-sent")},"7c1f0d5edff3e33571fdb2ee56f5b8b5fd8b68e6":function(e,t,a,i){return e.state.get("city")&&e.state.get("prov")},cbe69a4e4afa533d7422d56f4cbc5d506ae49dc5:function(e,t,a,i){return e.get_val("secondary")},"7e93b0083884c991a976ed907ee7882f5e5d304e":function(e,t,a,i){return e.get_val()&&!e.state.get("secondary")},"662a8ddcc2e684230270e154825c5a9c6ec42d26":function(e,t,a,i){return e.state.get("secondary")&&(e.state.get("rship")||e.state.get("access")>=-1)},"84fa6673995051c4cfe496966dd73c26286f6298":function(e,t,a,i){return e.state.get("rship")||e.state.get("access")>=-1},"18270942c0087433b52af3e5d63d1a6dbf2928be":function(e,t,a,i){return e.state.get("rship")&&e.state.get("access")>=-1},e2c5f2dcd08dbb0afdec1030bdf6e7f718f71516:function(e,t,a,i){return" ("+e.get_val()+")"},"24d0d9deba15680ef7dbffa5bd7acc67dbe28663":function(e,t,a,i){return!e.get_val("header-dup-cb")},"2e5efebac9a9d828a2ae9b1cc8842e3c6e7710f9":function(e,t,a){e.parents(".settingsform-mail")[a?"removeClass":"addClass"]("xds-mailaddr-same")},"146d3d8856939525359f9a7129ea6d0ddc23765c":function(e,t,a,i){return e.get_val("services","siblings")},"9cd1f84d346c1ed79f2095e832202d84374e9f80":function(e,t,a){e.event("post",{data:{xservices:e.get_val("clientid","siblings")}})},a08c86c5884095f5d5508aa7a56562a24c605840:function(e,t,a,i){return e.get_val("uid","data_full")&&-1!==e.get_val("uid","data_full").indexOf("@")},fc426d9f4b19190543b63d94f9af653ab3e03b88:function(e,t,a,i){return e.get_val("email")&&e.get_val("availbits")},"769baf505682ef187a6b3ebc98d5ec93c08222cf":function(e,t,a,i){return!e.get_val("email")&&4&e.get_val("availbits","data_full")},"5fd93a794a91549aca3851695e7f7762cea30bd3":function(e,t,a,i){return 2&e.get_perm(e.arg("xds"))},c04e8a94b47bb5139412e18afc9d1f6e63636073:function(t,a,i){var n=e.get_module("crypt"),r=n.get_url_parameter(t,"ticket")||"",o=n.get_url_parameter(t,"inviteNID")||"";t.arg("href",e.gbl.p+"p/"+t.arg("xds")+"/"+t.data_full.nid+"?inviteNID="+o+"&ticket="+r),t.inherit("loadPage")},bf85bed0e975fbb41f34de5c7396538bc6e2f529:function(t,a,i){var n=e.get_module("crypt"),r=n.get_url_parameter(t,"ticket")||"",o=n.get_url_parameter(t,"inviteNID")||"";t.event("loadxds",{ticket:r,inviteNID:o})},c91651d355e4ff55abc80affe691d407a322ef26:function(e,t,a){var i,n=e.state.get("to")||[],r=[],o=[];for(i=0;i<n.length;i++)r.push({display:n[i].sectionid,value:n[i].nid}),o.push(n[i].nid);e.set(o.join(",")),e.arg("list",r),e.inherit("dd.multiSelect")},b37401b78768959c9f2761c89c306bc3b0475aa8:function(e,t,a){e.get_target(".sysMiniGroupList-grouplist-group",!0).length<10&&t.hide()},"87eb5b88eb42091f0fc1c522a90cf507c2390664":function(t,a,i){t.args.target="this:"+t.xds_full.id+"-col2-users",e.get_func("loadxds")(t,a,i)},"9e39236ef636170f9c5e9a532853b4dc5e738ba1":function(e,t,a){!1===e.state.get("select")?(e.set_val("⊘"),e.addStyle("color","#FF0000")):e.get_val()&&(e.get_val("partial")?e.set_val("✔"):e.set_val(""))},a81061be172084e7ccaa700e2f075091eb6382ce:function(e,t,a,i){return e.get_val("partial")},a3814ac9d4206f557a9fa7a02d9eb8dca0bc7495:function(e,t,a){if("SQL"!=e.state.get("plugin"))return e.exitBlank()},"8395a8d62386e0c9e6156b5cedabd4bc81fc60ce":function(e,t,a){if("WS"!=e.state.get("plugin"))return e.exitBlank()},"728cdf7f450470223612dc0c65e28f15822cf055":function(e,t,a){if("JSON"!=e.state.get("plugin"))return e.exitBlank()},"703799c2a3aca75e02a8c6201dd0436fe224b6fa":function(e,t,a){if("CSV"!=e.state.get("plugin"))return e.exitBlank()},"05536e4ff87b4bc2e4171d709be586a92da511c3":function(t,a,i,n){return 0!=e.get("albums")._cfg.selectedIndex},b8976517173f494415b20f8617d7bebe7999158f:function(t,a,i,n){return t.nt()!=e.nt.Document.Bookmark()&&e.get_func("files.hasViewer")(t)},dc4c6edadccf56e638427fe1e733484e8275f56e:function(t,a,i,n){var r=t;return t.nt()!=e.nt.Document.Bookmark()&&!e.get("files").registry.get(r.data.thumbnail.ContentType,t.data.thumbnail.ContentName)},"653eb94b5520f248d5fdc8f6b54f1d8e2d25f7f7":function(t,a,i,n){return e.get("albums")._cfg.selectedIndex+1!=e.get("albums")._cfg.nFiles},"6b6523ee0da2dd5e43ec1dfd18d5853b41406f63":function(e,t,a,i){return!e.get_setting("noFeed")},"1a94fda1612322696bb925631c19b7f3065e5580":function(e,t,a,i){return e.get_val("code","siblings")&&e.get_val("param","siblings")},e91afcff1035323b7b6aed1ed051a68aec9b78ac:function(e,t,a,i){return e.get_val("egsn")&&parseInt(e.get_val("SPIVisibility"),10)},"78a822ede6246cfe9be1c0dec4c9593b8b75dde0":function(e,t,a,i){return e.get_val()&&1!=e.get_val("ShowAverage","rnode")},"349304e77e8213a92cf4da15aabdd855b602250e":function(e,t,a){e.state.setnx("visibility",0===e.get_setting("visibility")?0:1)},d3156159746b0241346e6a8d285807c6a1bf4c39:function(e,t,a){e.displayVal=e.get_val("title"),e.inherit("menu")},f64f6c62b373b4109b31edf5f2fa8d8f8668d8bb:function(e,t,a,i){return e.state.get("dashboard")||e.state.get("reportnid")},f626e0797098fbb9e380f8181208ed1a49ae3ced:function(t,a,i){e.get("GraderHost").utils.loadAnnotations(t.nid()).then(function(e){t.state.set("annotations",e)})},"3a7342cbcae60a22d95dd7618084329c0c267e69":function(t,a,i){var n=e.get("GraderHost"),r=(t.state.get("annotations"),t.get_index());n.utils.editAnnotation(t.nid(),r,t.state.get("anchor"),t.state.get("type"),t.state.get("body"),void 0)},"94fda4132fe353134187abf7c4607ff5e052f4e3":function(t,a,i){var n=e.get("GraderHost"),r=t.state.get("annotations");n.utils.createAnnotation(t.nid(),"","","","",1),t.state.set("annotation",r)},a9f8c818b50bb2a74b6dc45925a652563fca253a:function(e,t,a,i){return e.state.get("active_file")==e.nid()},"30a522b361afb208d15b6489bfa7dd868cafc8cc":function(e,t,a,i){return!e.state.get("quarantined")&&!e.state.get("livedoc")},cbde9901b9145a0b99480bdddc40b4ec3f97c21d:function(e,t,a,i){return e.state.get("showMarked")&&!e.state.get("showPublished")&&!e.state.get("livedoc")},"40450f9e9e159cfd144b750322ab2a1027e020e1":function(e,t,a,i){return e.state.get("showMarked")&&!e.state.get("showPublished")},e5ebabe905daa1e34306e88e973fe27ed54aa7e4:function(e,t,a,i){return e.state.get("active_oltsubmission")==e.rid()},"73fde7143559d7381fe74dbe04570ecf41b993d2":function(t,a,i,n){return e.get("GraderHost").bindifs.setActiveSubmissionOnload(t)&&t.state.get("showPublished")},"02bd3a35d78f3df5d7e09f06a711ee82d1486741":function(t,a,i,n){return e.get("GraderHost").bindifs.setActiveSubmissionClick(t)&&t.state.get("showPublished")},a310309dc58832bbdc9be13b8434abd2c2ce09e4:function(e,t,a,i){return!e.state.get("undoPossible")},b706724461e2e823dc30548374d3ef206fb6ba7b:function(e,t,a,i){return!e.state.get("redoPossible")},"886cb224ae1cc102e30df4fa5a242e2e674dda74":function(e,t,a){e.get_target("children:wait",1).fadeIn()},"52f515b5ab0169f1d8357ff802f85a22d4c1c0e0":function(e,t,a){e.get_target("children:wait").html("Saved"),setTimeout(function(){e.get_target("children:wait").hide("Saved")},800)},"6d2e7fed3088f1ee718902e83e6bd69cba5573bb":function(e,t,a){e.get_target("children:wait",1).hide()},"536652cf7ca8dd91429b8858fc8aaac248e07b04":function(e,t,a){var i=[];e.get_target("sibling:report").xdo.val()&&i.push("report"),e.get_target("sibling:strict").xdo.val()&&i.push("strict"),e.get_target("sibling:orphans").xdo.val()&&i.push("orphans"),e.get_target("sibling:apptree").xdo.val()&&i.push("apptree"),e.event("loadxds",{options:i.join(","),clean:e.get_target("sibling:clean").xdo.val()})},"4229f280ce9bca0befb59a290efc748f0918f042":function(t,a,i,n){return t.caller().nt()==e.nt.Container.XDSLibrary()},"44918153d045552df5d427db7daf24430e8c60c4":function(e,t,a){e.get_val()&&e.set_val("âŠ˜"),e.inherit("span")},a035aa88e0d0ad2e7a07bbbe07191c992fb38da7:function(e,t,a,i){return e.get_val("special")},"0842e3c5d55108df72e122f60844fe0f2b12ad71":function(e,t,a){e.inherit("dd.listItem"),e.arg("tooltip",e.get_val("proto")+""+e.get_val("doc"))},"05b6bcb3c7aad6811cdc6135114ca06e7460c864":function(e,t,a){var i=$(".AppBuilderQuickEdit-input").xdo;i.set(e.val().proto),i.update()},"6bddb3611a6ba73f2900f30b4155898c0a1a2d4c":function(e,t,a){},c7a4db85d3bb837d2edeb1ce3eb1b9ba3ffcef0c:function(e,t,a,i){return e.get_val("A").length||e.get_val("M").length||e.get_val("R").length||e.get_val("D").length||e.get_val("U").length},"4ae75132db09607a9ad86421033c869cac19cdd8":function(e,t,a,i){return e.get_val("A").length||e.get_val("M").length||e.get_val("R").length},"654717692752d376dbb381be6d822b6cfb794f9a":function(e,t,a,i){return e.get_val("U").length},"6e322657196e96e94ae3c016c00d6cc956caaf60":function(e,t,a,i){return e.get_val("unresolved").length},"0f39d3f69260a6acedb8b983c4535723933b8575":function(e,t,a,i){return e.get_val("resolved").length},"791e5402aae74a562313096a5973bf72a58ac913":function(t,a,i,n){return{data:e.get("AppBuilderEditor").utils.getFieldChoices("icon")}},"95594a7f33265579b886e2de9a85cf59b72ee1be":function(e,t,a){e.get_val()&&e.set_val("⊘")},"6608e8eff2e71c7c8af3b606a55eede41365b3a0":function(e,t,a){p},b5d0d0d2b524b59f914e2b56c7a3c4f780172a30:function(e,t,a){var i=e.val().replace(/\W/g,"");e.state.get("field").id=i,e.state.set("id",i)},"338543f3a1544f2d2789ff2764682c9b3dd8f7f0":function(e,t,a){e.get_xdo("*diagram").update()},"086956658ba5ee5423ffef883fe3220721e74c4f":function(e,t,a){for(var i=e.parent_xdo().parent_xdo(),n=i.find(".AppBuilderPermissions-basic-rtmod-gmod"),r={},o=0;o<n.length;o++){var s=$(n[o]);r[g=s.find("input[name='basic-rtmod-gmod-n1']").val()]={};for(var d=$(s.find(".AppBuilderPermissions-basic-rtmod-gmod-n2arr")),l=0;l<d.length;l++){var c=$(d[l]).find("input[name='basic-rtmod-gmod-n2arr-n2']").val(),u=$(d[l]).find("input[name='basic-rtmod-gmod-n2arr-rt']").val().split(",");r[g][c]=u}}delete r[e.siblings.n1];var f=[];for(var g in o=0,r){for(var c in f.push({n1:g,n2arr:[]}),r[g])f[o].n2arr.push({n2:c,rt:JSON.stringify(r[g][c])});o++}i.map({gmod:f}),e.global("rtm",!0),i.update()},"4b399c046f767fa459927e7e5a0ac574c9e38317":function(e,t,a){var i=e.val();try{e.data=JSON.parse(i).join()}catch(t){e.data=i}e.inherit("f_str")},e802066c86bb53d97c744c12baa3ecd35178bdb4:function(t,a,i){var n=t.parent_xdo().val(),r=function(t){var a=t.split(","),i="";for(var n in a)i+=e.constant.nt(a[n]).str()+",";return i.substring(0,i.length-1)};if("object"==_typeof(n)){if(!n.n1)return;t.map({n1:r(n.n1),n2:r(n.n2arr[0].n2),rt:JSON.parse(n.n2arr[0].rt).join()})}else{var o={},s=t.parent_xdo(),d=s.find("input[name='basic-rtmod-gmod-n1']").val();if(!d)return;o[d]={};for(var l=$(s.find(".AppBuilderPermissions-basic-rtmod-gmod-n2arr")),c=0;c<l.length;c++){var u=$(l[c]).find("input[name='basic-rtmod-gmod-n2arr-n2']").val(),f=$(l[c]).find("input[name='basic-rtmod-gmod-n2arr-rt']").val();o[d][u]=f}t.map({n1:r(d),n2:r(u),rt:f})}},"07af450d88f9b9939a0262b4588d6a874008cb4a":function(e,t,a,i){return e.get_val("n1")},"6c933c97d07bd1a427adad52ae2ee996b781e12d":function(e,t,a,i){return e.data},"81d4f36fff602ae3f50abad76e2784ec4f29bc8d":function(e,t,a,i){return e.get_val("rt")},d9aa4e5c902436aad4e1c0101c4bf4ce7373ba78:function(e,t,a){for(var i=e.parent_xdo(),n=i.find(".AppBuilderPermissions-basic-rtmod-gmod"),r={},o=0;o<n.length;o++){var s=$(n[o]);r[g=s.find("input[name='basic-rtmod-gmod-n1']").val()]={};for(var d=$(s.find(".AppBuilderPermissions-basic-rtmod-gmod-n2arr")),l=0;l<d.length;l++){var c=$(d[l]).find("input[name='basic-rtmod-gmod-n2arr-n2']").val(),u=$(d[l]).find("input[name='basic-rtmod-gmod-n2arr-rt']").val().split(",");r[g][c]=u}}r[""]={},r[""][""]=[];var f=[];for(var g in o=0,r){for(var c in f.push({n1:g,n2arr:[]}),r[g])f[o].n2arr.push({n2:c,rt:JSON.stringify(r[g][c])});o++}i.map({gmod:f}),e.global("rtm",!0),i.update()},cfedace447f0e83a0a1061d85bb4448b502ab0c5:function(e,t,a){var i=e.get_val("reltypes"),n=JSON.stringify(i);e.map({reltypemap:n}),e.inherit("sys")},"2c08132e54f9d4f543f7a1f6e5849003bdacd9c1":function(t,a,i){e.get("AppBuilderTabs").utils.closeTab(t.nid(),!0),e.window.trigger("AppBuilderTabs-openTab",{nid:t.nid()})},"0b1e5da8639f1ba64dfc0e9e1efccac8c60eb33f":function(e,t,a){e.get_target("children:wait").html("Saved"),setTimeout(function(){e.event("lightbox.close")},800)},d3d7363442e0f1724ec68a2f86aa7751c0557595:function(e,t,a){e.get_val()&&e.set_val("⊘")},"43858bb080f1c48dd8a09c7006372d279ca6aa43":function(e,t,a){var i=e;return AppBuilder.roles.push(i.get_val()),!1},"22b46ff949fd733376ddede1c2f90338a849f94a":function(e,t,a,i){return e.get_val("tab")},"608e32f3e2fff81bba61a9e32168c2bd1b4d2928":function(e,t,a,i){return!(6==e.state.top().get("nodetype")&&7==e.state.top().get("nodesubtype"))},"0c23da8eb7343d45ccdfe33469f00bcaafcae693":function(e,t,a,i){},"70d562351bde9928750b0a2a4a40959afb0b6f06":function(e,t,a,i){return"▼"===e.get_val("dir")},"55de7d977a0b171dd9f0f809be2d10c78dce16ed":function(e,t,a,i){return e.get_val("curr")},"6b7f0f37ae4f18d4c19f4fc606ba13bee89d05e5":function(e,t,a,i){return"▲"===e.get_val("dir")},a2c0451f048e806e32c06131eb9ad15600e902cd:function(e,t,a,i){return"▼"!=e.get_val("dir")},"9b9dca6111b0c4719787c87da4f34c2e1901dd20":function(e,t,a,i){return"▼"==e.get_val("dir")},cd7aa9ca324ff45e7fa2dda2870e1cad32cb7e7d:function(e,t,a){var i=e.caller().state.get("resourceHistory")||{},n=e.get_setting("file"),r=[];if(n){n=n.split(",");var o=!0,s=!1,d=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f=i[u];f&&r.push({filename:u,who:f.who,date:f.date})}}catch(e){s=!0,d=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw d}}}e.state.set("historyRecs",r),e.inherit("f_section")},e7bf4500d7de71d5280f0f5f643698a02a54b3ff:function(e,t,a,i){return"commit"==e.get_val("hgdata-hgcommand")},acd058653eb02aabc7046af09f535d2399b92fac:function(e,t,a){if(!e.state.get("requires"))return e.exitBlank();e.inherit("f_str")},dfcbb2790e4cdf607d00920c248243cf311b8d99:function(e,t,a,i){return"update"==e.get_val("hgdata-hgcommand")},"4a0203c2e4391c003a46f5a0a09ba5dd7fde938d":function(e,t,a,i){return"add"==e.get_val("hgdata-hgcommand")},"8b357e89ec37c3c7db979f48797a52a3fad987e9":function(e,t,a,i){return"remove"==e.get_val("hgdata-hgcommand")},fda3057cedce306926b6faeab3a7caf036c1680c:function(e,t,a,i){return"delete"==e.get_val("hgdata-hgcommand")},f17200599e83f83eaea4cbf4299a8f16181a8ddf:function(e,t,a,i){return"resolve"==e.get_val("hgdata-hgcommand")},"867a565eda34c242c7b4ee859d70276cc2cb2aba":function(e,t,a,i){return"rebase"==e.get_val("hgdata-hgcommand")},fda824a9a86ad00451e778e99f24cbc970697237:function(e,t,a,i){return"pull"==e.get_val("hgdata-hgcommand")},"23978d5756b5914eda4c28f624dd7bbff8f7043e":function(e,t,a,i){return"forget"==e.get_val("hgdata-hgcommand")},c7ed9fec848caf12d46357fdb0745c828e601651:function(e,t,a,i){return"hg"==e.get_val("hgdata-hgcommand")},"3303a922c55db89b7b86f983dcf70528bbf04e55":function(e,t,a,i){return"diff"!=e.get_val("hgdata-hgcommand")},"149885db581531796e9783da9d42cc52fc7d0027":function(e,t,a){e.get_val()&&e.set("⊘")},"4431c94941c35f27ce25fe771ba238aa7cd04128":function(e,t,a){e.register_xds(e.data.name)},"515adcb2da39d77c984879e4c7130bc9d97dfa77":function(e,t,a){e.data.name&&e.event("loadPage",{xds:e.data.name})},e236ed9c23430365b097bab1b995366ef6e876d0:function(e,t,a){var i=e.get_target("parent:Messages").xdo.get_target("*target");e.event("loadxds",{target:i})},"41078b0d46df52b8c53fc0a5669aead0e9a4ac7e":function(e,t,a,i){return e.get_val("snid","siblings")},fd4427fc41ac5c4d27f6996f51ccc318d8ade58e:function(e,t,a,i){return!("send"===e.get_val()&&!e.get_val("dispatch","siblings"))},"77fc28bd8c430824de9c802218e3a5310d325d7e":function(e,t,a,i){return"send"===e.get_val("action","siblings")&&!e.get_val("dispatch","siblings")},"38f2b5ae36dca17a831c988f9df2a168f1b39503":function(e,t,a,i){return"vote"===e.get_val("action-action","siblings")},"4da32bc804a43d73fbfc4722dcbdae1f3f64c85b":function(e,t,a,i){return"send"===e.get_val("action-action","siblings")},"094e3f98c381fbab28c787005b98daf40f1af884":function(e,t,a){var i=e.get_target("parent:Messages").xdo.get_target("*target");e.event("loadxds",{target:i})},e705b9ba21ad1271e1db7b1ad441c6e3b8f64b0e:function(e,t,a,i){return e.get_val("filterrids","siblings")},"6b4fba4768b7231e9c5cc99615bb0b1514f47fe7":function(e,t,a,i){return(e.get_val()||"0")+"%"},c7f1574b8acba70f6208d57a5635384d10c51687:function(e,t,a){var i,n,r,o=e.get_val("recipients","data_full"),s=e.get_val("nid","rnode"),d=e.get_target("parent:Messages").xdo.get_target("*target");for(i in e.e.stopImmediatePropagation(),o)if((n=o[i]).snid===s&&(!(r=n).regwho||r.regwho===r.nid))break;e.event("loadxds",{nid:[r.nid,r.rid,e.get_val("nid","data_full")].join("/"),target:d,noPath:!0})},"799753f2ef7465d318d2602b2d4f04b2092ca382":function(e,t,a){var i=e.get_target("parent:Messages").xdo.get_target("*target");e.event("loadxds",{target:i})},"3dfd27d6542bd97b9c8466bffb72f104afef728c":function(e,t,a,i){return"Created"===e.get_val("header-title-statetext-state","data_full")},"360e5a6b42192c7359099124a843a02fcb09d3f7":function(e,t,a){e.event("post",{data:{wfaction:"delete"}})},"75beb5b34c1ae7a20ce4fc9cbc18e03e027ad1d4":function(e,t,a,i){return!e.get_val("voted","data_full")},"352b9e56e00a7588430b799a973ef18176d516c7":function(t,a,i,n){return e.get_func("polls.canViewVotes")(t)},c9476faaa63754e449817d15f7e2086f5f706cda:function(e,t,a,i){return e.get_val("whonid")},"467f8995ecd139ac066f1ebe508d00a528631565":function(t,a,i,n){return e.gbl.user.nid===t.get_val("creator","data_full")},bd4ddf30e98fffca699e61edbe82a6bea59dfe0e:function(t,a,i,n){return t.get_val("voted","data_full")&&e.gbl.user.nid==t.get_val("creator","data_full")},"766902067458809dbf8be57a5bedd7e1fa122038":function(t,a,i){t.event("loadxds",{target:"xds-cont",targetDate:e.dateFormat(t.get_val("date"),"iso")})},"25d31509d94558ea47413a931d2c63e28e805f7e":function(t,a,i){t.event("loadxds",{target:"xds-cont",targetDate:e.dateFormat(t.val(),"iso")})},"272ccabf8c743f8d07768c62dc4ffd6f0a81e8db":function(e,t,a,i){return(e.get_val()||0)>1},"93adfb5a81f0eb0953509e4235fe9b1e50dc9f3e":function(e,t,a,i){return 6!=e.get_val("type","rnode")||3!=e.get_val("subtype","rnode")},"70b43c4600a2d7a36f2e7c1ceb29900f16151379":function(t,a,i,n){return 6.2==t.nt()&&!e.isSameDate(t.get_val(),t.get_val("target_date","data_full"))},"618866e5c33d0f7ea965b6e48919a11c4e1abd64":function(e,t,a,i){return!(6==e.get_val("type","rnode")&&18==e.get_val("subtype","rnode"))},"2c694c4f6319cf20576cf24c3b832fb7f7ecbbd6":function(e,t,a,i){return 6==e.get_val("type","rnode")&&18==e.get_val("subtype","rnode")},"1c7d301b00c7acbf6be5ec3795dc9d2138742e75":function(e,t,a,i){return e.get_val()},"23cc676a7ec8d0a2eaceabd834689311e177543d":function(t,a,i,n){return e.get_module("attendance_public").reason_string(3==t.get_val("excuseType","siblings")?1:3,t.get_val())},ef8e069d5277950899b87a4238542e90ba18c282:function(e,t,a,i){return 6==e.get_val("type","rnode")&&3==e.get_val("subtype","rnode")},be2b71020db1c619a7079d62bb8085d94fb4ca57:function(e,t,a,i){return!e.get_val("conflicts","siblings")},"9a197b65ea3970a87022211bae9bc395cdad19b0":function(e,t,a){e.updatefromdom(),e.update()},"3d3c207548dbc3e1811f12db5e33b4894e977197":function(t,a,i){e.get_resource("assignment").is_custom_assessment(t)?delete t.xds.title:t.arg("title",e.lookup("assignment_calendar_types",t.state.get("caltype")||0).string[0]),t.inherit("f_ttdate.f_ttdate")},"963c98af0e17edf1c30bac9d80562a18fe92a109":function(e,t,a){e.get_xdo("*assdate").update(e.val())},"771e7ee0835247b65b457f132b1f0d94098dd987":function(t,a,i){var n={nid:e.get_module("f_ttdate").utils.get_parent_nid(t),targetDate:e.dateFormat(t.get_xdo("siblings:date").val(),"iso")};"create"!==t.get_setting("command")&&(n.data={assessment:t.get_val("nid","data_full")}),t.event("lightbox",n)},"50fed6d4fde1541afdaff5114e8efa566849e267":function(e,t,a,i){return 3==e.get_val("access","siblings")},bb0144f999b10c0aee2f0ecc394a8cd8422a9ae2:function(e,t,a,i){return 3!=e.get_val("access","siblings")},b7fc76683cd1381b8838a7e8d300ddfd5216f2bd:function(e,t,a){e.set(new Date)},"0b063da4ef6924a9a2f5ca945fd6d0bd2f14ab28":function(e,t,a){t[a?"addClass":"removeClass"]("xds-attendance-incomplete")},a75cf63bca26dca7f744bcf66cc5ce45748f81c0:function(t,a,i,n){return e.get_module("attendance").utils.has_students(t)},"0d68e6b6c17fe04e4d2c7abfbca0df0041354bde":function(t,a,i,n){return e.get_module("attendance").utils.can_submit(t)&&e.isSameDate(e.get_module("attendance").utils.get_sheet_data(t,"sdate"))},"8b54f7ebb039965eb6d21a704d2902ba08ede25c":function(t,a,i,n){return!e.isSameDate(e.get_module("attendance").utils.get_sheet_data(t,"sdate"))},"8c7a58056baa2d2b8396cfda626c2c59260a6edd":function(t,a,i,n){return t.get_val("name")&&e.get("attendance.utils.check_submitted")(t)},"6eeda0da76d4b0a39bf993ca2fc49d31e2a50b4d":function(t,a,i,n){return e.get_module("attendance").utils.can_cancel(t)},"0dfa1afe9956138431ba44db059853591a050e75":function(t,a,i,n){return e.get_module("attendance").utils.can_restore(t)},e9de19f6cc5f97d4628534cf966ae57ae7be271d:function(t,a,i,n){return e.get_module("attendance").utils.can_delete(t)},"5a840e59a792ace132934889a4a295defd103402":function(t,a,i,n){return e.get_module("attendance").utils.can_create_adhoc(t)},d7d269fe0fa5fab048548dea23758b44ad25e608:function(t,a,i,n){return e.get_module("attendance").utils.has_students(t)&&e.get_module("attendance").utils.have_meeting(t)},"24f166d63157297fbd57d425286a6e0a6217cd7a":function(t,a,i,n){return e.get_module("sel").is_sel_xds_enabled(t,"SELTeacherStrategies")},"39a3dcb9cf6ceb373fb63c13d9cc0bba3484bd12":function(t,a,i,n){return!e.get_module("attendance").utils.check_submitted(t,"cancelled")},"3b73585e4f4743871bd9e7e1f243fe8689d0697c":function(e,t,a,i){return e.get_val("haveprev","siblings")},be2d04d2a88326585c132d210c55660014b16caf:function(e,t,a,i){return e.get_val("havenext","siblings")},bf74cd47221ead811f116aaed8dd6da5dcbb9da7:function(e,t,a,i){return e.get_val("title","siblings")},d07055b5e5d0c7aa0c190ca69eef9962cac055ba:function(e,t,a){e.event("attendance.events.navigate",{offset:.5,sdate:e.val()})},"6d0d9843c72b4ab1e32388cefc634d03032efa54":function(t,a,i,n){return!e.isSameDate(t.get_val(),t.get_val("sdate","siblings"))},"905dbdbc402a53b15f173d639344331669519c7a":function(t,a,i,n){return!e.isSameYear(t.get_val(),t.get_val("sdate","siblings"))},aa882a00c62c30294c37789f3363fa4aac13d6f1:function(e,a,i,n){return t.innerWidth>=1024},"390277effb9b250359ee1e5b0e14297c37c9e1e2":function(t,a,i,n){return!e.get_module("attendance").utils.check_submitted(t,"cancelled")&&(!e.get_module("attendance").utils.is_adhoc(t)||t.get_val("include","siblings"))},f22d02a258e1aec7140d17bb2e0a328aa4a62eb0:function(e,t,a){e.find(".xds-Attendance-types-comment input").focus()},de3fb0994cd8f6f6e39af67c9821983cf5dbf066:function(e,t,a,i){return!e.get_val("reason","siblings")},"8486dc2b8f8069aacc43e6b799f6bde59fbfbc3c":function(e,t,a,i){return e.get_val("reason","siblings")},"65904b6cb420f0d8e12813833127b7c2d5c3a85e":function(e,t,a,i){return"("+(e.get_val()||"").charAt(0)+")"},"43ab1e6b26a1e9391eb2c980d21fd71509f5006a":function(t,a,i,n){return t.get_val("last_state","siblings")&&t.get_val("state_index","siblings")>0&&!t.get_val("late_slip","siblings")&&e.get_module("attendance").utils.can_update_states(t)},"2d4affbee17dc40befed835d98d7bf261025f477":function(e,t,a){e.event("lightbox",{nid:[e.node.nid,(""+e.rnode.rid).split(".")[0],e.rnode.nid].join("/")})},d4b6432cec40080006b61c4a587a0cd36037c3ce:function(e,t,a,i){return 9===e.data_full.data.subtype},c0f45fc6d80b7171390721728109acfffe91a5c7:function(t,a,i,n){return e.get_module("attendance").utils.has_students(t)&&!e.get_module("attendance").utils.have_meeting(t)},dac0411d028c9711f1014aea55caa261b4a91d73:function(t,a,i,n){return!e.get_module("attendance").utils.has_students(t)},"652cb63af51299af08585126d7d514309cf6d896":function(e,t,a,i){return e.get_val()!==e.state.get("syear")},"03210555fcd679b6cca346c7e107eb23b8098c79":function(e,t,a,i){return e.get_val()>0},"7e59e0447f60133eb4eaa7f9d1347e68a59446de":function(e,t,a){e.get_val("sheet_readonly","this")&&e.arg("editable",!1),e.inherit("form")},fe2f98df324d7c334407af05dad12e76e2932519:function(t,a,i){var n=t.get_xdo("*when"),r=t.get_xdo("*code"),o=t.get_xdo("*reason"),s=t.get_xdo("*comment"),d=t.get_xdo("*whenselect"),l={};t.find(e.$css.validateMsgError).remove(),t.find(e.$css.validateMsgForm).remove(),t.find(e.$css.hasValidate).each(function(){$(this).is(":visible")&&$(this).trigger("validate")});var c=t.find(e.$css.validateMsgError);if(c.length)c.fadeIn();else{if(d)if(1==d.val())l.when=t.get_val("prevstate","data_full");else{if(2!=d.val()||!n)return;l.when=n.val()}else n&&(l.when=n.val());r&&(l.code=r.val()),o&&(l.reason=o.val()),s&&(l.comment=s.val()),t.get_val("newstate")&&(l.offset=l.when),t.caller().event("attendance.events.state_edit_cb",l),t.event("lightbox.close")}},"66169da18ce4a5a12b59543fae576fc83b3bf2ae":function(e,t,a){var i=e.get_xdo("*whenselect-when");e.updatefromdom(),i&&(e.data.when=i.val()),e.data.comment=e.get_xdo("*comment").val(),e.update()},aa246aa390d65e3b01a7e014e2c683c6dde7ae4c:function(e,t,a){e.caller().event("attendance.events.state_remove"),e.newEvent("lightbox.close")},"382c21217d6018b27db5e533bcbb98520e151ab1":function(e,t,a){e.event("trigger",{eventName:"xds-attendance-lateslip-confirm",target:"caller",nid:e.get_val("late_slip"),data:{confirm:e.get_arg("confirm"),when:e.get_xdo("*when").val(),students:e.get_val("nid")}}),e.newEvent("lightbox.close")},ea39055cdb5273197f83121bf0d2e0f9666535b4:function(e,t,a,i){return e.get_val("late_slip","data_full")},"69445129cf6975ae1ceeb230fd042e1aa6ac4ead":function(e,t,a,i){return e.get_setting("time_select")&&""!==e.get_val("prevstate","data_this")},d0c7cd1f2150b661a4292a01e97c8dbdf7f4f274:function(e,t,a,i){return!e.get_setting("time_select")&&""!==e.get_val("prevstate","data_this")},b1a17a1f02ede9068d862d468f854d615e1c56c1:function(e,t,a,i){return!e.get_val("late_slip","node")},bba07e8ee23635a375454024363d03709a661793:function(e,t,a){e.arg("allow_late",""!==e.get_val("allow_late")?e.get_val("allow_late"):""===e.get_val("prevstate","data_this")),e.inherit("attendance_forms.f_attendance_code")},"844cec5061eb4a71b70f734622a46909c8cc12fc":function(e,t,a,i){return""===e.get_val("nextstate","data_this")&&""!==e.get_val("prevstate","data_this")&&!e.get_val("late_slip","node")},"5a9711f267dd240f2298738bcda156a9655f1e37":function(e,t,a,i){return e.get_val("late_slip","node")},ad51acbaf4deddcff8ed665880fee28471524dd4:function(e,t,a){e.addAttr("target","_blank"),e.inherit("form")},"4515234b0fc2748467ed2309712e51213f222fd3":function(e,t,a){delete e.temp.dirty},"6591cb9c52bb4fa7e5f2801b3d27c6c735016214":function(e,t,a){e.state.set("selected_only",e.arg("defaultValue")),e.inherit("f_checkbox")},"70a4f902cca4f9d530e7d9ddedb83f9d0ebedffd":function(e,t,a){e.state.set("selected_only",e.val()),e.get_target("*filterrids",1).attr("disabled",!e.val()),e.get_target("*daterange",1)[e.val()?"addClass":"removeClass"]("hidden")},ca00d389661f7d7b2ccd43df0ffe4a603e4244cc:function(e,t,a){e.get_target("sibling:endDate").xdo.checkDateBounds()},"66f7aa53b57d1412a2b8a287c3693af4352b0d20":function(e,t,a){e.state.get("selected_only")},"8a5f47e64cf038d28faccf6aff8d2afd9210d4e5":function(e,t,a,i){return!e.state.get("selected_only")},"99db4e269ee4c0844914574a6a1fdef1d3d5a3d5":function(e,t,a,i){return 1&e.get_val("perm")&&"ZoomAttendanceIncidentsExport"===e.get_val("exporttype","data_full")},"1327b95e644f4d828026fe0e536109f01484e616":function(e,t,a){e.event("ZoomAttendanceBase.events.do_export",{xds:"ATTENDANCEEXPORT"})},"742780003b439930493dcc16a7aa9c5856f05929":function(e,t,a){setTimeout(function(){e.event("reload")},1e3)},e7e071d63c08a997dbbf650b3a2cd93a408e38db:function(e,t,a,i){return 0!=e.state.get("code")},b161a3730855975832b582f825993d0ca5382126:function(e,t,a,i){return e.state.get("projected")},"648ffa2a432c42d8f3d6375047cbc411f7a5396d":function(t,a,i,n){return!e.isSameYear(t.get_val())},"3bcca86a218c5fad13a2432a4a36bf1374cfb059":function(e,t,a,i){return e.get_val()&&e.get_val()!=e.state.get("incident_sdate")},"449457152964fb57b82f4681545bc42afe90df9a":function(t,a,i,n){return e.get_module("attendance_public").code_string(t.get_val(),t.get_val("reason","siblings"))},c500fc440a9f4fc7ad14edcf1424d5e7c0975c64:function(t,a,i,n){return e.get_module("attendance_public").reason_string(t.get_val("code","siblings"),t.get_val())},"166daa56764cb9028d18d9c41ce01744dd26644d":function(e,t,a,i){return e.get_val()&&!e.get_val("adhoc","data_full")},"2161e41e08f873b8d20fe1615de019ac738a8afa":function(e,t,a,i){return e.get_val("adhoc","data_full")},"5dc348473ea000bd1477da049e703cba798b5f1b":function(e,t,a,i){return e.get_val()?" ("+e.get_val()+")":""},b769363a4db54165985336a6ddc024f4a4de4329:function(e,t,a,i){return e.get_val("age","siblings")&&e.get_val("grade","siblings")},"2dddf43199030fea98245ab6e12c2893d89ec808":function(t,a,i){t.displayVal=Math.floor((parseInt(e.dateFormat(new Date,"yyyymmdd"),10)-parseInt(e.dateFormat(t.get_val(),"yyyymmdd"),10))/1e4)},"52832e749ed85b6650b72c8df083c92fd15959b1":function(e,t,a){e.arg("allow_late",e.state.get("awaysdate")===e.state.get("meetsdate")),e.inherit("attendance_forms.f_attendance_code")},f847cef4ee3891d70e105fdac4e7d8fadbefacc1:function(e,t,a,i){return e.state.get("code")>1},"36203db60f70a45a2b9d063e0c463c869a5d6c5a":function(e,t,a){e.val(e.get_val("body","siblings"))},"4d30e443679fef1dc207aa38bb72784c6f8ad140":function(t,a,i){t.set(e.get("zooms.funcs.getURLParameter")(t,"debug",0)),t.inherit("f_hidden")},"689069effe18d719c6ba0cf8412200978198a6ad":function(t,a,i,n){return!e.get_module("attendance").utils.check_submitted(t)},"69c032f860b08644cbeeb035cc42fe0cc06d56f2":function(t,a,i,n){return e.get_module("attendance").utils.can_save(t)},f5c4099b72bfed2d4b42ee595dfd01391fb8dffb:function(t,a,i,n){return e.get_module("attendance").utils.can_submit(t)},"90c0c5eab0c6e11938c8a54b6b1e94727196c705":function(t,a,i,n){return e.get_module("attendance").utils.check_submitted(t,"submitted")},"4cbcca9b19e09fff90ff3db3f58beb1ffdbc895f":function(t,a,i,n){return e.get_module("attendance").utils.check_submitted(t,"saved")},"21bb4ccaf2a58746021b1955493bf28a361a7638":function(t,a,i,n){return e.get_module("attendance").utils.check_submitted(t,"cancelled")},"570dbe33da208d363e90a087efbcf37e749e4a7f":function(e,t,a,i){return e.get_val("name")},"45422932424c6f16e7d720e61942b3ef7c9ed7a8":function(t,a,i,n){return e.get_module("attendance").utils.has_students(t)&&e.get_module("attendance").utils.have_meeting(t)&&!e.get_module("attendance").utils.check_submitted(t,"cancelled")},c37940ef488163ef2cf444aa16a34f2deefb1bcb:function(e,t,a){e.displayVal=e.get_val("FirstName","rnode")+" "+e.get_val("LastName","rnode").substr(0,1)},a2dcb1505964ae5ff63de1512168e010d479d787:function(e,t,a,i){return 1==e.get_val("alert","siblings")},a8b8315c1d5770c19df0f64fb8332ea52c3a1adf:function(e,t,a,i){return 2==e.get_val("alert","siblings")},dc8898bc405940bb92857af6a36b7585488a3e4a:function(e,t,a,i){return isNaN(parseInt(e.get_val(),10))?e.get_val():e.arg("titlePrefix")+" "+e.get_val()},"8720f7bc5b12761303915bda426665030aa944f4":function(e,t,a){e.caller().state.set("student","")},"08e335dcbffe046d5e0cebcc04b6290e77f1e776":function(e,t,a){e.event("loadxds",{nid:e.state.get("student"),xds:e.arg("xds")})},"893f0e00e5291509e427e76e972c888d0a15318c":function(e,t,a,i){return e.get_val("wholist")||e.has_write()},"5cd752cd83cc8e0e9cab30488af833c6d088a904":function(e,t,a,i){return"create"==e.get_setting("command")},"608b0dbf1a3b74799ce8cd1f4716010d4a187fd4":function(e,t,a,i){return 1!=e.get_val("nodetype","rnode")},e9f2dc85289a204f3168cc075d7af70a377cb102:function(t,a,i,n){return"create"!==t.get_setting("command")&&!e.get("forms").is_read_only(t)},"609aad97da3b0ad912e4286a4724981543e67f86":function(t,a,i,n){return t.get_val("exceptions","siblings")||!e.get("forms").is_read_only(t)},"6534c464285db55ff6b243dbc1eba04423f52a17":function(t,a,i,n){return!e.get("forms").is_read_only(t)},"9da9434ae56d9000770df4aebd9e1c82f9c15ddd":function(e,t,a,i){return 1==e.get_val("nodetype","rnode")},"066768c92c1fd64cca338dc07c42ffd29e79e4d9":function(t,a,i,n){return"create"!==t.get_setting("command")&&!e.get("forms").is_read_only(t)&&e.get_func("ExcuseForm.utils.get_school_nid")(t)},c351ef403144f07b5af6eefc1ae47e32a994f734:function(e,t,a,i){return!e.get_val("att_taken","siblings")&&e.has_read("ExcuseFormAttendance")},"53867307894645db5d9725fab07860e5e6085a90":function(t,a,i){var n,r=e.dateFormat(i.value,"timestamp")-e.dateFormat(i.previous,"timestamp");t.state.get("edate")&&!t.temp.catchnext?(n=e.dateFormat(t.state.get("edate"),"obj")).setSeconds(n.getSeconds()+r):(n=e.dateFormat(e.dateFormat(i.value,"timestamp")+3600,"obj"),t.temp.catchnext?delete t.temp.catchnext:t.temp.catchnext=!0),t.state.set("edate",e.dateFormat(n,"iso")),t.state.set("sdate",i.value),t.state.set("type",3)},"9b359c87f7e19d9ce4cb2a835968b1598c25953d":function(t,a,i){var n,r;t.data||((r=t.state.get("sdate"))&&(n=e.dateFormat(e.dateFormat(r,"timestamp")+3600,"iso"),t.set(n)),t.state.set("edate",n||!1)),t.inherit("f_ttdate.f_ttdate")},"38552d27938094ae2f31920ada44bcff6dffdaa9":function(t,a,i){t.state.get("sdate")&&!t.temp.catchnext||(t.state.set("sdate",e.dateFormat(i.value,"timestamp")-3600),t.temp.catchnext?delete t.temp.catchnext:t.temp.catchnext=!0),t.state.set("type",3)},"9320b7a7d81af42f1d9dfb292e26f207ed11b927":function(t,a,i,n){return e.get("forms").is_read_only(t)},"4d8e78e27c059787a7052221b8f700274636a4d1":function(t,a,i,n){return!e.isSameYear(t.get_val())||!e.isSameYear(t.get_val("endyear","siblings"))},"2cabfb616762564a137dbe00806a5d4cefbd2b69":function(e,t,a,i){return!e.get_val("allday","siblings")},ebeabf5b8819c5e3831bffca273c37272405a0d1:function(e,t,a,i){return e.get_val("allday","siblings")},"29dae945e3dc47c2aa80a6571496024ba2d60c81":function(t,a,i,n){return!e.isSameDate(t.get_val(),t.get_val("startdate","siblings"))},"729fd1ded0831fa1b37ce110640532e9c02e9b5e":function(t,a,i,n){return!e.isSameYear(t.get_val())||!e.isSameYear(t.get_val("startyear","siblings"))},"6702b54521dc7d3e50930abd94f1f4f61ec9a697":function(e,t,a){!1===e.get_val()&&e.state.set(e.arg("id"),e.arg("defaultValue")),e.inherit("f_hidden")},a71ec3bbabae7a24f3ce17fb15624116f47c31c8:function(e,t,a){return"UNK"!==e.dd.getValue()},b105c15cdda0c4deed1a8fcc7234bedf72f5265d:function(e,t,a,i){return"create"!==e.get_setting("command")&&4&e.get_perm("ExcuseFormDelete")&&!(e.state.get("isrequest")&&void 0===e.state.get("approvestate"))},"7402a6829873c53e4dc2026e7181d961237690af":function(e,t,a,i){return e.state.get("isrequest")&&void 0!==e.state.get("approvestate")},e710ee9fe1904b7bc9bfa64ab7de3203afbc698e:function(e,t,a,i){return e.state.get("isrequest")&&void 0===e.state.get("approvestate")},c913b4a12eed804f3f5f0af44be85ad8900b7c9b:function(e,t,a){e.get_xdo("*approve").update(1),e.trigger("submit")},"1c53c60df28b750a54a8c22f81d3bb166ea4c816":function(e,t,a){e.get_xdo("*approve").update(0),e.trigger("submit")},"504b901ec37665525ce1996db0c7b9e00f37b0b9":function(t,a,i){var n,r,o,s;for(n in t.args={eventName:"selectPlannedAbsence"},i={targetnid:[t.rnode.pnid,t.rnode.rid,t.rnode.nid].join("/"),groups:{}},r=t.get_val("data-list-rec","data_full"),s=i.groups,r)(o=r[n]).nid===t.rnode.nid&&o.pnid!=o.whonid&&(!s[o.pnid]&&(s[o.pnid]=[]),s[o.pnid].push(o.whonid));t.__ev.args=t.__ev.altprops={},e.get_func("trigger")(t,a,i)},"0c76013b0a92a361c195449eb075c29f5158fe52":function(e,t,a,i){return e.rnode.pnid!=e.rnode.whonid},e7bf69fe0a72e59ad392de0e815eb9ea2af0b271:function(t,a,i){i.trigger_altprops&&(i=i.trigger_altprops),t.args.nid=i.targetnid,t.args.groups=i.groups,t.args.schoolNid=t.caller().get_val("nid"),t.args.viewnids=t.gebi("ExcuseFormManager-search-who").find(".xdl-picker-value").val(),t.args.noPath=!0,e.get_func("loadxds")(t,a)},"0faa490307f1eab1e41d92c2cff0f5148a3a04ba":function(e,t,a){e.caller().trigger("newCalendarContentAvailable"),e.caller().trigger("xds-zoom-clear-selected"),e.event("lightbox.close"),"print"===e.state.get("afteraction")&&e.newEvent("lightbox",{nid:a.nid,xds:"LateSlipPrint"})},"02600aeeec4a6524708b3ded101c4cd47b268168":function(t,a,i){var n,r,o=t.get_val();if(t.arg("disableSetState",!0),e.is_arr(o)){for(n=[],r=0;r<o.length;r++)n.push({display:o[r].FirstName+" "+o[r].LastName,value:o[r].namenid||o[r].nid});n.length&&t.set(n)}t.inherit("dd.multiSearch")},e8aa4e011a5101653e65be40f9d846c70076b57c:function(e,t,a){e.val()&&e.event("changePostTarget",{nid:(""+e.val()).split(",").join(".")})},"0ac7c9bed24b1374431fa5d538ce5bec707c8871":function(e,t,a){e.state.set("afteraction","print")},"6c8e89215f9345731f23454677ae6daccbac71ab":function(e,t,a,i){return"Approved"===e.get_val()},"3b17fd9020640c86d1b6de48839a78b77e99ce96":function(e,t,a,i){return"Rejected"===e.get_val()||"Deleted"===e.get_val()},d93dfc6fa17d9afb669dd9697aab9a2ab40171d4:function(e,t,a,i){return"Submitted"===e.get_val()},"554d421d1b678dc5e4e8e0bb540efd45fc1c828c":function(e,t,a,i){return e.get_val("fixeddate","siblings")},"06458d4dd02ce53ad143c03f665bedad60382561":function(e,t,a){e.set(e.get_val("targetdate","data_this")),e.inherit("nowrap")},"19735da46f4feb3eab599bd2359b17ad4d32d402":function(t,a,i,n){return t.get_val("fixeddate","data_this")&&!e.isSameDate(t.get_val("targetdate","data_this"))},"4e737f0154637773f3a0cb7c54a5a3c7f6e91bea":function(t,a,i,n){return t.get_val("fixeddate","data_this")&&e.isSameDate(t.get_val("targetdate","data_this"))},"10dbdb398d68ae87497498f5c6ebbff61bf6f13a":function(e,t,a,i){return!e.get_val("fixeddate","data_this")},d62a5aa203508a3bf0ec9b4a2bce2b67ae841d5b:function(t,a,i,n){return!e.isSameDate(t.get_val(),new Date)},"1ad2df01fb4a227c21cdd365f011f152e4fca8b1":function(t,a,i,n){return e.isSameDate(t.get_val(),new Date)},aff5082ec4ff1081a14ea78cb334b61928434de7:function(e,t,a,i){return!e.get_val("date","siblings")},d46ee6f1b69b638c852010abf448c954b80ee37d:function(t,a,i){t.event("loadxds",{xds:t.get_arg("xds")||"AttendanceMulti",nid:t.get_val("nid"),targetDate:e.dateFormat(t.get_val("sdate","siblings"),"iso")})},eed1c3d99693ab090d282fdd8d740b7305ab9c9b:function(e,t,a){var i=e.state.get("syear");if(!i)return e.exitBlank(!0);e.set(i)},"2631ce2f093ccb734e1375f0717273ec5351c50a":function(e,t,a){var i=e.state.get("eyear");if(!i||i===e.state.get("syear"))return e.exitBlank(!0);e.set(i)},"3bfc6538ea53c11ba505adf5a5b247ba838a9f08":function(e,t,a,i){return e.get_val()||"0"},"3e9026743ab7a44b9fdad46f2a97584ad0199eaa":function(e,t,a){(e.get_val()||0)>=(e.get_val("L","siblings")||0)&&(2==e.get_val("state","siblings")?e.addClass("xds-att-danger"):1==e.get_val("state","siblings")&&e.addClass("xds-att-warn"))},"5e835575a3c81548df1ddfcf931b94e310b465cf":function(e,t,a){(e.get_val()||0)>=(e.get_val("A","siblings")||0)&&(2==e.get_val("state","siblings")?e.addClass("xds-att-danger"):1==e.get_val("state","siblings")&&e.addClass("xds-att-warn"))},"76e6e91fbcbbb7bfb47ed2024395666096a8a53c":function(e,t,a,i){return 0!=e.get_val("code")&&1&e.get_perm(t.xds)},c4eb240200698bc43b3a6755cf46a51651eb855e:function(e,t,a,i){return e.has_write("AttendanceMassSubmit")},"713de4f4e28b47ad812954ab2ab668478abd07bd":function(e,t,a,i){return 1&e.get_perm("attendanceLB")},"101eef990a2c1d12fc7e7e945eca3af71a9cd6f9":function(e,t,a,i){return!e.data_full.data},"88197471327ecdc69d613a3e503a8937a4609a01":function(e,t,a,i){return 0!=e.get_val("line2-code")},d6b259bb509582584ee260a65472cc1b07f19a12:function(e,t,a){e.displayVal=" ("+e.arg("title")+" "+e.get_val()+")",e.showTitle=!1},e7470b81d9c0fce7858c9f72e86912793e31da98:function(e,t,a,i){return" ("+e.get_val()+")"},"23c0d3d92cf3d785fce7cc807427018d19785bbf":function(e,t,a,i){return e.get_val("projectedValue","siblings")},"9a89f3b71f561f82554867e8ec01ebd51f234dff":function(e,t,a,i){return e.get_val("code","siblings")&&e.get_val("reason","siblings")},f96aea208140e01f95c9674e1d07b887c4da4b20:function(t,a,i){var n,r,o,s,d=t.get_val()||0,l=Math.floor((e.dateFormat(t.get_val("edate","rnode"),"obj").valueOf()-e.dateFormat(t.get_val("sdate","rnode"),"obj").valueOf())/1e3),c=[],u=d,f=[["Week",604800],["Day",86400],["Hour",3600],["Minute",60],["Second",1]];if(!d)return t.exitBlank();for(r=0;r<f.length&&!(u<=0);r++)o=void 0,u>=(n=f[r])[1]&&(s=Math.floor(u/n[1]),u%=n[1],1===s&&(o=t.arg("title"+n[0]+"One")),o||(o=t.arg("title"+n[0])),c.push(""+s+o));t.displayVal=c.join(", ")+(l&&l>0?" ("+Math.round(100*d/l)+"%)":"")},"4edad35239f004fdee7b4964147018c2738d3c0d":function(e,t,a,i){return e.get_val("comment","siblings")},c3f0ecd97f4f75189e0b0ae5a601e58dc57c1dd9:function(e,t,a){e.data=e.get_val("school","data_full"),e.tag("span")},"7ed6e2c4114f711378c38337e4beb913c75951c5":function(e,t,a){e.caller().trigger("newAdHocMeeting",{targetDate:a.targetDate,meetingid:""+a.meetingid}),e.newEvent("lightboxController.close")},e2d8f47a2477862d563c263f9c319a1fbce8dfd4:function(e,t,a){e.state.set("conflict_sdate",e.get_arg("conflict_sdate")),e.state.set("conflict_edate",e.get_arg("conflict_edate")),e.get_xdo("*start").addClass("xds-conflict")},a90ccc7fbb67e989401c58351ea782386af4653e:function(e,t,a){e.get_target("sibling:end").xdo.checkDateBounds()},f87c3a5f4837411f77c7ade3a9e9a6c7d7ad5591:function(t,a,i){var n=t.state.get("conflict_sdate"),r=t.state.get("conflict_edate");if(!n)return t.exitBlank(!0);t.arg("title",e.tpl(t.arg("titleRaw"),{sdate:e.dateFormat(n,t.arg("dateFormat")),edate:e.dateFormat(r,t.arg("dateFormat"))}))},b8cbebcc796a5d0d2767534fd91777517eaa8d68:function(t,a,i){!1===t.data&&(t.data=e.dateFormat(new Date((new Date).valueOf()+36e5),"iso")),t.inherit("f_ttdate.f_ttdate")},"84f4424e485d0ea7bbbf0dab5d12a5a747d51a5d":function(t,a,i){t.data.tooltip=e.dateFormat(t.data.tooltip,"dd mmm yyyy 'at' h:MM:sst")},"96dba2b643cad0c4b426bf3dc35eaf79d66384b6":function(t,a,i){var n=t,r=e.storage("ActivityFeed-state");n.state.set("visibility",r),"hidden"==r&&t.id(1).addClass("collapsed")},db813d7a336b93f73a379ffebf00042fc4b562e3:function(t,a,i,n){return e.get_func("currentUserIsStaffType")(t)},"96ae619dc4bd3887744efe62059e4ca2dfb0e703":function(e,t,a){var i=e;"hidden"==i.state.get("visibility")?i.arg("icon",i.arg("icon-collapsed")):i.arg("icon",i.arg("icon-default")),i.inherit("fa.icon"),i.arg("fa_class","far")},"30587c155bb97069b9bf593e185b05d63632ccb8":function(e,t,a){e.nextPage(function(t){e.get_target("sibling:moreloader",1).append(t)})},"3ef2895318ac48ecbcc8ef66791abef3743d5778":function(e,t,a){var i=e.get_val("messages-item");i&&i.length<6&&t.hide()},"5cadde62dd684b5367560de5267119e96ecb0a0f":function(e,t,a){if(e.register_xds(e.data.name),e.data){var i={name:e.data.name,desc:e.data.desc};e.data.title&&(i.title=e.data.title),e.data.content=i.title||i.name}},"06ad360401b0773ca82a041121d6fb3ff9c2db76":function(e,t,a){e.newEvent("loadxds",e.args)},b32f1e0a3d681052e44f55251efd83af6c8d0a4d:function(t,a,i,n){return e.storage("BaseChild-status-"+t.nid())},"43d1f9760fec477ba9a85b3881d7c4050ca35f02":function(t,a,i){t.map({schools:e.obj_to_arr(e.clone(e.user.schools))}),t.inherit("container")},f132d017a72ec0607200b1e787e0cb3671328dd6:function(e,t,a){e.attr("title",e.tpl(e.arg("title")))},bf38c204e924aa852b6f23ed2fd391c1dd1be437:function(t,a,i,n){return 54==e.gbl.user.clienttype},db36e413ca2344ad3292aab2d9fd90041fad647a:function(t,a,i){var n=t,r=e.get("windows");r&&r._available&&e.notif.Poller({url:e.gen_url({command:"node",nid:n.nid(),xds:"scrollingNews"}),dataOnly:!0,callback:function(t){!function(t){var a=[];for(var i in t.item)if(i&&t.item.hasOwnProperty(i)&&t.item[i].pnid){var n=t.item[i];a.push({uri:e.tpl("{{dl}}{{pnid}}/{{rid}}/{{nid}}?field=file&xds=fileThumbnail&size=310,310",{dl:e.gbl.dl,pnid:n.pnid,rid:n.rid,nid:n.nid}),text:n.title,tag:"NID"+n.nid})}r.batch(a)}(t.boxLayout.newsbox)}})},f6417798118e22ec9e8f9c47d1a801ae0ff0cdf7:function(e,i,n){t._edsbyInternalBrowser&&(a.location="edsby://close")},"3ac341991c0481503090769bee5d07f88d948f9a":function(e,t,a,i){return"("+e.get_val()+")"},"781c973359934040fe8ac2218f70b682b1c04752":function(e,t,a,i){return e.data.pending&&"0"!=e.data.pending},b46eb259ac0afa9d4fe80dca566c69a71c5b94f9:function(t,a,i,n){return e.user.nid==t.nid()},"4369ad8590b07fda4fe6d9a169fa78c3cfd84b12":function(e,t,a,i){return e.data>0},"1d600df9605b5509414b746f0571d904f09f86c7":function(e,t,a,i){return 0==e.get_val("logo")&&e.data},c54034e86c5d6d1223d0d8e959189f4c5d2e8e8b:function(e,t,a){e.newEvent("loadxds",{nid:e.state.top().get("nid"),xds:e.get_arg("xds"),target:e.get_arg("target")})},"66cce17387f88e4b306ca4ab73101cd5fc61cc0c":function(t,a,i){var n=e.get("gradebook")[t.nid("node")];n.students[t.get_val("snid")]||n.register.student.call(n,{nid:t.get_val("snid"),grades:t.get_val("grades"),average:t.get_val("Average")}),n.normalizeAll(n.students[t.get_val("snid")]);var r=n.calculateStudentWeighting(t.get_val("snid"));r&&r[t.nid()]&&r[t.nid()].subBuckets&&t.exit(!0),t.inherit("bookGrades.publish.total")},"175f6abb2f3e56d841c94f33704d5808d8e45687":function(e,t,a,i){return 1==e.get_val("published")||e.has_role("Teacher")},"825b54f926e1eba49128e005964dc3b52e1e2ad4":function(e,t,a,i){return!e.get_val("hideWeights")||e.has_role("Teacher")},"7fcdd6009a8a5678593e4e69ccc3681fba136fad":function(e,t,a,i){return e.get_val("submitted")&&!e.has_role("Parent")},abedaae895cf1c6ffa4b66ed83d57c9be18ef19a:function(e,t,a,i){return!e.get_val("submitted")&&e.get_val("esubmit")&&!e.has_role("Parent")},"9941a35a93bf4f7de7b7be76fbbba8544d94be3a":function(e,t,a,i){return e.get_val("comment")},ef2d97e3ea2f3485d2177d601b0315badfe953eb:function(t,a,i,n){return t.nt("user")==e.nt.User.Teacher()||t.nt("user")==e.nt.User.Administrator()||0==t.get_val("showaverage")},"46a9c1f3a467f4d668733c1c71f5335984da0ae6":function(e,t,a){setTimeout(function(){location.reload()},12e5)},"5b3d28c1f0d687ea63ff7480b286d833ea861f6c":function(e,t,a,i){return"0"!=e.get_val()},"060cf75c8251bef97ed15d3ad609cb6a8f8f86e9":function(t,i,n){var r=parseInt(t.target("*input").xdo.val());if(NaN!=r){var o=e.tpl("{{gbl_p}}admin/impersonate/"+r);e.ajax({url:o,callback:function(){a.location.reload()}})}},"7b6e26c17491352ee4c16e1230a6851219867b18":function(e,t,a){e.get_val("errors")&&e.addStyle("color","#FF0000")},f1b3ee209af350ef261559f755b04fa8fbb722dc:function(t,a,i){t.args.log=t.get_val("log")||"5"==t.get_val("nodetype")?"sync":"stats",t.args.time=t.get_val("stime"),t.args.delta=Math.ceil(t.get_val("et")||3600),e.get_func("loadPage")(t,a)},a69ca8b732cb5c66e57a2c034faba39b7811fc39:function(t,a,i){e.storage("ActivityFeed-state","visible"),e.fn.loadxds(t)},fbbb2137e3d19e68a630fca2ccb7d9f223d7e97c:function(t,a,i){"visible"==e.storage("ActivityFeed-state")&&t.trigger("showActivity")},cdd39b961bd1e5a71a3b40fddf0a712ff3637816:function(e,t,a){var i=e.caller(),n=e.global("BrowseNode-itemNID"),r=e.global("BrowseNode-itemName");i.trigger("BrowseNode-done",{nid:n,name:r})},a15761a0e7a228bcda8892bbd2eea4ffd0488442:function(e,t,a){e.get_val()||(e.set({item:[{nid:e.nid(),name:e.get_val("name")}]}),e.global("BrowseNode-crumbs",e.data.item))},"302602be85db715f5f75dff0ff6986f09e056ea7":function(e,t,a){var i=e.get_val("crumbs").item.slice(0,e.get_index()+1);e.get_xdo("*crumbs").set({item:i}).update(),e.global("BrowseNode-crumbs",e.get_val("crumbs").item)},"469c531660ae4cf6ea1013f666c3e05224242921":function(e,t,a){var i=e.eventSource().xdo;e.global("BrowseNode-itemNID",i.nid()),e.global("BrowseNode-itemName",i.get_val("name"))},"61e8097f555429437082ce679bfb1684d63dec68":function(e,t,a){var i=e.eventSource().xdo,n=e.global("BrowseNode-crumbs")||[];e.global("BrowseNode-crumbs",n);var r=i.nid();if(e.get_node(r).length&&e.get_node(r)[0].dom().length)e.get_node(r)[0].dom().trigger("click");else{n.push({nid:r,name:i.get_val("name")});var o=e.get_xdo("*crumbs");o.set({item:n}),o.update()}},"8d679a77b44896fa45fec67804a4811927cafe58":function(t,a,i){var n=e.obj_to_arr(t.get_val("pins")||{}),r=e.obj_to_arr(t.get_val("items")||{}).concat(n);t.map({list:r})},"7dc0602a72673a8a0d56e7f42bc41c7c7ba3c8ee":function(e,t,a){var i=e.global("BrowseNode-item");i&&i.removeClass("BrowseNodeItem-selected"),e.addClass("BrowseNodeItem-selected"),e.global("BrowseNode-item",e),e.trigger("BrowseNode-picked")},"25e184f8027b750d31154da7ddbfc11063116422":function(e,t,a){e.trigger("BrowseNode-drill"),e.event("loadxds")},c7cd24df2b67b89b01935c6bd17e8a9f921e4295:function(e,t,a){var i,n=e.state.get("pnodetype"),r=e.state.get("pnodesubtype");void 0===(i=e.arg("defaultPin_"+n+"."+r))&&(i=e.arg("defaultPin_"+n)),void 0!==i&&e.arg("defaultValue",i),e.inherit("f_hidden")},f84370021464c236ed9d7268b1dcb6ce646ccb1d:function(t,a,i,n){return t.state.get("pnodetype")==e.nt.Container()&&t.state.get("pnodesubtype")==e.nt.Container.Class(1)},"97eebd71475da06f4f8a2d5d1761d313632158f2":function(t,a,i,n){return t.state.get("pnodetype")==e.nt.Container()&&-1!==[e.nt.Container.Conference(1),e.nt.Container.Club(1),e.nt.Container.Team(1),e.nt.Container.PLC(1),e.nt.Container.Archive(1),e.nt.Container.List(1),e.nt.Container.Badge(1),e.nt.Container.Duty(1),e.nt.Container.LOR(1)].indexOf(t.state.get("pnodesubtype")+"")},"7deb8ee4e235fd1ce26df2dedc752c4fe41b096d":function(t,a,i,n){return t.state.get("pnodetype")==e.nt.Group()&&t.state.get("pnodesubtype")==e.nt.Group.School(1)},a9da28994f00bee12696c4cbe89aae36fc2a6f27:function(t,a,i,n){return t.state.get("pnodetype")==e.nt.Group()&&t.state.get("pnodesubtype")==e.nt.Group.District(1)},e161f630833c134e6be1f60921ac9a7375f7a4eb:function(t,a,i){var n=e.dateFormat(i.value,"timestamp")-e.dateFormat(i.previous,"timestamp"),r=e.dateFormat(t.state.get("edate"),"obj");r.setSeconds(r.getSeconds()+n),t.state.set("edate",e.dateFormat(r,"iso")),t.state.set("sdate",i.value)},"8f3566a020714acaeb1cd1f227aca05972cc899c":function(t,a,i,n){return[t.state.get("pnodetype"),t.state.get("pnodesubtype")].join(".")===e.nt.Container.Class()},e297a8486003bdcb30b50d8985b1b78386285a6b:function(e,t,a){var i=e.get_xdo("*submit").dom().outerWidth();60!=i&&e.dom().css("right",i+"px")},a64f4c4e86d980a68a7a5d03253967786f6c35cd:function(e,t,a,i){return"create"!==e.get_setting("command")&&4&e.get_perm(e.arg("xds"))},"761f7ffb8c33e17018a41e974fa85f4d35b06c57":function(e,t,a,i){return!e.state.get("occurrence")||!e.state.get("rtype")},"387b0bf089e5f46bd78ef8bdec2bc0e0f7390a31":function(e,t,a,i){return e.state.get("occurrence")&&e.state.get("rtype")},"6ad447599371f0edf56e0177de42a25285d9e604":function(t,a,i){t.set(e.gbl.p+"iCalendar/"+t.cnid()+"?ticket="+encodeURIComponent(t.state.get("ticket"))),t.inherit("f_str")},a4e5d9026ed94acd3d9c42f86298f08378d03b3a:function(e,t,a,i){return-1!==["-1","4"].indexOf(""+e.get_val("state","siblings"))},cab4a9785561bb7318b839a0de43d316a376674c:function(t,a,i,n){return t.get_val()&&e.get_func("CalendarPanel.utils.get_event_type")(t)==e.nt.Document.Assignment()},ab3b55a0920ef3edf5d40dbe303fac4134161fb7:function(e,t,a,i){return"6.13"===e.nt()&&-1!=e.get_val("code")},"54b9156934ee96eb2d14b109972c9d60dc2ef644":function(t,a,i,n){return t.get_val()&&[""+t.get_val("render-type","rnode"),""+t.get_val("render-subtype","rnode")].join(".")==e.nt.Container.Class()},"0656be22f56e3ddc82869badc59692977b876af0":function(e,t,a,i){return e.get_val("location","siblings")||e.get_val("roomName","siblings")},"2e43522b7988889e93367011a76fe3a0e772dcb8":function(e,t,a,i){return!isNaN(parseInt(e.get_val("roomName","siblings"),10))},"8a3d4cea3811ffba0cab9fe518021161c2041165":function(t,a,i,n){return t.get_val()&&(t.get_val("nodesubtype","user")==e.nt.User.Student(1)||[""+t.get_val("nodetype","node"),""+t.get_val("nodesubtype","node")].join(".")==e.nt.User.Student())},"82ff7c6e53cbfe1d7daf286674e89df04a8d97f4":function(e,t,a,i){return e.get_val("attenable","data_full")&&3===e.get_val("render-atteditable","rnode")&&-1==e.get_val("render-attendance_code","rnode")},d51bac0120b677ec1a83680ba4d7ac83bc6a1e7c:function(e,t,a,i){return e.get_val("attenable","data_full")&&e.get_val("render-take_attendance","rnode")},cae69780eb1b97973ef415cab19f3fbf015b7cfc:function(e,t,a,i){return-1===e.get_val("btype","siblings")},b3957327df59b5bbe205be4e3abc486bbfc59ffd:function(e,t,a,i){return 1===e.get_val("btype","siblings")},"5b7cb8909c92251ab7648b2c5c0b500a7822866b":function(e,t,a,i){return 9==e.get_val("attendance","siblings")},ba7ea4c2b9b2ee13a552312460629b53fb28b242:function(t,a,i){e.is_arr(t.data)&&(t.data=t.data.join(", ")),t.inherit("div")},d777ccc045af7ce888d8dcbb03ee8d2c76428ec9:function(e,t,a,i){return 9!=e.get_val("attendance","siblings")},e3cde501f368f7c23258affeca04b99accf7abe6:function(t,a,i){var n,r=[],o=t.get_val("teachers","siblings"),s=t.get_val("num_slots","siblings"),d=t.state.top().get("nid");if(!s||!o)return!1;for(n=0;n<o.length;n++)o[n].nid===d&&r.push(n+1);if(r.length===s||0===r.length)return!1;t.set(e.tpl(t.arg("titletpl"),{slot_ndx:r.join(", "),num_slots:s}))},"79a6452caea861b395e28d763e60c09c4329279a":function(t,a,i,n){return e.get_type("CalendarPanel.types.hover").showEndDate(t)},"96b7ab4ee35e84201125bb69125c7699134aeb5d":function(t,a,i,n){return t.get_val()&&[""+t.get_val("type","siblings"),""+t.get_val("subtype","siblings")].join(".")==e.nt.Document.Assignment()},d51b506e60ce596630f36884c2819d8970434d03:function(t,a,i,n){return[""+t.get_val("type","siblings"),""+t.get_val("subtype","siblings")].join(".")==e.nt.Container.Class()},"9bf3de9ef0d06a1e8191f6069c1c49f927e84395":function(t,a,i,n){return[""+t.get_val("type","siblings"),""+t.get_val("subtype","siblings")].join(".")!=e.nt.Container.Class()},"61c7b8026172953ba5982ff6efd0c4231eabda9d":function(e,t,a){var i,n=e.get_val("teachers","siblings"),r=e.state.top().get("nid");for(i=0;i<n.length;i++)if(n[i].nid===r){e.set(n[i].name);break}e.inherit("name")},d302d343a7402be5ae8fea7cb430cc7b9fe27a99:function(e,t,a,i){return e.get_val("teacherNid","siblings")},dfd90b95bb30cb80395453fdf8a739ad2ff2deef:function(e,t,a,i){return!isNaN(parseInt(e.get_val("name","siblings"),10))},c247b84a32f7ca8f39ad52c0456d0648156cd966:function(e,t,a,i){return e.get_val()&&!e.get_val("name","siblings")},"1b4547c645b912f009c22761a8d4151bb128c450":function(t,a,i,n){return[""+t.get_val("type","siblings"),""+t.get_val("subtype","siblings")].join(".")==e.nt.Container.Class()},ba2ce0ef3333e12d3ee56eabd92a79926cb01b1b:function(t,a,i,n){return[""+t.get_val("type","siblings"),""+t.get_val("subtype","siblings")].join(".")==e.nt.Container.Workflow()},"076bd7bfca5e060961ab90f4a65e5b958c49637b":function(t,a,i,n){return t.get_val("type","siblings")==e.nt.Container()&&t.get_val("subtype","siblings")!=e.nt.Container.Class(1)&&t.get_val("subtype","siblings")!=e.nt.Container.Workflow(1)},b5ee8d19662c675be88e32ae439c922258e7699a:function(t,a,i,n){return t.get_val("type","siblings")!=e.nt.Container()},"0b1af1026f329908fd4c168742083b315931a3ba":function(e,t,a,i){return!e.get_setting("inline_cal")&&!e.get_setting("embedded_cal")},fd83042dce695bb34eaf00fef6052f394885d9c5:function(e,t,a,i){return e.has_write(e.xds_full.xds_calform_event||"CalendarEventLB")},"48014b47963df319aa0c05b3f9a9613892b89682":function(t,a,i){t.event("lightbox",{xds:t.xds_full.xds_calform_event||"CalendarEventLB",date:e.dateFormat(e.get_func("CalendarPanel.utils.get_date")(t),"iso"),noTime:1})},f2f7ed85a1e36b0b02cc612384c8125234de57e6:function(e,t,a,i){return!e.get_setting("inline_cal")},"054cd831c7fa5325e64e539302312bc7ece442f1":function(t,a,i){var n=e.get_func("CalendarPanel.utils.get_date")(t);t.set(n),e.isSameYear(n)||(t.addClass("xds-otheryear"),t.dateFormat=t.arg("dateFormatOtherYear"))},"0e67d5977a8a92de95b2254dd70b0dd60bf95694":function(e,t,a,i){return e.has_read(e.xds_full.xds_pthru||"CalendarPunchThru")},"204a2367be9a8640ed70ef91aaf6f26c9965972e":function(e,t,a){var i=e.xds_full.xds_pthru||"CalendarPunchThru";e.has_read(i)&&e.event("lightbox",{xds:i,disablecont:!0})},cce8c318ee4989c70fd9c379f00e32d27f1471d5:function(t,a,i){t.event("loadPage",{xds:t.xds_full.xds_page||"Calendar",targetDate:e.dateFormat(e.get_func("CalendarPanel.utils.get_date")(t),"yyyy-mm-dd")})},"132668c942256addfeb21f3c6da83ac35cd8a751":function(e,t,a,i){return e.get_val("overduedata","node")||e.get_val("longtermdata","node")||e.get_val("completeddata","node")},"930278c221a863943cb987a9cb205847ef1c28f1":function(t,a,i,n){return e.isSameDate(e.get_func("CalendarPanel.utils.get_date")(t))},"1ae3353101d9f2bd9ffd785c2d69aab844416961":function(t,a,i){var n=e.get_func("CalendarPanel.utils.get_date")(t);if(e.isSameDate(n)||t.caller()&&t.caller().xds_full.id!==(t.xds_full.xds_month||"CalendarPanelMonth"))return t.exitBlank();t.set(n)},"427ffc92bb0f42f816810754372cadf003dc17a6":function(e,t,a,i){return!e.get_val("notready","data_full")&&!(e.get_val("alldaytodaydata","node")||e.get_val("timetabletodaydata","node")||e.get_val("eventstodaydata","node")||e.get_val("duetodaydata","node"))},c1193b7d996536de31751a56a5e8c2476db7038e:function(e,t,a,i){return 1==e.get_val("notready","data_full")},"401bef47a4bad3e1b3e5e96bc25bd0de971bcba5":function(e,t,a,i){return 2==e.get_val("notready","data_full")},f3d12fe67fd54b0cc30878d4f94b4ea6ee828264:function(e,t,a,i){return e.get_val("eventstomorrowdata","node")||e.get_val("duetomorrowdata","node")||e.get_val("alldaytomorrowdata","node")},bbb138ff063e57b49d733af289310fdd0b9ee276:function(e,t,a,i){return e.get_val("eventsthisweekdata","node")||e.get_val("duethisweekdata","node")},"17500e7cc793c87a9dd11564a011173707bf4fdb":function(e,t,a,i){return e.get_val("eventsnextweekdata","node")||e.get_val("duenextweekdata","node")},"0d76ff4700dc25e8eeeb1d48a71e984f8325a788":function(t,a,i){t.event("loadxds",{xds:t.arg("xds_nav")||"CalendarPanelNav",targetDate:e.dateFormat(t.data_full.targetDate,"yyyymmdd"),inline_cal:!0})},b36324f9132ad889d8ffe816377d3ab7810d54ae:function(e,t,a){e.get_val("istarget")&&e.addClass("xds-curdate"),e.get_val("foreign")&&e.addClass("xds-foreign"),e.get_val("havesched")&&e.addClass("xds-havesched"),e.get_val("haveitems")&&e.addClass("xds-haveitems")},"0f505b39f24ddef1d1fab01558d06751b134732f":function(e,t,a,i){return e.get_val("attenable","siblings")&&3==e.get_val("atteditable","siblings")},"01843f396ebe65de8444d5e92e859ea91799a4b7":function(t,a,i,n){return e.get_resource("CalendarPanel").utils.pending_classes(t)},b4b85cf929114cbbe58551732815faa26868eb89:function(t,a,i){var n=e.get_resource("CalendarPanel").utils.pending_classes(t);t.event("lightbox",{data:{fixeddate:!0,targetdate:e.dateFormat(n,"iso")}})},"19b052d75692147eb9cff34d2e2c8544f7425a6a":function(e,t,a,i){return e.get_val("ttenable","siblings")},b40e5c366a6594290a95274dcfd0ea92d98e25bf:function(t,a,i){var n=new Date;t.event("lightbox",{data:{fixeddate:!0,targetdate:e.dateFormat(n,"iso")}})},"21959ced9be2136c1aed097beb37bfb2bedb0971":function(e,t,a,i){return!e.get_perm("Panorama")},"66c55a08c82719ec5f00467b7a66e359a41a7b08":function(e,t,a){e.target().trigger("xds-sketchpad-change",{tool:"penSize",value:e.dom().find("input").val()})},f4a3a5166ed3e3d0b1a6c1bcb440735d04afb75f:function(e,t,a){e.target().trigger("xds-sketchpad-change",{tool:"penColour",value:e.dom().find("input").val()})},"5cb7df05e035dec61316830a470cd7a0d9161c7c":function(e,t,a){e.target("*pad").find("canvas")},"9d927c0e2358bcabbf449660e159180be6e263cd":function(e,a,i){t.print()},"7372da55e78f4f2fd00bb001b94d9a131b379aaf":function(e,a,i){t.close()},"519a9013a3f697a507d962bdc252b2c535033fa9":function(t,a,i){var n=t;e.get("cfnp").put(n,{postData:{recycle:1}}).then(function(e){n.trigger("tokensRecycled")})},"936ded53e04a4fdc2fb300ab43769933ceaf14c8":function(t,a,i){var n=t;e.confirm({message:n.get_arg("confirmMessage")}).then(function(t){return e.get("cfnp").put(n,{is_cfnp_args:!0,postData:{recycle:1}}).then(function(e){n.trigger("tokensRecycled")})})},"475b2cab38729c04444fe0953e62c470c757d7b4":function(t,a,i){var n=t;e.settings.dev?n.inherit("f_str"):n.inherit("sys")},e900a4f0b7571830eae22fa2073301caede44f17:function(e,t,a,i){return void 0!==e.parent_xdo().data.nid},"949785a71b28ae19f743c90d86917b5b2c0fd7b9":function(a,i,n){var r=a;e.confirm({message:r.get_arg("confirm")}).then(function(){return e.get("cfnp").put(r,{is_cfnp_args:!0,nid:r.get_val("nid","node"),urlArgs:{xdsr:"CaptureSetup",rxdstype:"node"},postData:{ticket:r.state.get("ticket")}}).then(function(t){return e.get("cfnp").get(!1,{nid:r.get_val("nid","node"),xds:r.xds_full.id,noCache:!0})}).then(function(e){var a=e.slices[0].data.students.student["r"+r.rid()];t.setTimeout(function(){r.state.set("ticket",a.ticket)},1)})})},"22b97981f68c9fa63e1774ba05997c47f7fa9d7b":function(t,a,i,n){return!e.get("native")&&(t.get_val("classesContainer-classes")||[]).filter(function(e){return 3==e.reltype||4==e.reltype}).length>0},"3178ea5831cb8decbb7d0417cc531af414dd08e7":function(e,t,a,i){return 2==e.get_val("havereportcards","siblings")},"93b23da74697fa038c63c19a7e3aebff8ff99b4a":function(t,a,i,n){return t.has_role("Parent")&&e.platform.phone},"02371a380676bdaf2a4a08e18c3badb5680467e3":function(t,a,i,n){return!t.has_role("Parent")&&e.platform.phone},ceaea0e584c030dd1070d19ac81aec55c5442373:function(e,t,a,i){return $("body").hasClass("mobile")},"5c740c2788ca8258575b0e9b5d4ad324b64f67e8":function(t,a,i,n){return t.nid()!=e.gbl.nid},"7a612703d488012a1c685bca0294444570ac9ce3":function(t,a,i,n){return!e.get_func("ClassList.SectionTitleShowIf")(t,[12,15])},"253ee3c3628acccbaf959086ed4ded960bdfdd79":function(t,a,i,n){return e.get_func("ClassList.SectionTitleShowIf")(t,[12])},"8c62a1372d90982507febf4250440c0fcef99f64":function(t,a,i,n){return e.get_func("ClassList.SectionTitleShowIf")(t,[15])},"5fe2a6994e8889385e06131b56baa70de2d3cf13":function(t,a,i,n){return e.get_func("ClassCrossPostPicker.filterClassList")(t)},"3db6f161af1293d52b2c2850f49ed1b6056e104b":function(e,t,a,i){return e.has_write("UberPlanner")},"123579493f448a9768626d5581386708dd17b756":function(e,t,a,i){return 3!=e.get_val("visibilityState")},"02f3bf7b07c22016a89a06818bb0c2f55447fd78":function(a,i,n){var r=e.gbl.csvexport+a.get_val("nid")+"?xds="+a.arg("xds")+"&attachment=1&filenamefield=Title";a.xds.href=r,a.addClass("xds-button").addClass("xds-default-button"),a.ready(function(e,a){e.bind("click",function(e){t.location=r,e.stopPropagation(),e.preventDefault()})}),a.inherit("loadPage")},"5ad440531981d349807a37419ccd45a8c1dcf960":function(t,a,i,n){return e.platform.mobile},"2a6512c671366bbba9699cb197fbd9c7e0a863ca":function(e,t,a){return e.state.get("defaultViewInitial")?e.state.set("defaultView",e.arg("xdsContent")):e.state.set("defaultView",e.arg("xdsFeed")),e.global("defaultView",e.state.get("defaultView")),!1},df4d5b7eb5c0db0e21a09afc430aa2f4681ba32b:function(t,a,i){var n=e.obj_to_arr(e.sanitizeObject(e.gbl.user.classes));n.map(function(e){e.value=e.nid}),n=e.sort({sortBy:"reltype,fraction,course,code",sortType:"basic,fairy,basic,basic"},n),t.data={item:n}},"4fed240d41f5d44829a506e444bdbdd9d8c10257":function(e,t,a){var i=(parseInt(e.get_val("nesubmit"))||0)+(parseInt(e.get_val("ncomment"))||0);e.parent_xdo().map({gradebookUnread:i}),e.exit(!0)},"3b768de01fbf45afd363c16938ee9cf39f7a1971":function(e,t,a,i){return e.get_val("attEnabled")},a0dafa7c00ab16b54c9cc00d002a6fc96e86e046:function(e,t,a,i){return!0===e.get_val("nosync")},"236365816cacf5a4bd9043e2b9881108002aa501":function(e,t,a){if(!e.state.get("vleEnabled"))return!1;e.inherit("NavButton")},"426a7c4e86f0b043c899c42bbf8d7e20033bf435":function(e,t,a,i){return e.get_val("reportcardnid","siblings")},a69fb121ef09fdef902b71e16e9120dd1dbc6e3d:function(e,t,a,i){return e.get_val("reportcardalert","siblings")},"848f7c8f5b7cf88770c8dbd5bf87a3abe37fa077":function(t,a,i,n){return t.state.get("selfeatenable")&&t.nt()!==e.nt.Container.Course()},"40f1da09c1712b2b909c85dfab76b90db1ea953e":function(e,t,a){e.global("modelNid",e.data),e.inherit("sys")},"70b0bcd28f508888b64e6ad19f3b1cdf0862e7f5":function(t,a,i,n){return t.state.get("attEnabled")&&t.nt()!==e.nt.Container.Course()},"166be36aae25acda811a36a66000a9245e572e35":function(t,a,i){e.history.active.loadLatest()},fde0e9373a9bc6092a32204955b7931b1d1cfc5a:function(e,t,a){for(var i,n,r,o=e.get_target("this:ClientCrashReports-data-table",1).xdo.pages(),s=o.length,d=[];s--;)for(n=(r=o[s]).length;n--;)d.push(r[n].nid);d.length&&(e.temp.nids=d,e.find(".xds-default-button").addClass("xds-loading"),i={command:"delete",xds:e.arg("xds")||e.xds_full.id,nid:e.get_val("nid","node")+"/"+d[0]},d.length>1&&(i.data={_nids:d.slice(1).join(".")}),e.newEvent("post",i))},"76bd2a04b350a8afd43fccdb0cabdb06a732f5c8":function(t,a,i){for(;t.temp.nids.length;)e.removeNode(t.temp.nids.pop());t.find(".xds-default-button").removeClass("xds-loading")},"9926d96d87b962950bd1b892b8e859ffe65bc1b5":function(e,t,a,i){return e.get_val()||"Client"},"569f60449a15eb41c299492af8515ecf3f5f9432":function(t,a,i,n){return t.get_val()&&t.get_val().replace(":",":").replace(e.gbl.p,"")},e05e35502a0af913166af84113459448f94da501:function(e,t,a){e.event("loadPage",{time:e.rnode?e.rnode:e.get_val("properties-date-reqdate","data_full")})},"34e48f758eedbf298f8e8e057d23ea772baaee00":function(e,t,a){e.event("loadPage",{time:e.rnode?e.rnode:e.get_val("properties-date-microdate","data_full")})},"0901569acc3988c97c4bae5c7af41da3a454c662":function(e,t,a){var i=e.get_val();i.ContentSize&&e.set_val("("+((parseInt(i.ContentSize)+1023)/1024|0).toString()+"K)")},dec076f76fd0d5d4de47799f4d9f46ff9695c8dd:function(e,t,a){for(var i,n,r,o=e.get_xdo("*table").pages(),s=o.length,d=[];s--;)for(n=(r=o[s]).length;n--;)d.push(r[n].nid);d.length&&(e.temp.nids=d,e.find(".xds-default-button").addClass("xds-loading"),i={command:"delete",xds:e.arg("xds")||e.xds_full.id,nid:e.get_val("nid","node")+"/"+d[0]},d.length>1&&(i.data={_nids:d.slice(1).join(".")}),e.newEvent("post",i))},"0dd1bee5d515047de1470aa1aeec7942882e92bc":function(e,t,a,i){return new Date(1e3*e.get_val())},"51b17172e4f1b679150def6beab234a3c2c17eab":function(t,a,i){var n=e.get_module("reportcards");n&&n.types&&n.types.f_rcComment&&n.types.f_rcComment.loadOptions&&n.types.f_rcComment.loadOptions()},f9f504902dd842def726b937b1c0e7da458a80c3:function(e,t,a){var i=e.get_target("this:CommentBank-page-body-right-table",1).xdo.pages();if(i){for(var n,r,o,s=i.length,d=[];s--;)for(r=(o=i[s]).length;r--;)d.push(o[r].nid);e.find(".xds-confirmDelete-confirm").xdo.newEvent("system.hideConfirmDelete"),d.length&&(e.temp.nids=d,e.find(".xds-default-button").addClass("xds-loading"),n={command:"delete",xds:e.arg("xds")||e.xds_full.id,nid:e.get_val("nid","node")+"/"+d[0]},d.length>1&&(n.data={_nids:d.slice(1).join(".")}),e.newEvent("post",n))}},c01817c31631115c0409441d9053e42e774eec4a:function(t,a,i){t.get_setting("authticket")&&e.post({url:e.gbl.p+"core/login?xds=loginticket",data:{"login-crypttype":"EdsbyTicket","login-password":decodeURIComponent(t.get_setting("authticket")),_formkey:t.key(),remember:1},callback:function(a,i){a.error||e.notif.fetchBootstrap(function(a){t.newEvent("loadPage",{xds:e.gbl.user.base,nid:e.gbl.user.nid})},!0)}})},dd177113b20386a049235a0a986e4fc561d4c1c8:function(e,t,a){e.target("caller").trigger("newDataAvailable"),e.newEvent("lightbox.close")},"1cb32a5016a0bd48d08b5a22ef5c7fb8139fa937":function(e,t,a,i){return 0!=e.get_val("pending")},"3ffd9d8a5fbd6201c00072336b48052de14114fc":function(e,a,i){t.print()},d27700dbcf7c8453d8321730826c8f34bf31b087:function(e,t,a,i){return 1==e.get_val("pending")},"8523754af25ed09ab722b4e2c9ebe605221698af":function(e,t,a,i){return 2&(e.get_perm("messageNew")|e.get_perm("broadcastNewFanOutTeacher"))},"983ca0721688e17c236a2810d0885d321d8ab624":function(e,t,a,i){return e.get_val("col1-parents","data_full")&&2&e.get_perm("broadcastNewFanOutTeacher")},a74bc0b4df7bb92ebddd428f3d3522a386dec25d:function(e,t,a,i){return!(e.get_val("col1-parents","data_full")&&2&e.get_perm("broadcastNewFanOutTeacher"))},"3c73224c97e2784da1779ba3e65de9a149cc90d9":function(e,t,a,i){return e.get_val("caninvite","data_this")&&e.get_val("email","data_this")&&-1!==["-2","-3"].indexOf(""+e.get_val("accountstatus","data_this"))&&e.get_val("ebaccess","data_this")},"6819d9bc096a17378cd0a7e2360e4a0062cf23a0":function(a,i,n){a.target("this:Course-body-col2-feedPane-feed2").hide(),t.setTimeout(function(){e.get_func("empty")(a.target("this:Course-body-col2-feedPane-feed2").xdo),a.target("this:Course-body-col2-feedPane-feed2").show()},500)},"839a7f44abd51a0fff9bb5d6766c0d842ee9aba9":function(t,a,i,n){return e.constant.cd.Modern()&e.user.clienttype},"7c953e144c4c397aa40f78bff2af7309cd836338":function(e,t,a,i){return e.has_read("studentRoster")},ec86059d0fb09414aadcb130f7fe0d3babf9d4c3:function(t,a,i,n){return e.gbl.user.nodesubtype==e.nt.User.Teacher(!0)&&1==t.get_val("StudentLock")},"4e7eb0d288ec6e0ac05de938cc7ac7d47872130b":function(t,a,i,n){return e.gbl.user.nodesubtype==e.nt.User.Teacher(!0)&&2==t.get_val("StudentLock")},"9907f47cbd6d212c8d254314c6314e1716c1956d":function(t,a,i,n){return e.gbl.user.nodesubtype==e.nt.User.Student(!0)&&2==t.get_val("StudentLock")},ade9f66094e6780f3e515707b14f0c816dc0c8b0:function(e,t,a){e.get_arg("slice")&&e.event("loadxds")},"51bf0e0821266babb5ac864b66ef77df7641007a":function(e,t,a,i){return(e.has_role("Class Owner")||e.has_role("Supporting Teacher"))&&"Student"==e.state.get("creatorType")},"180fa0c3be055e637414f3dfd1001525c3d95855":function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),nid:e.nid("gbl"),class:e.nid("gbl"),student:e.get_val("createid"),command:"create",noPath:!0,convo:e.state.get("body")})},f0f6bd942d82f1a90b5b0e551d28144accef7b26:function(t,a,i,n){return e.get("CourseFeed").showif(t)},e98c59fa844d86dee23ec0fccb35b05ca83dc141:function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),nid:e.nid("gbl"),class:e.nid("gbl"),student:e.get_val("createid"),command:"create",noPath:!0,conversationInput:e.state.get("body"),files:e.state.get("files")})},dbda5f692e2290923f641b0a2a9a0fa29b3dd460:function(t,a,i){var n=t.target("*pin",1),r=parseInt(n.val(),10);r|=e.constant.np.Library(),n.val(r)},eef57c11d3feb1e1f6588dfca688bf3fab998786:function(t,a,i){var n=t.target("*pin",1),r=parseInt(n.val(),10);r&=~e.constant.np.Library(),n.val(r)},bd8d541dda49978bcfc5e124c3aac2b2201b323c:function(e,t,a){e.global("classNid",e.get_val("nid"))},b528a0882c1b3a60de3655a2cc4f54eab610b440:function(t,a,i){$(".CourseJournalEntry").trigger("xds-unloadForm").remove(),$(".CourseJournalEntryLightbox")&&e.get("lightbox.close")(!0)},"2de03d33aec66a3641950ba9ab368666d47572eb":function(e,t,a,i){return 3==e.get_perm("teacherFeedmsgMobile")},"81b7a154455b4e0e43a462c3e77b260c95cc83fd":function(e,t,a,i){return e.get_val("subnode").length>e.parent.fields.subnode.forceLimit},"60ea5a87a40820d7e4355bfa628060bb4e3119ed":function(e,t,a,i){return e.get_val("courses")},"105a625fa890b667a74e484ad01b62a371d9dab4":function(t,a,i,n){return e.get_func("ClassList.LinkIf")(t)},d5cdbb850200d7aafa0f89393bc89c6037fb8e7b:function(e,t,a,i){return 3!=e.data.state},e9c6b50be4a094ad874115f555ea3c534bb58f78:function(e,t,a,i){return e.has_write("bookPlanEntry")},"38db9a9b49be29cb5c3d0da291bfc06e814b4bd1":function(t,a,i){if(t.nt()==e.nt.Document.Assignment()){var n=t.get_val();e.lookup("assessmentTypes",n).str()||e.constant("assessmentTypes",n,n)}return!1},ac49b6bd5079a60dde974967d8cfb3243e823573:function(e,t,a){$(".CreatePoll").trigger("xds-unloadForm").remove()},c3434b7f3aa2d622bcbc4c2b0899a70aea8f8e3b:function(t,a,i){a.find(".xdl-picker-display").html(e.lang("Post to this class only"))},"06f683964a7de5652497a77ba58165e3e5cb2228":function(a,i,n){t.setTimeout(function(){e.get_func("CrossPoster.toggleFanout")(a,i,{onLoad:!0})},200)},cf1180f0e9cef0ceced478572379816ae781b032:function(e,t,a){200==e.data?e.addStyle("background-color","lightgreen"):e.data>=400&&e.data<500?e.addStyle("background-color","orange"):e.ata>=500&&e.addStyle("background-color","red")},"7015d7fb4eda98f982561cbd16de0d5b2f9debbc":function(e,t,a){var i=[];for(var n in e.data)i.push({func:{identifier:n,module:e.data[n].module},perf:e.data[n]});i.length>0?e.data={fieldfunc:i}:e.exitBlank()},"9d19cbf32c30c6895600e9b2399ae2333fd672b5":function(e,t,a){var i=[];if(e.data){for(var n in e.data)i.push({func:{identifier:n,module:e.data[n].module},perf:e.data[n]});e.data={nodeproc:i}}},e6f12ad9624b1a54accb5b69a9c765a1524fe945:function(e,t,a){e.get_val("emit")&&e.get_val("rows")?(e.data=Math.round(e.get_val("emit")/e.get_val("rows")*100)/100,e.addStyle("background-color","lightgreen"),e.data<.9&&e.addStyle("background-color","orange"),e.data<.5&&e.addStyle("background-color","red")):e.exitBlank()},fe43cd454e13e5116d1d806a00c80acb47394108:function(e,t,a){var i={};e.state.get("haveuid")||(i.uidf=!1),e.event("crypt.events.initiate_encryption",i)},bbb66f2f3a7694ea0276d9d6a66082b15123c14d:function(e,t,a,i){return!e.get_val("haveuid","data_full")},d2eb02dfe44cd07bf36d408e88cd80c0737b933c:function(e,t,a,i){return e.get_val("haveuid","data_full")},dfe53bd585c1b2d8923c604f119ee9a31e0a7a69:function(e,t,a,i){return-1!=e.get_val()},e470fa10a8affc0a9a51da1b4038d3e9edd91c60:function(e,t,a,i){return-1==e.get_val("type","siblings")},db4cf8e72e17d54b31a901de00d43b6f17c2d13c:function(t,a,i){t.args={xds:"editSettings",nid:t.get_val("usernid","data_full"),openpanel:"body-notify"},e.get_func("lightbox")(t,a,i)},b1fdba29945deaef439ac6d0e5e62776e5d59188:function(e,t,a,i){return e.get_val("submanenabled","siblings")},"8118b1a9997cf6b01aa164299eff50a219786899":function(t,a,i){t.xds.nid=t.get_val("curreportingperiodnid","siblings"),t.xds.xds=t.get_val("curreportingperiodtype","siblings")==e.nt.Document.DistrictReportingPeriod(1)?"DistrictReportingPeriod":"ReportingPeriod",t.inherit("text")},"0817b19864314c42e981fcd2f173c519cb04c7a3":function(e,t,a,i){return e.get_val("curreportingperiodnid","siblings")},"58b16612e6b81e0e19344a7622f8194cb0ec377b":function(e,t,a,i){return e.get_val("ensenabled","siblings")},"9e191c9947ad06fe36d74b0912a32cad8b2c7a45":function(t,a,i){var n=t.get_val("ensenabled","siblings");n>0?(t.args.command="open_node",t.args.nid=n,t.args.noPath=!0):(t.args.command="create",t.args.nodetype=e.nt.Document(),t.args.nodesubtype=e.nt.Document.EmergencySetupData(!0)),e.get_func("lightbox")(t,a,i)},"8ca2e89345a0c7076808282b7d58aa5388075814":function(e,t,a,i){return(e.get_perm("AttendanceReport")||e.get_perm("Office")||e.get_perm("ScheduleCalendar")||e.get_perm("ReportingPeriod")&&e.get_val("currreportingperiodnid","sibling"))&&(e.get_perm("ZoomStudents")||e.get_perm("ZoomStaff")||e.get_perm("ZoomParents"))},"34d2ed904ffeb140ae030773ebfa765d084565a5":function(e,t,a,i){return(e.get_perm("ZoomRooms")||e.get_perm("ZoomClasses")||e.get_perm("ZoomPlaces"))&&(e.get_perm("ZoomStudents")||e.get_perm("ZoomStaff")||e.get_perm("ZoomParents"))},"7d5811fac68f5e9c8fcd39a1a80aa8114daa9ef9":function(e,t,a){e.inherit("boxModel",{width:(100/e.get_val("_len")).toFixed(2)+"%"})},"5dfe3fc21d480a70f18cbd56bc7697b0af60e253":function(e,t,a,i){return e.get_index()>0},ef669674ea6c6efc93f8821918b4af4ad6bcf340:function(e,t,a,i){return e.nt()},"0d98ea6c902f7e68b617035643bb2044586dc941":function(e,t,a){var i=e.get_val("documents"),n=e.get_val("libraries");if(i){var r={};for(var o in n)r[n[o].nid]=n[o],n[o].wrap.items=[];for(o in i)r[i[o].thread]&&r[i[o].thread].wrap.items.push(i[o])}},fbdd5df68b1abb7e723f3d6f325432068475e960:function(e,t,a){var i=new Date;e.data={today:{date:i},yesterday:{date:new Date(i.getTime()-864e5)},lastmonth:{date:new Date},lastyear:{date:new Date}},e.data.lastmonth.date.setMonth(e.data.lastmonth.getMonth()-1),e.data.lastyear.date.setYear(e.data.lastyear.getFullYear()-1)},f34b331107cb4517c95158651dba9131b5abcf0d:function(t,a,i){var n=e.get_obj(t.e.target).xds.id,r=e.get_obj(t.e.target).val();t.data[n]=r},"3439a42ce843b61f94c4787e2791ab3c0b17c9d1":function(t,a,i){t.displayVal=e.lookup("languagelookup",t.data).val()},e2f9ab5790455c15120aa0bc1574cd1c2d55e5f0:function(t,a,i){var n=t,r=e.lookup(n.arg("lookup")||"logorotation");for(var o in t.data={logo:[{description:"Default Edsby Logo",start:"Always",logo:0}]},r){var s=r[o];if(s.params){var d=new Date;d.setMonth(s.params.month-1),d.setDate(s.params.day),t.data.logo.push({description:s.params.title,logo:d,start:d.toDateString(),length:s.params.length,prefix:s.params.prefix})}}},"91686f7e47f9b2869e007526f84a8e88519c1e17":function(t,a,i){var n=t,r=e.lookup(n.arg("lookup")||"logorotation");for(var o in t.data={logo:[{description:"Default Edsby Logo",start:"Always",base:{body:{container:{logo:1}}}}]},r){var s=r[o];if(s.params){var d=new Date;d.setMonth(s.params.month-1),d.setDate(s.params.day),t.data.logo.push({description:s.params.title,base:{body:{container:{logo:d}}},start:d.toDateString(),length:s.params.length,prefix:s.params.prefix})}}},"8c0cd1a269df22523899bae9e7c099badce12f68":function(e,t,a){var i=e.state.get("code1");e.data=i,e.inherit("code.render")},"0374de6e29509b4ff26c492ab84c1b66e83348a0":function(e,t,a){e.state.set("code1",e.sibling("box",1).xdo.xds.events[0]._func)},"7d4c415201147fa937512a83c52eead166b07c13":function(e,t,a){var i=e.state.get("box1");e.data=i,e.inherit("code.render")},beaaf34a049468f876f6b8e1eea1375d16f684e1:function(e,t,a){var i=e.global("samplexdsvar");e.state.set("box1",JSON.stringify(i,void 0,4))},d1332f8c4648154fdaeed1de7153f341fa5389af:function(e,t,a){e.find("textarea").val(e.sibling("box",1).xdo.xds.events[0]._func)},"9ea54cbd32d9678e9a8d042ae3e1c12060ab37bb":function(e,t,a){var i=e.global("samplemlxdsvar");e.find("textarea").val(JSON.stringify(i))},"26bb55d1988cda7bb944adffbe7514eeb31e77fa":function(e,t,a){e.data={breadcrumbs:e.state.get("mock")}},"99f9d11e94a47ece348a36e0d248ee8a9e20b658":function(e,t,a){e.target().find("input").val(e.get_arg("value"))},"81ebe42e974f3bbfd4e516470a57352cbbc638f0":function(e,t,a){e.data||(e.data={}),e.data.list={item:[{display:"Test Item",value:"item1"}]},e.inherit("dd.multiSearch")},"3a955cbb748808cd76ff7c9b91a7adeef2c7a267":function(e,t,a){if("resubmit"!==e.caller().xds.id)return!1;e.inherit("f_hidden")},"2982db9d12726637cdabde08abe8dbde06e044b9":function(e,t,a,i){return e.has_role("Student")?e.nid("user"):e.get_setting("snid")},"48c51d861a13f3ab3c263567d4299b461a92fc27":function(e,t,a){if(!e.caller()||"resubmit"!==e.caller().xds.id)return!1;e.inherit("f_hidden")},"7631d1ebfdee25edc50ea6c4160bbdbce3ea9fc2":function(e,t,a,i){return!e.get_val("status")},"7eb36d3ea1f5819ca2275c202b842980236524dc":function(e,t,a,i){return e.get_val("status")},c56e8dc85fad226e8da5708c1d74c810406a559d:function(e,t,a){e.displayVal="<img src='"+gbl.dl+e.node.nid+"?field=map&size=300,300' width='300' height='300' border='0'/>"},cb26d24c562977622aa0aa29d8c86e3eafeafb66:function(e,t,a,i){return e.get_val("change","siblings")},"53273b57d52ee4f8521b9b3e36924dc51439b4ca":function(e,t,a){var i=a.pnid;delete a.nid,delete a.pnid,e.event("loadxds",{nid:i})},db25bb3d914470bf547a883d5a5c8b2d6d8dd2aa:function(e,t,a){var i=0;e.data&&e.data.school&&($.each(e.data.school,function(e){++i}),1===i&&$.each(e.data.school,function(e){this.selectSchool=1})),e.inherit("f_section")},"59224512ee980f3d5d0093b0b5e4b3aed4008902":function(e,t,a,i){return!e.get_val("canned","siblings")},acad7fd731f85500230dc8f46c99585af237149b:function(e,t,a,i){return!e.get_val("persist","data_full")},c8b466695f7c015a97e3797791097634d81bba71:function(e,t,a,i){return e.get_val("persist","data_full")},"99eb89bbe26a59e9043784a5f9f83a8f779b80bf":function(e,t,a,i){return e.get_val("persist","siblings")},"8dfd0b07acd31333c37de34d938d7a98354163ec":function(e,t,a,i){return!e.get_val("persist","siblings")},"478856f0ebaac948a2bdb7b5e0cd9c002456e35d":function(e,t,a,i){return e.state.get("keyLearningData")||e.state.get("growthInLearningData")||e.state.get("nextStepsData")},b7a20788d839bb50835029ae4acd50e3cfd7ff75:function(e,t,a){e.get_setting("evidence")&&e.set(e.get_setting("evidence")),e.inherit("f_hidden")},"9e4d2f9af105e6cc09dd04eedd8dfe0d19a8ee55":function(e,t,a){e.get_setting("student")&&e.get_setting("studentName")?e.data=[{value:e.get_setting("student"),display:e.get_setting("studentName")}]:e.data=e.get_val("studentList"),e.arg("choices","nid:"+e.caller().state.top().get("nid")),e.inherit("f_str")},"0981ef50a80c889802d50f17a6a5c888348a289b":function(e,t,a){e.state.get("standards")||e.state.set("standards",[]);var i=e.state.get("standards");if(i.length){var n=[];for(var r in i)n.push({eTags:i[r]});e.data={chiclet:n},e.sparse=!0}else e.sparse=!1},"4e090ba3121dad6abaf59df4f1cfdf174cabc7b1":function(e,t,a){e.state.get("tags")||e.state.set("tags",[]);var i=e.state.get("tags");if(i.length){var n=[];for(var r in i)n.push({tTags:i[r]});e.data={chiclet:n},e.sparse=!0}else e.sparse=!1},"61a37078cc0843ac2c5475edaeee41516cbe1c9d":function(e,t,a,i){return!e.state.get("keylearning")},"035eb14a8b989f4ef6defdcdca51b2c9bc3ea546":function(e,t,a){e.newEvent("lightbox",{nid:e.nid(),xds:e.get_arg("xds"),selected:e.get_xdo("*standardsData").val()})},b4833c9060cc7df883b3a036b7f6815d88371a3a:function(e,t,a){var i=Object.keys(e.get_arg("standards"));e.state.set("standards",i),e.get_xdo("*standardsData").val(i.join(","))},"30ef5a258d51da171df0a00b74f14fc158862bb8":function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),tags:e.get_xdo("*tagData").val(),nid:e.get_setting("class"),cloud:JSON.stringify(e.state.get("tagCloud"))})},d8c44d8dbbf09f35b308d7aadfbd03df669eb023:function(e,t,a){var i=e.get_arg("newData");i&&(e.state.set("tags",i.split(",")),e.get_xdo("*tagData").val(i))},"4e8199aeef37263dfb2c20cf694b33a506f00445":function(e,t,a,i){return!e.state.get("growth")},"55d07e2334554c678980947329bb334d3832d80c":function(e,t,a,i){return!e.state.get("nextsteps")},"1ad47f11fb719ab9b307ddf6871a909d69eb7549":function(e,t,a,i){return e.state.get("keylearning")},de3f01954404480fac106abb507be3e08adc7a5d:function(e,t,a,i){return e.state.get("growth")},"8fd698ea268407d98b8205e37cde343d2078d3ec":function(e,t,a,i){return e.state.get("nextsteps")},"1afb06c8cbed8dda644bbbb4cccbbb1add58a818":function(e,t,a,i){return e.get_val("evidenceNids")},b1709a7dd3ff53eb8eff801d6df3027480fcc885:function(a,i,n){t.parent&&t.parent.postMessage("EvidenceGatherClose-"+a.get_setting("student"),e.gbl.server)},"8505c835b407a3b3685ddffd335160661e6fa779":function(e,t,a,i){return 5==e.state.get("scaleFactor")},"20c6e3adb4b35bc3c7c00db27a1be19b854385ee":function(e,t,a){e.data&&(e.data='"'+e.data+'"')},f99e25c59c8ec06122617fc8d49abaef678fa30b:function(e,t,a){if(e.data){var i=[],n=e.data.split(",");for(var r in n){var o=n[r];i.push(o.split(":")[1])}e.data=i.join(" ")}e.inherit("EvidenceCollaborate.types.iconRow")},a4564fb69f083e79fb011e47499091e646ebebbf:function(t,a,i){t.data?(t.data="",t.inherit("span"),t.state.get("convoSummary")&&(t.data=e.lang(" and"))):t.inherit("sys")},f6114347c196ef9eacfdcee91613430b8f82ee8c:function(e,t,a){e.data?(e.inherit("span"),e.data=""):e.inherit("sys")},"2387797a4ebfe5588550be127c1abf89e9587370":function(e,t,a,i){return""!=e.data},c1c6f86cae72c1d96c455491fc3bc395c021bcc2:function(t,a,i){t.inherit("sys"),t.data?t.global("model",t.data):t.get_val("classNid")&&e.is_arr(t.get_val("classNid"))&&e.is_obj(t.get_val("classNid")[0])&&t.get_val("classNid")[0].nid?t.global("model",t.get_val("classNid")[0].nid):t.global("model",t.nid("gbl")),t.state.get("selectedStudents")||t.state.set("selectedStudents",{})},"92cf352920e87626bac8df35a845d95d1b2524ad":function(e,t,a){var i=[];for(var n in e.state.get("selectedStudents"))i.push(n);var r={xds:e.get_arg("xds"),nid:e.nid(),class:e.nid(),model:e.state.get("modelNid"),command:"create",noPath:!0};i.length>0&&(r.student=i.join(",")),e.newEvent("lightbox",r)},b1e1d56808be3d2da0817d3714d070ab16d8b171:function(e,t,a){var i=e.state.parent().data.selectedStudents;i[e.nid()]?delete i[e.nid()]:i[e.nid()]={nid:e.nid(),name:e.get_val("name")},e.state.parent().set("selectedStudents",i)},"5603e26cd1f67cb96bfb6a65e42bc2329f952b9f":function(e,t,a){var i=e.get_xdo("*text").val();"string"==typeof i&&e.target("caller").trigger("newData",{newData:i}),e.newEvent("lightbox.close")},"7f0e9930e4496ba46d205e1917fc420fc81bbf03":function(e,t,a){e.data=e.get_setting("currData"),e.inherit("f_multiline")},"9ab8b6e8bf3b7ea2210e97e051ceb8f8d8478626":function(e,t,a){var i=e.get_xdo("*text").val();i&&e.target("caller").trigger("newData",{newData:i}),e.newEvent("lightbox.close")},"2b758d8c3ff85993ddf6a40763e48d55f04bd97b":function(e,t,a){var i=e.get_setting("convo");i?(e.data=i,e.state.set("conversation",i)):e.state.set("conversation",e.data),e.inherit("f_hidden")},"39e064fb23595e37540a7f142ae3b5cc0d927318":function(e,t,a){e.inherit("f_hidden"),e.data&&e.state.set("standards",e.data.split(","))},f7300b0606fd87238b27522405fb6c59469e7f9d:function(e,t,a){e.inherit("f_hidden"),e.data&&e.state.set("tags",e.data.split(","))},"9fdeaf2e72b9e67ffdab45b13d22cf1843431d1f":function(e,t,a){e.get_setting("student")?e.data=e.get_setting("student"):e.data=(e.state.get("students")||[]).map(function(e){return e.nid}),e.inherit("f_hidden")},"8555cb5fcfd8f6677ff9147a263af35a615a768f":function(e,t,a){var i=e.get_arg("newData");e.state.set("observation",i),e.get_xdo("*obsData").val(i)},"7893d2fc72c9a7e73b36ba528a33975d0e7f8cb8":function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),currData:e.state.get("observation"),noPath:!0})},bc08b60b28d8966b747c58b9299be812ce94ea9e:function(e,t,a){var i=e.get_arg("newData");e.state.set("conversation",i),e.get_xdo("*convoData").val(i)},eada12113ed8b796601a7aad1d34d35a02958850:function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),currData:e.state.get("conversation"),noPath:!0})},"91a94533f94e5c3cdfa42b84efc28ecf3f7eb0cb":function(t,a,i){t.state.get("conversation")&&(t.displayVal=' "'+e.mlescape(t.state.get("conversation"))+'"')},"742bfa7993d63430fac6097ac8e06f5d751193b2":function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),selected:e.get_xdo("*standardsData").val()})},"2356fe62e650d0162904f29b8754a9b9d1dd35f5":function(e,t,a){e.state.get("standards")||e.state.set("standards",[]);var i=e.state.get("standards");if(i.length){var n=[];for(var r in i){var o=i[r];n.push(o)}e.data={standard:n},e.addStyle("display","inline-block")}else i.length||e.data.standard&&delete e.data.standard},"67ffeab2ca568d26b2c6b57a61ebdebf669c9062":function(e,t,a){var i=e.get_arg("newData");if("string"==typeof i){var n=i.split(",");""==i&&(n=[]),e.state.set("tags",n),e.get_xdo("*tagData").val(i)}},"9f200d3afbab75cec59b0a206d0e3f9a25b345af":function(e,t,a){e.newEvent("lightbox",{xds:e.get_arg("xds"),tags:e.get_xdo("*tagData").val(),nid:e.get_setting("class"),cloud:JSON.stringify(e.state.get("tagCloud")),noPath:!0})},"282a51cf3c674edaab9aa64c43a5df63c153dc6c":function(e,t,a){e.state.get("tags")||e.state.set("tags",[]);var i=e.state.get("tags");i.length?(e.data={tag:i},e.addStyle("display","inline-block")):i.length||e.data.tag&&delete e.data.tag},e24befdd00ff228f66bdfa018ab2a6f031162209:function(e,t,a){e.state.get("showto")&&"Teacher"!==e.state.get("showto")?e.data="1":e.data="0",e.inherit("f_checkbox")},"2389f92e93c804a25014b48d0e799f412ea792a0":function(e,t,a){"1"===e.val()?e.get_xdo("*showto").val("Teacher,Parent,Student"):e.get_xdo("*showto").val("Teacher")},e4e4cae3a699b566092f9ed3f9beb6985b9df242:function(e,t,a){var i=e.get_xdo("*tagInput").val();if(e.get_xdo("*tagInput").picker.dom.searchInput.val()){(i=i.split(",")).push(e.get_xdo("*tagInput").picker.dom.searchInput.val());for(var n=[],r=0;r<i.length;r++)""!=i[r]&&n.push(i[r]);i=n.join(",")}"string"==typeof i&&e.target("caller").trigger("newData",{newData:i}),e.newEvent("lightbox.close")},"9432aac1c1d480b1894c96ae6bfbb13d5f75bc44":function(e,t,a){e.data=e.get_setting("tags"),e.inherit("f_str")},"19bbe536b07c682e0442477030d9868dc248dec4":function(e,t,a){var i,n=JSON.parse(e.get_setting("cloud")),r=[],o=0,s=Number.POSITIVE_INFINITY,d=[];for(var l in n)o=Math.max(o,n[l]),s=Math.min(s,n[l]),d.push(n[l]);d.sort();var c=Math.floor(d.length/2);for(var l in i=d.length%2||1===d.length?d[c]:(d[c]+d[c+1])/2,n){var u=n[l],f=0;u>i?f=(u-i)/(o-i):u<i&&(f=(u-s)/(i-s)*-1),r.push({name:l,size:12+Math.round(4*f)})}e.data={tag:r}},"176244049750859c00bf6dedf891a2e8aee3e237":function(e,t,a){if(!e.get_setting("cloud"))return!1},c90cb2fcc65609774bd9d17b253d4b992fffbd0b:function(e,t,a){var i=e.data;e.data=i.name,e.addStyle("font-size",i.size+"px")},"31c41f68ed1b0e215c8ee079203d079c5da65ac4":function(e,t,a){var i=e.get_xdo("*tagInput").picker;i.get_val().toLowerCase().indexOf(e.get_val().toLowerCase())<0&&i.set_val(e.get_val())},"370fe513df049917702621d62066eb934c901d9c":function(t,a,i){t.inherit("sys"),t.data?t.global("model",t.data):t.get_val("classNid")&&e.is_arr(t.get_val("classNid"))&&e.is_obj(t.get_val("classNid")[0])&&t.get_val("classNid")[0].nid?t.global("model",t.get_val("classNid")[0].nid):t.global("model",t.nid("gbl"))},"30ea58a70016cd75f5ddcdc5e874416e36d25457":function(e,t,a,i){return e.state.get("selectedStudent").name},ec014b7d81a336e58535966db8c350a2f6a4cf16:function(t,a,i){e.lookup("r","Dropped").cmp(t.data)?t.displayVal=e.lang("Dropped"):t.displayVal=""},e0b64b95113360942a842a6a7bd0e608c98a3570:function(e,t,a){e.data=e.state.get("organize"),e.inherit("f_radioGroup")},e78428caabd04479f828ab5716bd8c1238f1e9fb:function(t,a,i,n){return e.platform.tablet||e.platform.phone},e801771dfb69cbcb6fc2421e74f5e778b7183412:function(e,t,a){e.set(e.get_setting("evidence")),e.inherit("f_hidden")},"314196e6821e48557e0de7fc3fc8064d3fa072cb":function(e,t,a,i){return e.get_setting("replyto")},"40788bb1f74afb7b65c2a1c82fc89e9e73a1babd":function(e,t,a,i){return e.get_setting("replytouser")},"36d99af5524622d96b6030e13c83802105d0ae15":function(e,t,a,i){return e.get_setting("threadid")},"592a7aeb3b4d53eb986964bf9667d37f2a1d7c81":function(e,t,a){e.data=e.get_setting("evidence"),e.inherit("f_hidden")},fa81e40f9103d2a13ab899bbf714cd38daab142a:function(e,t,a){e.data=[{value:e.get_setting("student"),display:e.get_setting("studentName")}],e.inherit("f_str")},"932e8a026d8c291e54dc5bac4ddb7f6e9f6e7ee5":function(e,t,a,i){return e.get_setting("evidence")},d18d6c14d004c9937317dc4f3eafd5c1f4f187f8:function(e,t,a){var i=e.get_setting("evidence").split(",");for(var n in i)i[n]&&e.newEvent("loadxds",{nid:i[n],target:e.get_arg("target"),append:!0,xds:e.get_arg("xds"),noForm:!0})},a60333f6d561519459d9c8f552bb42173feee870:function(e,t,a){e.data=e.get_setting("student"),e.inherit("f_hidden")},"072f59b472910fb968c8ab5db17d7d0cc1dcaabd":function(t,a,i){t.data?(t.data="",t.inherit("span"),t.state.get("preparedAmalgamatedFiles")&&t.state.get("preparedAmalgamatedFiles").length>0&&!t.state.get("convoSummary")||t.state.get("preparedAmalgamatedFiles")&&0===t.state.get("preparedAmalgamatedFiles").length&&t.state.get("convoSummary")?t.data=e.lang(" and"):t.state.get("preparedAmalgamatedFiles")&&t.state.get("preparedAmalgamatedFiles").length>0&&t.state.get("convoSummary")&&(t.data=",")):t.inherit("sys")},f16abc79d63f37d7bde7312c89927f8ce343f5a4:function(t,a,i){t.data?(t.inherit("span"),t.data="",t.state.get("preparedAmalgamatedFiles")&&t.state.get("preparedAmalgamatedFiles").length>0&&(t.data=e.lang("and"))):t.inherit("sys")},"8e807ecad69e4357287a6c66e15f2f995ac55452":function(e,t,a){e.inherit("sys");var i=e.global(e.data)||0;e.global(e.data,i+1)},f168c8066a3fffde94cd6d3398d3a4da3c31cf74:function(e,t,a,i){return e.has_role("Teacher")&&e.get_setting("course")},"01b08bdba18c61e21862c92e9895ce028a2ffe00":function(e,t,a,i){return!e.has_role("Teacher")||!e.get_setting("course")},"92bf88dd2cc115c2b1c410dbedc53863aa49f68a":function(e,t,a){e.state.get("unread")&&e.addClass("xdl-unread")},d64c5a6e79a9ae1a00cc1e299c2ef5baf26011c6:function(e,t,a){e.data&&(e.data='"'+e.data+'"')},"8f11ec2b7396b058adb5c9a7c9373ade1b77cfa3":function(e,t,a){e.xds.title=e.data.course+":"+e.data.code,e.xds.tooltip=e.data.text,e.inherit("fa.icon")},"7cc3734bbc9ba2bf8b34da44e689a666bafeea00":function(t,a,i){var n=1&t.data?0:1;e.post({url:{command:"putfield",xds:t.get_arg("xds"),nid:t.cnid()},data:{rid:t.get_val("rid"),field:1,value:n},success:function(){t.state.set("pin",n)}}),t.data=n?t.data+1:t.data-1,t.update()},"9e73c61c27445bb187c9b6cd54a09f4fd9754a27":function(t,a,i){var n=1&t.data?0:1;e.post({url:{command:"putfield",xds:t.get_arg("xds"),nid:t.cnid()},data:{rid:t.get_val("rid"),field:1,value:n},success:function(){t.state.set("pin",n)}}),t.data=n?t.data+1:t.data-1,t.update()},"86a615172a958b17bb9ed03a35d2f74205aba8be":function(e,t,a){var i=e.global(e.nid())-1;e.global(e.nid(),i),e.state.set("replies-"+e.nid(),i)},"2004e9e5987c96de126b86cb58f3f4cb443bc35b":function(e,t,a){var i=e.global(e.nid());isNaN(i)&&(i=0),i+=1,e.global(e.nid(),i),e.state.set("replies-"+e.nid(),i)},"51e07b067e678956bf7912c91a11e3fe08e3601d":function(t,a,i){var n=t.global(t.nid());t.state.get("replies-"+t.nid()),n||(n=0),n>1||0==n?t.data=n+" "+e.lang("Comments"):1==n&&(t.data=n+" "+e.lang("Comment"))},"2bb779256749286e2573fbbaddf04559cefa17e6":function(t,a,i,n){return!(e.platform.mobile||e.platform.tablet)},a3aacb93799472fda238d7bd3f4594ab09fce3e7:function(t,a,i){t.state.get("likes")?t.data=t.state.get("likes").votes:t.data=0,0===t.data?t.inherit("sys"):1==t.data&&(t.xds.title=e.lang("like"))},"67cdf5355303826120a373abf6ac5ae71b6c42f5":function(t,a,i){var n=t.global(t.nid());n||(n=0),n>1||0==n?t.data=n+" "+e.lang("Comments"):1==n&&(t.data=n+" "+e.lang("Comment"))},"1fb4f29e9e558cea40aec954454cde0b08b5fe0e":function(e,t,a){rfUnread("p")},"73824178bd3df414e370620bc018b6633549ef9a":function(e,t,a,i){return e.get_val("studentnid","siblings")!=i.nid},ef36f7615638528fc655b0bd6d51a403f10936af:function(t,a,i,n){return 3!=t.get_val("state")&&(t.nt()==e.nt.Document.Assignment()||t.nt()==e.nt.Document.Discussion()||t.nt()==e.nt.Document.IndividualAssessment())},"60ecb65815341602d163973a277948fe5c79c964":function(e,t,a,i){return e.get_val("pnid","rnode")&&e.get_val("pnid","rnode")!=e.data_full.nid},"3dd59b0eeef4f390d61b94bd97cd79cc87a8bc29":function(e,t,a,i){return e.has_write("assignment")},"08d74e3e2bcf3e2aded996656606ec3774155f45":function(e,t,a,i){return!e.has_write("assignment")&&2==e.state.get("esubmit")&&e.has_read("OnlineTestTake")},"02d8fda4e6da447e81f9b1eea52d6f294a15b3ac":function(e,t,a,i){return!(e.has_write("assignment")||2==e.state.get("esubmit")&&e.has_read("OnlineTestTake"))},bc66ad63c19dc3914d7e5a43af03b25ba427d5cb:function(e,t,a,i){return e.get_val("teachersNid","siblings")},"7a5fac136004ac884dddd6a831dcf23df07f8bf2":function(e,t,a,i){return e.get_val("classNid","siblings")&&e.get_val("classNid","siblings")!=e.data_full.nid},ee6f87089a03578cbafa713ab8cd1ab5f4037ebc:function(e,t,a,i){return e.get_val("studentnid","siblings")&&e.get_val("studentnid","siblings")!=i.nid},"37b2668a82f3ef9a2cb4478ccfa741078dcbdf0d":function(e,t,a,i){return 2==e.get_val("attType","siblings")&&!e.get_val("actionType","siblings")},"365987901f1dafd1fc9e83f70baf1354fd1819fa":function(e,t,a,i){return 2==e.get_val("attType","siblings")&&1==e.get_val("actionType","siblings")},"2f6a6683e181286047d33ab0e969a90c405d2d3a":function(e,t,a,i){return 2==e.get_val("attType","siblings")&&2==e.get_val("actionType","siblings")},"20bf23f2ffa7ecffe697b93a16f4955c4327fd0d":function(e,t,a,i){return 2==e.get_val("attType","siblings")&&3==e.get_val("actionType","siblings")},"729f8c6d41a079be2e7a20d0fdaff4ca3b98d067":function(e,t,a,i){return 2==e.get_val("attType","siblings")&&4==e.get_val("actionType","siblings")},"9bd453a3c02148382e4f7850361c37ead7db608c":function(e,t,a,i){return 2==e.get_val("attType","siblings")&&5==e.get_val("actionType","siblings")},"3b1c59d7dd904574b9c1f94b744f59ee96eff602":function(e,t,a,i){return!e.get_val("attType","siblings")||1==e.get_val("attType","siblings")&&(!e.get_val("resolvedCode","siblings")||"0"===e.get_val("resolvedCode","siblings"))},"4c82c688521b67155c2f8f893417a1eed5286066":function(e,t,a,i){return 1==e.get_val("attType","siblings")&&e.get_val("resolvedCode","siblings")&&"0"!==e.get_val("resolvedCode","siblings")},effca924639b16560610f3903b6021df5cdd03cb:function(e,t,a,i){return 2==e.get_val("attType","siblings")},"906cd5057b189671f7ab1187c0be82c126ae9b04":function(e,t,a,i){return-1!==["0","1"].indexOf(""+e.get_val("attType","siblings"))},"445e5080b5d1a90a216b7e44139ba2d950d30131":function(t,a,i,n){return e.get_module("attendance_public").code_string(t.get_val()||0,t.get_val("reason","siblings"),1==t.get_val("attType","siblings"))},dcf74b2b04fec97f5cc9819e558989fd57a513bd:function(t,a,i,n){return!e.isSameYear(t.get_val(),new Date)},"061fbbe9d9bb60171287390a152fb2eb872f844c":function(e,t,a,i){return e.get_val()&&!e.get_val("enddate","siblings")},d60ef73d65f9c22a85ad51c3aa33742cd3c0966c:function(e,t,a,i){return e.get_val()&&e.get_val()!==e.get_val("startdate","siblings")},"47da9abb7008af1831fbd1e92b3510d168e7d21e":function(e,t,a,i){return e.get_val("enddate","siblings")&&0!=e.get_val("code","siblings")},"2aab57bd44ebe6cf0900ab3221ffebac8b7a25ff":function(t,a,i,n){return!e.isSameDate(t.get_val(),t.get_val("startdate","siblings"))&&0!=t.get_val("code","siblings")},"73633ab9a0f1ad9793651ec558c02e2d6bc04d03":function(t,a,i,n){return!e.isSameYear(t.get_val(),t.get_val("startdate","siblings"))&&0!=t.get_val("code","siblings")},"0c757800b4d8d97d6bfcc570d9e6cedeeb003f3a":function(e,t,a,i){return 0!=e.get_val("code","siblings")},e333c27a9415ab64af66f7c331ab18eb7f48b4cb:function(e,t,a,i){return e.get_val()&&"UNK"!==e.get_val()},"6b8e0921be7dbc82777d95f065a1f2cafcbc5942":function(e,t,a,i){return e.has_read("CalendarEventLB")},c743bc457dbdd680d55cb3a084b74d9fd263dfb0:function(e,t,a,i){return!e.has_read("CalendarEventLB")},"411814ecf278a185669743f92a290a08b0281950":function(t,a,i){var n=e.parseDate(t.state.get("sdate")),r=parseInt(t.state.get("duration"),10),o=new Date(n.valueOf());t.state.get("allday")?(r||1)>1?o.setDate(o.getDate()+(r||1)-1):o=void 0:o.setSeconds(o.getSeconds()+(r||3600)),t.map({sdate:n,edate:o}),t.inherit("text")},"3e0d0bf1109d17e6ed5768df419cc77e1e876e6c":function(e,t,a,i){return!e.state.get("allday")},"3541e826dfc13879043cdd5212db1b962fb66db0":function(e,t,a,i){return e.get_val()?" - ":""},"24d24aaa41c89880d720110183d5d044230483fb":function(t,a,i,n){return!e.isSameDate(t.get_val(),t.state.get("sdate"))},"8d14047b339b0a3fb810bb90b67d5865475fd156":function(t,a,i,n){return!e.isSameYear(t.get_val(),t.state.get("sdate"))},"474ded6ab29ae328fd1cdb12213031fd26df8998":function(e,t,a,i){return e.state.get("allday")},c04256c5f3e24600b11ef1e95a1c6c228d3f6955:function(e,t,a,i){return e.get_val("unid","siblings")},"575c2a1838695216a1f9a55d67710303aabf06b2":function(e,t,a,i){return e.get_val()&&!e.get_val("user","siblings")},"471ab67b1b445642c5b2d283ca316fd4487322b3":function(e,t,a,i){return e.get_val("right-infoupdate-fields","rnode")},"63d4126f022e85f3618ad34cb510f4dafa9abf69":function(e,t,a,i){return e.get_val("right-infoupdate-correction","rnode")},"420f55d02c9f01185401e4c0d6eca1b53be11d2a":function(e,t,a,i){return e.get_val("diverged","siblings")},"135932d8b00ee06598f0a652b12031bb8ba6ffcc":function(e,t,a,i){return function(){for(var t=e.get_val("right-infoupdate-fields-field","rnode"),a=t?t.length:0;a-- >0;)if(t[a].diverged)return!0;return!1}()},"7e8e1f8ac2d833af1dcd96e34e71619ddd051124":function(t,a,i){var n={xds:"FIBPoll",command:"open_node",nid:t.cnid()};e.get_func("get_data")(n,function(e){e.type&&e.type.poll&&t.id(1).find(".FIBPoll-type-poll").trigger("pollDataChanged",e.type.poll)})},"86729d2baf8f28045fdfcf818281a7c65992e815":function(t,a,i,n){return e.get_func("polls.canViewVotes")(t)&&e.get_func("polls.hasVotes")(t)},e518506c8937a36e9b08fb43b3be8ed15cbea814:function(e,t,a,i){return e.data&&e.data.length>0},"6d0649a87f1e2f3aad41db375c0ddece4d812ec5":function(e,t,a){var i,n,r=(e.state.get("avail")||"").split(","),o=[{value:"",display:e.arg("titleAll")}];for(r.sort(),i=0;i<r.length;i++)(n=r[i]).length&&o.push({display:n,value:n});e.arg("list",o),e.inherit("dd.multiSelect")},"432a007f79bfcf216ecd79c43d6631a6ada34e76":function(e,t,a){if(-1!==[0,-2].indexOf(e.state.get("tls")||0))return e.exitBlank(!0)},"89ee4b4c12462f474647b0cda287831dcb5770a2":function(e,t,a){if("AD"!==e.state.get("servertype"))return e.exitBlank(!0)},"7aac3cae3fbfa6177a9c25c0a07d312bba581586":function(e,t,a){if("AD"===e.state.get("servertype"))return e.exitBlank(!0)},"9d1e293f66ba4af9433e88dc24e29dbd6cb598a9":function(e,t,a){if("_RAW"===e.state.get("ldapuserfld")||"AD"===e.state.get("servertype"))return e.exitBlank(!0)},"56506ae0b61862198b13b721c2971d250f7c1d85":function(e,t,a){if("_RAW"!==e.state.get("ldapuserfld")||"AD"===e.state.get("servertype"))return e.exitBlank(!0)},cb717bf415588d7896b300a285f901d2ea8da6eb:function(e,t,a,i){return e.has_read(e.arg("xds"))},"39e6b5072222aad70c9cbd6a0af6e08593720900":function(e,t,a){e.arg("nid",e.caller().caller().state.top().get("nid")),e.inherit("dd.serverSelect")},"4b6ffa977c2a995ebbcc543aaf0e0c5d9415c15c":function(t,a,i){var n=e.get("crypt"),r=n.HMAC(n.SHA512(),"client_id"+t.get_target("this:AuthOAuthClient-client",1).find("input").val()+Math.floor(4294967295*Math.random()),t.get_val("nid","caller")+e.gbl.p+e.dateFormat(new Date,"iso"),!0);t.get_target("sibling:key",1).find("input").val(r)},a18ce18aba3cccc8bec910eecdc11e51a94432b6:function(t,a,i){var n=e.get("crypt"),r=n.HMAC(n.SHA512(),"client_secret"+t.get_target("this:AuthOAuthClient-client",1).find("input").val()+Math.floor(4294967295*Math.random()),t.get_val("nid","caller")+e.gbl.p+e.dateFormat(new Date,"iso"),!0);t.get_target("sibling:secret",1).find("input").val(r)},"81a6a61c2bf36152cda3df6f2704fce69eefb598":function(e,t,a){var i=e.state.get("cuser_nid");e.arg("nid",e.caller().get_val("nid","data_full")),i&&e.arg("list",[{value:i,display:e.state.get("cuser_name")}]),e.inherit("dd.serverSelect")},"9fedfdc3a344be2cb4457877b12063c5e05d7d98":function(e,t,a){e.get_val()||(e.set(e.state.get("title")),e.state.set("instance",e.get_val())),e.inherit("f_str")},"2668fe0ebefc3fe9f6461fd2f7c76614a11fa6c0":function(e,t,a){if(e.state.get("linkexternal")&&!e.state.get("linkexisting"))return e.exitBlank(!0)},"707326d00e2963ab62caf19dcdff723155d4332e":function(e,t,a){e.newEvent("trigger",{eventName:"newSecondaryPage",target:"caller"}),e.event("lightbox.close")},"48c2133216b99f5baeded9591bd66b728c9059e8":function(e,t,a,i){return!1!==e.get_val()},ff5aea03ca2d6ece8d500865fa2c2bc228b1c95f:function(e,t,a){!e.get_val()&&e.set("⊘")},"0aabc40102ee090e53c1e139181e9b3f7c5880f2":function(e,t,a){e.get_val()||(e.set("⊘"),e.addStyle("color","#FF0000"))},"0b3e72f9e0167bf7052acf5eda7803316509bd2f":function(e,t,a,i){return e.get_val("avail")},"1c422f8e184240faf774b34bbbb59bdc8cb45eb0":function(e,t,a,i){return e.get_val("domain","data_full")},"4eddc69aafb7d653ef07865fe8a36f1688fcdeb9":function(e,t,a){e.arg("target","*"+e.xds_this.id),e.inherit("help.section")},ba641d6a48161c5282ec942eea603cf02946feea:function(e,t,a){e.find("li").length&&e.dom().removeClass("hidden")},e812bab2b4421bd219205ffdd9275f78418afa4f:function(e,t,a,i){return e.get_val("enabled")},fc2b8482cfe4ee7ead6bd5637e0b6cdadc6ef63a:function(e,t,a,i){return e.get_val("installed")&&e.get_val("enabled")},"06a9a424af2de160b3aff126b2d085578dc7bbb9":function(e,t,a){1&e.get_val("pin")&&e.trigger("newPinContentAvailable"),2&e.get_val("pin")&&e.trigger("newLibraryContentAvailable")},"26746be253789cc704fcaae4f8f623707166c583":function(e,t,a,i){return!(16&e.get_val("pin"))},"38426aeea5a342e43c8c5c40ba710411df5c9da6":function(t,a,i,n){return"Virus"!==t.get_val("Content").Scan&&t.nt()!=e.nt.Document.Bookmark()},"4c35c4ce65a49210fc6a7a5cb55934b163d8cd3a":function(t,a,i,n){return e.settings.fileprocessors&&"Virus"==t.get_val("Content").Scan},"0bb352b66ae02b3585335931eae699222632752a":function(e,t,a,i){return e.get_val("Content").viewxds},"45fffd47179e23953aa26ac0d9c951a67d2e0872":function(e,t,a){var i,n=e.parent_xdo().parent_xdo().data;n&&n.thumb&&n.thumb.href&&(i=n.thumb.href),i&&(e.addAttr({href:i,target:"_blank"}),e.tag("a"))},ae6dec8fd1c1d2877341ea4f4041e87ae8ead4b7:function(t,a,i,n){return t.nt()==e.nt.Document.Bookmark()},"1ed726d95f193771b6deed36448bd43831266069":function(t,a,i,n){return"Virus"==t.state.get("Content").Scan||t.state.get("Content").viewxds||t.nt()==e.nt.Document.Bookmark()||t.state.get("Content").Processing},d1b58ebada8983c5eedb8f28dead29fd98470797:function(e,t,a,i){return"Virus"==e.state.get("Content").Scan||e.state.get("Content").Processing},a901a0a22a9ab4bce67e8e3f2e7cdea11bc78874:function(t,a,i,n){return e.layout.isPhone()},"677341122e337f33c401a3f1fc205d6bd8a544f1":function(e,t,a){e.state.set("classifier","icon")},"86733e1bab042e6945cc6fb3c0daae69ce60a74a":function(e,t,a){e.state.set("classifier","row")},f62a4023f644834378555cc0e8d6273b61a4443f:function(e,t,a){var i=e,n=i.state.get("itemSort");i.data=n.sortfield,i.inherit("dd.select")},d8c1f0e5936efe91f75ded3b96b177314bc03c87:function(t,a,i){var n=t;("row"!=(n.state.get("dynamicclassifier")||"icon")||e.layout.isPhone())&&n.exitBlank()},c5fe299db1df44164c20b4157720b01a72f492d2:function(e,t,a){var i=e;i.parent_xdo().data.icon={files:i.parent_xdo().data.files},i.parent_xdo().data.files={file:i.parent_xdo().data.files},i.parent_xdo().data.name=i.parent_xdo().data.files.file[0].Content.ContentName,i.inherit("sys")},"397e0806f5a8052a2ffd48117b283da12842be41":function(e,t,a){var i=e,n=i.parent_xdo().data;n.files?(n.image=n.files[0].Content.thumbnail,n.bookmarkname=n.files[0].Content.ContentName):(n.image=n.file,n.bookmarkname=n.name),i.inherit("sys")},"10a1b79faf1e136451dc6bb7c5d38767340789f4":function(e,t,a){var i=e;i.data&&i.data.files&&i.data.files[0].Content&&new RegExp("image/.*").test(i.data.files[0].Content.ContentType)&&(i.data.file=i.data.files[0].Content,i.data.file.nid=i.data.files[0].nid,i.data.name=i.data.file.ContentName),i.inherit("FolderIconBase.icon")},"7bcb2bca7258b29b74e115f8bf06f7bd952ca9d2":function(e,t,a){var i=e,n=i.parent_xdo().data;n.image=n.file,n.imagename=n.name,i.inherit("sys")},e81736ead061b54edc60e67607721c16a7a87086:function(e,t,a){var i=e.get_setting("tags")||[];e.data={tagInput:i.join(",")}},"5e41aeaf8f1f74c60e62f3140bcb8ab7505885c8":function(e,t,a){var i,n=e.get_val("cloud"),r=[],o=0,s=Number.POSITIVE_INFINITY,d=[];for(var l in n)o=Math.max(o,n[l]),s=Math.min(s,n[l]),d.push(n[l]);d.sort();var c=Math.floor(d.length/2);for(var l in i=d.length%2||1===d.length?d[c]:(d[c]+d[c+1])/2,n){var u=n[l],f=0;u>i?f=(u-i)/(o-i):u<i&&(f=(u-s)/(i-s)*-1),r.push({name:l,size:12+Math.round(4*f)})}e.data={tag:r}},ab0df739149ef3de68ca7659f22aef53a23bf8b4:function(e,t,a){if(!e.get_val("cloud"))return!1},c217353073bb5c1d9110c1e2640512a2fb951796:function(e,t,a){e.target("caller").trigger("itemSelected",a),e.newEvent("lightbox.close")},"631de96c9654b8bb7576998118574ee4b4e6fb38":function(e,t,a){e.target("*body").trigger("getNewFolderItems",{newNid:e.get_val("nid"),name:e.get_val("name")})},"08cb3c61f1449304e213ff74332bc90081d1c498":function(t,a,i){t.nt()==e.nt.Container.PersonalFolder()&&"PersonalFolder"==t.data&&(t.data=e.lang("My Personal Folder"))},"2c8810cd49430d39468d87a7d154e1df944df332":function(t,a,i,n){return e.get("folders.checkFilter")(t)},"231593eebc396201a919e93573d774ea205ac222":function(t,a,i,n){return!e.get("folders.isFolderType")(t)&&(null==t.get_setting("selectionLimit")||t.get_setting("selectionLimit")>1)},"8b7294ed2f00b309269cda7bdf36fd080af75200":function(t,a,i,n){return e.get("folders.isFolderType")(t)},"2594fe5f175c67a1aefb62167bd492a532adfda6":function(t,a,i,n){return!e.get("folders.isFolderType")(t)},f2a39e00b24ed13bdbc9350ac3d50d836309ec87:function(e,t,a){e.target("caller").trigger("itemSelected",e.global("selectionObject"))},"7bf3f6cf3a48962d8ece6bc2e6b526f0c579fcea":function(e,t,a){e.trigger("itemSelected",e.global("selectionObject"))},"5f6b72fcbb753a405da8b89841daaeda5669ae32":function(t,a,i){var n=t,r=n.parent_xdo();if(r.data.body={name:r.data.name,tags:{tag:r.data.tags}},r.data&&r.data.files&&r.data.files.length>0){r.data.body.name=r.data.files[0].Content.ContentName,r.data.files.length>1&&(r.data.body.name=e.tpl(n.arg("titleMulti"),{fileName:r.data.body.name,number:r.data.files.length-1}));for(var o=0,s=0;s<r.data.files.length;s++)o+=r.data.files[s].Content.ContentSize;n.parent_xdo().data.size=o}else r.data.file&&(r.data.body.name=r.data.file.ContentName,r.data.size=r.data.file.ContentSize)},"1099042c02c059119f22b965824532c9f40fcb73":function(e,t,a,i){return e.data.tag},c6786880e1277dc01d8f55ab3aaac76fed820e11:function(t,a,i,n){return t.get_val()&&t.nt()!==e.nt.Document.LTILink()},"875b80c27d73748e101c241251b4e0f389faadb6":function(e,t,a,i){return 6.3==e.nt()&&!e.get_val("bookmark","siblings")},d93345098ef0bdc487052a30d6738f5bd33b2842:function(e,t,a,i){return 4.3==e.nt()&&""==e.get_val("bookmark")},"5cacd47549c6b39514f2ee97c549aab43cedd260":function(e,t,a){1===a?e.trigger("xds-gearMode-internal-itemChecked"):e.trigger("xds-gearMode-internal-itemUnchecked")},ff65aad2381f08143182308df3abb748e4faa247:function(t,a,i,n){return t.nt()==e.nt.Container.UserFolder()},"1eb79e79eb6f4d1197c3e43cf110f76946dae7f1":function(e,t,a){var i=e.global("height"),n=e.global("width");e.dom().css("max-height",i+30+"px").css("max-width",n+"px")},d5ec13b9b1de2a0176c5e4c3f288c8bef5efec9f:function(t,a,i,n){return e.get_func("files.hasViewer")(t)},"8ec06ce836280216a799b3221f4e2b8b74bc3f8f":function(e,t,a){e.data=(new Date).getFullYear()+" ",e.inherit("span")},"598d7e1077cc8c4705372a918fe8bace50479dbe":function(e,t,a){e.state.set("scheme",e.arg("defaultValue")),e.inherit("f_hidden")},b1bbdcfc6a1e10ec1a85755e018f420e340f0c01:function(e,t,a){e.event("post",{data:{nidRubric:e.state.get("nidRubric")}})},"9d86ed215f52286e9cba8e380e4e8c80b0a5e097":function(e,t,a,i){return"2"==e.get_val("summative")||"0"==e.get_val("summative")},"74a0822d5b31782967a83e8b2d924fd256580525":function(e,t,a,i){return"0"==e.get_val("summative")},"0a338c2f11c840bc51cd574cd2e764d0a26dbb11":function(e,t,a,i){return!e.get_val("subBuckets")&&void 0!==e.get_val("colweights-0")&&"0"!=e.get_val("summative")},"65cbafdfcb5376330b58f9501caeeb88821e8255":function(e,t,a,i){return"0"!=e.get_val("summative")},"1822f20c8f430b7ddd0f63b9944aed88be133447":function(e,t,a,i){return e.get_val("bucket")},"7e35f465751672ae7719edbe035c82bd06f99034":function(e,t,a,i){return!e.get_val("bucket")},"23729a4bacdcc13dbf5437454a9bbc9dd0c2f471":function(e,t,a,i){return new Date},"1710fe293e2b10174da5ae76ac8862d383b14214":function(e,t,a,i){return e.siblings.gradebox.grades.dropped},"5295e8f75742955e7936e4630e24476c1164648c":function(t,a,i,n){return e.lookup("assessmentTypes",t.get_val("type")).str()},"8395ca5816856aba0d288a5c801c28d460d41a6e":function(e,t,a,i){return status},b78141c6071f0a95e66cfb0a726ffdcccfeb6707:function(e,t,a,i){return e.has_role("Staff")||1!=e.state.get("showflag")},"08f4494f9cfb4dd9a83841c358a553659662072e":function(t,a,i,n){return e.get_func("Folder.showif.crumbs")(t)},"7a7202e603f776b00d91cf5ad654d739da96c158":function(t,a,i,n){return!e.get_func("Folder.showif.itemShowIf")(t)},"7ec1bc961d2f5283786458e8b1b054755bf38108":function(e,t,a){e.event("trigger",{nid:e.nid()}),e.newEvent("lightbox.close")},"5279e5cbdbdf5d0f0e9e1c49b770d1bf5ad488ec":function(e,t,a,i){return e.get_val("formativeString")},c62d0d7387dc377ddba8f2538bec47ad6d25128b:function(e,t,a,i){return 1!=e.get_val("SPIVisibility")&&void 0!==e.data.flag&&4!==parseInt(e.data.flag)},"46624a397640b8e1940bb865a2699714a9fea796":function(e,t,a,i){return 1===e.get_val("count")},c1305e8d144a7642db71f6fc51060540bcb4bdc0:function(e,t,a,i){return 1!=e.get_val()},"156a6cd930513aecbff00cae35bd4c6cb80ade03":function(e,t,a,i){return!e.get_val("subBuckets")},"474659a8155dbfe8acd6b1dbbf36284be1fa76d2":function(e,t,a,i){return e.get_val("subBuckets")},"568ae39430ad3fa8acbd648a8aabb5792ae64827":function(e,t,a,i){return 1==e.get_val("count")},"5abff8b6297009617ca1511ea3d8bfc1f07a96e0":function(e,t,a){!e.get_val("placemember")&&e.get_val("invitation")?(e.on("click","lightbox",{xds:e.arg("xdsNonMember")}),e.inherit("profpicName",{xdsclick:void 0})):e.inherit("profpicName")},"9b69763855d9af55731b37c9ae77e3e8d3f5871f":function(t,a,i,n){return t.nt()==e.nt.Container.PDGroup()&&t.state.get("defaultView")!=t.arg("xds")},"516bc55027417c900a1273f74bd5069d71f4b47a":function(e,t,a,i){return e.get_val("nspaces")>0},e52e99b60ac4f83796ce3cda83a147c86633e4a7:function(e,t,a,i){return 0==e.get_val("nspaces")},ae766b1fb1b47efd08676352e1d9a93724c4d468:function(e,t,a,i){return 1==e.get_val("permPost")&&1==e.get_val("permReply")&&!e.has_role("Student")},"0a6722ea6e8aeb3d5c6ac543014b4e0db08cbdaf":function(e,t,a,i){return 1==e.get_val("permPost")&&1==e.get_val("permReply")&&e.has_role("Student")},"85a52e061ce35741edca794a029d4936feedd719":function(e,t,a,i){return!e.state.get("tagPickerDirty")},"08f06aa2da220d320ffd85c810d31b7aa6da748a":function(e,t,a,i){return e.state.get("tagPickerDirty")},c77dffb4b34288018310efd975aa0dad20da0cc2:function(i,n,r){var o=e.gbl.host;2==i.get_setting("ver")&&"android"==i.get_setting("platform")&&(o="mobile");var s=e.tpl("edsby://{{server}}/core/node.json/?xds=CompleteIntegrationLogin&authticket={{ticket}}",{server:o,ticket:encodeURIComponent(i.get_val("body-key"))}),d=function(t){var i=$(a.createElement("meta"));i.attr("http-equiv","refresh"),i.attr("content",e.tpl("0;URL={{url}}",{url:t})),$("head").append(i)};e.notif.disableUserChanged(),e.ajax({url:e.gbl.p+"/core/logout?why=HandoffToNative&noredirect=1&ebonly=1",callback:function(e){d(s)}}),t.navigator.userAgent.indexOf("Edge")>-1&&i.target("*launch").show()},"6d5fa4e8db2ef7d8507a07169e6544bb1b5c088e":function(e,a,i){t.setTimeout(function(){e.target("*launch").show(),t.close()},2e3)},d0e99b91960846bc814c2140ae9925bd66a3a221:function(e,a,i,n){return t.navigator.userAgent.indexOf("Edge")>-1},"785a8467a90fb0a1abedc2eaca0f60cb67851587":function(t,a,i){var n=e.gbl.host;2==t.get_setting("ver")&&"android"==t.get_setting("platform")&&(n="mobile");var r=e.tpl("edsby://{{server}}/core/node.json/?xds=CompleteIntegrationLogin&authticket={{authticket}}",{server:n,authticket:encodeURIComponent(t.get_val("key"))});e.links.openUrl(r,"_blank")},de0e0b33ca02d2822f341c788cf33eb0327819d4:function(e,t,a,i){return e.get_val("emergency")},db3df771999792b2e3a5aae0a404d9f9da8551ce:function(a,i,n){t.location=e.gbl.p+"admin/impersonate/"+a.get_val("impersonating").nid},db8177afe0c1e5536621005044ff683a4923ea69:function(t,a,i){var n=t.get_xdo(t.get_arg("target"));"none"==n.dom().css("display")&&t.newEvent("loadxds",{xds:t.get_arg("xds"),target:t.get_arg("target"),nid:e.gbl.uid});var r=t.get_parent(1).find(".xds-Header-menuContainer");if(!n.dom().is(":visible"))for(var o=0;o<r.length;o++)$(r[o]).hide();n.dom().css({left:t.dom().offset().left-135+"px"}),n.dom().toggle()},"3671032354c647f45f5a8a13ba94c53544671522":function(t,a,i){var n=t.get_xdo(t.get_arg("target"));"none"==n.dom().css("display")&&t.newEvent("loadxds",{xds:t.get_arg("xds"),target:t.get_arg("target"),nid:e.gbl.uid,noCache:!0,noPath:!0});var r=t.get_parent(1).find(".xds-Header-menuContainer");if(!n.dom().is(":visible"))for(var o=0;o<r.length;o++)$(r[o]).hide();n.dom().css({left:t.dom().offset().left-74+"px"}),n.dom().toggle()},"6606e2b705662e7dc332df368b435c5d463ef3a4":function(t,a,i){var n=t.get_xdo(t.get_arg("target"));"none"==n.dom().css("display")&&t.newEvent("loadxds",{xds:t.get_arg("xds"),target:t.get_arg("target"),nid:e.gbl.uid});var r=t.get_parent(1).find(".xds-Header-menuContainer");if(!n.dom().is(":visible"))for(var o=0;o<r.length;o++)$(r[o]).hide();n.dom().css({left:t.dom().offset().left-135+"px"}),n.dom().toggle()},e4332c9fe84596260dc09d61ac75ce84454dd426:function(e,t,a){e.dom().is(":visible")&&e.dom().hide()},e90698d4c3fca360bf7d2352229484bcb00628e0:function(e,t,a,i){return e.get_val("enabled")&&e.get_val("cartnid")},b755c1b39d0eb1d011b83689fa899fb615ebaf65:function(e,t,a){e.dd.setValueByValue("")},ba593fddec2647bf320d64531696406b3a91f74e:function(t,a,i,n){return e.gbl.user.profpic},"82427424e865b784fe5e468cf01c371bae4e6f8f":function(t,a,i,n){return e.gbl.user.name},"71b9fe75a9e001ed875044815df73860cb45ccf0":function(e,t,a){t.parents("body").addClass("xds-Emergency")},"51f2dbbe5c5265f8f5d2f78508e5b62e856d428c":function(t,a,i){t.set({school:e.obj_to_arr(e.user.schools)}),t.tag("nowrap")},"6b294c8d4cffbe9ec277555a379231e3187b9c2d":function(e,t,a,i){return 1!==e.get_val("commentsavail","siblings")&&e.has_role("Teacher")},e1a050f2e5646ddfa047a44365e9233da3740a4e:function(e,t,a,i){return e.has_role("Student")&&e.get_val("selfeatenabled")},"8e370f27171cb54e36b63ef8d94118c5f5f0258f":function(e,t,a,i){return e.has_role("SysAdmin")||e.has_role("Impersonator")||e.get_val("archiveaccess","siblings")},"5da888f775c2e0ac9a485e7efd06dfefbe16066e":function(t,a,i){t.newEvent("loadPage",{command:"new",xds:t.get_arg("xds"),kbthread:e.get("knowledgeBase").getCurrentSelectionThread(),backTo:"Important",nodetype:6.8})},"4928e8537e5c6b1d4219652aa077e58892333b07":function(e,t,a){e.global("launchNID")&&(e.newEvent("knowledgeBase.loadxds",{nid:e.global("launchNID"),xds:"importantView",target:".knowledgeBase-col2-cont",noPath:!0}),e.global("launchNID",!1))},"6233461cb8f32ddb8de7fa12591148e7ed6783e2":function(t,a,i,n){return e.get_func("IntegrationPickerWindow.IsSelected")(t)},"6c1cd4e54d72fe9579a76b7a1bbb4f408349128f":function(e,t,a){var i,n;1043===e.get_arg("error")&&(e.e.preventDefault(),(i=e.get_xdo("*to")).e=e.e,delete(n=e.get_args())._func,n.type="never",i.event("validate",n),i.find("."+e.e.id).fadeIn())},a2236464119a5183da5fdcc14f193ad1562de53c:function(e,t,a){e.state.set("caninvite",e.get_arg("xdo").state.get("caninvite"))},"34300af2f162e95342f164e2fefac32d4a1a6d6a":function(e,t,a){var i=a.nid.split(",");i.length>1&&e.get_target("sibling:_nids").val(i.slice(1).join(".")),i.length&&e.event("changePostTarget",{nid:i[0]})},"18c2fd150fa0667b8627bb17449596385f5a8f2c":function(e,t,a){var i,n=[],r=e._rawData;if(r)for(i in r)r[i].nid&&n.push(r[i].nid);n.length>1&&e.get_target("sibling:_nids").val(n.slice(1).join(".")),n.length&&e.event("changePostTarget",{nid:n[0]})},"9c5efc38a6fa8bcf45a7dff037300dd299cbdf05":function(e,t,a){t.parents("form").find(".InviteToPlace-pending").val("1")},f7baed204fa83466ef75c6cf94d64739c7894a25:function(t,a,i){var n=t.caller(),r=t.global("pnid")||n&&n.get_val("pnid","rnode")||e.gbl.nid;e.storage("UberPlanner-targetNid",t.nid(),"sessionStorage"),t.event("loadPage",{nid:r})},b31cf9d541961ecc88263ce630b53c3f915a8e64:function(e,t,a){e.get_setting("targetNID")&&e.global("launchNID",e.get_setting("targetNID"))},"114ca024f454c173115b9b368ea59e7c3ef9f74b":function(t,a,i){t.newEvent("loadPage",{command:"new",xds:t.get_arg("xds"),kbthread:e.get("knowledgeBase").getCurrentSelectionThread(),backTo:"Knowledge",nodetype:6.8})},b81b20fa5838f7d29c28c6662d2d7ddb1b14deab:function(e,t,a){e.newEvent("loadxds",{target:e.get_arg("target"),xds:e.get_arg("xds"),nid:[e.get_arg("pnid"),e.get_arg("rid"),e.nid()].join("/"),noPath:!1})},"7645ec0348184841519cd9aa01d014b2702deb32":function(t,a,i){var n=t.nid();"create"===t.get_setting("command")&&(n=e.get("knowledgeBase").getCurrentSelectionNID()),n?t.event("loadxds",{xds:"knowledgeBaseView",target:".knowledgeBase-col2-cont",nid:n}):t.trigger("reloadKnowledgeBase")},b5a7119982200c720f7877530d7245449c9bc215:function(e,t,a){e.newEvent("loadPage",{xds:e.get_setting("backTo")||e.get_arg("xds"),nid:e.global("parentnid")+"#/"+e.nid(),autoTrigger:1}),$("body").removeClass("trumbowyg-body-fullscreen")},"9972ce479cfafe6a54abd2eb0bc9635ab380da62":function(e,t,a){e.get_setting("kbthread")&&(e.data_full.thread=e.get_setting("kbthread")),e.inherit("sys")},"73416a8d279f5bca082485fc9e54fdde51227d6f":function(e,t,a){e.data&&e.global("parentnid",e.data.nid),e.inherit("sys")},"91e52fd49da5df2509d10ce114f0b6040eb5bec9":function(e,t,a,i){return e.rnode.nid==e.rnode.thread||!e.rnode.thread},"1ad1aab9d2626c94573b61fc9c9bb4efd4c37431":function(e,t,a){e.global("launchNID")&&(e.newEvent("knowledgeBase.loadxds",{nid:e.global("launchNID"),xds:"knowledgeBaseView",target:".knowledgeBase-col2-cont",noPath:!0}),e.global("launchNID",!1))},"3e23834175e4043568b2cb938b19f37a57188d1b":function(e,t,a,i){return e.rnode.nid==e.rnode.thread},d15946647e02620b83b87f4837ff8fe86afc31c5:function(e,t,a,i){return"create"!==e.get_setting("command")},"25030c81f648c2c4dcfa4e222a32f41a4a67c69d":function(e,t,a){e.newEvent("loadPage",{xds:e.get_arg("xds"),backTo:e.caller().xds_full.id})},"4701a390a8f61cd1a2f54a83e1ebc31e4ca7279c":function(e,t,a){e.tag("a"),e.addAttr({name:e.get_val("nid")})},fb91b2b12a8465639f4e574ec5240e66107b1074:function(e,t,a,i){return e.state.get("homelink")},"037c53ed464245ff6d7f25cb5fe50fe7f7778663":function(e,t,a){e.caller().get_xdo("*container").newEvent("reload")},fe2856dd941da2323ae966832822ce1f8889504d:function(e,t,a,i){return!e.get_setting("readonlyForm")},"1997984820ab522d684782082646bed5df02e30c":function(e,t,a){$(".xds-form").css("padding","0px"),$(".LORAddEditResource-main-desc").css("width","70%"),$(".LORAddEditResource-main-desc").css("margin-left","140px")},"280470cd8fc97ecbad4fdeed118c6f908de145af":function(e,t,a){$(".LORAddEditResource-nodetype").val("5.7")},"76007514b99e46de634c858e99db31e0870207f9":function(e,t,a){var i=e.state.get("feedreplies"),n=e.state.get("lor"),r={},o={};for(var s in i){var d=i[s].thread;o[d]=o[d]||0,o[d]++,i[s].unread&&(r[d]=r[d]||0,r[d]++)}for(var l in n){var c=n[l].nid;n[l].actionbar&&(n[l].actionbar.reply=o[c])}e.inherit("sys")},"1353aee87efde87a2d3a3b9d188055db4c522904":function(e,t,a){$(".LORFeedCreate-nodetype").val("6.76"),$(".LORFeedCreate-main-desc").css("width","70%"),$(".LORFeedCreate-main-desc").css("margin-left","140px")},"7c8a97252e651dd730acc108319f2b3bcbe04b2d":function(t,a,i,n){return t.get_val("createid")==e.user.nid||t.has_role("Moderator")},"752ab57fc88ddc4b51095b7c0527b1a53b8d0662":function(e,t,a){var i=e;i.trigger("fileDeleted",{rid:i.get_val("rid")})},e25366f232fd3b781db99d6f97197d440586a939:function(t,a,i){e.ajax({url:{nid:e.gbl.nid,xds:t.get_arg("xds")},callback:function(e){var a;for(var i in e.slices){var n=e.slices[i];n.data&&(a=n.data.cloud)}t.newEvent("redraw",{redrawPath:"*list",cloud:a})}})},"3aceb4d8a0079f1172796414770dcf2075f48d64":function(e,t,a){var i,n=e.get_setting("cloud"),r=[],o=0,s=Number.POSITIVE_INFINITY,d=[];for(var l in n)o=Math.max(o,n[l]),s=Math.min(s,n[l]),d.push(n[l]);d.sort();var c=Math.floor(d.length/2);for(var l in i=d.length%2||1===d.length?d[c]:(d[c]+d[c+1])/2,n){var u=n[l],f=0;u>i?f=(u-i)/(o-i):u<i&&(f=(u-s)/(i-s)*-1),r.push({name:l,size:12+Math.round(4*f)})}e.data={tag:r}},"94ce78dceac53a661ab9ecf9f56ef45fcbd34b17":function(e,t,a){},d913d483f984f880348a38ed994566ee6576f422:function(e,t,a){e.set(e.val().name),e.inherit("lightboxTitle")},a44d5928d7f10de339e1e4aebc915a1345b7e8ec:function(e,t,a,i){return""===e.get_val("video","siblings")},"471fad3e9d1c2208d651bef762cade277965fa09":function(e,t,a){$(".LOR-col3-library").find(".xds-polls-types-simplePoll-title").hide(),$(".librarycore-itemlist-items-card").hover(function(){$(this).find(".xds-polls-types-simplePoll-title").css("display","inline")},function(){$(this).find(".xds-polls-types-simplePoll-title").hide()})},"40b8771f969e5ccc71ae80c051d97370673e695f":function(e,t,a,i){return"3.16"!=e.nt()&&e.data&&!e.get_val("legacyFile").file},"687720332c849f504488b65257bb83fc405aef7d":function(e,t,a){e.data=e.data||0},edc5e69a91454647feb621d4c13b498beaa01ba3:function(t,a,i){var n="1";t.target("*like-like").xdo.get_val("likes-voted")&&(n=""),e.post({url:{nid:t.cnid(),xds:t.arg("xds")},data:{likes:n},success:function(){t.target("*like-like").trigger("voted",{newVal:n})}})},d351b6627d0d75b300a07f122b2768b84d6b7d8a:function(e,t,a,i){return e.sibling("legacyFile")||e.rnode.files||e.rnode.bookmark||"3.16"==e.nt()},e9558ebd9e0fd1110ea70458808e51d105ae426a:function(t,a,i,n){return!t.get_val("thumbnail","siblings")||e.is_obj(t.get_val("thumbnail","siblings"))&&0===Object.keys(t.get_val("thumbnail","siblings")).length},"9a9bfd3a3d3d77d23e9b5bfeda52be6faa5a561c":function(e,t,a){$(".LORSearch-defaultFooter").hide()},"32c010d9c0637a39bbe8219d1212a1df819aa0ed":function(t,a,i){t.args.pattern=t.get_target("sibling:box").find("input").val(),e.get_func("loadxds")(t,a)},"04412bc85a80297ea734013d1b0dc49921cdab54":function(e,t,a){1==e.data?e.displayVal=e.data+" "+e.xds.displayName:e.displayVal=e.data+" "+e.xds.displayName+"s"},"02c027937316c6b4786b13cf8621631a47ee1038":function(t,a,i){!t.get_val("member")&&t.get_val("invitation")&&t.get_val("nodetype","rnode")==e.nt.Container()?t.newEvent("lightbox",{xds:t.get_arg("xdsKnock"),noPath:!0,vpatt:t.get_setting("pattern")}):t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Document.Form()?t.newEvent("loadPage",{nid:t.get_val("pnid"),xds:t.get_arg("xdsKnowledge"),targetNID:t.nid(),vpatt:t.get_setting("pattern")}):t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Document.Form()&&t.get_val("nodetype","rnode")!=e.nt.Message()&&t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Document.Poll()&&t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Document.ReportComment()&&t.get_val("nodetype","rnode")!=e.nt.User()&&t.get_val("nodetype","rnode")!=e.nt.Group()&&t.get_val("nodetype","rnode")!=e.nt.Container()?t.newEvent("lightbox",{xds:t.get_arg("xdsLightbox"),vpatt:t.get_setting("pattern"),nid:t.get_val("pnid")+"/"+t.nid()}):t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Message.News()?t.newEvent("lightbox",{xds:t.get_arg("xdsNews"),vpatt:t.get_setting("pattern"),nid:t.nid()}):t.get_val("nodetype","rnode")==e.nt.Message()&&t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Message.News()||t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Document.Poll()?t.newEvent("lightbox",{xds:t.get_arg("xdsThread"),vpatt:t.get_setting("pattern"),nid:t.get_val("pnid"),thread:t.get_val("thread"),noPath:!0,targetNid:t.nid()}):t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Document.ReportComment()&&t.newEvent("loadPage",{xds:t.get_arg("xdsView"),vpatt:t.get_setting("pattern")})},"7e9ebc126dea5cf597ae040d6d1dc11b529a850b":function(e,t,a){e.event("loadxds",{pattern:e.get_target("sibling:pattern").xdo.val()})},"997834467c83556e3de591a51468b9540d400850":function(e,t,a){e.event("loadxds",{pattern:e.get_target("*pattern").xdo.val(),master:e.get_target("sibling:master").xdo.val(),school:e.get_target("sibling:school").xdo.val()})},"9288057eeab1fc672730fdb66246b716cc14a1e8":function(e,t,a){e.parents(".xds-lightbox-wrap").css("z-index",2001)},"367919798f8a4416a725bae2ba991f75a8ac76f5":function(t,a,i,n){return!t.get_val("thumbnail","siblings")||e.is_obj(t.get_val("thumbnail","siblings"))&&0===Object.keys(t.get_val("thumbnail","siblings")).length},bbebe581316f6e61df1a6408757b855a024e6d4e:function(e,t,a){e.event("trigger",{app:e.rnode}),e.trigger("xds-app-selected")},c38b57a9e973b50d72e72d2b03a04a0eafacd7fd:function(e,t,a){e.set(e.get_val(e.arg("id")+"_custom","siblings")||e.get_val(e.arg("id")+"_raw","siblings")),e.inherit(e.arg("ttag")||"f_str")},"6e9632352fbe1dc4d43031da6a07119f84d386b7":function(t,a,i){var n=t.get_xdo("*"+t.arg("id")+"_custom");e.mlescape(t.val()).replace(/\r[\n]?/g,"\n").replace(/\n/g,"\r\n")===(t.get_val(t.arg("id")+"_raw","siblings")||"").replace(/\r[\n]?/g,"\n").replace(/\n/g,"\r\n")?n.val(""):n.val(t.val())},fbdf9cf7bfee02c993693a2e009310b865bf0472:function(e,t,a){var i=parseInt(e.val(),10);e.get_xdo("siblings:noid").val(1&i?0:1),e.get_xdo("siblings:nocontact").val(2&i?0:1)},dd11d3e8fda8757fc853d686a042dea0fd65633e:function(e,t,a){var i=e.path.split("-");i.pop(),i.push("description"),e.attr("for",i.join("-")),e.tag("label")},da18f36d3362cb50df92e88595f36d8227243d84:function(e,t,a){e.caller().trigger("injectFile",{file:e.data}),e.newEvent("lightbox.close")},e591a112c658ff11e2ad56835871dee4006448ea:function(e,t,a){e.global("uploadTargetNid",e.global("cartridge")),e.global("uploadNamePrefix","__uploads/"),e.inherit("sys")},"7679d4cfe887aee25c2650ee98b1d44f02ea84a5":function(e,t,a){e.trigger("injectFile",{file:a})},"70d26199fe617fa4d5fdb3a90907d7ded10b31ee":function(e,t,a,i){return e.state.get("individualAssessment")&&!e.has_role("Student")},"8c1fbd8f1a856107ba8ae9b295aa6a2c0fda3ae6":function(t,a,i){t.newEvent("copier.copy",{copyextra:{toc_pathnid:e.gbl.nid,toc_id:t.get_toc().id}})},c915f8610bc2d26fa4e5f6c033e97ea4458d818b:function(e,t,a){var i=e.state.get("toc").flat(!1);e.data=i,e.inherit("ds.array")},"7d9147c0464294f6a260b542a3edb3d86df81a84":function(e,t,a,i){return 1==e.data},"756ec69b24ab3e5c497160230e6dff46da3ce1f6":function(e,t,a,i){return"manual"!=e.get_val("manualcomplete")},"9e170df2006b7ea7c2c0c6676110d7f7ef51664c":function(e,t,a,i){return!0},"46cfddc8014475b7cc8607a6c58d9550f4aea7f2":function(t,a,i,n){return t.has_role("Teacher")&&t.nt()==e.nt.Document.IndividualAssessment()},"043de1de1df0d36975e440f990e10c07869b7164":function(e,t,a,i){return e.data.notes||e.data.files},"15f052a43500b2c00fbe740c09688cf49f3cc1f5":function(e,t,a,i){return"folderNavOnly"},"77b4fa48ed9c927eb9717244087068f274bcfce4":function(t,a,i){t.nt()==e.nt.Document.Assignment()?t.data="Assignment":t.nt("rnode",!0)==e.nt.File()?t.data="File":t.nt("rnode",!0)==e.nt.Container()&&(t.data="Container")},"1af6263d1247450702e96f1f43d068316ed4f803":function(e,t,a){(""===e.get_val("progress")||e.get_val("progress-bar")<0||1==e.get_val("progress-bar")||!1===e.get_val("progress-bar")||!1===e.get_val("progress"))&&e.event("trigger",{eventName:"LOCartridgeDone"})},"25d902143d7a208a1b537aada7103ae7d5a660b8":function(e,t,a){"6.61"!==e.nt()&&e.get_xdo("sibling:name").val(e.val())},fe5a50533f1654c5caea1234de9fcd2cdbd16134:function(e,t,a){!e.val()&&e.val(e.get_xdo("sibling:name").val())},a3650cbd0c6a521db9ced8abee818a55c2508017:function(e,t,a){"create"===e.get_setting("command")||"new"===e.build.buildMode?e.arg("defaultValue","link"):e.arg("defaultValue",0),e.inherit("dd.select")},"70c436051df6e4823737183a5825069e56da5710":function(e,t,a){var i=e.get_arg("bookmark");if(i&&i.title){var n=e.target("*title").find("input");""!==n.val()&&n.val()||e.state.set("title",i.title)}},"7e52b8adfc1d7413f785d4448fc1d9235e561eae":function(e,t,a){13==e.e.keyCode&&e.target("*search").trigger("click")},"4b3ae991f6eef8de5cb4f231ff482f61a18b4f94":function(i,n,r){var o=i;e.post({url:e.tpl("{{copy}}/{{src}}?xds={{xds}}",{copy:e.gbl.copy,src:o.nid(),xds:"CopyLearningObject"}),data:{_dest:o.node.nid},success:function(e){t.setTimeout(function(){a.location.reload()},200)}})},"8a7ef44da1eea944efe65d62ce63bab166a994fd":function(t,a,i,n){return"Steve Asbury"!=e.user.name},"8f7a121f1da20f3e1c41193f33b4fa32ac92c2d1":function(t,a,i,n){return"Steve Asbury"==e.user.name||"Jon Asbury"==e.user.name},"44a74f30434c171b2525e10e80762ff12f675b3e":function(t,a,i){var n="1";t.target("*like-like").xdo.get_val("likes-voted")&&(n=""),e.post({url:{nid:t.cnid(),xds:t.arg("xds")},data:{likes:n},success:function(){t.target("*like-like").trigger("voted",{newVal:n}),t.find(".xds-polls-types-simplePoll-title").remove(),t.data.like.likes.votes<1?(t.target("*like-spantext").xdo.addAttr("style","display:inline-block"),t.find(".Like-like-wrap").css("display","none")):t.target("*like-spantext").xdo.addAttr("style","display:none")}})},bf1c1aceb267ecf11e2d146ce1cef63b2d24ad17:function(e,t,a){var i=e.val();if(isNaN(i))var n=i.votes;else n=i;e.set(n),e.inherit("sys")},c43954631288efd46ccf2ad58222a20d78982527:function(e,t,a){""!==e.get_val("llogs")&&void 0!==e.get_val("llogs")&&"set([])"!=e.get_val("llogs")||(e.addAttr("style","display:inline"),e.get_xdo("*like").find(".Like-like-wrap").css("display","none")),e.get_xdo("*like-like").find(".xds-polls-types-simplePoll-title").remove(),e.inherit("span")},"65c5d672169fa05f67792418dcc8442996045234":function(e,t,a){0!==e.get_val("copies")&&e.get_val("copies")||e.exitBlank()},"5b7a478c4ae23b191fea0287ae0d35c94a71b78e":function(e,t,a){var i=e.val();if(i)n=isNaN(i)?i:1==i?i+" Copy":i+" Copies";else var n="0 Copies";e.set(n),e.inherit("a")},eee295e722682b4d206ad236bcf5cb7f8ca89d8c:function(e,t,a){var i=e.get_val("files").length;if(i&&!isNaN(i)){var n;n=1==i?"1 File":i+" Files",e.set(n),e.inherit("a")}else e.inherit("a")},e8d2ab75e1f98de55cfcf55eaa6491fdfe523c29:function(e,t,a,i){return e.val()},"13b246e481fe8e85919b9ef72ff46bdff3dc00ad":function(e,t,a){var i=e.get_val("files"),n=[];for(var r in i)i[r].Content.ContentType&&n.push(i[r].Content.ContentType.split("/")[0]);e.state.set("types",n),e.inherit("sys")},"57c3b5c339af3ebba5e6e35558a8e5cb7907b56c":function(e,t,a){var i=e.val();if(i)n=isNaN(i)?i:1==i?i+" Comment":i+" Comments";else var n="No Comments";e.set(n),e.inherit("a")},"121fc77a4ef08c72a36e4c2c3009df3a2dc4657b":function(e,t,a){e.inherit("unreadFlag")},b89ef032a46734bcfe83931a8b5215ec4b44b2fb:function(e,t,a){e.target("caller").trigger("itemSelected",a)},"2c48ce4104895d4105d5c9ef9a8ef72bcb6e707f":function(e,t,a){e.event("loadxds",{pattern:e.get_target("sibling:pattern").xdo.val(),redrawPath:"SearchLOR-data"})},"1dd75f4e3a13a7db76c515d563577287a5496189":function(e,t,a){e.trigger("itemSelected",{nid:e.nid(),from:e.get_val("pnid"),name:e.get_val("name"),nt:e.nt(),xdscopy:"CopyCoursePlanEntry"})},"906449108355a41cd86887137b28d226cf36037c":function(e,t,a,i){return e.get_val("vnid")==e.get_val("pagenid")},"09a43f91c7c4aca625cd2bb226c3d5b7a157b759":function(e,t,a){},"769ee44906466d8f227079bb409a73290fa39e59":function(t,a,i){a[0].elements._formkey.value=t.build.slice._formkey,e.get_func("ajax_post")(t,a,i)},"2481b019fd98508979f44c2e7e3f50de88c1eace":function(e,t,a){t.removeClass(function(e,t){var a=["xds-LoginAssist-working","xds-LoginAssist-success","xds-LoginAssist-failed"];return $.each(t.split(/\s+/),function(e,t){0===t.indexOf("xds-LoginAssist-failed_")&&a.push(t)}),a.join(" ")}),a.resultval?(t.addClass("xds-LoginAssist-failed"),t.addClass("xds-LoginAssist-failed_"+a.resultval)):t.addClass("xds-LoginAssist-success")},"6aa9249ee9802496f1b932808a4e09d2e8da58ad":function(e,t,a){t.addClass("xds-LoginAssist-working")},a65e04afbc0c1145671b531de2777ee1b6968c0c:function(t,a,i,n){return t.nid()!==e.gbl.uid||0===t.rnode._i},e3ca9426c000558d34bb5b11a1aac2ccb0d9655f:function(t,a,i,n){return t.nid()==e.gbl.uid},b4c04a1eb9a32a0179c48546843d8b34ce2dc2e9:function(e,t,a,i){return e.get_val("canreply","siblings")},b7ee576b6069936ac15bc6c73a313fd000e68979:function(e,t,a){var i=e;i.get_setting("seedContent")&&i.state.set("equation",i.get_setting("seedContent").data),i.inherit("sys")},"47776fd48cc96a292a7a7cbd75eda3fa57d4a875":function(e,t,a){e.state.set("editorMode","mathml")},"5fc2484c3f5b0b9ffe86fb4f23bc9863e73edde0":function(e,t,a){var i=e;e.state.get("editorMode"),i.state.peek("equation")||i.state.set("equation","")},"414a32dd7fd33c32349e4a9e7e77ecc5e93481b4":function(e,t,a){"mathquill"!=e.state.get("editorMode")&&e.state.get("editorMode")?e.exitBlank():e.data={}},"799c33074d857b0b8ce74fc52112e3fa4f2c4160":function(e,t,a){var i=e;i.data=i.state.get("equation"),i.inherit("math.editor")},"76bff8cafd440e9a5a5970037723bedbe4b1f43f":function(e,t,a){var i=e;i.state.set("equation",i.val()),i.state.set("equation-mathml",MathJax.tex2mml(i.val()))},bfc7229135d8f2030d3f00f435b8f7e4e7c89c6a:function(e,t,a){"rawLaTeX"==e.state.get("editorMode")?e.data={}:e.exitBlank()},c267e288020c560bb90e3bc5d59dd1a7f4e5868e:function(e,t,a){var i=e;i.data=i.state.get("equation");var n=!1;i.state.watch("equation",function(e){e||(e=""),n||(n=i.find("textarea")),n&&n.val()!=e&&n.val(e)}),i.inherit("f_textarea")},e2b460858b76aa6007a67420897b69a41d8745ce:function(e,t,a){e.state.set("equation",e.find("textarea").val()),e.state.set("equation-mathml",MathJax.tex2mml(e.find("textarea").val()))},"1d467f705925ec9d6b044c6af06b7e62d5443305":function(e,a,i){var n=e;n.temp.changeTimeout&&t.clearTimeout(n.temp.changeTimeout),n.temp.changeTimeout=t.setTimeout(function(){n.trigger("change")},300)},"363c41d618fdf1e904a9c887b6acb35c877e220a":function(e,t,a){"mathml"==e.state.get("editorMode")?e.data={}:e.exitBlank()},a98a3430ead907217991e8ad3ed0efdca85a34c3:function(t,a,i){var n=t;t.data&&!function(e){try{return xmlDoc=$.parseXML(e),!0}catch(e){return!1}}(t.data)&&e.get_func("math.getMathML")(n,t.data,function(t){n.find("textarea").val(e.get_func("math.formatXML")(t))})},"9076fba0a33a7100a54bef69aad7014779fd2299":function(e,t,a){e.data=e.state.get("equation-mathml")||"",e.inherit("f_textarea")},"61ab2a520cbef3fbe7dd34a3d1ca6b5648795824":function(e,t,a){var i=e;i.state.get("mathml-modified")||i.state.get("equation-mathml")?i.inherit("math.mathml"):i.exitBlank()},f62261471a477b96cfc13ed58e48142ab370b2bc:function(e,t,a){var i=e;i.state.get("mathml-modified")?i.exitBlank():i.inherit("math.mathjax")},fd8cb4db1573a27ed83850256505c53eb52ec47f:function(e,t,a){"mathquill"!=e.state.get("editorMode")&&"rawLaTeX"!=e.state.get("editorMode")&&e.state.get("editorMode")?e.exitBlank():e.inherit("math.toolbox")},fe6588a4beedb72dd98b8ad8052d5f583f650caf:function(e,t,a){var i=e;i.data.selected&&i.arg("default",!0),i.inherit("simpleTab")},e7ccbb14a7bfddb658a4d9cf86da59e7bba6682f:function(e,t,a){var i=e;i.state.parent().set("selectedGroup",i.data.name)},d63e385564450040d15236f5409551a1f8a14022:function(e,t,a,i){return e.data&&""!==e.data},"20734e21e96bd389716f9ce922e814ae4469ae0f":function(t,a,i,n){return!e.layout.isPhone()},"0d17b53a7ccc32f08f5f134e69fe7e138c340705":function(e,t,a,i){return!e.state.get("locked")||e.has_role("Staff")},fb55ce6e594157d0e96c49f32b6b538e322a05e0:function(e,t,a,i){return 0!==e.parent_xdo()._i},"9e24bf67c92cb248c3ba98626c3082eb9040aec6":function(e,t,a,i){return e.state.get("canreply")&&(!e.state.get("locked")||e.has_write("MessageLockConversation"))},"0d730c2c75b7560125c9b274c65a8ce869cd45ad":function(e,t,a,i){return e.state.get("broadcast")&&e.state.get("viewall")>1},"4daf12cb27db08819c16e453f0fb7534ccc908e4":function(e,t,a,i){return e.state.get("broadcast")&&1==e.state.get("viewall")},"953265bea33c66be417a11d2eb4b89b5d2d8a83d":function(e,t,a,i){return e.state.get("viewall")>1},"9a61b1be99655633fb049c2259f8fc2366bf3a4a":function(t,a,i,n){return e.get_func("ClassList.SectionTitleShowIf")(t,[12])||e.get_func("ClassList.SectionTitleShowIf")(t,[15])},"5556169cabb4a231601aec0cf1b6d0e4e9f433b5":function(t,a,i,n){return e.gbl.user.nodesubtype==e.nt.User.Parent(!0)&&(!t.get_val("parentsAllowed")||0==t.get_val("parentsAllowed"))},"80143be71732355df916a2823d858af12b253014":function(t,a,i,n){return e.gbl.user.nodesubtype==e.nt.User.Student(!0)&&1==t.get_val("studentLock")},"291a7b1f9e328fc359c3568f66d2cafdd45171f6":function(e,t,a){e.register_xds(e.data.name)},a944076e2f5c2fce28bcf17ceee2c56d85db46e1:function(e,t,a){e.ready("loadxds",{nid:e.get_val("nid","data_full"),xds:e.arg("xds")}),e.inherit("responsive.layout.body")},"6294b237427749de0bbe1e3c6fb5ceca20395dff":function(t,a,i,n){return t.data.pending&&"0"!=t.data.pending&&t.nt()!=e.nt.Container.Badge()},ee8a80cf6fa9aeb1e345b55e9ac6db264d3afe13:function(e,t,a,i){return e.state.get("attenable")&&3==e.state.get("atteditable")},"1a3e79951f3e289f109ce7f5f22213368d586df8":function(e,t,a,i){return e.state.get("haveattendance")&&e.has_role(["Student","Parent"])},"84d5213dad39b9171e074c0ab929aba5e4fb9845":function(e,t,a,i){return!(1&e.get_val("pin"))},f65fafc32d9672e07e0e529468f77a9266918885:function(e,t,a,i){return 1&e.get_val("pin")},bc5606294a11c8fb5de28718ad29532c5dd85faa:function(e,t,a,i){return!(2&e.get_val("pin"))&&(e.get_val("right").bookmark||e.get_val("right").file)},afe0e9177ecb2cb0f6ba8bc59ebd5d9a9dfae862:function(e,t,a,i){return 2&e.get_val("pin")&&(e.get_val("right").bookmark||e.get_val("right").file)},dd996aca99edca93aacad67cd401ba1d99d16fa9:function(t,a,i,n){return t.get_val("createid")==e.user.nid&&(t.nt()==e.nt.Message.FeedReply()||t.nt()==e.nt.Message.Message())},b6d0f1ea359692519b24d8f8fbb31c3f77eabfd6:function(e,t,a,i){return 2==(2&e.get_perm("pin"))},"0d5b149d935834c693eaddb39996fd6248361238":function(e,t,a,i){return e.get_val("_threadlen")>1&&e.get_val("_threadhead")},"0bfe8386ac33450207cce13b1205ee9bce6a9c04":function(e,t,a,i){return 1==e.get_val("_threadlen")||!e.get_val("_threadhead")},dfece9c0de0ca397381b67d4ad77f71ac70e5234:function(e,t,a,i){return e.get_val("file")},"32b19e5105feb5185e6b01caaf6893cb7108da75":function(e,t,a){e.nid()==e.get_setting("targetNid")&&e.addClass("xdl-search-resultItem"),e.inherit("FeedItemComponent.component")},a48b3c4156b55d22360bddf572d9f4f7ca36d2b8:function(t,a,i){var n=t.get_val("standards"),r=e.get("standards").construct(n);t.inherit("sys");var o=[];for(var s in r.leaves){var d=r.leaves[s];o.push({render:{code:d.code,desc:d.body},value:s,display:s,name:d.code})}t.parent_xdo().map({items:o})},"91a0b7551de52b54a3c82a9e0ccaba9932bdc16f":function(e,t,a,i){return e.state.get("depth")>=2},"3bf6a4259e94521dac8da6a1cb122ca25df6b3c6":function(e,t,a,i){return e.state.get("depth")>=3},"0badb7e0bfbf32de530349495773cabdcff0bff3":function(e,t,a,i){return e.state.get("selected")},ad96d93bc05f551efe4311e91abc5531cbfda985:function(t,a,i){e.lookup("r","Dropped").cmp(t.get_val("reltype"))?t.data=e.lang("Dropped"):t.exit()},"3463a1abee7980c5e0b1ac7b29d3717bfd66285c":function(t,a,i){var n=e.dateFormat(t.data,"mmm dd").split(" ");t.data={month:n[0],day:n[1]}},"1ad28f3cd6b0c1fb9f661942b91f045a22be3db5":function(e,t,a,i){return!e.state.get("standards")},"34432f58083e74554aca24b7b33f2cb93451125c":function(e,t,a){e.get_xdo("*row-row").trigger("gradeAssigned",{stopPropagation:!0,update:e.get_arg("update")})},"4cb7e5e75c33e24e5ebe0b5d6d04394353e36ae8":function(e,t,a,i){return e.state.get("standards")},"40884cc00db45150a9dec2829ab2be181a2874f2":function(t,a,i,n){return e.get("MultiPerspectiveExpectationsCoverage").utils.bindClick(t)},"39b345e295198ef06b59dbc4d4c10de28cd6a946":function(e,t,a){e.val()&&e.trigger("submit")},"3139ff9c87998a7e647653e18f0ab15b24d1e095":function(t,a,i,n){return e.dateFormat(new Date,"mmm d")},"196b837cbcac60c704093bc1ba78180f5c896391":function(e,t,a,i){return e.get_setting("student")},"9dd7df98ac9985ea55ced27f21d66b08b6f48f83":function(e,t,a){e.val()?e.trigger("submit"):e.trigger("closeObservation")},c69e786a404b598f95048e4fad069a1bd20bf284:function(e,t,a){setTimeout(function(){e.event("focus")},1e3)},"1ebda829dff2a0173d008cae6a432375326a8834":function(e,t,a,i){return e.get_setting("standard")},"6659c409aac82134eded0f4ea69d4b0cc243a9e0":function(e,t,a,i){return e.get_val("type")},ff5c48dea8c43687095c63f63a7e0a2947e7138c:function(e,t,a){e.newEvent("lightbox",{xds:"PrivateObservationCreateLB",nid:e.get_val("nid","gbl")+"/"+e.parent_xdo().get_val("rid")+"/"+e.parent_xdo().get_val("rowNid"),class:e.get_val("nid","gbl"),thread:e.get_setting("student"),model:e.get_setting("model"),noPath:!0})},"7ef4ccf6d0e2e36b3266eb06d0fa1edb7c35483c":function(e,t,a,i){return"4.6"===e.parent_xdo().get_val("type")},ed5a26b6a04ca02456e70fd50191a1697541add0:function(e,t,a,i){return e.data.performance&&e.data.performance.readOnly},"96a4fe757d1da7b1051260faa637d69e8c6736db":function(e,t,a){e.addStyle("height",33*(e.get_setting("numVisible")-1)+"px")},"359fbf3e4c6a21eb0c2b0275c5618b17b2eb8fbf":function(e,t,a){e.inherit("sys"),e.data=e.nid("node"),e.global("classnid",e.nid("node"))},d96a86359ce7f7e35465c6710ed95f1a36269104:function(t,a,i){var n=e.get("gradebook")[t.nid("gbl")],r=n.students[t.get_setting("student")].CourseID;n.CourseID!=r&&r&&(t.data=r)},"9db5d49cb18285de5035f476bb2df3092d901eaa":function(t,a,i){var n=e.get("gradebook")[t.nid("gbl")];e.lookup("r","Dropped").cmp(n.students[t.get_setting("student")].reltype)||t.exit(!0)},"28170fe1bac673bc53bcc26898b5662e0d0bc1f2":function(t,a,i){var n=t.state.get("assessments"),r={};for(var o in n){var s=n[o];r[s.nid]=s}var d=e.get("gradebook")[t.nid("gbl")],l=t.get_setting("student"),c=d.grades[l],u=0,f=0,g=0,p=0;d.normalizeAll(d.students[l]);var h=d.students[l].normalized;for(var m in d.activeAssessments){var v=d.activeAssessments[m],b=e.parseDate(v.adate),_=new Date,y=c[m],x=h[m];v.individualAssessment&&!v.studentAssigned[l]||(b>_&&(x&&!1===x.average||void 0===x.average)?u++:x&&!1!==x.average&&void 0!==x.average?p++:r[m]&&(-1==r[m].taskStatus||1==r[m].taskStatus)||y&&(2==y.r||4==y.r||5==y.r||6==y.r||7==y.r)?f++:g++)}t.data={nincomplete:f||"0",nungraded:g||"0",ngraded:p||"0",nupcoming:u||"0"}},"9b79cc71f24c836980dde0942eb6b1d14e3caff9":function(e,t,a,i){return 1==e.get_val("nincomplete")},e06613ac1415b972722c98a669620ed3be5ba113:function(e,t,a,i){return 1!=e.get_val("nincomplete")},d50bd41ca3cb1b72cd52c910b6dc8156fd717848:function(e,t,a,i){return 1==e.get_val("nupcoming")},c61ac9a35d8b2ca4e41132a0ab360c7ea409c47f:function(e,t,a,i){return 1!=e.get_val("nupcoming")},c2215a4968b547af6fe8bad47f64a342e05ea1d8:function(e,t,a,i){return 1==e.get_val("nungraded")},dfd8898de43f8e3a84b43b4fff9b5515b9d5e918:function(e,t,a,i){return 1!=e.get_val("nungraded")},"599207e23da916a8f7297aae7d0dcc173504019f":function(e,t,a,i){return 1==e.get_val("ngraded")},"8221f9c356e17f86756e8fd885d20c2e3cb70d7c":function(e,t,a,i){return 1!=e.get_val("ngraded")},"957b2ada1d0a60963cad3f8cd2f47170318633d7":function(e,t,a){e.inherit("sys"),e.data&&(e.data.fullcode=e.get_val("courseId")+":"+e.get_val("name"))},"9db0564a57c510226f4ae2d0c5706d3323aa0652":function(e,t,a,i){return e.get_setting("thread")},cf3961fa13d0d5a0e31c520d54062831986b1339:function(e,t,a,i){return"Set Scheme"!==e.get_val()},b08b63ce06df37d9709dc2a1d1cb04f0ae680637:function(e,t,a,i){return!e.get_val("gradebook-hideWeights","node")&&e.get_val("dropped")},"78a2063ff334213c07065ea7b0b57cf035d7fa55":function(e,t,a,i){return 2==e.state.get("esubmit")&&e.val()>0},"0de0c20144dfa039102b0600fb6e64182601357e":function(e,t,a,i){return e.data>1},"611dd51c7a726e25f4469751e6e1d84f457f395b":function(e,t,a,i){return 0!==parseInt("0"+(e.get_val("noverdue")||""))},b5a13934cf050c43c4b98f88f5fbf83b8e1a0d34:function(e,t,a,i){return 1==e.get_val("noverdue")},"01956fba60a5640b2857e79c651c5551f82d21e7":function(e,t,a,i){return 1!=e.get_val("overdue")},"1e693818987f17c32a459355e07312dcb0174a1c":function(e,t,a,i){return e.get_val("incompleteAssessments-assessments").length>0&&e.get_setting("perspective")},c169b8fe8735efe07c1a76a500c57111bc61c048:function(e,t,a,i){return 1!=e.data},b4b44fe549b584d40d955e65bf77a86c625d91b6:function(e,t,a,i){return e.get_val("upcomingAssessments-assessments").length>0&&e.get_setting("perspective")},"1b25acfe192365eaca3374a43de27901f89a0e9a":function(e,t,a,i){return e.get_val("gradedAssessments-assessments").length>0&&e.get_setting("perspective")},"74243cd6fb4c75f19e33198bdb3ae15e57138809":function(e,t,a,i){return e.get_val("ungradedAssessments-assessments").length>0&&e.get_setting("perspective")},"594a7e317c4a316c4d61d3389fb31936423ddd2e":function(e,t,a,i){return e.get_val("commentCount")>0},"197e0400c750cf558507e776bf244e818937ad77":function(t,a,i){2==t.get_val("esubmit")?e.parseDate(t.data)<new Date?t.xds.title=t.arg("titleolt"):t.xds.title=t.arg("titleolt2"):t.xds.title=t.arg("titlev")},e86e731b71a516a7436e048f22adb99f85d58b31:function(t,a,i,n){return e.parseDate(t.data)<new Date},"0454323bcd30fc9ff1ac5a58d7332cfdcc15f9fa":function(e,t,a,i){return e.has_role("Teacher")||!e.get_val("gradebook-hideWeights","node")&&e.get_val("published")&&"0"!=e.get_val("published")},d0ce5f11df74a9dc837a110f63196159a452b2c1:function(e,t,a,i){return 0!=e.state.get("code")},"6962082f5bbd4de285265b6c6ff803fbd624aea3":function(t,a,i,n){return e.get_module("attendance_public").code_string(t.get_val(),t.get_val("reason","children"),!0)},"4908ed4a8dfa6e9460d28c4936b409adcb2b34ed":function(t,a,i,n){return e.get_module("attendance_public").reason_string(t.get_val("code","children"),t.get_val())},ea621c320574ba47d787f376dc79dccdac8a118e:function(t,a,i,n){return e.get("attachmentList").bindifs.notvirus(t)&&!e.get("GraderHost").bindifs.setActiveSubmissionClickStudent(t)},"91383c7cd030358119d06fc8342358f732dbce34":function(t,a,i,n){return e.get("GraderHost").bindifs.setActiveSubmissionClickStudent(t)},fb1a07ee7f5aa6fd56baef2c7894b3de73313239:function(e,t,a,i){return e.has_role("Teacher")&&e.state.get("showMarked")&&!e.state.get("showPublished")&&!e.state.get("livedoc")},"0d8d4f449da9696e067170775d22125e5e5f347d":function(e,t,a,i){return e.has_role("Teacher")},"9bedf6246e005769b6e0dc8a2616c062f3b7c281":function(e,t,a,i){return e.has_role("Student")},"48d8f1d36ce78c68406c7a4ff2e3b2c201bd449c":function(t,a,i,n){return gradebook[e.gbl.nid]&&gradebook[e.gbl.nid].assessments[t.nid()]&&gradebook[e.gbl.nid].assessments[t.nid()].date},bae2c4bced297f84ce03cb802392aab1125e9c04:function(t,a,i,n){return gradebook[e.gbl.nid]&&gradebook[e.gbl.nid].assessments[t.nid()]&&gradebook[e.gbl.nid].assessments[t.nid()].unitName},a75042c4eae68bcc68d4eb8091f8fdad4f398ea2:function(e,t,a){var i,n=e.picker,r=e.get_val("to");for(var o in n.init(),n.defaultSet=!0,r)r[o].nid&&(n.set_val({value:r[o].nid,display:r[o].Name}),i||(i=r[o].nid));i&&e.newEvent("changePostTarget",{nid:i})},"1240fbad2283630eb7a7813da88fd68d2fd5983e":function(e,t,a){var i,n=e.picker,r=e.get_setting("schools");for(var o in n.init(),n.defaultSet=!0,r)r[o].nid&&(n.set_val({value:r[o].nid,display:r[o].Name}),i||(i=r[o].nid));i&&e.newEvent("changePostTarget",{nid:i})},a33d2d472944a9e11fb6c977b05cc4e077834639:function(e,t,a){var i=e.get_arg("value").split(",")[0];e.newEvent("changePostTarget",{nid:i})},"16512be77abd8c9a36cc63b93f329fe8c44966ec":function(t,a,i,n){return!e.platform.mobile},a53433861c061f20483d243b1aeb9a2c984d4202:function(t,a,i){t.addStyle("visibility","hidden"),t.dom().before(e.html.loading())},e9e2b00bd6eb9ae20059f1574e912a8b458d4ee7:function(e,t,a){e.get_xdo("*detailsrow").dom().css("display","flex")},"05507c8cb4d1080a5a5159f63372f4c1cd20f161":function(t,a,i){e.post({url:{xds:t.get_arg("xds"),nid:t.nid()+"/"+t.rid()+"/"+t.nid("node")},data:{showDate:t.get_arg("value")}})},eff4b0796b332d2eefd392c539be15a5145dde29:function(t,a,i){e.post({url:{xds:t.get_arg("xds"),nid:t.nid()+"/"+t.rid()+"/"+t.nid("node")},data:{expireDate:t.get_arg("value")}})},"4dc787c5dd38c2b2a135ddd5b5766d032fb5810b":function(t,a,i){e.post({url:{xds:t.get_arg("xds"),nid:t.nid()},data:{showto:t.get_arg("value")}})},"3d7af99b5d33dbff5bba0935a1373051a336bec0":function(t,a,i){var n=t;e.dialog(n.get_arg("message")),n.newEvent("lightbox.close")},"73004ef5f84db3b387fd907f2e70f2b6069667ac":function(e,t,a,i){return e.get_val("boxLayout-newsbox")},"0d5338c243984e8d5adbe5e6d3af4e517a3aa9cd":function(e,t,a,i){return(e.get_val("ContentType")||"").startsWith("image/")},"156632404c2639f1acc2343397264fa61d0c56db":function(e,t,a,i){return e.data!==e.global("Title")},f8ff98fe670aecab001706286f785cb88e3f1405:function(e,t,a){e.event("loadxds",{querystring:e.get_target("sibling:querystring").xdo.val(),master:e.get_target("sibling:master").xdo.val(),index:e.get_target("sibling:index").xdo.val(),mode:e.get_target("sibling:mode").xdo.val(),aggs:e.get_target("sibling:aggs").xdo.val(),profile:e.get_target("sibling:profile").xdo.val()})},a02bc0db2cfee77d3b80d7beaeabb69a6471106c:function(e,t,a,i){return 1==e.get_val("nodetype")},"36ffb369a5d2ad4038234e4d169bf9335f51331d":function(e,t,a,i){return 2==e.get_val("nodetype")},a8bf6a4683b0d32e07e8a34d7a7cd4ac214bd8df:function(e,t,a,i){return 3==e.get_val("nodetype")},a16d90eeb6b5ae6fa7d961b52945c3e1928cecd4:function(e,t,a,i){return 6==e.get_val("nodetype")},"705fc5cd85d7d9225a1a37215e2e4a98916304d6":function(e,t,a){e.event("lightbox",{pattern:e.get_target("*pattern").xdo.val()})},"1718d6049b4f863598e9127a5ab469732fca4f59":function(e,t,a){e.event("loadxds",{pattern:e.get_target("*pattern").xdo.val(),aggexpr:e.get_target("*aggexpr").xdo.val(),containers:e.get_target("sibling:containers").xdo.val(),max:e.get_target("sibling:max").xdo.val(),daterelevancy:e.get_target("sibling:daterelevancy").xdo.val(),explain:e.get_target("sibling:explain").xdo.val()})},"25d048c847a964dffed1be4b5feba5de460b6165":function(e,t,a){e.event("loadxds",{index:e.get_target("sibling:index").xdo.val(),pattern:e.get_target("*pattern").xdo.val(),aggexpr:e.get_target("*aggexpr").xdo.val(),master:e.get_target("sibling:master").xdo.val(),school:e.get_target("sibling:school").xdo.val(),max:e.get_target("sibling:max").xdo.val(),explain:e.get_target("sibling:explain").xdo.val()})},"9e4872a6e3be978c970cb355ebcdd8ad0439818d":function(e,t,a){e.get_val()&&e.set_val("⊘"),e.inherit("span")},eebff6894efbde32c131e42f20c8a2d959d69049:function(e,t,a){e.get_val("rfrom")==e.get_val("nid")?e.displayVal="←":e.displayVal="→"},"560f91562b2a1adbda99c8a7929aa5b148b87827":function(e,t,a,i){return 4==e.get_val("nodetype")},f544a8e13af1909920f401c9589076af6622143e:function(e,t,a){var i=e.get_val();i&&e.set_val(((i.ContentSize+1023)/1024|0).toString()+"K")},"77eacf0d99f2dda5cde588de0901fa8351699ed0":function(e,t,a){e.set_val(Math.round(e.get_val()/604800))},"538081d5c15e3396078f816cadf0483fdd92b4af":function(e,t,a){e.get_target("sibling:group",1).hide(),e.get_target("sibling:container",1).hide(),e.get_target("sibling:fromnid",1).hide()},a54d863877fb31499caedb40c75e658291b7f95b:function(e,t,a){e.get_target("sibling:user",1).hide(),e.get_target("sibling:container",1).hide(),e.get_target("sibling:fromnid",1).hide()},"161a4ad726659959fa780a49d4cd955c9dfdc776":function(e,t,a){e.get_target("sibling:group",1).hide(),e.get_target("sibling:user",1).hide(),e.get_target("sibling:fromnid",1).hide()},"5d71683d2d04df3b62dc07c8abd4c829611f693e":function(e,t,a){e.event("changePostTarget",{nid:e.val()})},"672889f18e497d61ddb4cecf612f3b5411c756a4":function(e,t,a){e.get_target("sibling:group",1).hide(),e.get_target("sibling:container",1).hide(),e.get_target("sibling:user",1).hide()},c6e62716722878b9cdf007247487cf1703548141:function(e,t,a){var i=e.get_val("data-table-row");for(var n in i)i[n].dir=e.get_val("nid")==i[n].rfrom?"→":"←"},"88770928dc510cb0c16b04be79d2196418264ad8":function(e,t,a,i){return 1==e.get_val()},f177632cebe11689d0d7b7d5d65e994585f7737c:function(e,t,a,i){return e.get_val()in{1300:1,1400:1,1500:1,1600:1,1700:1}},"668670df8a1be3991e16ad4ae32cba0b41ce1c18":function(e,t,a,i){return 1800==e.get_val()},"9e1fdcbb1963b0dc9cf8f2a7bf11e657c84a7176":function(e,t,a,i){return 1900==e.get_val()},aa43b9523045ea2e77a94b07f4b88a71d40f2c40:function(e,t,a,i){return 2e3==e.get_val()},b6f5b4c806ba6d77c9b060a1b33ff796204c058d:function(e,t,a){var i=e.get_val();i&&e.set_val(i.ContentName+" "+(i.ContentSize/1024|0).toString()+"K")},"9cc1e7bfd25ff113c1fdd580007987a1b156cc6d":function(e,t,a,i){return e.nt("node")},"8bcbed3cf34589a08dcc6b780f6f606062b971a1":function(e,t,a,i){return e.get_val("rto")},"3d84a719af2acd8d4adfc154edfc536ecf6fe0f9":function(e,t,a,i){return e.get_val()==e.get_val("nid")},"93bb9d234992162952bcf201386ae8a3d0401334":function(e,t,a){var i=e.get_val("rfrom"),n=e.get_val("rto");e.get_target("sibling:rfrom").xdo.set(n),e.get_target("sibling:rfrom").xdo.update(),e.get_target("sibling:rto").xdo.set(i),e.get_target("sibling:rto").xdo.update()},"39579c5a2af5a826bd29c64e94716116752fc74e":function(e,t,a){e.set_val(e.get_val("title")+" "+e.get_val("name")),e.inherit("setTitle")},"0b7da3d7438ae65c8b8f58ac290ec719251d58d1":function(e,t,a){var i={xds:e.xds_full.id,nid:e.get_xdo("sibling:gonid").val()},n=e.get_xdo("sibling:partition").val(),r=e.get_xdo("sibling:gofilter").val();n&&(i.partition=n),r&&(i.rnodetype=r),e.event("loadPage",i)},d613ac23237a43e36c1d86ea5ab4a2bf772192c5:function(e,t,a){e.arg("nid",e.get_val("nid","data_full")),e.inherit("form")},"7add507b9cf38ed0842aa78ccc8260d49735f8bc":function(e,t,a){e.get_val("autopost")&&e.trigger("submit")},"5412382fcf868066dac0c9f4f31b0a69141c2ed2":function(e,t,a,i){return e.get_val("form-autopost","siblings")},"16c8ce7e03bb3935ab1032f05d7560c734e0c3d4":function(e,t,a,i){return!e.get_val("form-autopost","siblings")},"52e8cc30f202c15c990cf971ff04dd96fbc5fd65":function(e,t,a,i){return e.get_val("editable","siblings")},f290e0ca95c0947a7d1cb7572fe5f79135b798de:function(e,t,a,i){return!e.get_val("editable","siblings")},"4d8cfad173172430815ca8d2a9614ced8f2edf02":function(t,a,i){t.data=e.lookup("oauth2scopes",t.get_val("scope","rnode")).str()},f1f20c44e454e9d223edcaaab0eb8ef2b4c071e3:function(t,a,i){try{t.data=e.lookup("oauth2scopes",t.get_val("scope","rnode")).params.textDescription}catch(e){}},"14046cb391a9fc1d9c05d96199c6829ac603d499":function(e,t,a){var i,n,r=e.get_target("this:OAuthConfirm-form",1),o=e.get_target("this:OAuthConfirm-form-action",1),s=[],d=[],l=e.get_target("this:OAuthConfirm",1).find(".xds-scopecb");for(o.val("allow"),n=l.length;n>0;)((i=$(l[--n])).find("input").val()?s:d).push(i.xdo.get_val("scope","rnode"));e.get_target("this:OAuthConfirm-form-scopes",1).find("input").val(s.join(",")),e.get_target("this:OAuthConfirm-form-xscopes",1).find("input").val(d.join(",")),r.submit()},ccf04987023636dc31fc6b09e6ea2703f6857fc3:function(e,t,a){var i=e.get_target("this:OAuthConfirm-form",1);e.get_target("this:OAuthConfirm-form-action",1).val("deny"),i.submit()},fa007790827e4a5ffb06f8c812298f24208e89c4:function(e,t,a,i){return e.get_val("thread")==e.nid()&&e.get_val()},d45230824b87f4878ff2c27a9e0c3f121b12aad0:function(t,a,i){if((t.get_val("pin")&parseInt(e.constant.np.Inappropriate()))===parseInt(e.constant.np.Inappropriate()))return t.get_val("thread")==t.nid()&&(t.siblings.file=!1,void t.inherit("feedItemBody"));t.exitBlank()},"469580348c9bc9ae50dd6e5ebac5e2b5f4f6d586":function(e,t,a){e.event("fetchAndUpdate")},afa256e6524d1e53fc6c1481640a404277e55cbc:function(e,t,a,i){return!e.state.get("showRT")&&!e.caller().global("readonlyForm")},"1ccd20614d529debbb2cddee98f09f47a81862c6":function(e,t,a){e.event("fetchAndUpdate")},"7e3d8e8eeaec62241b608c8383a693f237261241":function(e,t,a,i){return!e.caller().global("readonlyForm")},e21a8dc5f05cbc614f36a49300c18bae4fd7b0a5:function(e,t,a){e.caller().state.set("name",e.state.get("title")),e.caller().state.set("body",e.get_xdo("*body").val()),e.caller().state.set("quantity",e.state.get("quant"));var i=e.caller().state.get("sList");if(i)for(var n in i){var r=i[n];if(r.nid==e.nid()){i["r"+r.rid].body=e.get_xdo("*body").val(),i["r"+r.rid].name=e.state.get("title"),i["r"+r.rid].quantity=e.state.get("quant");break}}else for(var o in i=e.caller().state.get("sections"))i[o].nid&&i[o].nid!=e.nid()||(i[o].body=e.get_xdo("*body").val(),i[o].name=e.state.get("title"),i[o].quantity=e.state.get("quant"))},"807b626ab494d2476f1960060efeae2d6e2ddfbd":function(e,t,a,i){return!1},"390948d56c628ffc2fed887b7322ff7303326b90":function(e,t,a){var i,n,r=e.get_val("apps");for(i in r){n=r[i];break}n&&e.map({ltiapp:n})},"9579ea5bda1630bbe9ea63a6365aa9d368f4d0fa":function(e,t,a){var i=e.get_arg("app");delete i.rid,e.update({apps:[i]})},"01dcc567182e93c50444cc81156cadef36aa06b4":function(e,t,a){e.update(!1)},"5077a8f72c884a71a620ae09840cb9b97c9fe263":function(e,t,a,i){return!e.get_val("apps","siblings")},"4ac15f941c72c6c13ec8ffbd3c57c4d6a9023c16":function(t,a,i){t.event("lightbox",{nid:e.get_module("f_ttdate").utils.get_parent_nid(t)})},"0f300a77f605e05144de64243c2d20600054164f":function(t,a,i){var n=e.tpl(e.gbl.loadPageParam,{nid:t.get_val("nid"),xds:t.get_arg("xdsLTI")||"LTILaunch",params:"link="+t.get_val("rid")}),r=t.get_val("width","siblings"),o=t.get_val("height","siblings"),s="";parseInt(r+"",10)&&parseInt(o+"",10)&&(s="width="+r+",height="+o),e.links.openUrl(n,"LTILaunch_"+t.get_val("nid"),s)},"78cb7c90f6edad2d7b3a8e9b4d2277278e05914b":function(e,t,a,i){return e.get_val("rid")},"5856a63c6845762e73eb30c023ed645ded0852f8":function(e,t,a,i){return e.get_val("rid","siblings")},"4e8b0ae844b7d7885b329244f491799f93737050":function(e,t,a,i){return!e.get_val("app","siblings")},"65bd9e717d55f0f93121e0032cc44121edf30b28":function(e,t,a,i){return 0==e.get_val("OTStatus-button")||6==e.get_val("OTStatus-button")},"6ca9a1a20b5bb9abf6f2722906db4692df91dad5":function(e,t,a){e.get_setting("qstitle")&&(e.val(e.get_setting("qstitle")),e.set_setting("qstitle",""))},f3c8339c48848ea97a83925e8dcf4f9ff3c0b2c7:function(e,t,a,i){return!e.state.get("studentView")&&!e.global("readonlyForm")},"282eef811ddeda8d7d55271a703e96444468cbd2":function(e,t,a,i){return!e.state.get("studentView")&&!e.global("readonlyForm")&&!e.state.get("_new")},"6085fe854958ac6df1e7a178dd7b06d272eb3acc":function(e,t,a,i){return e.get_setting("qsnid")==e.nid()},"633196f3af8fd73979bf8a5ef701acbd958327b3":function(e,t,a,i){return!e.state.top().get("studentView")},"0638228c648762e943b81267faee6e1bb12ac9b3":function(e,t,a,i){return!e.global("readonlyForm")},"53dae1e7ee61807940afedc6fdb577a03ef6bb0a":function(e,t,a,i){return e.global("readonlyForm")},d12f09a980f1a2962a1af81f72e676e96ff5662e:function(t,a,i,n){return!e.is_rich(t.val())&&t.state.get("studentView")},de80d4562064f2a690d7b6e483fbec323bb1b19b:function(t,a,i,n){return e.get("OnlineTestCreate").questionTextIsRich(t)||t.state.top().get("studentView")},"9c8b77c0461f56e4ae74b264eb137cac6a3eee82":function(e,t,a,i){return 7==e.state.get("type")&&e.state.get("studentView")},dcb0fbb0b477efc955c3260a0f3dcb6fe6bb612f:function(e,t,a,i){return!(!e.state.top().get("studentView")&&2==e.state.get("filldisplay")&&11==e.state.get("type"))},a031e19e29d60a316bdf81070a30d9c81fd69ad1:function(t,a,i,n){return!(t.state.get("showRT")||e.is_rich(t.state.get("answer"))||t.state.top().get("studentView")||["5","10","11"].includes(t.state.get("type"))||t.global("readonlyForm"))},b0b47ee9f7f58633f5493399bc908753d2b19ca8:function(e,t,a,i){return 10==e.state.get("type")&&!e.state.top().get("studentView")},"950c1e8e2846d34e0f26dbfbe3a807f6ebd25ac1":function(e,t,a,i){return 8==e.state.get("type")&&!e.state.top().get("studentView")},"1894f6b852e01e5fc5ab6e3d37c2ce537896ef95":function(e,t,a,i){return 8==e.state.get("type")&&e.state.top().get("studentView")},"3da20df3a23339dce9de3fb9a03b09211fba26e4":function(e,t,a,i){return(1==e.state.get("type")||4==e.state.get("type"))&&!e.state.top().get("studentView")},bcd4ef0b668dc577996f4b90cccbe7bd596d07c1:function(e,t,a,i){return!e.state.get("addStandards")&&9!=e.state.get("type")&&!e.global("readonlyForm")},"4b805b468ef67999b1c5428cbd15125c343c4042":function(t,a,i){e.post({url:{command:"create",xds:"OnlineTestCreatePersFolder",nodetype:6.56,nid:t.nid()},success:function(e){t.newEvent("lightbox",{nid:e.pnid+"/"+e.rid+"/"+e.nid,xds:"OnlineTestCreateLightbox"})}})},"0170a2ed031e906f383a0f9a1e9070d2fa9bf3ad":function(e,t,a,i){return!e.caller()||!e.caller().get_setting("print")},"8be4a65c2ef9607f475bf3ec04f187803c89f4e5":function(e,t,a,i){return""===e.global("ScoreBook").getGrade(e.get_val("student-nid"),e.nid(),e.state.get("col")||"0")||void 0===e.global("ScoreBook").getGrade(e.get_val("student-nid"),e.nid(),e.state.get("col")||"0")},"4e6233bf0ffeeef4ee47e0ded8f43ce163359d10":function(e,t,a,i){return e.get_val("published")&&"0"!=e.get_val("published")},afefe5c607dc9e412ff22d86b722eacf7015d880:function(e,t,a,i){return e.has_role("Teacher")||e.get_val("published")&&"0"!=e.get_val("published")},a9d04753f08fb580634313b0d138b170e5504098:function(t,a,i){var n=t.get_val();n=e.is_obj(n)?n:JSON.parse(t.get_val());var r=0;for(var o in n)r+=n[o];t.displayVal="/"+r},"0f4b6f85799e74f524289b23ee8cfa6488a2cbc1":function(e,t,a,i){return!e.state.get("published")||"0"==e.state.get("published")},"3a24cc8e4a9012b6ebbfe7679ccab3c8fff2b046":function(e,t,a){e.map({completed:e.get_val("completed")})},"9361225cd40816e116e1a8281d7e9817be729c01":function(e,t,a,i){return e.get_val("OTStatus-rid")},"73bf3d3078b0a8fc6bd5ab9a1b61ae396388964b":function(e,t,a,i){return 5==e.get_val("OTStatus-button")},"51d634bbbf929b01f0b5eeb2fcc94bb9187996de":function(e,t,a){var i=e.get_val("OTStatus-tries"),n=i>1?e.arg("attp"):e.arg("atts");e.displayVal=e.tpl(e.arg("templatestr"),{attempts:i,att:n})},f600ace8b99f50e160e385ae7ce7c90b6503b505:function(e,t,a,i){return 3==e.get_val("OTStatus-button")},f23a60d02bcbb13d9d60333c3a202c3f9995ff5c:function(e,t,a,i){return 0==e.get_val("OTStatus-button")},"1c1c01df7bafb00f9489e0f86ed96af2c2b86ae5":function(e,t,a,i){return 6==e.get_val("OTStatus-button")},ff8ecc694f752c82ba677181fd12ea1d05ec314c:function(e,t,a,i){return e.state.get("published")&&"0"!=e.state.get("published")},"09be33e3d5ec6374f1a05ac4bebf20d72236be8b":function(t,a,i,n){return e.links.queryParams().lti==t.get_val("rid")},"6c5edb3601b0c5a4e4dec1714074561a5400d570":function(e,t,a,i){return!e.state.get("submitted")},a9b48cb1ab5a77cacd02073a2290c44ce08555e6:function(e,t,a,i){return e.get_val("submitted")&&(1==e.get_val("published")||e.has_role("Teacher"))},"2664e84b91f0106e2e62bba97b6feff7e0e21245":function(e,t,a){$(".xl-grid12-6").css({margin:"auto",display:"block"})},a3f6b5ec94a9ad7e3f42baa5205490834bc7e980:function(e,t,a,i){return 8!=e.state.get("type")||e.state.get("answer")},c3d29b7dd67c3f930f63ec6e204849b4908505f4:function(e,t,a,i){return 8!=e.state.get("type")&&!(11==e.state.get("type")&&2!=e.state.get("filldisplay"))},"1532bb66cef009325f24744d195927052719a44b":function(e,t,a,i){return 8==e.state.get("type")||11==e.state.get("type")&&2!=e.state.get("filldisplay")},e7403f9896a53115b807856ce08d169fa6076de0:function(e,t,a,i){return e.get_val("submitted")&&0==e.get_val("published")},d31b5cf88c4ffdfb64c7701b578078b2c50e57c5:function(e,t,a){e.get_setting("impersonateNID")&&e.global("impersonateNID",e.get_setting("impersonateNID"))},e061e78159c75a7aeb793226a9a681d50a4442a8:function(t,a,i){var n=t,r=n.global("classMap"),o=n.get_setting("impersonateNID")||e.gbl.user.nid;for(var s in r)r[s].teacherNID==o&&(n.data=r[s].teacher);n.data||n.exitBlank()},"7db18de0f8a81258d91e6ea0d0b8525b0f22336e":function(e,t,a,i){return e.has_write()},"4528edf715fdf89c4466057f86e2a253ea67ca64":function(t,a,i){var n=t.global("slots");n&&n._flat&&n._flat.length>0?t.newEvent("lightbox.open",{target:e.gbl.page,impersonateNID:t.get_val("teacherNid"),xds:t.get_arg("xds"),nid:e.gbl.nid}):e.dialog(t.get_arg("noSlotsMessage"))},ce04083f909abb986f39a2515ab432de7d65e987:function(t,a,i,n){return e.get_func("pti.deliveredToParents")(t)},"0cb8358787c2cb2918b9647ec3a0d666e6a39ade":function(t,a,i){t.newEvent("lightbox.open",{target:e.gbl.page,impersonateNID:t.nid(),xds:t.get_arg("xds"),nid:e.gbl.nid})},"15fccf6b60ab5091c0ebaeb21a0ded8a4fbd77c8":function(e,t,a){e.global("schoolNid",e.nid())},"0f039962343776f362a92083c478b9a7a5bd41b4":function(e,t,a,i){return 1==(e.get_val("interviewState")||1)},fa96df2b16a03d83ae63ba5a19901fa5bbc3e3b6:function(t,a,i){1==(t.get_val("interviewState")||1)?t.event("lightbox.open",{xds:t.get_arg("xds")}):e.post({url:{nid:t.nid(),xds:"InterviewSetup"},data:{wfaction:"returnToEditMode"},success:function(){t.trigger("doReload")}})},"01ce86e7f80ff99c630c6a5a046b027a53c38244":function(e,t,a,i){return 2==e.get_val("interviewState")},be6c99092d8509bcada458c2645cd70d1c599a54:function(t,a,i){var n=t.global("slots"),r=Object.keys(t.global("classMap"));n&&n._flat&&n._flat.length>0&&r.length>0?e.get("pti").postAndDialog({url:{nid:t.nid(),xds:"InterviewSetup"},data:{wfaction:"promoteToTeachers"},success:function(){t.trigger("doReload")},error:function(){t.trigger("doReload")}}):0==r.length?e.dialog(t.get_arg("noClassesMessage")):e.dialog(t.get_arg("noSlotsMessage"))},"0197558453e574b876b55df5f9c5436ecad856c2":function(e,t,a,i){return 3==e.get_val("interviewState")},"4736e7cf8450cec6e51bb262349e5c6392d36374":function(t,a,i){var n=t.global("slots"),r=Object.keys(t.global("classMap"));n&&n._flat&&n._flat.length>0&&r.length>0?e.dialog({message:t.get_arg("preDeliverMessage"),buttons:[{text:e.lang("Cancel"),name:"cancel"},{text:e.lang("OK"),callback:function(){e.get("pti").postAndDialog({url:{nid:t.nid(),xds:"InterviewSetup"},data:{wfaction:"promoteToParents"},success:function(){t.trigger("doReload")}})},name:"confirm"}]}):0==r.length?e.dialog(t.get_arg("noClassesMessage")):e.dialog(t.get_arg("noSlotsMessage"))},c588ae521e19eb38b243ec2dcf42d0eac854333f:function(e,t,a,i){return 4==e.get_val("interviewState")},a59857c9e39a8f0d4fe6d6acb051b4fb4a79ffe1:function(t,a,i){e.get("pti").postAndDialog({url:{nid:t.nid(),xds:"InterviewSetup"},data:{wfaction:"completeWorkflow"},success:function(){t.trigger("doReload")}})},"549be16f1e5d1c72093cf6d25979f632067a1db8":function(e,t,a,i){return e.get_val("interviewState")>=2},"0993b9c2abb577866fd768beaf1afddbea274bc7":function(e,t,a,i){return e.get_val("interviewState")>=3},b8f28afe283f22bf0ded055d92ebf9c531466031:function(e,t,a){e.target("*classlist").hide(),e.target("*slotlist").hide(),e.target("*parentlist").hide(),e.target("*teacherlist").hide(),e.target("*setup").show()},"38954d1b8d0a93f8386edea0707858e143fdf709":function(e,t,a){e.target("*classlist").show(),e.target("*slotlist").hide(),e.target("*parentlist").hide(),e.target("*teacherlist").hide(),e.target("*setup").hide()},f70cf6b52d2dcc23129fe4eae8bd45fa505bd338:function(e,t,a){e.target("*classlist").hide(),e.target("*slotlist").hide(),e.target("*parentlist").show(),e.target("*teacherlist").hide(),e.target("*setup").hide()},b5d4b56f500af108b6122d7e0353859b788ea852:function(e,t,a){e.target("*classlist").hide(),e.target("*slotlist").hide(),e.target("*parentlist").hide(),e.target("*teacherlist").show(),e.target("*setup").hide()},"0c3a8429999dbc26ec8c7968e04140166760a0bd":function(e,t,a){e.xds.choices="nid:"+e.global("schoolNid"),e.inherit("f_str")},"22c6b109a5ba209a58f49a6276e01d1c8d807432":function(e,t,a){var i=e;i.get_val("savedReservationsPerTeacher")&&(i.xds.readonly=!0),i.inherit("f_number")},"24ce543229b981cf611b2d4fded4ef781665a6a9":function(e,t,a){var i=e;i.get_val("savedSlotLength")&&e.global("slots")&&(i.xds.readonly=!0),i.inherit("f_number")},ecb82ab328c4be6f3ce3e58fb32bbddeff5732a3:function(e,t,a,i){return e.get_setting("who")},"6682c302c83ddb28b521c9e0b35f192461c48626":function(e,t,a){var i=e;i.target("caller").trigger("whoSelected",{who:i.get_arg("who"),studentNID:i.get_arg("studentNID"),classNID:i.get_arg("classNID")})},"7477c065bd102e60c8d189ff4a93e0a0aa094f9b":function(e,t,a){var i=e;i.data="",i.inherit("noContent")},"6fa759f57269a50cd091313152985d2af5673eec":function(e,t,a){e.data=""},"9f509c606c39b2d2a7b31b7ab909e580a85797ab":function(e,t,a){var i=e;i.trigger("selected",{who:i.nid(),studentNID:i.parent_xdo().nid(),classNID:i.parent_xdo().parent_xdo().nid()})},b90e14d933d48a2225cd8de102f6b69f9f568a0b:function(e,t,a){e.target("*classlist").hide(),e.target("*slotlist").show(),e.target("*parentlist").hide(),e.target("*teacherlist").hide(),e.target("*setup").hide()},"7f518ce114b41d862530be4991a786ccfcd29854":function(e,t,a){e.data="",e.inherit("button")},"6cd378f41ec0ace1640958b8960a681cf78fc248":function(e,t,a,i){return!0===e.data},"263d436dc6600727454d5a0c10bc8f0ace7e3205":function(e,t,a,i){return e.get_val("active")&&e.has_write()},fc7192b3a126b92534bd2dfda066da5d3de7eb9a:function(t,a,i,n){return e.get_func("pti.canSlotBeDeleted")(t)},"93707f1577abbbd85fd800f80fb13f8543e8673f":function(e,t,a){e.state.set("tzaware-displayZone","customer")},"1fb17f30d7646d34d4a672a18d6592497572d900":function(e,t,a){e.state.set("tzaware-displayZone","local")},d41a728ebda360b3febcb424455f840506cac699:function(e,t,a,i){return e.global("done")},"09e1a84739953b5092b40e10f5181c6b98b9756b":function(e,t,a,i){return 3==e.global("interviewState")},"5b024614e9272f1488782df85df7fc0f69d14c51":function(e,t,a,i){return 3!=e.global("interviewState")},e6f824cfd512e177021043f32c1d96d91890e681:function(e,t,a){e.xds.cdid="slot-"+e.get_val("classNID")+"-"+e.get_val("teacherNID"),e.tag("td"),e.get_val("slot-bookedByMe")&&e.addClass("slot-bookedByMe"),e.get_val("timeslotBookedByMe")&&e.addClass("slot-timeslotBookedByMe")},e21d901b3a38607015775f0a73d3ce9641d25470:function(t,a,i){var n=t;n.event("lightbox.open",{xds:n.get_arg("xds"),who:t.get_arg("who")||t.global("impersonateNID")||e.gbl.user.nid})},a39e047cc2e083829ed78373358467dd2a6b5ffd:function(e,t,a,i){return e.global("iHaveBookings")},"2f01c30658d833b252ee7d6d18c625c9553aa48d":function(e,t,a,i){return 3==e.global("interviewState")&&e.global("iHaveBookings")},"42a2a0d23f42c3c5465dd1dd46cc3c84380021dc":function(e,t,a){e.data={date:e.global("slotDates")}},fc0f4a191a610500aee4f527103cc3154457fad2:function(e,t,a){var i={xds:e.arg("xds"),target:e.arg("target"),includeNotes:e.state.get("printWithNotes")?1:0,suppressBlocked:e.state.get("suppressBlocked")?1:0,autoprint:1};e.get_setting("impersonateNID")&&(i.impersonateNID=e.get_setting("impersonateNID")),e.newEvent("loadPage",i)},"75a5fd40ee9bd3af08eab07d268c08c23e817093":function(e,t,a){e.state.set("printWithNotes",a)},"71527aea367bd6cbcad28a34d939d3a607fd8913":function(e,t,a){e.state.set("suppressBlocked",a)},"67f37a566a1b7881ceca9cb6215690d5c73b4110":function(t,a,i){var n=t;e.dialog(n.get_val())},eac5fffd7d8320f2c8c9e7594560098775d8b30a:function(e,t,a,i){return 4!=e.global("interviewState")&&e.get_val("blocked")},"93d3c44ea278f9df3f3bb18917a674f17ea68f9f":function(e,t,a,i){return 2==e.global("interviewState")||3==e.global("interviewState")||e.global("impersonateNID")},"689b8f8794bb621e694e439e71b3ae068d14ab17":function(e,t,a,i){return 4!=e.global("interviewState")&&!e.get_val("voted")},"1e3e9e71cdf4a56721f2da1afa31b849d5b3c553":function(e,t,a,i){return 4!=e.global("interviewState")&&e.get_val("bookable")},"43756bf2f0b98b51740ed816376356844abe8045":function(e,t,a,i){return 2==e.global("interviewState")||3==e.global("interviewState")||e.global("impersonateNID")},"180904d3e9fea99b0330e1b4ad0b203e45d50809":function(t,a,i){var n=t;n.newEvent("lightbox",{nid:e.gbl.nid,xds:"PTIParentPicker",teacherNID:n.get_setting("impersonateNID")||e.gbl.user.nid})},"5b1002d6dfbbcbbb2975323f775e6d065c095502":function(e,t,a){var i=e;i.event("lightbox.open",{xds:i.get_arg("xds"),who:i.get_val("reserverNID")})},"70bc9d4771cbafd7a81f48fd99877ed50376b594":function(e,t,a,i){return e.has_write("broadcastNewFanOutTeacher")},bcfb06e541989e073586718ed5a5297aec6f6feb:function(e,t,a){var i={};e.state.get("viewxds")?i.xds=e.state.get("viewxds"):(i.xds=e.arg("xds"),i.nidSource="node"),e.event("lightbox",i)},b941ecf6d65d148b6efb9b28862b1710101b9cc8:function(e,t,a,i){return!e.get_val("alerttype","siblings")},"71d7f016c827a49dc8a3a5ab1d2026a8dca09221":function(t,a,i,n){return e.get_nt(t.rnode)===e.nt.Message.AttendanceIncident()&&t.rnode._threadhead&&t.rnode._atthistlen>1},bc4be6194f842c35e954f462f976b2f9caebd7b9:function(t,a,i,n){return!(32&t.get_val("pin"))&&e.get_nt(t.rnode)!=e.nt.Message.AttendanceIncident()&&t.get_val("thread")==t.nid()},da3f10c641c9231ca10f6f41343c5136f4e0bb19:function(e,t,a,i){return 32&e.get_val("pin")},"77469a9c5b0ed98d043ae2c7d83af89c5270f15d":function(t,a,i,n){return t.get_val("_threadlen")>1&&t.get_val("_threadhead")&&(t.get_val("createid")==e.gbl.user.nid||e.get_func("currentUserIsAdminType")(t))},"6a73f1d0aa89ece6463362d0ac730d98badc12ae":function(t,a,i,n){return(1==t.get_val("_threadlen")||!t.get_val("_threadhead"))&&(t.get_val("createid")==e.gbl.user.nid||e.get_func("currentUserIsAdminType")(t))},"5d13855f69f97fd6c1fb3f8e774cd8314b9330c4":function(e,t,a,i){return!e.get_val("communitya")},"9ad27f8c50d2bda874d9dcaa6a7bc4f342af2af4":function(e,t,a,i){return Object.keys(e.get_val("parent")||{}).length>0},"5f0fed8e38d30ede9e2f9c5b3eaad2954ddf0f32":function(e,t,a,i){return 17==e.get_val("reltype","rnode")},"0e10fc1016aab024814171eb65361c9be1ea38b5":function(e,t,a,i){return!e.state.get("haveexternalauth")},"7cb0f6d411c4cc041b7a203a103d3a0b5cecade9":function(e,t,a,i){return 0==(64&(e.get_val("pending")||0))&&!e.get_val("unid")},c2ec09eec48445146049a0ecb99f36bd96465ea9:function(e,t,a,i){return e.get_val("contacts")},d339fa078673d2a1c9b6951a15823d17ef285c21:function(e,t,a,i){return 0==(64&(e.get_val("pending")||0))&&!e.get_val("unid")},"3a069a72840cd8a229c918220b7f3b25dd51070c":function(e,t,a){var i=parseInt(e.get_val(),10),n="";isNaN(i)||(n="th",i%=100,1!==Math.floor(i/10)&&(1==(i%=10)?n="st":2===i?n="nd":3===i&&(n="rd")),e.displayVal=e.get_val()+n),e.tag("div")},"13a7f3f6b9a21d667c961f65ef856e731b97c84b":function(e,t,a,i){return!isNaN(parseInt(e.get_val(),10))},"4c18b58617850f8cd0abed87389dc39ddfab1d19":function(e,t,a,i){return e.state.get("docfinder")},"0e988a7edd23e6dfe55401c14828f2141ba8f6c7":function(e,t,a,i){return e.get_setting("targetNid")==e.nid()||!e.get_setting("isolateTarget")},c90a1bd79da6fdf762f60a045a2e1813589aa471:function(e,t,a,i){return i.nid!=i.uid&&e.get_val("canmail","siblings")},"937a8bf67e6a245a9653e093444eea5026e4300c":function(a,i,n){a.target("this:Place-col2-feedPane-feed2").hide(),t.setTimeout(function(){e.get_func("empty")(a.target("this:Place-col2-feedPane-feed2").xdo),a.target("this:Place-col2-feedPane-feed2").show()},500)},c444031267570c468cecc7523c8cfc20cbc6d14f:function(e,t,a,i){return e.has_write("feedmsg")||e.has_write("CalendarEvent")||e.has_write("CreatePoll")},"90da0bcfd0b153917b2961c7b3a39eefc81e0790":function(t,a,i,n){return t.state.get("videoenabled")&&t.nt()!=e.nt.Container.Badge()},c79745c0da15b930cbf0954883947694944bb769:function(e,t,a,i){return e.has_read("GroupPresenceRoster")},e43e26c17f697f2273b4e044e6b3198501e6cb5f:function(e,t,a,i){return["2.3","2.7","2.9"].includes(e.nt())&&e.has_role("Staff")},"314174fee144aa47b5f860afa8e99b5bd97372a1":function(e,t,a){e.get_val("member")&&(e.get_val("invitation")||e.state.get("BasePlaces")[e.nid()])&&e.exitBlank(),!e.get_val("member")&&e.get_val("invitation")?(e.on("click","lightbox",{xds:e.arg("xdsNonMember")}),e.inherit("profpicName",{xdsclick:void 0})):e.inherit("profpicName")},"8d15a862921912cfa797ad96f79d909e2671862c":function(e,t,a){e.event("trigger",{eventName:"reloadPlaces",target:"caller"}),e.event("lightbox.close")},"4dcf1a782454b5b2c7e623248f4ae1766274e6af":function(t,a,i,n){return!(e.user.roles.includes("Office Head")||e.user.roles.includes("Guidance")||e.user.roles.includes("Principal")||e.user.roles.includes("Administrator")||e.user.roles.includes("School IT")||e.user.roles.includes("District IT Administrator")||e.user.roles.includes("District Guidance")||e.user.roles.includes("District Admin")||e.user.roles.includes("IT Administrator"))},"99c67cc5dcae62c6e050860c3e8fd5a7828d220a":function(e,t,a){var i=e.get_arg("value");22==i||23==i||34==i?(""===e.get_xdo("*showto").val()&&e.get_xdo("*showto").val("SysAdmin"),""===e.get_xdo("*invitation").val()&&e.get_xdo("*invitation").val("Closed")):10==i?""===e.get_xdo("*showto").val()&&e.get_xdo("*showto").val("Teacher"):32==i?(""===e.get_xdo("*showto").val()&&e.get_xdo("*showto").val("Staff"),""===e.get_xdo("*invitation").val()&&e.get_xdo("*invitation").val("Closed")):26==i&&(""===e.get_xdo("*showto").val()&&(e.get_xdo("*showto").val("Staff"),e.get_xdo("*showto").val("Student")),""===e.get_xdo("*invitation").val()&&e.get_xdo("*invitation").val("Open"))},a15960cadd0fad27642f55aa586f8e42f84fc558:function(t,a,i,n){return e.user.roles.includes("Office Head")||e.user.roles.includes("Guidance")||e.user.roles.includes("Principal")||e.user.roles.includes("Administrator")||e.user.roles.includes("School IT")||e.user.roles.includes("District IT Administrator")||e.user.roles.includes("District Guidance")||e.user.roles.includes("District Admin")||e.user.roles.includes("IT Administrator")},"7beaf46c07900989768a281591765d710ddad1a4":function(t,a,i){if(t.state.get("type")!=e.nt.Container.Badge(!0))return t.exitBlank()},"100eda64a14d21a8d11f1f137f64fd04149a536b":function(t,a,i){if(t.state.get("type")!=e.nt.Container.PDGroup(!0))return t.exitBlank()},"9e2bdf2570c1725ab4907d117df2ec8c1045f313":function(e,t,a){e.child("profpic",1).hide(),e.child("file",1).css("width","140px")},"45d900f88c0be1c8137a2c80d6fe44cdf942d4ea":function(e,t,a,i){return"7"==e.get_val("reltype")},"48687c8ac1c8f1163d27a391fa181e4ac9f89750":function(t,a,i){if(![e.nt.Container.Conference(1),e.nt.Container.Team(1),e.nt.Container.Club(1),e.nt.Container.Duty(1),e.nt.Container.Workflow(1)].includes((t.state.get("type")||t.state.get("nodesubtype"))+""))return t.exitBlank(!0);1==t.data||"Yes"===t.data||"On"===t.data||!0===t.data||"true"==t.data?t.data=1:t.data=0,t.inherit("f_checkbox")},"2e1cba8903b95bc4cd1d98bff1753783911ad31b":function(e,t,a){e.get_xdo("*teacherNID").val(e.get_xdo("*moderators").val()),e.trigger("submit")},ff400c7dc570e3c52230b2fc8e03e871363fec53:function(e,t,a){var i=Object.keys(e.dd.valueMap);1===i.length&&(e.dd.setValueByValue(i[0]),e.dd.triggerChanged(),e.dom().hide())},a787c60c432fe9b1efd2f8ac1e9d74a55f18bc0b:function(e,t,a){var i=e.global("members")||{};return i[e.nid()]=1,e.global("members",i),!1},"095fa88b26f5ca2a9e2641d2e700d3c5a8a363cd":function(e,t,a){var i,n,r=e.get_val("reorder-list");for(n in e.temp.nModerators=0,r||{})r.hasOwnProperty(n)&&(i=r[n],++e.temp.nModerators);e.temp.nModerators<2&&(e.addClass("xds-single-moderator"),i&&(i.single_moderator=!0)),e.inherit("f_section")},"86f81ec9bf48488219ff4a85faac8b52b2fa3537":function(e,t,a,i){return!e.get_val("single_moderator","rnode")},"7c079c21246c6119322108afec992f684961ca20":function(t,a,i){var n=t.get_arg("xds"),r=t.get_val("nid","node"),o=t.get_val("rid","rnode"),s=t.get_arg("command"),d=t.cnid();e.dialog({message:t.get_arg("message"),buttons:[{text:t.get_arg("strConfirm"),callback:function(){t.newEvent("post",{command:"delete",xds:n,nid:d})},name:"yes"},{text:t.get_arg("strDecline"),callback:function(){var e={rid:o,"teachers-role":""};t.newEvent("post",{command:s,xds:n,nid:r,data:e})},name:"no"},{text:e.lang("Cancel"),name:"cancel"}]})},"7b04216e73e548e0a88ca309faef308aa6324066":function(e,t,a){var i,n=[],r=e.get_val("info-school","data_full")||{};for(i in r)n.push(r[i].nid);e.arg("nid",n.join(".")),e.inherit("dd.serverSelect")},"8be834cedaef936d04310c8847fece8a22af258f":function(t,a,i){var n,r=t.get_xdo("*moderators-reorder"),o=r?r.get_val("list"):{},s=t.val();for(n in o)if(o[n].nid==s)return t.val(""),void t.e.preventDefault();t.newEvent("post",{action:e.gen_url(t.tpl({command:"link",nid:t.val(),xds:t.get_arg("xds")})).replace(".json","").replace(/\?$/,""),data:{_dest:t.get_val("nid","node"),_reftype:4,"teachers-role":"Moderator"}})},e75fc08e23f4ae2c150146eac8c774c6184fdad9:function(t,a,i){e.confirm({confirmButton:t.get_arg("titleConfirm"),message:t.get_arg("message"),confirm:function(){e.post({url:{nid:t.nid(),xds:t.xds_full.id},data:{"body-main-type":14},callback:function(){t.newEvent("lightbox.close")}})}})},"3f08ec35e8b3e52c40c0ec3175817c52cb382e06":function(e,t,a){var i,n=e.get_xdo("*teacherNID"),r=e.get_xdo("*moderators").get_val("reorder-list"),o=[];if(r&&r.length)for(i in r)r[i].nid&&o.push(r[i].nid);n.val(o.join(",")),e.trigger("submit")},"66f109004228d1028f48c56a86e5223144507e4b":function(t,a,i,n){return e.storage("CoursePlan-pasteBuffer",void 0,"localStorage")},"7528c1b0d323bb955d0b1ab3c3d87a8683e77e52":function(t,a,i,n){return e.storage("CoursePlan-copied")},df77e49d90bc9768c1ef8310c1c8b7dd9629d084:function(e,t,a){var i=e;i.data||i.exitBlank()},e1fc37387fc590f7fd77c97d518ff57e2a628f5b:function(t,a,i){e.links.back()},e7bc391ca2cb371b0f1b51eea6df918a9f1ef201:function(e,t,a){var i;!1===e.get_val()&&(i=e.state.get("wsid")?1:0,e.set(i),e.state.set(e.arg("id"),i)),e.inherit("f_radioGroup")},b530fe4dc0e5e63945f4460c050efad8aaecbc1a:function(e,t,a){if(parseInt(e.state.get("wstype"),10))return e.exitBlank(!0)},"261a441ed23ddb264ce8b91a24249faee9cd55fb":function(e,t,a){if(!parseInt(e.state.get("wstype"),10))return e.exitBlank(!0)},e4cef82b7711b3990df2e40e30ebf54f465819fd:function(e,t,a){var i;!1===e.data&&(i=e.state.get("reportid")?"1":"0",e.state.set("updatetype",i),e.set(i)),e.inherit("f_radioGroup")},fc03196b7c3662eae25afd9212b874be7cc01f02:function(e,t,a){e.arg("defaultValue",e.state.get("noconn")?"2":e.state.get("cs")?"1":"0"),!1===e.data&&e.state.set("conntype",e.arg("defaultValue")),e.inherit("f_radioGroup")},"2a974f9a7a36e340f1755da12e49e756966fa9a6":function(e,t,a){if(0!=e.state.get("conntype"))return e.exitBlank(!0)},f2b8b51d991953c60025e79c5468fd3a9bc5082b:function(e,t,a){if(1!=e.state.get("conntype"))return e.exitBlank(!0);e.inherit("f_str")},"00235ef01b2a4a7ef3f8666230e0e3aff8f0bcf3":function(e,t,a){if(2==e.state.get("conntype"))return e.exitBlank(!0);e.inherit("f_str")},a302b6f7c88d7c1101c78975ef64c82507fb2783:function(e,t,a){if(2==e.state.get("conntype"))return e.exitBlank(!0);e.inherit("f_simplePassword")},b5a0817f17777f584a54a7556885e8b536f5d2ca:function(e,t,a){e.set(2==e.state.get("conntype")?1:""),e.inherit("f_hidden")},"8616406424980afc76ac7a3f32dcad16b2849033":function(t,a,i){e.links.openUrl(e.tpl(e.gbl.loadPage,{nid:t.get_val("nid","node"),xds:t.get_arg("xds")}),"EBPBIEmbed")},"52dc633e5a00e929478b24468a1ed66ad4131e49":function(e,t,a,i){return e.has_write("classSetupPage")||e.has_write("classSetup")},"6a98932eff280b87296b06c2a35a930d58885844":function(t,a,i){var n=e.user.schools,r="";for(var o in n){var s=n[o];if(3==s.nodesubtype){r=s.school;break}r=s.school}t.data=r},"1a8eae34923e6d8d0dfe8ed82a49dfa0fc48243c":function(t,a,i){var n=t.get_setting("thread")||t.caller().get_setting("thread")||t.caller().nid();a.append(e.html.input({name:"thread",type:"hidden",value:n}))},"8d591dd4a703625683e269b606bc27cc844fd228":function(t,a,i){t.newEvent("loadxds",{nid:t.caller()&&t.caller().caller()&&(t.caller().caller().nt("node")===e.nt.Container.Class()||t.caller().caller().get_val("classnid"))?t.caller().caller().global("classnid")||t.caller().caller().get_val("classnid")||t.caller().caller().nid("node"):t.nid("gbl"),xds:t.get_arg("xds"),GradebookName:"privateObservationGradebook",noPath:!0,noForm:!0})},c6930d18289d42d4395321ea966fede82204d447:function(t,a,i){e.ajax({url:{nid:t.get_setting("class")||t.nid(),xds:t.get_arg("xds")},callback:function(e){var a;for(var i in e.slices){var n=e.slices[i];n.data&&(a=n.data.cloud)}t.newEvent("redraw",{redrawPath:"*list",cloud:a})}})},"02e6b881233a9181826c0ab90fe0693071b80a5b":function(t,a,i){var n=e.get("gradebook"),r=t.get_setting("thread"),o=t.get_arg("nid").substring(t.get_arg("nid").lastIndexOf("/")+1);if(n){var s=n[t.nid("gbl")]||n.privateObservationGradebook;s&&r&&o&&s.saveGrade({snid:r,value:t.global("grade"),xds:"grades",anid:o})}},"994914940d2555217292df9eeff321e2db150307":function(t,a,i,n){return e.gbl.nid==e.gbl.uid&&2&t.get_perm(t.arg("xds"))},"37b0144a05d29390f56ceed55dd46f4f85ba00b8":function(t,a,i,n){return"localhost:8080"==e.gbl.host},"55b06aa8d683c116d48b804b124a1688725e4344":function(e,t,a,i){return-1===(e.get_val("blocked","data_full")||"").indexOf(e.arg("xds"))},"225339285f5c0b12c9ecdaa8e8b6cddc0c942278":function(e,t,a,i){var n=e;return!n.state.get("profpic").startsWith("IN:")&&n.state.get("profpic")&&n.has_write("newProfPic")},"4b7a6d0bdc84512af2903d6859a19ae6514a8e26":function(e,t,a,i){var n=e;return!n.state.get("profpic").startsWith("IN:")&&n.state.get("profpic")&&n.has_write("newStudentProfPic")&&"1.5"==n.nt()},"37973a6e924df569ba0f29b105262f013c2ea9ef":function(e,t,a){e.get_xdo("*command").update("release"),e.trigger("submit")},"42ad0c6939aa5c114f5201f0d25d67ab922aa053":function(e,t,a){e.get_target("sibling:nids").val(a.nid)},b9818147397657e33d4b5b321936942d8fd1eaf9:function(e,t,a){var i,n=[],r=e._rawData;if(r)for(i in r)r[i].nid&&n.push(r[i].nid);e.get_target("sibling:nids").val(n.join(","))},e50e5f0f32999128773c63d9d86df5d471ae446d:function(e,t,a){e.get_target("*pending",1).val("1")},fc3cd1b06b9845b50d124db50d38b05c5d94cf79:function(e,t,a){var i=e.get_target("find:.ZoomCore-data-table",1).xdo;i.clearAllSelected(),i.setGearMode(!1,!0),e.newEvent("reload")},d3a226dfe5a04dc847574cc4dd8be881a5b34409:function(e,t,a,i){return e.get_val()||"0"},"629609fdc65f3f7a3eb4c3adbe2dac0b52d2b0f5":function(e,t,a,i){return e.get_val("status0","data_full")||e.get_val("status5","data_full")},"6ae891cca0cced87c5d7f593b20ea8eadd8c3daf":function(e,t,a,i){return(e.get_val("status0","data_full")||0)+(e.get_val("status5","data_full")||0)},"1af458523ed56661635c51363488c4da0df83458":function(e,t,a,i){return e.get_val("text")},"7274fb420e2afb6138ca751ca34fa2e4e3fba54e":function(e,t,a){var i,n,r=e.get_val("templates","siblings"),o=[],s=[],d=e.get_val("template_names","data_full");for(n in r)r.hasOwnProperty(n)&&o.push(n);for(i in o.sort(function(e,t){var a=r[t]-r[e];return 0===a&&(a=d[e].localeCompare(d[t])),0===a&&(a=e.localeCompare(t)),a}),o)n=o[i],s.push("<li>"+d[n]+": "+r[n]+"</li>");e.tooltip="<ul>"+s.join("")+"</ul>"},"2fc5459235a88626be7673c03f204c30f286733c":function(e,t,a){e.data_full.posting?e.trigger("rpd-op-poll"):"deploy"===e.data_full.rpop?(e.newEvent("trigger",{eventName:"updatedReportingPeriod",target:"caller"}),e.newEvent("lightbox.close")):e.data_full.bestrpnid?e.newEvent("loadPage",{xds:"DistrictReportingPeriod",nid:e.data_full.bestrpnid}):e.newEvent("loadBase")},"44f279e2f337dcb8453ca6f49e8d742d97636eda":function(e,t,a){var i=t;e.data_full.posting=!0,e.data_full.bestrpnid=e.data_full.rpopnid=e.data_full.nid,e.data_full.rpopdnid=e.get_setting("nid").split("/")[0],e.data_full.rpop="deploy",e.trigger("rpd-op-poll"),i.find(".ReportingPeriodDetails-footer-left-delete-action").hide(),i.find(".ReportingPeriodDetails-footer-right-cancel").hide(),i.find(".ReportingPeriodDetails-footer-right-save").addClass("xds-loading"),e.event("ajax_post",{nid:e.get_setting("nid")})},"4af1fbf4714e9bd95a8a6ec8fbbcd140cf1b3a99":function(e,t,a){delete e.data_full.posting},a7c18b3931e0d8010f5df5b237af38629e6df0a8:function(e,t,i){e.find(".ReportingPeriodDetails-footer-left-delete").find(".xds-rpd-warning").addClass("hidden"),$(a).unbind("mousedown.rpdwarning keydown.rpdwarning")},"8be51999598b01a3ad120396563e6201f3c17890":function(e,t,a){setTimeout(function(){e.newEvent("ReportingPeriodDetails.events.pollopprogress",{target:"this:DistrictReportingPeriodPopulate-footer-left-progress"})},1e3)},"59486287d611633a65e6dba2f969e6ba529ae564":function(e,t,a){var i=$(e.parents(".ReportingPeriodDetails"));e.data_full.posting=!0,e.data_full.rpop="delete",e.data_full.rpopnid=e.data_full.nid,e.data_full.rpopdnid=e.get_setting("nid").split("/")[0],e.trigger("rpd-op-poll"),e.trigger("rpd-warning-dismiss"),i.xdo.newEvent("forms.events.stale_form"),i.find(".ReportingPeriodDetails-footer-left-delete-action").addClass("xds-loading"),i.find(".ReportingPeriodDetails-footer-right").hide(),i.find(".ReportingPeriodDetails-footer-left").css("width","100%"),e.event("post",{nid:e.get_setting("nid")})},"6b20e9ef84ebbea2d1a37a3b79a90defc59f4a5e":function(e,t,a){delete e.data_full.posting,a.bestrpnid?e.data_full.bestrpnid=a.bestrpnid:delete e.data_full.bestrpnid},"0c4a8cd7653956e549de69013742055324e35a73":function(e,t,a,i){return""+(e.get_val()||0)},a34b5053970af34e606fbd67e45b9023675f4c49:function(e,t,a,i){return" "+(e.get_val()||0)},"5e8036532bb8ec5329ea46750d42a2074765baee":function(e,t,a,i){return" ("+e.get_val()},"238b3b8f9cdcc42d23de7c2652c21f2908f161b0":function(e,t,a,i){return e.get_val("failed","rnode")},"9c2dd0016229abc8f8dfbd931ca40372c1c7dae7":function(e,t,a,i){return"None"===e.get_val("failed","rnode")},"882b7ec94b24ab90f632649480e7fbb98ce2b131":function(e,t,a,i){return"None"!==e.get_val("failed","rnode")},e04ce4cbfa03fa7b6cd30d1fdb9b113a2472b900:function(e,t,a,i){return e.arg("titleTemplate").replace("{phase}",e.get_val("failed","rnode"))},"4d08e6d1d2467ca590c88f694f167f7bbbc7803b":function(e,t,a,i){return e.get_val("queued","rnode")<e.get_val("schools","rnode")},"614f0e598216344130584a7196cfe6e5f021b113":function(e,t,a){var i={expxds:e.get_val("expxds","rnode"),expargs:e.get_val("expargs","rnode")};e.newEvent("post",{xds:e.get_arg("xds"),nid:e.get_val("nid","data_full"),data:i})},c40ac8ba6a4b39f14014b52fa3f7387985c7ecb8:function(e,t,a){var i,n,r,o,s={},d=0,l=e.get_arg("school_rperiods"),c=e.parent_xdo();for(i in l)if((n=l[i]).matched.length&&(d+=1),(n.failed||[]).length)for(r=0;r<n.failed.length;r++)s[n.failed[r]]=1;for(r in e.rnode.queued=d,o=[],s)o.push(r);o.length?e.rnode.failed=o[0]:delete e.rnode.failed,c.update(),c.get_xdo("siblings:details").update()},"8eb9067dcf6e4b75f2ca66d31b2d6db11cebbaed":function(e,t,a,i){return e.get_val("queued","rnode")>0},"4f1a1764760ae3b0ad44e964a02608440226762f":function(e,t,a){var i={expxds:e.get_val("expxds","rnode"),cancel:!0};e.newEvent("post",{xds:e.get_arg("xds"),nid:e.get_val("nid","data_full"),data:i})},afd0cd0a6d538257684a3f89161026d5a1e87328:function(e,t,a){e.rnode.queued=0,e.parent_xdo().update()},"2081784e2a259f59bb5dd5ac3fc1084817766a50":function(e,t,a){e.data_full.posting=!0,e.data_full.rpop="deploy",e.data_full.rpopdnid=e.get_setting("nid"),e.trigger("rpd-op-poll"),e.find(".ReportingPeriodPopulate-footer-right-save").addClass("xds-loading"),e.find(".ReportingPeriodPopulate-footer-right-cancel").hide(),e.event("ajax_post",{nid:e.get_setting("nid")})},"40bb1ecdd2aa8b957ef4f111b9bf9b5a21b6a2ea":function(e,t,a){delete e.data_full.posting,e.data_full.bestrpnid=a.nid.split("/").pop()},b3136ba8a743ec5c6139c30dc7c8f1c1b18e0c83:function(e,t,a){e.data_full.posting?e.trigger("rpd-op-poll"):e.event("trigger",{rpnid:e.data_full.bestrpnid,target:"caller"})},"572230db7a386cddd13541f6218ad75c0cd29549":function(e,t,a){e.state.set("oldsheet",e.val())},ea0792c9534b817ab202acfe4c7ba4e508dd5c2e:function(e,t,a){if(-1!==["3","4","5"].indexOf(""+(e.state.get("oldsheet")||0)))return e.exitBlank()},"5dd765862c181f37f1173b88aebac9a739961793":function(e,t,a){if(-1!==["3","4","5"].indexOf(e.state.get("oldsheet")))return e.exitBlank();e.inherit("f_section")},"1763e233d925159554b9dbf9c420b2bcc43c386b":function(e,t,a){1==e.get_val("progress")||-1==e.get_val("progress")?e.trigger("rpd-op-complete"):e.trigger("rpd-op-poll")},a5ac6c2f92d01993cafbe44748d8f6470d0d4f17:function(t,a,i){var n=t.get_setting("url").match(/[?&]op=([^&]+)/);if(null===n)return!1;t.displayVal=e.lang(n[1])},"691a0ed3a40e5a8f1769bbf1f31967104c05b35a":function(e,t,a,i){return e.get_val("progress","sibling")>=0},"1507c2cb638c9050861a6670b2413e23b54fde6d":function(e,t,a){e.addStyle("width",Math.round(100*parseFloat(e.get_val("progress","data_full")))+"%")},a3a932a8cf5afa2cd8f342ea40c21653c2e6bb4a:function(e,t,a){var i={xds:"ReportCard",nid:e.rnode.nid};i.TargetPeriod=e.get_val("nid","node"),e.get_val("multisheet","rnode")&&(i.TargetPeriod+="."+e.rnode.rid),e.newEvent("loadPage",i)},"7cc353e982f205f8a9165a473b24d094ae397568":function(e,t,a,i){return(e.get_val()||"0")+" "},d4b847289bec6f202022fb6d8aa4ce4610543534:function(e,t,a){e.event("loadxds",{nid:e.get_val("rpnid","data_full"),Review:1,xds:e.get_val("template","data_full")||e.get_arg("xds"),student:e.get_val("nid","rnode"),noPath:!0})},fe1ba39b7952b993278113f5ea4866f0bbe9a8b5:function(e,t,a){e.event("loadxds",{nid:e.state.top().get("nid"),Review:3,xds:e.get_setting("PrintXDS"),student:e.state.get("nid"),classnid:e.get_setting("nid").split("/")[0],noPath:!0})},"84e0ae27d9ebd000632d0c19cd4155d27c8b8984":function(e,t,a,i){return!e.get_val("included","siblings")},"0b6da850320800494c0809542560f022da79ae3b":function(e,t,a,i){return 0==(2&e.get_perm())},cac54757a0590fe623a0bc54ae67bce8a1630861:function(t,a,i,n){return e.isSameYear(t.get_val())},"71aa8734ff5dd7cadc747bbb76313bcaa573dffe":function(e,t,a,i){return 2&e.get_perm()&&e.get_val("anomalies","siblings")},"4ce7bb406e9a2c3dd7ca7f1c92f316b4b7932393":function(e,t,a){var i=e.get_xdo("*find").val(),n=e.get_xdo("*replace").val(),r="1"==e.get_xdo("*case").val(),o="1"==e.get_xdo("*wholeWord").val();i&&e.target("caller").trigger("findReplace",{find:i,replace:n,caseInsensitive:r,wholeWord:o}),e.newEvent("lightbox.close")},d0d350340684a723e09d7ef7e261ac5e440b2a35:function(e,t,a,i){return(e.get_val()||"").length},a40555c226950d8948bb1b2f5d1e5c0493e0344d:function(e,t,a,i){return e.get_val("title","siblings")?" ("+e.get_val()+")":e.get_val()},ae1cf5a1ee926e1a3ac41d3a9a47f2b555c9eca3:function(e,t,a){e.get_xdo("*checkbox").trigger("click")},"9427bc6520de8fd8acb0f345e3632c6cc85bdf8c":function(e,t,a,i){return e.get_val()&&e.get_val()!==e.get_val("courseid","data_full")},"9d882bcdd8d99ad8b5de4f8ace28ce805b031528":function(e,t,a,i){return e.data&&!e.get_val("out","siblings")},d63db5aee617be6e1dc9a9365c050594a24bdaad:function(e,t,a,i){return!e.caller()},"1ecde507811612ddfb391a1f87bb400558c797e2":function(e,t,a){e.caller().trigger("xds-report-card-updated",a),e.event("lightbox.close")},a04814a05e139fd11b0f43fad79d7c9c771ec594:function(t,a,i){t.displayVal=e.lookup("nt",t.data).str(),t.inherit("sepList.item")},cc554013fb905ceed4aea92143ebe8614eb35152:function(e,t,a){var i=e.get_target("find:.ZoomCore-data-table",1).xdo;i.clearAllSelected(),i.setGearMode(!1,!0),e.newEvent("reload")},"24a9826c478a0390778a60590e526f9e06c55147":function(e,t,i){e.find(".ZoomCore-data-caption-right-Publish").find(".xds-rpx-warning").addClass("hidden"),$(a).unbind("mousedown.rpxwarning keydown.rpxwarning")},"6c1d225c35a30b9334ae99012b1d2ca5ca2b37e7":function(e,t,a,i){return e.get_val("canaddclass","siblings")&&e.has_write(e.arg("xds"))},"1f31ae026c82b1efe65e061f1f1f94fe2bfae007":function(e,t,a,i){return 2&e.get_val("publicationstatus","siblings")},"956a6ba9529382e9d97d663756580f81d34cf697":function(t,a,i){t.trigger("rpx-warning-dismiss"),t.args={data:{options:1},action:e.gbl.p+"core/node/"+t.get_setting("nid")+"?xds=publishReportingPeriod"},e.get_func("post")(t)},"7c2176db8948df670ffe79a9b9e5fd880857b68e":function(e,t,a,i){return e.get_val("publicationstatus","siblings")<2},d4d6d558f417f6913eaa7e83a53144586edf0a68:function(e,t,i){e.get_val("warning-nosubmit-count","siblings")||e.get_val("warning-nofinal-count","siblings")?(e.parents(".ReportingPeriodZoomBase").find(".xds-rpx-warning").removeClass("hidden"),$(a).bind({"mousedown.rpxwarning":function(t){e.trigger("rpx-warning-dismiss")},"keydown.rpxwarning":function(t){27===t.which&&e.trigger("rpx-warning-dismiss")}})):e.trigger("rpx-execute-publish")},e602a4ef6f5047b89cca0eb37cdf9eff62dcce68:function(e,t,a,i){return e.get_val("count")},"0c6057975c8d6ebcc018480f87101e31520e0e2d":function(e,t,a,i){return 4&e.get_val("publicationstatus","siblings")},a3b3c043647fbf33a9ccd8f2aa92bd7c6661de6c:function(t,a,i){t.args={data:{options:-1},action:e.gbl.p+"core/node/"+t.get_setting("nid")+"?xds=publishReportingPeriod"},e.get_func("post")(t)},"3322def778be58262c9bb3dd2ca29df2ebf2d935":function(e,t,a){e.event("lightbox",{nid:[e.get_val("pnid","data_full"),e.get_val("prid","data_full"),e.get_val("nid","data_full")].join("/"),noPath:!0,data:{nids:e.get_target("this:ReportingPeriod-zoom-data-table",1).xdo.getSelectedRecords().nids.join(",")}})},"850b287518654a9908a3baf91c23f3112327eadd":function(e,t,a){var i={xds:"ReportCardLB",nid:e.rnode.nid};i.TargetPeriod=e.get_val("nid","node"),e.get_val("multisheet","rnode")&&(i.TargetPeriod+="."+e.rnode.rid),e.newEvent("lightbox",i)},aa7745952cf759ea047417b66329317effafe770:function(e,t,a,i){return 0!=(e.get_val("submitted-status")||0)||e.has_read("GradebookData")},"844cf41cbd1296cd73bfb16f8f145ae3628b6d69":function(e,t,a){e.xds.xds=2==e.rnode.nodesubtype?"Course":"Place",e.inherit("loadPage")},c6c1d3b7530ad5d1e6a33acb0a97617b24e0c252:function(e,t,a){e.data=e.data?e.data.split(",").join(", "):e.data},d1b75932657d21ce0241a4823faa0afb9afaffd6:function(t,a,i){t.args.rpnid=t.get_val("nid","data_full"),t.args.nid=[t.get_val("pnid","data_full"),t.rnode.rid,t.rnode.nid].join("/"),t.args.noPath=!0,e.get_func("lightbox")(t,a,i)},e23e8b36b74df2fea93524faefb9aac5f32e95d1:function(e,t,a,i){return-1==e.get_val()},"03bc534d263da80477692047285d4c3ea599bfd0":function(e,t,a,i){return(e.get_val("status","siblings")||0)>0},"15e5340571e273d79df8ccf6b1d78da75e26fd78":function(e,t,a,i){return e.get_val()&&e.get_val("status","rnode")>0},b20b57fc9d376aae907239c336df16a864e1b98b:function(e,t,a,i){return(e.get_val("status","siblings")||0)<1},"9ae4fdf5cefb83bdf9322a09f1212d89e3d0f7ac":function(e,t,a,i){return"("+(e.get_val()||"0")+"% complete)"},"58f2923b8e9a3f82de78a04f8f547e6ccd0f97b0":function(e,t,a,i){return(e.get_val("submitted-status")||0)>0?e.get_val():"-"},d3e3ed6bca59f7e7f277c00f39f2edc5ce586d6d:function(e,t,a,i){return(e.get_val("submitted-status")||0)>0?e.get_val()||"0":"-"},"546cdd5c20638395a0a31c3dc4eacb7553999437":function(e,t,a,i){return(e.get_val()||"0")+""},e52796fa669473bca2b6c873d1fbd593ea7a0c01:function(e,t,a,i){return e.get_val("done","siblings")},"8e2a00a90b57482e882e63d94704287a19072995":function(e,t,a){e.xds.choices="nid:"+e.get_val("nid","caller"),e.inherit("f_str")},ec1b12811eacd1fce4716493601073b7252a55e8:function(e,t,a){var i,n,r=e.get_val("availtpl","siblings"),o=e.xds.fields.default;for(n=e.xds.choices=[{display:o.title,value:o["data-value"]}],i=0;i<r.length;i++)n.push({display:r[i].Title||r[i].name,value:r[i].name});e.inherit("f_str")},c410136e84f4aba43acc753d2e41103ddc9b09ef:function(t,a,i){t.args.rpnid=i.nid.split("/").pop(),t.args.target="caller",e.get_func("trigger")(t,a,i)},"22e6a2428e8f7d588950ce207257fe97682a4b6c":function(e,t,i){e.find(".ReportingPeriodDetails-footer-left-delete").find(".xds-rpd-warning").addClass("hidden"),$(a).unbind("mousedown.rpdwarning keydown.rpdwarning")},a27d1cb16e879138ce59643d543167af364883da:function(e,t,a){var i,n=e.state.get("availperiods")||[],r=[{value:0,display:e.arg("titleDefault")}],o=e.state.top().get("nid");for(i=0;i<n.length;i++)n[i].nid!==o&&r.push({display:n[i].name,value:n[i].nid});e.arg("list",r),e.inherit("dd.select")},"9f06956876c12381caa7f33158be90389b0983f5":function(e,t,a){e.get_target("sibling:end",1).xdo.checkDateBounds()},"1b432fa19433e830f83d2eec547c507e3fef6740":function(e,t,a,i){return"create"!==e.get_setting("command")&&e.has_delete(e.arg("xds"))},"67228b66d8252687e76353e63dd66e76f3ab1d08":function(t,a,i){i.bestrpnid?(t.args={},t.args.xds="ReportingPeriod",t.args.nid=i.bestrpnid,e.get_func("loadPage")(t,a)):(delete t.args,e.get_func("loadBase")(t,a))},e4042df9e7f057907eeb4312e873df544fda5d16:function(t,a,i){t.args.nid=t.get_setting("nid"),e.get_func("post")(t,a,i)},c9a655828659dd4271ed1d4ef3154993295d0c80:function(e,t,a){var i,n,r,o,s=e.get_arg("url"),d=t,l=d[0].elements,c=e.get_xdo("*advanced-toggle").isOpen(),u={classrids:!0};if(!c)for(n in i=e.get_arg("defaultargs")||{})s+="&"+escape(n)+(void 0!==i[n]?"="+escape(i[n]):"");for(n=0;n<l.length;n++){try{r=(r=l[n].name.split("-"))[r.length-1]}catch(e){r=void 0}if(r&&r.length&&"_"!==r.substr(0,1)&&!u[r]&&(l[n].disabled=!0,c)){if(void 0===(o=e.get_arg(r))&&(o=l[n].value),!o)continue;s+="&"+escape(r)+"="+escape(o)}}(r=e.get_arg("filenamedate"))&&(o=e.get_target(r,1).find(".xdl-forms-input").val())&&(s+="&filenamedate="+escape(o)),d[0].action=s,d.submit()},"816dfbf9f10491fdfa5803afe78c7f1ddbdea7c5":function(e,t,a){var i,n=(e.get_val("classrids","data_full")||"").split(","),r=e.get_val("lockrids")||[],o=[],s={};for(i in n)s[n[i]]=1;for(i in r)s[r[i]]&&o.push(r[i]);e.map({selected:""+o.length})},fc5a5096c31225e634bf457bee6242036e8cee23:function(e,t,a,i){return e.get_val("classrids","data_full")},"3c91c5b7b92b4d01227829b121ecd133762b7edd":function(e,t,a,i){return""+(e.get_val()||0)},"2788a7ab8d5690bc2e7abe93568010030f58355a":function(e,t,a,i){return e.get_val("whonid","rnode")},e274fdb59b5fffb8c8a5f6fe1fcbe5401d6e2e37:function(e,t,a,i){return e.get_val("stale","rnode")},d8b2176570920e4954e169dbd274a115cd9a3d48:function(e,t,a,i){return e.get_val("sisfailed","rnode")},cc94a6d745b39a44b9fd1b2267f9c2ed24eb1f76:function(e,t,a,i){return"None"===e.get_val("sisfailed","rnode")},"25ebf457edc184e10e5aa4d09ce2a01a2526f2d9":function(e,t,a,i){return"None"!==e.get_val("sisfailed","rnode")},"1c71ab4bcd96252deae9d8bbc03e55eede2ff10a":function(e,t,a,i){return e.arg("titleTemplate").replace("{phase}",e.get_val("sisfailed","rnode"))},"20d1eb081e8cc1e4d57fac4f64ef0016eb4c2f9e":function(t,a,i){var n=e.gbl.csvexport+t.get_val("nid","node")+"?xds="+t.get_val("expxds","rnode")+"&attachment=1";t.temp.url=t.xds.link=n,t.temp.urlargs=t.get_val("expargs","rnode"),t.xds.linkCSS="xds-button-link",t.xds.linktitle=" ",t.inherit("button")},"864c1674cf512ec882cd34d8014c7bfab923be3a":function(e,t,a,i){return"undefined"==typeof cfNative&&parseInt(e.get_val("details-line2-"+(e.get_val("classrids","data_full")?"selected":"ready"),"rnode"),10)},"1f7bf0cbdee816ddd04da5af159a2af429c1391d":function(e,t,a){e.trigger("dorpexport",{url:e.temp.url,defaultargs:e.temp.urlargs})},"058f32c37edab9321335e7d6accf7fca49643df6":function(e,t,a,i){return 0==(e.get_val("sisstatus","rnode")||0)},"4545139b1b36715adb4ca5d64f70d5e76535345c":function(e,t,a){var i=e.parent_xdo();e.get_arg("matched").length&&(e.rnode.sisstatus=1),(e.get_arg("failed")||{}).length&&(e.rnode.sisfailed=e.get_arg("failed")[0]),i.update(),i.get_xdo("siblings:details").update()},ed3ed04d39bd92f67d8a6b07c397d1cf3693d869:function(e,t,a,i){return(e.get_val("sisstatus","rnode")||0)>0},a7de089c9eaece7e9d4786eaff1c9d1f699710fd:function(e,t,a){e.rnode.sisstatus=a.have_edsby_link?0:-1,e.parent_xdo().update()},"497025c1ae987f248e75ab1a9e67018073ce2bd2":function(e,t,a){e.event("trigger",{rpnid:a.nid.split("/").pop(),target:"caller"})},"74a40150476caed078ae3e3048cf79c67d069b2a":function(e,t,a,i){return e.get_val("availperiods","node")&&e.get_val("nids","data_full")},"291986c1d8ddf22ba1d6c155ab3ba24fa07741c2":function(e,t,a){var i=e.get_target("sibling:customparams",1);i&&i.length&&("-"===a.value?i.show():i.hide())},"729db10aeb8f9442a010ef2e1f0784cb015197a6":function(t,a,i){t.get_val("status-total","rnode")-t.get_val("status-dropped","rnode")<=0||(t.args.nid=t.get_val("nid","node"),t.args.noPath=!0,t.args.student=t.get_val("nid","rnode"),e.get_func("lightbox")(t,a,i))},"6a3cfc01b1673ce7f48575a3a7279506f8e9a65b":function(e,t,a,i){return-1!==e.get_val("transfer","rnode").indexOf("in")},"9f9511285e84f76d6e9e9b2648e26e560a6a227f":function(e,t,a,i){return-1!==e.get_val("transfer","rnode").indexOf("out")},"138e6eeb1ff1ad30625b1eaf3bbc582f2d3b7243":function(t,a,i,n){return e.isSameYear(t.get_val(),t.get_val("end","siblings"))},cb8dca8cfa19ab6eb3e3cf635aa891e5b5cb1ca4:function(t,a,i){t.args.nid=[t.get_val("pnid","node"),t.get_val("prid","node"),t.get_val("nid","node")].join("/"),t.args.xds=t.get_val("manifest","data_full")?"StudentSpecificReport":t.get_val("nodesubtype","data_full")==e.nt.Document.DistrictReportingPeriod(1)?"DistrictReportingPeriodDetails":"ReportingPeriodDetails",e.get_func("lightbox")(t,a,i)},"0d0914830f0cd8299704745c97601f3e4c45bd30":function(e,t,a,i){return(e.get_val()||"0")+(isNaN(parseInt(e.get_val()||"0"))?"":"%")},"1729a56ac740a03ae72f86b0d7d2ab475a481629":function(e,t,a,i){return-1==e.get_val("_dropflag")},"62a7878dd7f865c149089e5f132f3975bb117368":function(e,t,a,i){return 3==e.rnode.nodetype},"6ae9284f480a7155398d397f86c011578e876a46":function(t,a,i,n){return!e.isSameYear(t.get_val(),t.get_val("rpend","siblings"))},"3ce1044f4b7df3ac8179a5751a0c85f5ca1ab416":function(e,t,a,i){return"F"==e.get_val()||"F-"==e.get_val()||"F+"==e.get_val()},"12ffce8de8cbb1f6248db25cbb4fd2a950514a4a":function(e,t,a,i){return(e.get_val()||0)<50},c39b197c674cf93c907ae73829ee88f496cae784:function(e,t,a,i){return!1!==e.get_val()?e.get_val()+(isNaN(parseInt(e.get_val()||"0"))?"":"%"):""},"13bad4c76b69a9ce59f915388560dc1271c0346f":function(e,t,a,i){return!1!==e.get_val()&&(e.get_val()||0)<50},f5c443f18a07bfd9bf7e60eb818bb85ecd4c719d:function(e,t,a,i){return e.state.get("substatus")>0||e.state.get("tplchanged")||e.state.get("exported")},"6d091c2432d4a1d4ca00393e9fdf8dfe1e649485":function(e,t,a,i){return e.get_val()>0},cfbad78f25ebf9e69e899a5d41ce64dc193347da:function(e,t,a,i){return e.state.get("substatus")>0||e.state.get("tplchanged")},bd75d0ed3d1b9ac4e9902f17c71e75cb7b21445f:function(e,t,a,i){return e.get_val()&&!e.state.get("substatus")&&e.has_write("updateReportCard")&&!e.has_write("updateReportCardWorkflowStatus")},cd67c2a961181e316386436039c86fcccd7cfa08:function(e,t,a,i){return!e.has_write("updateReportCard")&&e.has_write("updateReportCardWorkflowStatus")},e75ae62bd9e764c4c0498d9ff3a1ed5536355f3b:function(e,t,a,i){return!e.has_write("updateReportCard")&&!e.has_write("updateReportCardWorkflowStatus")&&e.has_write("updateReportCardWorkflowAdministrator")},ec0b2d346c0f132e4bfaaa37919f5de27b578d08:function(e,t,a,i){return!e.state.get("substatus")&&e.has_write("updateReportCardWorkflowStatus")},cbd27ab01084bb572aec2385866aeadaad337c0d:function(e,t,a,i){return["2","5"].includes(""+e.state.get("substatus"))&&e.has_write("updateReportCardWorkflowStatus")},"0055c7e989b441213b1cf9770cd5670b312dfc66":function(e,t,a,i){return["1","5"].includes(""+e.state.get("substatus"))&&e.has_write("updateReportCardWorkflowAdministrator")},"9a657ca70456beca1471e52aec9d759c374beec3":function(e,t,a,i){return["1","2","5"].includes(""+e.state.get("substatus"))&&e.has_write("updateReportCardWorkflowAdministrator")},f1837c9f3877afe4abc9c8f001956ae84797be75:function(e,t,a,i){return 2&e.get_perm("updateReportCard")},"55eee73431985c84f117599c23b6d335b7927be3":function(e,t,a,i){return e.has_write("updateReportCard")&&!e.state.get("manifest")},cd071c146a853288180f8830f803cb4aa9cf9e50:function(e,t,a,i){return e.xds._children.length>1},"14ce64032813518be2097274fff9a508a302b5e9":function(e,t,a,i){return 13===e.rnode.reltype||e.get_val("dropjoin-date-join","siblings")},"27362dab283a6be49c5b6c689e750c000426a262":function(t,a,i,n){return 13===t.rnode.reltype||t.get_val("date-join")&&e.dateFormat(t.get_val("date-join"),"iso")>e.dateFormat(t.get_val("roster-header-title-caption-dates-start","data_full"),"iso")},"907b8c503d2c22f3b5bf9f8ddf0d7af9e25fa105":function(e,t,a,i){return 13===e.rnode.reltype&&!e.get_val("out","siblings")},"9884acbdf0f0888b9cc641cbd0ef5f6d7bb8c70b":function(e,t,a,i){return e.get_val()&&13===e.rnode.reltype},"7ebd4801d1adee57a9a5596e8b1978171d1169f2":function(t,a,i,n){return 13!==t.rnode.reltype&&e.dateFormat(t.get_val(),"iso")>e.dateFormat(t.get_val("roster-header-title-caption-dates-start","data_full"),"iso")},"0cae9074500b0aa753de89c75c88eb8b3946f240":function(e,t,a,i){return 2&e.get_perm("updateReportCard")&&!e.get_val("manifest","data_full")},"0c68a6d55b056a5f19144f8d55bcd87a7e27858b":function(e,t,a){e.parents(".SetReportCardTemplate").find(".SetReportCardTemplate-description").html(e.get_arg("xdo").get_val("description")||"")},"2d1fe9402d1ef45a20d2f044caf476d788918403":function(t,a,i,n){return e.settings.dev},"5a50013d088e3b2361039e05aa57e6b74125d436":function(e,t,a){e.event("loadxds",{xds:e.data,nid:e.get_setting("nid"),student:e.get_val("studentnid","data_full")||e.get_val("studentnid"),Review:2,noPath:!0})},b29c4a33b07d345a3912e2ad1272792057291c51:function(e,t,a){e.event("loadxds",{xds:e.get_val(),nid:e.get_setting("nid"),noPath:!0})},"31aba1ab14564b33b6766a9b0aef98d27407c4c5":function(e,t,a){"create"===e.get_setting("command")&&(e.xds.action="{{gbl_create}}{{s_nid}}?xds={{s_xds}}&nodetype=6.24"),e.inherit("form")},"9595a623fdd72cc8de2c54ea3bc3e60d7567c34a":function(t,a,i){var n=$(".ReportingPeriodDetails-general-name"),r=$(".ReportingPeriodDetails-dates-start"),o=$(".ReportingPeriodDetails-dates-end"),s=[];$.each($(".ReportingPeriodDetails-who .xdl-picker-multi li span"),function(){s.push($(this).text())}),(s=s.join(",")).length>47&&(s=s.substr(0,47)+"..."),n.val(n.xds.xds.title+": "+s+": "+e.dateFormat(r.xdo.getDate(),"yyyy-mm-dd")+" - "+e.dateFormat(o.xdo.getDate(),"yyyy-mm-dd")),e.get_func("ajax_post")(t,a,i)},"0971acc304ef7a52be26570264032f3951f399c2":function(t,a,i){t.xds.guidetext&&-1!==t.xds.guidetext.indexOf("{{")&&(t.xds.guidetext=e.tpl(t.xds.guidetext,t)),t.inherit("f_componentName")},daa17c3d87e0413f41a3b0caf6940129bf33210e:function(e,t,a){e.get_target("sibling:students").val(a.nid.split(",").join("."))},"16ecb5b274c43cd4e1582f4a6f1e047e74a8a808":function(e,t,a){var i,n,r=[],o=e.data;for(i in o)n=o[i],r.push(n.nid||n.value);e.get_target("sibling:students").val(r.join("."))},a0015c5d4d933279eeae0ad9c7de25e21003e728:function(e,t,a){"create"!=e.get_setting("command")||e.get_setting("suppressUnitPicker")?e.trigger("submit"):e.event("trigger",{source:e,eventName:"xds-uploader-form-saveData",target:"caller"})},"17fd26cc9baedf509b22047c5d181c559f8c6452":function(e,t,a){e.target("*submit").show()},c05d3589e7d60b2ae4f66f5922608ba08d147260:function(e,t,a){e.get_setting("enforcePinBit")&&e.dom().val(e.get_setting("enforcePinBit"))},be6be046f0468244ec04d1e98d99c68d654bb478:function(e,t,a){var i=new Date;e.data="bookmark-"+i.getTime(),e.inherit("f_hidden")},b86f3145e1f980822ad987e2ed70b642f2dc0138:function(e,t,a){var i=e;i.get_setting("seedContent")&&(i.data.equation=localStorage[i.get_setting("seedContent")]||i.get_setting("seedContent"),i.data.equation&&i.data.equation.data&&(i.data.equation=i.data.equation.data),localStorage.removeItem(i.get_setting("seedContent")),i.set_setting("seedContent",!1),function(e){try{return $.parseXML(e),!0}catch(e){return!1}}(i.data.equation)?(i.state.set("editorMode","mathml"),i.state.set("equation-mathml",i.data.equation),i.state.set("mathml-modified",!0)):i.state.set("equation",i.data.equation)),i.inherit("form")},e7037c5808ef393723f1458152670fa60d1e2178:function(e,t,a){var i=e;80==i.e.keyCode&&(i.e.ctrlKey||i.e.metaKey)&&(i.preventDefault(),i.target("*contents").trigger("print"))},"5631f1c6fb4e57c3d14b92418202f9a8dc490c2e":function(t,a,i){var n=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title";t.xds.href=n,e.links.openUrl(n,"_blank")},"5045f376ee47b5fd918aff312a6d7d45c65c54bf":function(e,t,a){e.target("*frame")[0].contentWindow.print()},"9c50dc46cbce367b3824668909880da75d76d090":function(e,t,a){var i=e;if(i.get_setting("channel")&&e.data.users&&e.data.users.user){var n=[];for(var r in e.data.users.user)r=e.data.users.user[r],n.push({nid:r.nid,name:r.box.name});i.state.global().set(i.get_setting("channel"),n)}},aef8bfe1eb5f06012722bd9456d7091b83593ca1:function(e,t,a,i){return e.state.get("aprvenable")},"30969a2400ffc8368e664164e7e934dac3263cf5":function(t,a,i){var n=t;e.get_obj(n.find(".xds-cont")[0].childNodes[0]).trigger("print")},"0203234645662fba539e043157dfb74d3f270886":function(e,t,a,i){return 2==(e.state.get("sortNameTypeIndex")||0)},"4c9a5d141a1dcb376be4db4d5da604c6a817ab47":function(e,t,a){e.state.top().set("sortNameTypeIndex",0)},"3d29fb8508e92b68ad5fa945abc59ad4a6aec7d5":function(e,t,a,i){return 0==(e.state.get("sortNameTypeIndex")||0)},"6f069a6ed3cc6f7cd9a6590ff8db8bb3b92194e5":function(e,t,a){e.state.top().set("sortNameTypeIndex",2)},"558b4807cdd3a21b3f61d1f77d7f3c159886688a":function(e,t,a){var i=e,n=i.get_setting("header");void 0!==i.state.get("hideHeader")&&(n=i.state.get("hideHeader")?0:1),i.data=n,i.inherit("f_checkbox")},"21b981599db8f753d83a79d2fa641ed673c89394":function(e,t,a){var i=e;i.state.set("hideHeader",!i.find("input").val())},f2b5a88dad106224629b1b1d7e5abc3f780f6283:function(e,t,a){var i=e;i.data=i.state.get("nColsInput")||i.state.get("gridNumColumns")||i.get_setting("columns"),i.inherit("f_str"),i.state.watch("gridNumColumns",function(e){i.find("input").val(e)})},e9625c0500fb6a0640d5759361d1c7d8d2958eca:function(e,t,a){var i=e;i.state.set("nColsInput",i.val())},da2715e6597ee0d0c844577764e0705acb4028db:function(e,a,i){var n=e;n.temp[n.cssPath+"_debounce"]&&t.clearTimeout(n.temp[n.cssPath+"_debounce"]),n.temp[n.cssPath+"_debounce"]=t.setTimeout(function(){""===n.val()||isNaN(parseInt(n.val()))||n.state.set("nColsInput",n.val())},300)},b53742746245a9427af2d9c18a8c582d6798d154:function(e,t,a){var i=e;i.data=i.state.get("nRowsInput")||i.get_setting("rowLines"),i.inherit("f_str")},"74f3d6e4534989436c51199de50a474cf0f19e9c":function(e,t,a){var i=e;i.state.set("nRowsInput",i.val())},dab5cb9f3db47770912046681a7e0d6aa1cc87ef:function(e,a,i){var n=e;n.temp[n.cssPath+"_debounce"]&&t.clearTimeout(n.temp[n.cssPath+"_debounce"]),n.temp[n.cssPath+"_debounce"]=t.setTimeout(function(){""===n.val()||isNaN(parseInt(n.val()))||n.state.set("nRowsInput",n.val())},300)},"76c656131c9972d60eb878606859aac73073fe5c":function(t,a,i,n){return e.get_func("currentUserIsStaffType")(t)&&t.get_val("places-item","data_full")},"4caa6d1ca472ce8777e50dd1d86e7ba340831182":function(e,t,a,i){return e.get_val("aprvenable","siblings")},"51ba7c5c4ac8bc816366220a0dd921838ebcb170":function(t,a,i){e.layout.isPhone()?e.history.up():(t.event("reloadParent"),t.event("lightbox.close"))},"700415621d453a4cb6dcb942ad51a98b1a0dcb68":function(e,t,a){e.get_xdo("*schedules").update()},f5ec4c3adac881d94a4409393f7493d3d21fbdf9:function(t,a,i){t.xds.link=e.tpl(e.gbl.loadPage,{nid:t.get_val("nid","node"),xds:t.arg("xds")})+"&ScheduleID="+t.rnode.scheduleID,t.inherit("button")},"8f662b053ac2de0dc317a480ec5f46ef231bc9f0":function(t,a,i){t.xds.link=e.tpl(e.gbl.loadPage,{nid:t.get_val("nid","node"),xds:t.arg("xds")}),t.inherit("button")},daeaeef1bbc22992ec969aa84bfb6629cf1940e5:function(e,t,a){var i=e.get_setting("schedulendx");e.addClass("xds-ScheduleCalendar-schedule-"+i),i>5&&e.addClass("xds-ScheduleCalendar-schedule-n")},"94a6f4b7d73491bca117f67fcedd77abf41b229f":function(e,t,a){var i=e.get_setting("targetDate");i&&(e.data=i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2))},"6f66dbbe657c8d92c2ed237b3b663ac364974387":function(t,a,i){t.args.targetDate=t.get_setting("targetDate"),t.args.schedule=t.get_setting("schedule"),t.args.schedulendx=t.get_setting("schedulendx"),e.get_func("loadxds")(t,a,i)},"95a68b0b04aaaeebedb383575f88191c93c1fe96":function(t,a,i,n){return e.settings.dev&&!t.get_setting("dayeventnid")},"5f271c3595e76e9fb473c671cd21243e20a0630b":function(t,a,i,n){return e.settings.dev&&t.get_setting("dayeventnid")},"664533ce6a31d27908beca85b4aa96f1fe10360e":function(t,a,i){t.args.targetDate=t.get_setting("targetDate"),t.args.schedule=t.get_setting("schedule"),t.args.schedulendx=t.get_setting("schedulendx"),t.args.dayeventnid=t.get_setting("dayeventnid"),t.args.dayeventrid=t.get_setting("dayeventrid"),t.args.olddayevents=t.get_setting("dayevents"),t.args.calnid=t.get_val("nid","node"),t.args.nid=[t.args.calnid,t.args.dayeventrid,t.args.dayeventnid].join("/"),e.get_func("loadxds")(t,a,i)},"4ab5ece2b8da1e80f1fb0485b129e1a73f474d39":function(e,t,a,i){return e.get_setting("dayeventnid")},"45d01b1fffc87ecd816106a3b66bde25ccf1ddeb":function(t,a,i){t.args={nid:[t.get_setting("nid"),t.get_setting("dayeventrid"),t.get_setting("dayeventnid")].join("/"),xds:t.xds.xds,command:t.xds.command,schedule:t.get_setting("schedule")},e.get_func("post")(t,a,i)},f55f3b5ed719498034314dba3b99885e4f2e48cc:function(e,t,a){var i=e.get_setting("schedulendx");e.addClass("xds-schoolCalendar-schedule-"+i),i>5&&e.addClass("xds-schoolCalendar-schedule-n")},"078e76f605ad923dc748e27137de066af209d0c3":function(e,t,a,i){return e.get_val("dayrotation","data_full")},b6e35802c55f715abcf5f3b133bd84d0285ddaab:function(t,a,i){t.args={nid:t.get_setting("nid"),xds:t.xds.xds,command:t.xds.command,schedule:t.get_setting("schedule")},e.get_func("post")(t,a,i)},d944585650ffd94b52dcf78d09a8edcbff56d40f:function(t,a,i){t.args.targetDate=t.get_setting("targetDate"),t.args.schedule=t.get_setting("schedule"),t.args.schedulendx=t.get_setting("schedulendx"),t.args.nid=t.get_setting("nid"),e.get_func("loadxds")(t,a,i)},eeda57fbb222640d64c8074971a31e326f7a89f1:function(e,t,a){10!==e.e.keyCode&&13!==e.e.keyCode||(e.e.preventDefault(),e.e.stopPropagation())},"528133627e7b55eef9e120dc7ab3bd7614ebbe00":function(t,a,i){t.args.targetDate=t.get_setting("targetDate"),t.args.schedule=t.get_setting("schedule"),t.args.schedulendx=t.get_setting("schedulendx"),"create"!==t.get_setting("command")&&(t.args.nid=t.get_setting("calnid"),t.args.dayeventnid=t.get_val("nid","node"),t.args.dayeventrid=t.get_setting("dayeventrid"),t.args.dayevents=t.get_setting("olddayevents")),e.get_func("loadxds")(t,a,i)},"5c65e30a0d4d4a9495f0469a72d30bfab2d6d458":function(e,t,a,i){return!e.get_val("rotdays","siblings")},cd6c6f6e0aadaed23505a9d2506bd6561b2efd78:function(e,t,a,i){return!e.get_val("wdtype","data_full")},eb84c3804871b5b174d3d63e1748e68b85d4dc2e:function(e,t,a,i){return 1==e.get_val("wdtype","data_full")},"0e16c4f68a7cde884d6acf504eb8bda758856f28":function(e,t,a,i){return 2==e.get_val("wdtype","data_full")},"91cea4a0c63d784e0a9fd692cd76ae7b66df5965":function(e,t,a,i){return!e.get_val("exdays","siblings")},"3ddde7a423a191c06f1f7b0339f240d787a7f5f3":function(e,t,a,i){return 1==e.get_val("daytype","siblings")},"21798dbb0b039f2830de03a0d406113c2f255a1e":function(e,t,a,i){return(e.get_val()||0)+1},cba3571c67b1a26aa3ef953c26e20aa4d5f74f66:function(e,t,a,i){return 2==e.get_val("daytype","siblings")||3==e.get_val("daytype","siblings")},"8ede6f6681700499eea65e728073598f82a44934":function(e,t,a,i){return!e.get_val("daytype","siblings")},"035b5a121b01aa73480ff12109106efdbfbcd708":function(e,t,a,i){return!e.data},aa294ab169e1bd7d7af0b12a15611bb9b0665c27:function(e,t,a,i){return"("+(e.get_val()||e.arg("titleNone"))+")"},b31209cc395953cd70b9cdcb6b30dc27e58bd03a:function(e,t,a,i){return 2&e.get_perm("updateSchedule")},"78fb17b0a7775e6d3899387179c3ce3442cfe697":function(e,t,a,i){return!e.global("commentsNid")},"2801b0af4f1935cb6a093831024cfa7d8021b455":function(e,t,a,i){return e.global("commentsNid")},"399412613a532c1601de7ce7aa0ab7fd902182d9":function(e,t,a){var i=e.get_val("contacts"),n=e.get_val();for(var r in i){var o=i[r];i.hasOwnProperty(r)&&(o.nid==n?o.principalsort=0:o.principalsort=1)}return!1},b6fb8050b25ec81c38e66b75bbbb72ee86b30a74:function(e,t,a,i){return e.get_val("ixms")},"6d713aa1cdc45d5bc62cc333e391f06a857b9438":function(e,t,a){!0!==e.get_val()&&"true"!==e.get_val()||(e.displayVal="staged")},b9f3225ff22bca72c489febc4d316c9ff266e6ee:function(e,t,a,i){return!e.get_perm("sysSchoolImport")},"5c67fbf2fc09fc94ed8c1003d50096102e2faa3f":function(e,t,a){e.event("lightbox",{xds:e.get_arg(-1===["UserID Generator","Credential Generator"].indexOf(e.get_val())?"xds1":"xds")})},"77da30ef6007bc93094e1f670fd80beed2e701bd":function(e,t,a){e.get_val()||(e.displayVal="Modeller")},"7a43c61d4a446ae953267c56274c5fb92dc251e9":function(e,t,a){var i=e.get_val();i.ContentSize&&e.set_val((i.ContentSize/1024|0).toString()+"K")},"7c0ba47fa001f841d641ba8a6f58ef04d798b5e8":function(e,t,a){e.get_val()&&e.set_val("⊕")},b96abd430a842b344faccf5af9d44e494dc90b83:function(t,a,i){t.args.log="sync",t.args.time=t.get_val(),t.args.delta=Math.ceil(t.get_val("syncet")||300),t.args.delta>1e3&&(t.args.delta="1000"),e.get_func("lightbox")(t,a)},"068e433bb2e4251b85c94d0dbbefe6e2acfcc6f6":function(e,t,a,i){return!e.get_val("summary")},"348278d35cfd1a64915ed468ed2eb14eda598814":function(e,t,a){"0"==e.get_val()?e.arg("mode","blue").inherit("button"):e.arg("mode","green").inherit("button"),e.set_val("")},e9663315c8efde1c68d4a2cfe95b1a6e80498fd2:function(t,a,i){if(t.get_val()){for(var n=t.get_val().split(","),r=[],o=0;o<n.length;o++){var s=n[o];r.push(e.lookup("nt",s).str(!0)||"*"+s)}t.set_val(r.join(", "))}},c8aa6c87c8447d985bf16074f4a49d58d7ce6616:function(e,t,a,i){return 3==e.get_val("type")},cd3e5a2eb3be403636b0d3f189d024c28d3ae456:function(e,t,a,i){return!e.get_val("desc")},"86bdea73b3a08e6dd3d549884c09b8e7dcf7ad05":function(t,a,i){var n=t.get_val();if(n){for(var r=e.is_arr(n)?n.map(function(e){return"number"==typeof e||0!==e.indexOf("1.")?"1."+e.toString():e}):t.get_val().split(","),o=[],s=0;s<r.length;s++)o.push(e.lookup("nt",r[s]).str(!0));t.set_val(o.join(", "))}},"91c25fe4ff338fbe751548c919362132c5d6ad5c":function(t,a,i){t.xds.link=e.tpl("{{gbl_loadPage}}",{nid:t.tpl(t.arg("nid")||t.get_val("nid")||gbl.nid),xds:t.arg()})+"?unresolved=1",t.inherit("div")},ef84c6c01f3df64bb479ecdac0ca6abf18b686f3:function(e,t,a,i){return e.get_val("showmystudents")&&e.get_val("curreportingperiodnid","siblings")},"007118e4168c09161cf8ed4196ec2992099de4a1":function(e,t,a){e.val().length?(clearTimeout(e.temp.timer),e.temp.timer=setTimeout(function(){e.target("*results").length>0&&e.event("loadxds",{xds:e.arg("xds"),target:"*results",pattern:e.val()})},500)):e.target("*results").empty()},"0489e0f662c28ff1c6751806fe81a98bcc51f7ee":function(e,t,a){e.e.preventDefault()},d7ffaaf3f86823853b51484d63f755167258dd28:function(e,t,a){e.newEvent("trigger",{eventName:"newMerchantContentAvailable",target:"caller"}),e.event("lightbox.close")},"844c1ddc860860bfb273f42ea75048aa0954d539":function(e,t,a){var i={};e.get_arg("redirect_nid")?(i.nid=e.get_arg("redirect_nid"),i.xds=e.get_arg("redirect_xds"),e.get_arg("redirect_params")&&(i=$.extend(!0,i,e.get_arg("redirect_params"))),e.newEvent("loadPage",i)):e.event("reload")},a22ab064739d688e7eacebd8dd1943c01fd75d2b:function(e,t,a,i){return e.get_val("tax-amount","siblings")},"23fa7a1ddd3b0cf4c6ea1842b94f5dbf8619edf9":function(e,t,a,i){return e.get_val("amount")},c519c51e3b7e6fd424f329615b6956a93ba2873e:function(e,t,a,i){return!1!==e.get_val("amount")},"5012aab076fd86063291696efadcf40540aafa6a":function(e,t,a,i){return e.get_val("grandtotalline-amount","siblings")},"1ed0d7bae2cbb68323243775a80e377fbdc3c70a":function(e,t,a,i){return!e.get_val("items","siblings")},e90d7af7393293b140a2e0b3e546cec185f29d1a:function(e,t,a,i){return!e.get_val("zoom-data-table","data_full")},"400178062ae60836737c8e21eed37cb3740e3765":function(e,t,a){var i,n,r,o=e.get_val("installed")||{};for(i in o)"PayPal"===o[i].name&&(n=o[i].nid,r=o[i].rid);n&&(e.set({paypal_nid:n,paypal_rid:r}),e.state.set("paypal_nid",n),e.state.set("paypal_rid",r))},b8a03d7bca546b95bf52269f395f0584a1d48671:function(e,t,a,i){return!e.get_val("paypal_nid","siblings")},"5c96ee290414620f8340cd7cfbe786890f42d589":function(e,t,a){e.event("lightbox",{xds:e.xds_full.xds_paypal})},"35b9e4cf2ba9d7543fce11b528d252e277869f76":function(e,t,a,i){return e.get_val("paypal_nid","siblings")},"74cd7ac8070b2b6826634ddce7fcb7c7878aba5e":function(e,t,a,i){return e.get_val()?e.get_val()+"%":""},fc4699c6deb08f365ccd2a6d2862c4023ecb2342:function(e,t,a,i){return!e.get_val("tax","siblings")},"3de7271f5c940b5097ce8b570e761056ccf75dcf":function(e,t,a){for(var i=[],n=5e4;n--;)i.push({value:{index:n+""}});e.data={reps:{repeats:i}}},"37ff7d60108182240433bc8f1a44ff4013b19e76":function(e,t,a){"1"==e.get_val()&&(e.displayVal=e.arg("title1"),e.showTitle=!1),e.inherit("sepList.item")},"32b2c779a03d779e90176c71cd499b6a510b7cb7":function(e,t,a){var i=e.get_val("classes"),n=e.get_val("course");for(var r in i){var o=i[r];o.nid==n&&(o.ncomment=parseInt(e.get_val("ncomment"))||void 0,o.nesubmit=parseInt(e.get_val("nesubmit"))||void 0,e.exit(!0))}e.exit(!0)},"9436a2a0b222c14af4b5eea88b13522d846c1dd0":function(e,t,a){e.caller().trigger("modelAdded",{modelNid:e.state.get("nid"),modelName:e.get_val("name"),modelCode:e.get_val("id")})},e2a471b1810f7e6764832e3fb9d86a81a4f4350b:function(e,t,a,i){return!e.get_val()},f09e872037a9464faef585c7fcd834b71b315129:function(e,t,a,i){return e.has_write("editStudentInformation")},a8cf1db8ca1d03046c568163a86ed4baddbdde3b:function(e,t,a,i){return e.get_val("rollup-results")||e.get_val("rollup-annotations")||e.get_val("rollup-messages")},"866ef381b736380f1911f9ccf5b2a25791eabbc4":function(e,t,a,i){return e.get_val("results")||e.get_val("annotations")||e.get_val("messages")},c67b17168c840593db1584d12dbaac70bb39d6f9:function(e,t,a){var i=e.get_val("atrisk","siblings");e.addClass(i>1?"classStatus-flag-3":"classStatus-flag-2"),e.tag("div")},b9736d81b91e778fe7285d7ab7a1f045c4b3c1f3:function(e,t,a,i){return e.get_val("atrisk","siblings")},"1241e70f238ab8551c8ca51c58114f0c79e87589":function(e,t,a){e.get_val("flag")>0&&e.addClass("xds-risk-show")},"262b9be631893947e9efafe2ff39f2f40a9f827f":function(e,t,a){e.get_val("flag-count")>0&&e.addClass("xds-risk-show")},d877cc5e5c8a28051d82d808e17df88448a248db:function(e,t,a){e.state.get("attdanger")&&e.addClass("xds-risk-att-danger"),parseInt(e.state.get("attcount")||0,10)>0&&e.inherit("hoverIntent")},fcf617bb90aebe0268ceee75835e37d21999811e:function(e,t,a){var i=e.arg("list");if(!i||!i.length)return e.exitBlank(!0);e.inherit("dd.select")},a5b27473ef7ad534a6dceda13195e38f7a683b75:function(e,t,a){if(e.arg("hide"))return e.exitBlank();e.showTitle=!0,e.inherit("noContent")},c3b02c7289b60e9bc27c9ab82af3daa0d7e321b2:function(e,t,a){e.newEvent("trigger",{target:"caller",eventName:"newDutyContentAvailable"}),e.event("lightbox.close")},"3e1b61b9e003d937e80ae40452bbda5a0ae50432":function(e,t,a,i){return e.get_val("dates","siblings")},"509e7b94968b2b8f5b1bf9d12951b93d7c9fa74e":function(e,t,a,i){return e.get_val()?" ("+e.get_val()+")":""},e93fd78ebb2cc531100117df8ad72c1e50f98eb6:function(e,t,a){e.newEvent("trigger",{eventName:"newDutyContentAvailable",target:"caller"}),e.event("lightbox.close")},b7d8550724f96312e88e3088381904aa7200f89e:function(e,t,a,i){return!e.get_val("new","data_full")},bcf5d57fafe54175699f08250260a9b3b7ad88af:function(e,t,a){e.arg("forceNid",[e.get_val("owner","data_full"),e.get_val("nid","data_full")].join("/")),e.inherit("confirmDelete")},fa55d60ef460a39a5dc9053008f4c0fec938f493:function(e,t,a){return e.state.set("where",0),e.state.set("where_xds",e.arg("xds")),e.exitBlank(!0)},"2626d9f34317f85f4a4bce77b133992dc4f95260":function(t,a,i){var n={class:t.state.get("obj_name"),stime:e.dateFormat(t.state.get("sdate",t.arg("dateFormat_stime"))),etime:e.dateFormat(t.state.get("edate",t.arg("dateFormat_etime"))),sdate:e.dateFormat(t.state.get("sdate",t.arg("dateFormat_sdate"))),teacher:t.state.get("cover_name"),num_slots:t.state.get("num_slots"),sub_ndx:(t.state.get("sub_ndx")||0)+1},r=(n.num_slots||1)>1?t.arg("titleMultiSlot"):t.arg("title");t.arg("title",e.tpl(r,n)),t.inherit("noContent")},c21dfb9043bee43878dfab358ddc3c8d8ff0cfe3:function(e,t,a){e.state.get("cur_creditee")&&(e.arg("list",[{display:e.state.get("cur_creditee_name"),value:e.state.get("cur_creditee")}]),e.set(e.state.get("cur_creditee"))),e.inherit("dd.serverSelect")},a4a2d287b5b3905d593a5f145b42a0d9e7f53439:function(e,t,a){var i=e.caller().state.top().get("nid");e.state.set(i),e.set(i),e.inherit("sys")},"9e8b899576a46cfaa6c7d58d12a05eec1643bf09":function(e,t,a){a.value?(e.state.set("cover_name",a.items[0].display),e.state.set("cover_nid",a.value)):(e.state.set("cover_nid",""),e.state.set("cover_name","")),e.update()},caf11d5d00c40fec1077b473f6700c0dcbb13f49:function(t,a,i){var n=e.parseDate(t.state.get("sdate"))||new Date;n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n.setDate(n.getDate()+1),t.arg("minDate",n),!1===t.data&&(t.set(e.dateFormat(n,"yyyy-mm-dd HH:MM:ss")),t.state.set("edate",t.get_val())),t.inherit("f_ttdate.f_ttdate")},"5e629b5538feea4571dbe4bf27b188e6b11d992a":function(e,t,a){var i,n,r=e.state.get("availtypes")||[],o=[];if(!Object.keys(r).length)return e.exitBlank(!0);for(i in r)r[i].value=i,r[i].display=r[i].Title,o.push(r[i]),r[i].defaultCoverType?n=i:("LT"!==i||n&&r[n].defaultCoverType)&&(n||r[i].inactive)||(n=i);e.arg("defaultValue",n),e.arg("list",o),e.inherit("dd.select")},"10ca98c103ed3690955d42c63b08cafdbf9f37ec":function(e,t,a){var i,n,r;i=void 0!==e.get_setting("conflict_type")?e.get_setting("conflict_type"):e.state.get("oncall")?2:1,!1===e.data&&(e.set(i),e.state.set("where",i),n=!0),e.inherit("f_radioGroup"),n&&(r=e.getButton(i).xds)&&e.state.set("where_xds",r)},"218c51ccf934f3b1e22e52b69e2d0e4134eaacb9":function(e,t,a){var i=e.activeButton().xds;e.state.set("where",parseInt(e.val(),10)),i?e.state.set("where_xds",i):e.state.set("where_xds",void 0)},"5a59a9aa47c55ad669667b50f4b8cec7ee44c32c":function(t,a,i){t.newEvent("trigger",{eventName:"xds-lightbox-picker-set-items",target:"caller",value:0,clear:!0}),e.get_func("zooms.funcs.isPicker")(t,!0,"noclose")||t.newEvent("lightbox.close")},f3e067de28669151ab77436bb105d3b5e56dac7b:function(t,a,i){var n;if(t.get_val()){if((n=e.dateFormat(t.get_val(),"obj")).setDate(n.getDate()-1),e.isSameDate(n,e.dateFormat(t.get_val("cover_sdate","siblings"),"obj")))return t.exitBlank(!0);t.set(e.dateFormat(n,"timestamp"))}},"89df1de3781521487fac794ab9cbb59848a72922":function(e,t,a,i){return e.get_val("cover_sdate","siblings")},a907454f7c4514c90ae3da5f0b4b7cf5eb4cdbae:function(e,t,a,i){return e.get_val()},dedfa4a4816547a2cfa6869e4f11622dee5e7bf2:function(t,a,i){var n=e.parseDate(t.state.get("sdate"))||new Date,r=new Date(n.setDate(n.getDate()-1));t.event("loadxds",{xds:t.xds_full.id,targetDate:e.dateFormat(r,"yyyy-mm-dd")})},de32aaa2aa3f132be0fafa6721a32bdffba63f77:function(t,a,i){e.parseDate(t.state.get("sdate"))||new Date;var n=new Date(t.val());t.event("loadxds",{xds:t.xds_full.id,targetDate:e.dateFormat(n,"yyyy-mm-dd"),target:"xds-cont"})},e9c375605e8811df3b8ee3958dca19c8287d7f92:function(t,a,i){var n=e.parseDate(t.state.get("sdate"))||new Date,r=new Date(n.setDate(n.getDate()+1));t.event("loadxds",{xds:t.xds_full.id,targetDate:e.dateFormat(r,"yyyy-mm-dd")})},da922064df489d17024fb26b6cf5ff47a1ebe907:function(e,t,a){e.event("lightbox",{data:{schoolnid:e.state.get("schoolnid"),"start-sdate":e.state.get("sdate")}})},"2225181c2c4353aa3674221bdfbf8d2c4a357028":function(e,t,a,i){return(e.get_val("tbody-tr")||[]).length},"2531b95d2ea4ceb639e66fcea591c915e92dcbdf":function(e,t,a){var i,n=e.get_val("rooms","rnode");if(!n)return e.exitBlank(!0);for(n=n.split(","),i=0;i<n.length;i++)isNaN(parseInt(n[i],10))||(n[i]=e.arg("titleRoomPrefix")+n[i]);e.set(n.join(", "))},"9a8d616a43acc1d354b5f15989a4e41d8a2d214f":function(e,t,a,i){return-1!=e.get_val("sub","rnode")},a465e9cc2da56c3512cb88a05d57d89bfc057dad:function(e,t,a,i){return!e.get_val("sub","rnode")||-1!==e.get_val("sub","rnode")&&!e.get_val("name","rnode")},"82a0f21156f715fcfc205943ed0eaeb7bb09b479":function(e,t,a,i){return-1==e.get_val("sub","rnode")},f0a83a76bc0e420cd30062073087af2572af5f99:function(t,a,i){var n=e.parseDate(t.get_val("sdate","data_full"))||new Date,r=new Date(n.setDate(n.getDate()-7));t.event("loadxds",{xds:t.xds_full.id,targetDate:e.dateFormat(r,"yyyy-mm-dd")})},c7cda34316ce8df65abaf0f3d890fd271247336f:function(t,a,i){var n=new Date;t.event("loadxds",{xds:t.xds_full.id,targetDate:e.dateFormat(n,"yyyy-mm-dd")})},"39a7d66ecdf1def010a778b6744a301a8b582741":function(t,a,i){var n=e.parseDate(t.get_val("sdate","data_full"))||new Date,r=new Date(n.setDate(n.getDate()+7));t.event("loadxds",{xds:t.xds_full.id,targetDate:e.dateFormat(r,"yyyy-mm-dd")})},abb81fc328dfd5f1a56e3770f329f1d5a9b489c2:function(e,t,a,i){return!(e.get_val("table-tbody-tr","siblings")||[]).length},b17fd9343dd2d51eb08e353ffc7f906534899c89:function(t,a,i){var n=t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Container.Duty()&&!t.get_val("obj_nid","rnode");t.rnode.xdsAssign=n?t.arg("xdsDuty"):t.arg("xdsSub"),t.has_read(t.rnode.xdsAssign)||t.addClass("xds-unopenable"),t.map()},"895527a598f9ff690091b0daa0ac075b82b9b0be":function(t,a,i){t.newEvent("lightbox",{nid:t.get_val("nid","rnode"),xds:t.rnode.xdsAssign,target_date:e.dateFormat(t.get_val("sdate","rnode"),"iso"),noPath:!0})},"4db23f60cc99269714455f06e15a93574402724d":function(e,t,a,i){return e.has_read(e.rnode.xdsAssign)},"299a2e339a69ec310b324d910e020ff03cfc7015":function(t,a,i){var n=e.getCalendarItemXDS(t,t.rnode);t.event("loadPage",{nid:t.get_val("obj_nid","rnode")||t.get_val("nid","rnode"),xds:n})},"64881a4bdac1b8b74b9dba22910f16f4795e18a7":function(e,t,a,i){return!e.has_read(e.rnode.xdsAssign)&&!e.state.get("srcnid")},"58f249aeccd881c410c8923913ccda4ba90b7522":function(e,t,a,i){return!e.has_read(e.rnode.xdsAssign)&&e.state.get("srcnid")},"035b995738215009d8a490a0c0357605f4461616":function(e,t,a){var i,n=e.get_val("srcname","rnode")||"",r=e.get_val("rooms","rnode"),o=[];if(n&&o.push(n),r){for(r=r.split(","),i=0;i<r.length;i++)isNaN(parseInt(r[i],10))||(r[i]=e.arg("titleRoomPrefix")+r[i]);o.push(r.join(", "))}o.length?e.arg("tooltip",o.join(", ")):delete e.xds.tooltip},fa173ceec3333029f1c226a85f5edbf7fdbc788c:function(e,t,a,i){return!e.get_val("sub","rnode")},"22aae23861a4c8e673a043c40676678ed554598f":function(e,t,a){!1===e.get_val()&&e.set(e.arg("defaultValue")),e.inherit("f_number")},"13fe4ee17aa360fd1993fe84b9ada127a251ab8e":function(e,t,a){e.event("lightbox",{nid:e.get_val("schoolnid","data_full"),data:{new:!0}})},"9bf80e595c865fcb0218c1c8cff2fca12f443a1f":function(t,a,i){var n=e.dateFormat(t.state.get("date"),"iso"),r={meeting_nid:t.state.get("meeting_nid")};n&&(r.target_date=n),t.event("lightbox",r)},"5d901ecb86f09fd7464282aef4eb2646663952a9":function(e,t,a,i){return e.has_read("DutyAssignment")},b5ff5fbea4ba82a6586947a51ca4cc4b9dfa38c9:function(e,t,a,i){return!e.has_read("DutyAssignment")&&e.has_read("Duty")},b1b939ced2b91f2d287be34b53973f52a2e14438:function(t,a,i){t.get_val()&&!e.isSameYear(t.get_val())&&(t.dateFormat=t.arg("dateFormatOtherYear"))},ecf34f709ee0a335b71e7b4e71fd8295c69fadf8:function(e,t,a){e.event("lightbox",{meeting_nid:e.state.get("meeting_nid")})},fb5090994f615e21ba633cd2e1b8921f4b644ad3:function(e,t,a,i){return!e.get_val("table","siblings")},e69232a6b14ce5808c87bc003d56dde9ec0c9185:function(e,t,a){e.state.get("oncallnid")&&e.state.set("active",e.has_read("OnCallAwayToday")?"OnCallAwayToday":"OnCallMyRequests")},"8549d69d64bd469dba90b7ea5e1866081af5faa1":function(e,t,a){e.state.get("active")===e.arg("id")&&e.arg("active",!0),e.inherit("NavButton")},"0575ec90762e8551d9eb7516e93a0f835e0e1a49":function(e,t,a){e.state.set("active",e.get_arg("xds"))},cb70a9f1f839b185c2bafd96f0d0c3346a7e5806:function(e,t,a,i){return!e.has_read("OnCallSummary")},"82d9f9edbdabe32a71d9066ab0fdb8dcee2c0209":function(e,t,a){var i=e.state.get("oncallnid");i&&e.event("loadxds",{nid:i,xds:e.state.get("active")})},"9cd9fe2d63989083ba178943e4f3fb9711d3c270":function(e,t,a,i){return!e.state.get("oncallnid")},"1c2859ffd7d8d9dcdeca4cc81f6dad737bfc120a":function(e,t,a){e.state.get("dssrcnid")&&e.arg("list",[{display:e.state.get("dssrcname"),value:e.state.get("dssrcnid")}]),e.inherit("dd.serverSelect")},ced053981c6ee7da432d04183b23f0c9e4a32327:function(e,t,a,i){return e.get_val("sub","rnode")},"79684e6c90eea187beeeb03f3fbde697a5ae5699":function(t,a,i){var n=t.get_val(),r=e.get_module("submanager");r.utils.process_summary_zoom_record(n,r.utils.quota(t)),t.map(n)},"8a39ca7e1e4c40a100437312921a6934259a5956":function(t,a,i,n){return e.get_func("submanager.utils.quota")(t)},"15d391576459148dc04cb321aad1f236e236d106":function(e,t,a,i){return!e.get_val("periods","siblings")},"76950c1b8e9e2b00d99214fdd487dfb1552d7fe9":function(e,t,a,i){return(e.get_val("rnode","num_slots")||0)>1},d66379c963958386730f4edd3a4f7abe4e7454c0:function(e,t,a,i){return e.get_val()&&1!=e.get_val()},"58ecb25d8bb1ba5a39f9cb299fec62fbb7604aa7":function(e,t,a,i){return!e.get_val("lists","siblings")},b3e7efb5b6368304cc062696e317266ce4ab8dbf:function(e,t,a,i){return e.get_val()!=e.get_val("id","siblings")},a5769c8eaf8b67728b9c1a7dd63c566905d28321:function(e,t,a,i){return e.get_val("cur","siblings")==e.get_val("id","siblings")},d4ff0ccebacdfdc2b892657a2421de8696271924:function(t,a,i,n){return e.isSameDate(t.get_val("sdate","siblings"))},dd9045ad7f42e773ee6dc12b4894e2dba3334a34:function(t,a,i,n){return!e.isSameDate(t.get_val())},a4361271d1cf3a3fed97011034e8844f7cb78634:function(t,a,i){var n=t.state.get("sub_ndx"),r=t.state.get("num_slots");if((r||0)<2)return t.exitBlank(!0);t.set(e.tpl(t.arg("titleSlot"),{slot_ndx:parseInt(n,10)+1,num_slots:r})),t.tag("span")},"42ae7e45e80f479536d8c7abb1b1b7a74d1fd6cc":function(e,t,a,i){return-1===["5","10"].indexOf(""+e.get_val("op","siblings"))},"2ea873d8f45c10289d278cca6121b21f2aa02ab3":function(t,a,i){t.event("post",{nid:e.gbl.user.nid,noPath:!0,data:{notify_id:t.get_val("notify_id","rnode"),response:1}})},"21b415782bf9f433b84d01be1faa2956719173c1":function(t,a,i){t.event("post",{nid:e.gbl.user.nid,noPath:!0,data:{notify_id:t.get_val("notify_id","rnode"),response:-1}})},"18defab2827df6584a1e08ca2ff5de89beb91304":function(e,t,a,i){return-1!==["5","10"].indexOf(""+e.get_val("op","siblings"))},"57c68da3223c711470b3f695e8088cd27f42549f":function(e,t,a){var i=e.state.get("multi_response"),n=e.state.get("nodecline"),r=e.find(".xds-all-buttons");(i||0)>1&&r.addClass("xds-pending"),n&&r.addClass("xds-nodecline")},a48f2c6b783377756b723572cb9a2380585e1cc7:function(e,t,a){e.event("post",{nid:e.state.top().get("nid"),noPath:!0,data:{wfaction:"acceptall"}})},d73a474e970f37c44a5d48f653fe2d5be2ebb601:function(e,t,a){e.event("post",{nid:e.state.top().get("nid"),noPath:!0,data:{wfaction:"declineall"}})},ea4b5528faf989d2b4ab6d15d864f55b4480fa8c:function(t,a,i){var n,r=e.obj_to_arr(t.get_val("item")||[]),o=[],s=[];for(r.sort(function(e,t){var a=e.threadid-t.threadid;return 0===a&&(a=t.cdate-e.cdate),a}),n=0;n<r.length;n++)s.length&&s[0].threadid!=r[n].threadid&&(s[0]._threadhead=1,s[0]._threadlen=s.length,o.push(s),s=[]),s.push(r[n]);for(s.length&&(s[0]._threadhead=1,s[0]._threadlen=s.length,o.push(s)),o.sort(function(e,t){return e[0].sdate_t-t[0].sdate_t}),r=[],n=0;n<o.length;n++)r=r.concat(o[n]);t.set({item:r})},b36bca44988e9604a4fffdebf2d5ba3a3a1c8549:function(e,t,a){e.addClass("xds-thread-"+e.state.get("threadid"))},c434a474675f188a284b808ac16f6a3fbdc88392:function(e,t,a,i){return!e.state.get("_threadhead")},"263add1786b0bc8e92d126d9f2386a643e4e909c":function(t,a,i){var n,r=e.dateFormat(t.state.get("sdate"),"obj"),o=e.dateFormat(t.state.get("edate"),"obj"),s=t.state.get("num_slots"),d=t.state.get("sub_ndx"),l=r;(s||1)>1&&(n=o.valueOf()-r.valueOf(),l=new Date(r.valueOf()+d*(n/s))),t.set(l),t.inherit("span")},adda325939909c6903e486372edd23ec25e65185:function(t,a,i,n){return!(e.isSameDate(t.get_val(),t.get_val("sdate","siblings"))||e.isSameYear(t.get_val())&&e.isSameYear(t.get_val(),t.get_val("sdate","siblings")))},"45dfc39036493595c01f1939b7ecb7b22cb8354a":function(t,a,i){var n,r=e.dateFormat(t.state.get("sdate"),"obj"),o=e.dateFormat(t.state.get("edate"),"obj"),s=t.state.get("num_slots"),d=t.state.get("sub_ndx"),l=o;(s||1)>1&&(n=o.valueOf()-r.valueOf(),l=new Date(r.valueOf()+(d+1)*(n/s))),t.set(l),t.inherit("span")},c5f95fd741ffa3d89c89dcbef4a1b8779d445424:function(e,t,a,i){return e.get_val("school","siblings")&&e.get_val("room","siblings")},"18938bad461beb76b3a6858839186033ccf5c4bc":function(e,t,a,i){return isNaN(parseInt(e.get_val()))?e.get_val():e.arg("titlePrefix")+e.get_val()},db649ea473c8482b86a6942e549e967b352c2f42:function(e,t,a,i){return-1!==["4","9"].indexOf(""+e.state.get("op"))&&e.state.get("_threadhead")},"57d26c58765661930b4cc9861c47499e50c60938":function(e,t,a){return e.state.top().set("multi_response",(e.state.top().get("multi_response")||0)+1),e.state.top().set("nodecline",e.state.get("nodecline")),e.exitBlank(!0)},"7c0d345e93be8f9c42fa3235f1916ed65cc79e4f":function(e,t,a,i){return!e.state.get("nodecline")},"88b277f301e455bc99810d19840c9d16796a2f45":function(e,t,a){e.event("post",{nid:e.state.top().get("nid"),noPath:!0,data:{wfaction:"accept",assignment:e.state.get("threadid")}})},"3b33ab607a71a93a207032a9dffdba4306a05b16":function(e,t,a){e.event("post",{nid:e.state.top().get("nid"),noPath:!0,data:{wfaction:"decline",assignment:e.state.get("threadid")}})},"47e130f029cc527a768b5f7bdbf2928ac1e67f6c":function(e,t,a,i){return e.state.get("nodecline")},"5288632db050fb7cf84b4e4ff1161bf5046e6b00":function(e,t,a,i){return e.state.get("_threadhead")&&e.state.get("_threadlen")>1},"0947be16737a23c7abbbf954c156e35536888f39":function(e,t,a){var i=e.parents(".xds-showthread").length;e.parents(".xds-history").find(".xds-thread-"+e.state.get("threadid"))[i?"removeClass":"addClass"]("xds-showthread")},"9dce8d63f7ffb982d2e83a2b0aa66ccee46c5b93":function(t,a,i){if(t.get_val()&&-1!==["4","9","15"].indexOf(""+t.state.get("sm_op"))){var n={};n.nid=t.state.top().get("nid"),n.noPath=!0,n.object=t.state.get("obj_nid"),n.meeting_sdate=e.dateFormat(t.state.get("StartDate","iso")),t.event("lightbox",n)}},de9333ad9526bbc567eef6f0a76a012f9205583b:function(e,t,a){e.newEvent("trigger",{eventName:"newRequestContentAvailable",target:"caller"}),e.event("lightbox.close")},b4744f6f63350de0c59986e4f79373467e8d7fe7:function(e,t,a){e.state.set("conflict_sdate",e.get_arg("conflict_sdate")),e.state.set("conflict_edate",e.get_arg("conflict_edate")),e.get_xdo("*sdate").addClass("xds-conflict")},"3f26102a101359eb764ffd68b94396c2cc65be1a":function(e,t,a){e.state.get("commit_date")&&e.arg("readonly",!0),e.inherit("f_ttdate.f_ttdate")},"2ce4390793fdacfae78c0cb1868ca08c04249f11":function(t,a,i){var n=e.dateFormat(i.value,"timestamp"),r=e.dateFormat(t.state.get("edate"),"timestamp"),o=t.getPeriod();t.state.set("speriod_sdate",o?o.sdate:0),t.state.set("snum_slots",o&&o.num_slots||0),r<n&&(o?(t.state.set("edate",e.dateFormat(o.edate,"iso")),t.state.set("enum_slots",o.num_slots||0)):(t.state.set("edate",e.dateFormat(new Date(1e3*(n+3600)),"iso")),t.state.set("enum_slots",0))),t.state.set("sdate",i.value)},fcbc377fcd166434ba9dc224c5187c149695049b:function(e,t,a){var i=e.getPeriod();e.state.set("speriod_sdate",i?i.sdate:0),e.state.set("snum_slots",i&&i.num_slots||0)},b596a15283bce68ebcf49b0635154956a6ae4bc3:function(t,a,i){t.state.set(t.arg("allDay"),!e.isSameDate(t.get_arg("value")))},eede28258194740c9a07953598f83a53bcfe1727:function(t,a,i){var n,r=t.state.get("snum_slots")||0,o=[];if((r||1)>1)if(!1!==t.data&&""!==t.data&&" "!==t.data?void 0===t.arg("defaultValue")&&t.arg("defaultValue",t.data):void 0!==t.arg("defaultValue")?t.set(t.arg("defaultValue")):t.set(0),t.state.get("commit_date"))t.set(e.tpl(t.arg("titleLI"),{slot:t.get_val()+1})),t.inherit("f_str");else{for(n=0;n<r;n++)o.push({value:n,display:e.tpl(t.arg("titleLI"),{slot:n+1})});t.arg("list",o),t.inherit("dd.select")}else t.arg("readonly",!0),delete t.xds._children,delete t.xds.fields,delete t.xds.list,delete t.dd,t.set(" "),t.inherit("f_str")},"93e2af6e3d849d67d6f7b89aa8ce47eff23bd924":function(e,t,a){var i=e.state.get("commit_date");i&&e.arg("minDate",i),e.inherit("f_ttdate.f_ttdate")},"6b277f8adc6e547b358fdbb530213728b472a90f":function(e,t,a){var i=e.getPeriod();e.state.set("eperiod_sdate",i?i.sdate:0),e.state.set("enum_slots",i&&i.num_slots||0)},"69d4704ceeb87257171ca557871e854209b23327":function(t,a,i){var n,r=t.state.get("enum_slots")||0,o=[],s=0;if(t.state.get("eperiod_sdate")&&t.state.get("eperiod_sdate")==t.state.get("speriod_sdate")&&(s=t.state.get("sslot")||0),(r||1)>1){for(!1!==t.data&&""!==t.data&&" "!==t.data?(void 0===t.arg("defaultValue")&&t.arg("defaultValue",t.data),(t.data||0)<s&&t.set(s)):void 0!==t.arg("defaultValue")?t.set(t.arg("defaultValue")):t.set(r-1),n=s;n<r;n++)o.push({value:n,display:e.tpl(t.arg("titleLI"),{slot:n+1})});t.arg("list",o),t.inherit("dd.select")}else t.arg("readonly",!0),delete t.xds._children,delete t.xds.fields,delete t.xds.list,delete t.dd,t.set(" "),t.inherit("f_str")},"579eeb22fbadbe16e4d1342a213dd6d83e8c5d9e":function(e,t,a,i){return"create"!==e.get_setting("command")&&!e.state.get("commit_date")},"4d36dde5a05bd4fc5be554aa857a3951b0fa5d4c":function(e,t,a){e.get_xdo("*sdate").resetTTPickerNid(e.val()),e.get_xdo("*edate").resetTTPickerNid(e.val())},"2021a228128ea8ac0c77ed85c23db7e5f755c813":function(e,t,a){e.event("lightbox",{data:{schoolnid:e.state.get("schoolnid")}})},"43ae1785f45b316557310094b362ebb2c1c09be8":function(e,t,a,i){return e.has_read("SubAssignment")},"67ec8b8cd32a38e4e88eb2303666fcf24fd35597":function(e,t,a,i){return!e.has_read("SubAssignment")&&e.has_read("OnCallRequest")},a3f5eb33b26980ae54b688c9d0015c4aadbb6443:function(e,t,a,i){return e.get_val("unassigned","siblings")},"9f81f17df19cd79cc5718cc75afb95a5032b649d":function(e,t,a,i){return"("+e.get_val()+")"},d89cc2384c7f3b640c44d79f7f4eecabadc4ee41:function(e,t,a){var i=e.get_val("teacherstates","siblings")[e.get_val("nid")];i&&(e.map({confirmed:i[1],unconfirmed:i[0],overall:i[0]+i[1]}),i[0]?e.addClass("xds-has-unconfirmed"):i[1]&&e.addClass("xds-all-confirmed")),e.tag("li")},"0f476af8018a7f4bc911db64181d8b9fcc33a2f2":function(e,t,a,i){return e.get_val("unconfirmed","siblings")},"9c286b2de94bdcd94c728096438693813b04619f":function(e,t,a,i){return e.get_val("confirmed","siblings")},e3ea21de767a60b5f69c8bdf2e9493e0d8a9f45f:function(e,t,a,i){return e.get_val("overall")>1},"827dcc8fa03ff0506e37c31341bb269a62d1ba94":function(t,a,i,n){return!e.isSameYear(t.get_val(),t.get_val("edate","siblings"))||e.isSameDate(t.get_val(),t.get_val("edate","siblings"))&&!e.isSameYear(t.get_val())},f3290fe8cf01873ad334b1e649f8390fb1cf5db7:function(t,a,i,n){return"00:00:00"===e.dateFormat(t.get_val("sdate","siblings"),"HH:MM:ss")&&"23:59:59"===e.dateFormat(t.get_val("edate","siblings"),"HH:MM:ss")&&e.isSameDate(t.get_val("sdate","siblings"),t.get_val("edate","siblings"))},"255337e6a3af88d46fab1f274d2e6f7cefc0f3db":function(t,a,i,n){return"00:00:00"===e.dateFormat(t.get_val("sdate","siblings"),"HH:MM:ss")&&("23:59:59"!==e.dateFormat(t.get_val("edate","siblings"),"HH:MM:ss")||!e.isSameDate(t.get_val("sdate","siblings"),t.get_val("edate","siblings")))},e88927533034fdf53866a71e72688edb31241dff:function(t,a,i,n){return!t.get_val("speriod","siblings")&&"00:00:00"!==e.dateFormat(t.get_val(),"HH:MM:ss")},ee147fae3dca3431de4da1695ab4cff2c419f331:function(t,a,i,n){return!("00:00:00"===e.dateFormat(t.get_val("sdate","siblings"),"HH:MM:ss")&&"23:59:59"===e.dateFormat(t.get_val("edate","siblings"),"HH:MM:ss")&&e.isSameDate(t.get_val("sdate","siblings"),t.get_val("edate","siblings")))},"6782f58b4f459f0670e024c1c741bde6a13d7fe1":function(t,a,i,n){return!e.isSameYear(t.get_val())&&!e.isSameDate(t.get_val(),t.get_val("sdate","siblings"))},"15d8579a579f068d1cba221b8a1408558add7366":function(t,a,i,n){return"23:59:59"===e.dateFormat(t.get_val("edate","siblings"),"HH:MM:ss")&&("00:00:00"!==e.dateFormat(t.get_val("sdate","siblings"),"HH:MM:ss")||!e.isSameDate(t.get_val("edate","siblings"),t.get_val("sdate","siblings")))},"785ff92690313e812ea1e048ac620bad5807c223":function(t,a,i,n){return!t.get_val("eperiod","siblings")&&"23:59:59"!==e.dateFormat(t.get_val(),"HH:MM:ss")},"4b08ec0cada56c6058d5013be182910b6fd889bf":function(e,t,a){e.newEvent("trigger",{eventName:"newStaffContentAvailable",target:"caller"}),e.event("lightbox.close")},eaffc01f57e32202461ecc866ace8314f433738a:function(t,a,i){var n=t.arg("xds");if(!t.has_read(n))return t.exitBlank(!0);t.xds.link=e.gbl.csvexport+t.get_val("nid")+"?xds="+n+"&attachment=1&filenamefield=Title",t.xds.linkCSS="xds-button-link",t.inherit("button")},"0390ebc0eb09fc8d9a7285f7623631f36bb95923":function(e,t,a,i){return e.has_read("OnCallStaffConfig")},"2769882ef93686e6ad4d94e4cd6f3a3d05d03934":function(t,a,i){t.arg("xdsclick")&&e.get_func("zooms.funcs.isPicker")(t)&&delete t.xds.xdsclick,t.inherit("componentName")},e4ce78e64a6a996cc48132a1ed8fa643554aab5d:function(e,t,a,i){return e.get_val("Quota","rnode")},df8a5b50f8368697a7214d02af16c2626fa19ecb:function(t,a,i,n){return!e.get_func("submanager.utils.quota")(t)},ea4bc6a169e429d97fab692810fbfe5a9f76c7f2:function(e,t,a,i){return 0!=e.state.get("status")},"369bfd33220e8925e7b11aae5226909f5dbaa2c5":function(t,a,i){t.event("post",{xds:t.get_arg("xds"),nid:[t.state.top().get("nid"),t.state.parent().get("nid")].join("/"),data:{lt:0,sdate:e.dateFormat(t.get_val("cover_sdate"),"iso"),edate:e.dateFormat(t.get_val("cover_edate"),"iso")}})},"91a21a12c2f0e2058964c1299226302bf612e69d":function(t,a,i){var n;if(t.get_val()){if((n=e.dateFormat(t.get_val(),"obj")).setDate(n.getDate()-1),e.isSameDate(n,e.dateFormat(t.get_val("cover_sdate","siblings"),"obj")))return t.exitBlank(!0);t.data=e.dateFormat(n,"timestamp")}},"1388d19f3f27cf433cd4ccec1297c0dcb13e987a":function(t,a,i){t.state.get("createid")!=t.state.get("whonid")||t.state.get("createid")==e.gbl.user.nid||t.state.get("commit_date")||t.arg("readonly",!0),t.inherit("f_ttdate.f_ttdate")},c23d3d9577283ad6d9854dfa686c92e67e9567c3:function(e,t,a){e.state.set(e.arg("allDay"),!0)},"0e7fd102284f4cbc5d6d92daf8d341b713d888a5":function(t,a,i){var n,r=t.state.get("snum_slots")||0,o=[];if((r||1)>1)if(!1!==t.data&&""!==t.data&&" "!==t.data?void 0===t.arg("defaultValue")&&t.arg("defaultValue",t.data):void 0!==t.arg("defaultValue")?t.set(t.arg("defaultValue")):t.set(0),t.state.get("createid")!=t.state.get("whonid")||t.state.get("createid")==e.gbl.user.nid||t.state.get("commit_date")){for(n=0;n<r;n++)o.push({value:n,display:e.tpl(t.arg("titleLI"),{slot:n+1})});t.arg("list",o),t.inherit("dd.select")}else t.set(e.tpl(t.arg("titleLI"),{slot:t.get_val()+1})),t.arg("readonly",!0),t.inherit("f_str");else t.arg("readonly",!0),delete t.xds._children,delete t.xds.fields,delete t.xds.list,delete t.dd,t.set(" "),t.inherit("f_str")},"6e8e47a4fea173d8d4ab017bcd48ea42ac3032a9":function(t,a,i){t.state.get("createid")!=t.state.get("whonid")||t.state.get("createid")==e.gbl.user.nid||t.state.get("commit_date")||t.arg("readonly",!0),t.inherit("f_ttdate.f_ttdate")},"5ce2f52a6cc52297d29a52f7213ba01a0a7457d4":function(t,a,i){var n,r=t.state.get("enum_slots")||0,o=[],s=0;if(t.state.get("eperiod_sdate")&&t.state.get("eperiod_sdate")==t.state.get("speriod_sdate")&&(s=t.state.get("sslot")||0),(r||1)>1)if(!1!==t.data&&""!==t.data&&" "!==t.data?(void 0===t.arg("defaultValue")&&t.arg("defaultValue",t.data),(t.data||0)<s&&t.set(s)):void 0!==t.arg("defaultValue")?t.set(t.arg("defaultValue")):t.set(r-1),t.state.get("createid")!=t.state.get("whonid")||t.state.get("createid")==e.gbl.user.nid||t.state.get("commit_date")){for(n=s;n<r;n++)o.push({value:n,display:e.tpl(t.arg("titleLI"),{slot:n+1})});t.arg("list",o),t.inherit("dd.select")}else t.set(e.tpl(t.arg("titleLI"),{slot:t.get_val()+1})),t.arg("readonly",!0),t.inherit("f_str");else t.arg("readonly",!0),delete t.xds._children,delete t.xds.fields,delete t.xds.list,delete t.dd,t.set(" "),t.inherit("f_str")},"0a9a503e47a8030a8bd3d34c6236ca7a5c163231":function(e,t,a,i){return!e.get_val("datelist","siblings")},"5ebb058ac36056cf753e9666805cf44157dd1c2d":function(e,t,a,i){return e.get_val("datelist","siblings")},"7558cc34be45161380366de41bd791ed13986504":function(t,a,i){var n,r=e.dateFormat(t.state.get("sdate"),"obj"),o=e.dateFormat(t.state.get("edate"),"obj"),s=t.state.get("num_slots"),d=t.state.get("sub_ndx"),l=r;(s||1)>1&&(n=o.valueOf()-r.valueOf(),l=new Date(r.valueOf()+d*(n/s))),t.set(l),t.inherit("span")},"14b2c185d5d372d99df1e4b56e41c8f92ab9a409":function(e,t,a,i){return e.get_val()&&e.state.get("periodname")},"963f1ae56b57f02b982f94444ca2388768438452":function(e,t,a,i){return e.state.get("num_slots")},"4ded827d56989c9c4bc9fb2a92b27d3d5034db4b":function(e,t,a,i){return(e.get_val()||0)+1},"09cc5fdc913aabb81de42c1caf599e56a52c9675":function(e,t,a,i){return e.get_val()?e.get_val("classname","siblings")?" ("+e.get_val()+")":e.get_val():""},"62df9c79b087098d2dab8fe1eabfb085d2b83792":function(e,t,a){if(!e.state.get("teacher"))return e.exitBlank(!0);e.inherit("submanager.types.assign_fill")},"5d1833561ff5d76dc28fbea2d7c7b950a68226a2":function(t,a,i,n){return!(t.state.get("createid")==t.state.get("whonid")&&t.state.get("createid")!=e.gbl.user.nid&&!t.state.get("commit_date"))},a925b7b75394f533ebe194c88f9a8d1edd4d099e:function(e,t,a){e.event("reloadParent"),e.event("lightbox.close")},ce59d0c616f907fb92482b6220fb7055a9b5b078:function(e,t,a){e.event("loadxds",{mode:"pickone.noclose",assign_meetings:e.get_setting("assign_meetings")})},"6c8acfde9aada5c14fe71930999c22d244fb4e96":function(e,t,a,i){return(e.get_val("body","siblings")||"").length},"5b0344d9c63b05cc074f349dc3d56aeee604759e":function(e,t,a){e.event("loadxds",{mode:e.get_target("*mode").xdo.val(),roles:e.get_target("*roles").xdo.val(),master:e.get_target("*master").xdo.val(),showempty:e.get_target("*showempty").xdo.val(),libs:e.get_target("*libs").xdo.val()})},"8fe637b467cebdb40a1095ae147ca47c2fc1a5be":function(e,t,a){e.event("loadxds",{mode:e.get_target("sibling:mode").xdo.val(),roles:e.get_target("sibling:roles").xdo.val(),master:e.get_target("*master").xdo.val(),showempty:e.get_target("sibling:showempty").xdo.val(),libs:e.get_target("sibling:libs").xdo.val()})},d4b4bf2c8f8d9f65de8cf3278aa79730a9b45b3a:function(e,t,a,i){return"Developer"==e.get_val("mode")},df4d6a50ae1c371a985556ab6a6962292e2453f9:function(e,t,a,i){return e.get_val("featurematrix-features","data_full")},"1410e7167b5f8b0427ddd32de4d94d051b55c0c3":function(e,t,a){e.xds.fields.features._children.push({}),e.inherit("simpleTable")},c0f43c1eae682c2a575816a614a25b5d5de79888:function(e,t,a,i){return e.get_val("dup")},eb700964472bb4418046e053f828ea93c4c2b45e:function(e,t,a,i){return"Customer"!=e.get_val("mode")},"086b3b0c37c33fbd6f2ba287bf71a1ce1d17f653":function(e,t,a,i){return{Developer:1,Support:1}[e.get_val("mode")]},c2076772934f106cb603dc064ddd31ce76112869:function(e,t,a,i){return e.state.get("pickroles")[t.id]},"69e6ad12752dc34b75b5b16471b5841668cb3dcc":function(e,t,a){e.event("loadxds",{mode:e.get_target("*mode").xdo.val(),showall:e.get_target("*showall").xdo.val(),incnoperm:e.get_target("*incnoperm").xdo.val(),libs:e.get_target("*libs").xdo.val()})},"2a304e34f6f9f4da0c1baba1302f3c82475b1b3f":function(e,t,a){e.event("loadxds",{mode:e.get_target("*mode").xdo.val(),showempty:e.get_target("*showall").xdo.val(),libs:e.get_target("*libs").xdo.val()})},"3a0887879af7d1fb7ae053c93f44dc9c1e56abae":function(e,t,a,i){return e.get_val().led},"608df7bf57e664efffc75f3d96b9898218cbb0e8":function(e,t,a){e.event("post",{arcpart:e.get_val("arcpart")})},"669986dab0555d6d192b93b8055d58e86dcc375b":function(e,t,a){e.event("post",{arcpart:e.get_val("partition","rnode")})},ae68afcc6235b79eb6833ddf505ec500b8364e6c:function(t,a,i){t.args.time=t.get_val("title"),e.get_func("loadPage")(t,a)},"10beec3f0825a3b66064ecbfca24697609e078e5":function(e,t,a){e.set_val("("+e.get_val()+")")},cf1657b6f8ca9de9b50a118d52f918f687adc043:function(e,t,a){e.get_setting().target=$(e.get_setting().target)},"145882c560ed99ad4e398b22c0beaf40a163796f":function(t,a,i){t.args.time=t.get_val("time"),e.get_func("loadPage")(t,a)},"6fb7cb0c9cb848f6878a4a031a09d8e8bec54d4f":function(t,a,i){t.args.owners=t.get_target("sibling:owners").find("input").val(),t.args.limit=t.get_target("sibling:flimit").find("input").val(),e.get_func("loadxds")(t,a)},"8966387919030c3fbfa895234d9b0783360c6654":function(t,a,i){t.args.limit=t.get_target("sibling:flimit").find("input").val(),e.get_func("loadxds")(t,a)},d1df6e24bf2b73c34d1d30ee160fd9dde83aafa7:function(e,t,a){e.displayVal=" "+(e.get_val()/1073741824).toFixed(1)+"GB"},d256ee5512a28fec1755a09295040c83cd61c87c:function(e,t,a){e.displayVal=(e.get_val()/1073741824).toFixed(1)+"GB"},"26d77fc474ab0006ebe52aee3ffc7d20f7d37887":function(e,t,a){e.displayVal=(e.get_val("size")/1048576).toFixed(2)},"1940507d7ca3d99fdb887c5947415a2715cba195":function(e,t,a){e.displayVal=(100*e.get_val("size")/e.get_val("totalsize")).toFixed(2)+"%"},"0ecefb30ec8f4bed11f592e2ec08afce25835d1c":function(e,t,a){e.set_val(e.get_val("size")/e.get_val("totalsize")),e.inherit("admin.progressBar")},"17c7288b055f70861de27225458a8a7653e1abfb":function(e,t,a){e.set_val((e.get_val("total")-e.get_val("missing"))/e.get_val("total")),e.inherit("admin.progressBar")},"237d53eb01775a82e78a9f63c48109ba127f1177":function(e,t,a){e.global(e.xds.id,e.find("input").val())},cb499127501efd248a3681068cecb45a5487344b:function(a,i,n){t.location=e.gen_url(a.args)},"0c58dad56659e1036ce0aa6d3843fd8d6477fd93":function(e,t,a){e.global("lang",e.picker.get_val())},"4e13821b3a04057788d73ca0c7eed75789341622":function(t,a,i){e.storage("AppBuilder-focus",t.get_val("path"),!0),e.storage("AppBuilder-viewCompiled",!0,!0)},"39821be68f473eff9067d8268178ae5e102ed3c5":function(t,a,i){t.args.log=t.get_target("sibling:log").find("input").val(),t.args.format=t.get_target("sibling:format").find("input").val(),t.args.time=t.get_target("sibling:time").find("input").val(),t.args.delta=t.get_target("sibling:delta").find("input").val(),t.args.sfilter=t.get_target("sibling:sfilter").xdo.val(),e.get_func("loadPage")(t,a)},d1bc4876793b8783134860aa11947dadcea85708:function(e,t,a){e.event("loadxds",{sub:e.get_target("sibling:sub").xdo.val()})},"79caf7a08ce6ba38d381db00cf542e2c059dd725":function(e,t,a){e.event("loadxds",{deep:e.get_target("sibling:options-deep").xdo.val(),sample:e.get_target("sibling:options-sample").xdo.val(),refer:e.get_target("sibling:options-refer").xdo.val(),dicts:e.get_target("sibling:options-dicts").xdo.val(),limit:e.get_target("sibling:options-limit").xdo.val(),trunc:e.get_target("sibling:options-trunc").xdo.val(),sub:e.get_target("sibling:options-sub").xdo.val()})},"4a18062a80f636a0d0a744d0cae06da3021e9634":function(e,t,a){e.event("loadxds",{deep:e.get_target("sibling:options-deep").xdo.val(),dicts:e.get_target("sibling:options-dicts").xdo.val(),sub:e.get_target("sibling:options-sub").xdo.val()})},"3b86063c7ca8690cf35be1e29f5279f149080bcd":function(e,t,a){e.displayVal=(100*e.get_val("size")/e.get_val("memsize")).toFixed(3)+"%"},b205ae7b4769101a123d535f5a5a4620f9663223:function(e,t,a){e.set_val(e.get_val("size")/e.get_val("memsize")),e.inherit("admin.progressBar")},"608c9e643e64b0ed774e115da7c721a582e98418":function(t,a,i){t.args.ffxds=t.get_target("sibling:ffxds").xdo.val(),e.get_func("loadxds")(t,a)},"37f563ba9a615b3d5e0df391c5119349c404f748":function(t,a,i){e.obj_to_arr(t.get_val("row")).map(function(e){e.avg=e.et/e.count})},"17b7a610a1c499069750bfc94431a206c71a3b50":function(e,t,a){e.set_val(e.get_val("et")/e.get_val("totalet")),e.inherit("admin.progressBar")},d143be7df3541497fb7acfd7b0c34392dfd7bd76:function(t,a,i){t.args.time=t.get_val("x"),e.get_func("loadPage")(t,a)},"2f06d5903f3565f70e825fb38925c30170062a1e":function(e,t,a){e.inherit("link"),e.inherit("fancyDate")},f8a54b6d6f58c0912786acd367fdfdda09b52247:function(t,a,i){t.args.log="stats",t.args.time=t.get_val("firstdate")-2,t.args.delta=3,e.get_func("loadPage")(t,a)},b67b1326e762e08d0d11965ef1fb7f2d520a90d7:function(e,t,a){e.set_val(e.get_val("count")/e.get_val("total")),e.inherit("admin.progressBar")},"869f367b9a14105a033faaacfee331b2df2fc078":function(e,t,a){e.target("*zsheetfilter").show()},fb27767b2b410d08ec01efde006087be27cf5a02:function(e,t,a){var i=e;e.target("*zload").trigger("xds-sheets-search",{query:i.val()})},"9a73aebbde87ba51665427207c2e36f87c45f4c6":function(e,t,a){var i=e,n=i.state.get("xds-sheets-query-resultcount");void 0!==n?i.data=n:i.exitBlank()},"0be2c3752b7978d110a67c270bb7e9b431b04741":function(e,t,a){e.event("loadxds",{nid:e.data_full.nid})},"928c08039440f1601b72ad9a56c365f2629b9f13":function(e,t,a,i){return!e.get_val("PrivacyMessageBinder","user")},bfbc017da8bde8c1279fa13c4e66e1c1aaac749c:function(t,a,i,n){return e.tpl(t.arg("title"),{name:t.state.get("name")})},"042ed4bdb1ac480b891bad82594eb94dc5f9ad99":function(t,a,i,n){return t.nid()===e.gbl.user.nid||-1!==[e.nt.User.Student(!0),e.nt.User.Parent(!0)].indexOf(""+e.gbl.user.nodesubtype)},aad25751adcb18684e032d27727227bdb56c0260:function(t,a,i,n){return!(t.nid()===e.gbl.user.nid||-1!==[e.nt.User.Student(!0),e.nt.User.Parent(!0)].indexOf(""+e.gbl.user.nodesubtype))},b27a2110c04a33fb1de1361e65dd1da4fa8585a8:function(t,a,i,n){return!e.isSameYear(t.get_val(),t.get_val("end","siblings"))},"2128e3ff563b18bc9b7f1c92453e55861a486f3a":function(e,t,a,i){return e.get_val("hrnid","siblings")},c6184e85147962664f03d80977126e9edd5b7955:function(t,a,i,n){return t.get_val("classnid")&&t.has_read("Course")&&e.get_func("ClassList.LinkIf")(t)},de00ff527cfbbff23f0ad7674b77566114de7b3d:function(t,a,i){var n;e.get_func("ClassList.LinkIf")(t)||(t.e.stopPropagation(),t.e.preventDefault(),n={message:1==t.get_val("studentLock")?t.arg("titleNoStudents"):t.arg("titleNoOpen")},t.arg("titleNoOpenAltAction")&&(n.message+="  "+t.arg("titleNoOpenAltAction")),t.newEvent("alert",n))},"6639a697eb219a429d48f3e66e5b103c8f444afe":function(e,t,a,i){return e.get_val("period","siblings")&&e.get_val("stime","siblings")},"871d3d9ace6e14dd8df3aa753cd418996319e7f0":function(e,t,a,i){return e.get_val("class","siblings")?" ("+e.get_val()+")":e.get_val()},b1fd16a6ac88dd404e88de5200506abff6c8090b:function(e,t,a,i){return e.data&&!(0==e.get_val("name").indexOf(e.data+" "))},"453b923c2bb116ca3a6ded02809c6a8c0fc14242":function(e,t,a,i){return e.get_val("value")},d72d81f55f499eaed28d5a2b9f931fc6fde2def1:function(a,i,n){var r=$("body");r.css("height",r.height()+"px");var o=r.scrollTop();e.get_func("UberPlanner.fn.unbindPlannerEvents")(a,i,n),e.get_func("reloadThis")(a,i,{}),t.setTimeout(function(){r.css("height",""),r.scrollTop(o)},2e3)},"07aa7577e8f48d7049c3f867ac4175ccbf673c0b":function(e,t,a,i){return e.has_role("Class Owner")||e.has_role("Supporting Teacher")||e.has_role("Moderator")||e.has_role("Place Member")||e.has_role("SysAdmin")||e.has_role("District IT Administrator")},"58ccdf2e526137ab337322d55181574e285d4625":function(e,t,a,i){return Lesson},"093fd0cdd66de9c5a0c571fb7461bdb72a808985":function(t,a,i){t.arg("suppressLightbox")||(t.args||(t.args={}),t.args.nid=t.parent_xdo().cnid(),e.get_func("lightbox")(t))},"26680aeaffc9923d9568d1def21d42b916ef06f4":function(e,t,a){13==e.e.keyCode&&(e.e.stopPropagation(),e.e.preventDefault(),e.e.stopImmediatePropagation())},"228f51b9d3dcc023495a798288b83d7125fd4877":function(t,a,i){t.global("modelNid",e.get("UberPlanner")._config.t.global("modelNid"))},"3a1eaa8d7beea4955340d5beb44286a97af153dd":function(t,a,i){"-4"==t.data&&e.get_func("assignment.customType")(t,a,{value:-4})},f86a9bbfbc3b354af251a2460f0f6b1ecce9e15f:function(t,a,i){var n=!1;27==t.e.keyCode&&(t.get_parent(1).remove(),n=!0),13!=t.e.keyCode&&9!=t.e.keyCode||(t.e.stopPropagation(),t.e.stopImmediatePropagation(),t.e.preventDefault(),t.trigger("saveAssessment"),n=!0),n&&e.get_func("UberPlanner.fn.plannerRecalc")(t)},b0281ad9d5d41fcffb986a31562d9974bdbe5569:function(e,t,a){13==e.e.keyCode&&(e.e.stopPropagation(),e.e.stopImmediatePropagation(),e.e.preventDefault())},b1296869d1eb0e2ba00919be3296d0930f8664e4:function(t,a,i,n){return e.settings.oembed},"564c8d8cc3a3bebb517262f6dddafe8cd8bd79d5":function(t,a,i){e.dialog({message:e.lang("Do you want to remove this file?"),buttons:[{text:e.lang("No"),name:"cancel"},{text:e.lang("Yes"),callback:function(){t.trigger("xds-addresources-remove-file",{id:t.get_val("id"),uploader:t.get_val("uploader")})},name:"confirm"}]})},e9dca9aa0307b06c4438e237ce6b1000512da6df:function(e,t,a){var i=e;i.state.get(i.get_val("id")),e.target("*captionInput").show().find("input").focus()},"126891951591c023d6426a2571fa8fc321260830":function(e,t,a,i){return!1},ec3fa3fa25213dcd4c655ccd385cae535cef0430:function(t,a,i){var n=t,r=n.state.get(n.get_val("id")),o=e.get("addresources").fn.getIDByName("sketchpad");o&&n.trigger("xds-addresources-launchUploader",{uploader:o,nid:r.response.nid,replace:n.get_val("id")})},e2f34834c4ae2f7e4f2db8c988636f01a5ca9d9c:function(e,t,a){var i=e;i.global("filenames",i.get_arg("filenames")),i.global("files",i.get_arg("files")),i.event("ajax_post")},"9fb4b2a851d12bfdf6a0d7771d1ccd52b6a5362c":function(e,a,i){var n=e;i&&(n.target("caller").trigger("xds-AddFilesLB-done",{response:i,filenames:n.global("filenames")||!1,files:n.global("files")||!1}),t.setTimeout(function(){n.newEvent("lightbox.close")},100))},"2aa18702e69930b23bc405572616de436650177f":function(e,t,a){e.get_val("extUrl")?(e.xds.href=e.get_val("extUrl"),e.inherit("link")):e.get_val("extraData")&&e.inherit("link")},e7d2dfff1471f5ee8171e03e7831cf7a6f183528:function(e,t,a,i){return e.get_val("extraData")},"5d7c4bd5d619d298bd0b7c736c479d4317049122":function(e,t,a){e.data=e.get_val("key")+": "+e.get_val("value"),e.inherit("lightbox.title")},"2c760c083f1fbe419055481267fd415c1df4cf25":function(e,t,a){2&parseInt(e.find(".socialForm-pin",1).val())&&e.target("*body").bind("ajax_post",function(){e.target("*body").trigger("newLibraryContentAvailable")}),e.target("*body").trigger("submit")},"368fcf5035d3333f548bf77cce65f0fe4ec690b4":function(e,t,a,i){return 12!=e.get_val("reltype","rnode")&&15!=e.get_val("reltype","rnode")},"90412a46df1f9e5ab2d937a4c13ed3fc570b4fb8":function(e,t,a){var i=e.arg("xdsclick");i&&e.event("loadPage",{xds:i})},ca801d76f067a1651d0e59ba1f8d44a63776a264:function(t,a,i,n){return"-1"!=t.get_val("accountstatus","siblings")&&t.nt()!==e.nt.User.Contact()},be404a674f5cd0d54d778de70ddc1ad6a304dba8:function(e,t,a,i){return e.state.get("haveattendance")&&e.has_role("Student")},d7ed477d6c83fbb34b0b5f8b6f593642332a2495:function(e,t,a,i){return"Rejected"===e.get_val()},f38b4662f1db839db12418daebdce646555f3599:function(e,t,a,i){return e.get_val("wfEdge")},"752644003ea519f2e04e815702d381c2d5766ae9":function(e,t,a,i){return"Active"==e.get_val("role")},ff6f6be5feff9d39dfad0acbed9198b82b18826d:function(e,t,a){e.get_target("sibling:nids").val(a.nid.split(",").join("."))},"136e931750475a3284edd019da908468e9fc62a8":function(e,t,a){var i,n,r=[],o=e.data;for(i in o)n=o[i],r.push(n.nid||n.value);e.get_target("sibling:nids").val(r.join("."))},"326630ca0b908c06fb2d10870403ccaa83041503":function(t,a,i){t.args.nid=t.rnode.StudentNid,e.get_func("loadPage")(t,args,i)},"30a0a17d92a6d4ae4ae8825cdc93f51750e8fe86":function(t,a,i,n){return!e.get_func("zooms.funcs.getURLParameter")(t,"stage",!0)},"948eb2728f72997263f025f1178dcf7a20b916b3":function(t,a,i,n){return e.constant.cd.Modern()&e.user.clienttype},"92ddd2b1507882c7e9ad56ec58d73f0e037f5300":function(t,a,i,n){return 1==e.get_func("zooms.funcs.getURLParameter")(t,"stage",!0)},ef0bbc49bea209666b7c365940ae5f1e729787e9:function(e,t,a,i){return e.get_val("zoom-data-table","data_full")},"7ab419a524ea0d8974724b5dd03a6af9cc5c29df":function(e,t,a,i){return e.get_val("zoom-data-table","data_full")},"830ab25eddf6f1bd2ae8750067bfcdb20eae1594":function(t,a,i){t.xds.link=e.gbl.csvexport+t.get_val("nid")+"?xds="+(t.xds_full.xdsExport||t.xds_full.id)+"&attachment=1&filenamefield=Title",t.xds.linkCSS="xds-button-link",t.inherit("button")},a77e8e4c5bbd3db798c56e4b00892aab783951f9:function(t,a,i,n){return"undefined"==typeof cfNative&&t.get_perm(t.xds_full.xdsExport||t.xds_full.id)&&!(e.gbl.user.clienttype&e.constant.cd.Mobile())&&t.get_val("zoom-data-table","data_full")},eb0259efa6e1952fd86ec408ccbdf9e9e1fccf01:function(t,a,i,n){return e.get_func("zooms.funcs.isPicker")(t,!1)},"8916cb4db6da93c50f686d2e9170fb8c689d1d11":function(e,t,a,i){return e.get_val("zoom-data-table","data_full")||e.get_val("dropdown-havepast")||e.get_val("dropdown-havefuture")},"009fed96b049e8a38178b20ee8fef0f06cbaafea":function(e,t,a){t.find("li").length&&t.css("display","inline-block")},f51ee4d22fe86aa5fc9b35f242dbb5401aa088ca:function(e,t,a,i){return e.get_val("havepast","siblings")<0||e.get_val("havefuture","siblings")<0},"355fcbfe6221743c6ae47dd342e3ee414cfe0676":function(e,t,a,i){return e.get_val("havepast","siblings")>0||e.get_val("havefuture","siblings")>0},aef31ea6cf42d0d40ece3e991ccd1e8265b902c1:function(e,t,a,i){return 2&e.get_perm("ReportingPeriodPopulate")&&e.get_val("rcenable","siblings")&&e.get_val("zoom-data-table","data_full")},"47f9893b8c2d7f80345a25e4dc0954d3953f6f24":function(e,t,a,i){return 2&e.get_perm("ReportingPeriodPopulate")},a9d43a03c500f60ebc8cb03b190ca0ba5b466bd6:function(t,a,i){t.args.nid=i.rpnid,e.get_func("loadPage")(t,a)},fb4d95acca4a3f36edbce3ea076f8b1fd6ec431c:function(t,a,i){var n,r=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title",o=e.get_func("zooms.funcs.getURLParameter");(n=o(t,"showpast",!0))&&(r+="&showpast="+n),(n=o(t,"showfuture",!0))&&(r+="&showfuture="+n),(n=o(t,"showdropped",!0))&&(r+="&showdropped="+n),(n=o(t,"showcurrent",!0))&&(r+="&showcurrent="+n),t.xds.href=r,t.inherit("loadPage")},"592fd3dbb04f979f7ee7ec591e6b2f90b7fad56a":function(e,t,a,i){return"undefined"==typeof cfNative&&e.get_val("zoom-data-table","data_full")},"1ade9cf98fc6ca776da0815b1698e85cce1e6d52":function(t,a,i,n){return!e.get_func("zooms.funcs.isPicker")(t)&&e.get_func("zooms.funcs.canOpenClass")(t)},d0e503de1138ad659863e368031b0fcf7b53a7d5:function(e,t,a,i){return e.has_read("ClassStudentList")},"4f54cd5732beb3301ec03f004d930cea3c92358b":function(t,a,i,n){return!e.get_func("zooms.funcs.isPicker")(t)&&t.has_read("ClassStudentList")},"226343db0d8735b97b78d10171631e014dad2ac8":function(t,a,i){t.set(e.lookup("ClassAccess",t.get_val()).str()),t.inherit("sepList.item")},"47c4136a9d0ae6a0b05c7ab9dbcff9775a6e0ce0":function(e,t,a,i){return"0"===e.get_val("accountStatus","rnode")},f0ec2ae00fda5a16e779df428c5cf5e134a3fc35:function(e,t,a){e.set(!e.get_val()),e.inherit("relationmatrix.types.option")},c4fc07a8be6b80c99b78328702606bd2b07f42fc:function(e,t,a){e.set(0!=e.get_val()),e.inherit("relationmatrix.types.option")},"6e855661952a674c487543f56fbba775af2eb47c":function(e,t,a){e.val(!e.get_val()),e.inherit("relationmatrix.types.option")},"9ae82b691e978524cea617dbf4a980e238da1034":function(e,t,a){var i,n=e.state.get("rec");for(var r in n)(i=n[r])&&(i.Staff=parseInt(i.Teachers||0)+parseInt(i.Admins||0));e.inherit("zooms.types.zoom")},"8e3d17d7f3b5af257c523488135071c7ae64cd25":function(e,t,a){e.displayVal="("+e.get_val()+")"},"24e7ffe402b609bbef7a3d670412d7ad75275be8":function(e,t,a){e.displayVal="("+e.get_val()+")"},"61dfadcdb0f33867e7e29ced97387decab8590d7":function(e,t,a){e.xds.xdsclick=2==e.rnode.nodesubtype?"Course":"Place",e.inherit("componentName")},f6ca212321015ad9002f775e78f4c19150440b2f:function(e,t,a,i){return!(!e.get_val("dropdown-havedropped")&&!e.get_val("zoom-data-table","data_full"))},e0fb274d9fca4ffd61a85bfe1af0859e6379b99c:function(e,t,a,i){return-1===e.get_val("havedropped","siblings")},"1cecce898b3e0aa1a4d30503ed635918b30a562c":function(e,t,a){e.event("loadxds",{xds:e.xds_full.id})},"625ae89bce01b1624f9c7075bcf3b386a486a634":function(e,t,a,i){return 1===e.get_val("havedropped","siblings")},a6d849e8f0890672fb74397dbba2c2a49d5edb7d:function(e,t,a){e.event("loadxds",{xds:e.xds_full.id})},"2ef2d68b8df84c8dd9d9be9f20ea6f5c955f417d":function(e,t,a,i){return e.get_val("zoom-data-table")},"44cfd904249e8b6aa058e9e37decbdd9099f4d6e":function(e,t,a,i){return e.state.get("caninvite")&&e.state.get("canlogin")&&e.get_val("zoom-data-table","data_full")},b832518e14ac2f2a0e6867443c3b5360c9321470:function(e,t,a,i){return e.state.get("caninvite")&&e.get_val("zoom-data-table","data_full")},"3b75cdd7c11c8607295085553fdd3c2abea9a5ac":function(t,a,i){var n=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title";1==t.get_setting("showdropped")&&(n+="&showdropped=1"),t.arg("contacts")&&(n+="&contacts=1"),t.arg("access")&&(n+="&access=1"),t.arg("relations")&&(n+="&relations=1"),t.xds.href=n,t.inherit("loadPage")},"4427d554b8a9347a912b5099026c3d113618d8c3":function(e,t,a,i){return"undefined"==typeof cfNative&&e.get_val("zoom-data-table")},"5a082ed22b61d0fef130fc9df4a2c8b2b8e893bb":function(e,t,a,i){return"0"!==e.get_val()},"951868211e75cc3c87087101907582767ac40691":function(e,t,a,i){return"0"===e.get_val("activated","siblings")},"233c70ea55f904d8ffd019da5ae15089688dcfd7":function(e,t,a,i){return"-1"===e.get_val("activated","siblings")},"8af8c5ef3f64c1d927c9ad286b56a3106779c664":function(e,t,a,i){return e.get_val("zoom-data-table","data_full")||e.get_val("dropdown-havepast")||e.get_val("dropdown-havefuture")||e.has_write("PlacesCreate")},"1b34151c439f921d9ee8c9c2ae1181d9c1c41eff":function(t,a,i){var n,r=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title",o=e.get_func("zooms.funcs.getURLParameter");(n=o(t,"showpast",!0))&&(r+="&showpast="+n),(n=o(t,"showfuture",!0))&&(r+="&showfuture="+n),(n=o(t,"showdropped",!0))&&(r+="&showdropped="+n),(n=o(t,"showcurrent",!0))&&(r+="&showcurrent="+n),t.xds.href=r,t.inherit("loadPage")},f7cc0006cf848ecd30f75dc3907f8278eb3e8b6c:function(t,a,i,n){return!e.get_func("zooms.funcs.isPicker")(t)&&e.get_func("ZoomBase.amIModerator")(t)},"0c9f6c534c2d5118dcfee9fc1c171eb646a34d50":function(t,a,i,n){return!e.get_func("zooms.funcs.isPicker")(t)&&!e.get_func("ZoomBase.amIModerator")(t)},"763fc324b466016b5970bd1b7670c1d9d4d481cb":function(t,a,i){t.set(t.get_val("mmUserTypes")?"1":"0"),t.siblings["_"+t.xds.id]=e.lookup("yesno",t.data).str(),t.inherit("relationmatrix.types.option")},b1d23c304b7b4587d7dcb08718b0833b941a5eca:function(e,t,a,i){return e.get_val("_deferred_loaded","rnode")&&!e.get_val("classes","siblings")},b8d32f04cfe1292cfd591c147c712003906b101a:function(t,a,i){var n;if(t.get_val("nodetype","siblings")==e.nt.Container()&&(n=t.get_val("nodesubtype","siblings")==e.nt.Container.Class(1)?"Course":"Place",1&t.get_perm(n)))return t.arg("xds",n),void t.inherit("loadPage");t.tag("span")},c0ed7b6df1d90c4aa87dff6f55ff949f05b5cc07:function(e,t,a,i){return 2&e.get_perm("DistrictReportingPeriodPopulate")&&e.get_val("rcenable","siblings")},"59631e3a05b840382a1a8b0bb8b1949d1e71ffd6":function(e,t,a,i){return 2&e.get_perm("DistrictReportingPeriodPopulate")},"87d3cdd1638872eac402e5dac8e13310515193d9":function(t,a,i){t.args.nid=i.rpnid,e.get_func("loadPage")(t,a,i)},"259260117a4cba6e924aaf091cd250985d61b795":function(t,a,i){var n=t.get_val("_grades","siblings");n&&(n.sort(function(t,a){var i=e.lookup("gradeLevel",t),n=e.lookup("gradeLevel",a);return i.params&&n.params?i.params.sort-n.params.sort:i.params?-1:n.params?1:(""+t).localeCompare(""+a)}),t.set({grades:n}))},df2e6c76e8c7ce12b9e764e09b2d2ed2945ab071:function(e,t,a,i){return!!(e.get_val("zoom-data-table","data_full")||e.get_val("dropdown-havedropped")||e.has_write("AddStaffToSchool"))},"4982eddefc98c15e43fd791dc5639236ca306963":function(e,t,a,i){return e.state.get("caninvite")&&e.state.get("canlogin")&&e.state.get("canloginwithedsby")&&e.get_val("zoom-data-table","data_full")},"09b9096e50de393902bf019e8f71cb982d4a4e6c":function(e,t,a,i){return e.state.get("caninvite")&&e.state.get("canlogin")&&e.get_val("zoom-data-table","data_full")&&e.state.get("linkintegrations")},"6c4331470de079fdc3091a0c9213e0958015200e":function(t,a,i){var n=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title";1==t.get_setting("showdropped")&&(n+="&showdropped=1"),t.xds.href=n,t.inherit("loadPage")},"5d1da02f2ab4f0beada6307371569d1f0f464d8f":function(e,t,a,i){return 0!=e.get_val()},"5d52ef30ae11bce487e2a730dc88693d2feb86d2":function(t,a,i,n){return e.get_func("zooms.funcs.defer_state")(t,2)},d88a10b7a558fbcabf5bbfb6f9c827d274bc60a5:function(e,t,a,i){return(e.get_val("list-classname")||[]).length>0},"02698374c315864b4632295b0f19ee2089a1cf36":function(t,a,i,n){return!parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"places",!0),10)},"4a6a19979d6f551347c5c545b6f863c1f031b72f":function(t,a,i,n){return parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"places",!0),10)},fbc9284ca1f2156547f45dd71f0ecedf2286a5b2:function(t,a,i){parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"places",!0),10)||t.arg("active",!0),t.inherit("NavButton")},df475e579aba1f140e31b1ff3975d10087a31f54:function(t,a,i){parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"places",!0),10)&&t.arg("active",!0),t.inherit("NavButton")},a42ddd80e072c404334f63f608031a15848d1da8:function(t,a,i,n){return!(parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"showpast",!0),10)&&parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"showfuture",!0),10))},"4828b66217cfb5a1a68d1eb4841080c8ab268b89":function(t,a,i){var n,r,o=["Archive","Future"],s=["Archive","Future"],d=e.get_func("zooms.funcs.getURLParameter"),l={};(r=parseInt(d(t,"showdropped",!0),10))&&(o.push("Dropped"),s.push("Dropped"),l.showdropped=r),"0"===d(t,"showcurrent",!0)?l.showcurrent="0":(o.push("Subscriber"),o.push("Model"),s.push("Member")),parseInt(d(t,"places",!0),10)?(n="Container._PlaceTypes:>",l.places=1):n="Container.Class:>",l.classfilter=n+o.join(","),l.studentfilter="User.Student:>"+s.join(","),l.stage=d(t,"stage",!0),t.event("loadxds",l)},"41e9d1a41fc59e6de6e3ad1816a173519fc32880":function(t,a,i,n){return parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"showpast",!0),10)&&parseInt(e.get_func("zooms.funcs.getURLParameter")(t,"showfuture",!0),10)},c0aabe719bbafa36d1653ae3f4551b449914d5cb:function(t,a,i){var n,r,o=[],s=[],d=e.get_func("zooms.funcs.getURLParameter"),l={};(r=parseInt(d(t,"showdropped",!0),10))&&(o.push("Dropped"),s.push("Dropped"),l.showdropped=r),"0"===d(t,"showcurrent",!0)?l.showcurrent="0":(o.push("Subscriber"),o.push("Model"),s.push("Member")),parseInt(d(t,"places",!0),10)?(n="Container._PlaceTypes:>",l.places=1):n="Container.Class:>",l.classfilter=n+o.join(","),l.studentfilter="User.Student:>"+s.join(","),l.stage=d(t,"stage",!0),t.event("loadxds",l)},"278c090a999ae73248c405cc67bb18ed7ab6fc95":function(t,a,i){var n,r=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title",o=e.get_func("zooms.funcs.getURLParameter"),s=[t.state.get("title"),t.arg("titleExportBase")];(n=o(t,"places",!0))?s.push(t.arg("titlePlaces")||"Groups"):s.push(t.arg("titleClasses")||"Classes"),(n=o(t,"showpast",!0))&&(r+="&showpast="+n),(n=o(t,"showfuture",!0))&&(r+="&showfuture="+n),(n=o(t,"showdropped",!0))&&(r+="&showdropped="+n),(n=o(t,"showcurrent",!0))&&(r+="&showcurrent="+n),(n=o(t,"studentfilter",!0))&&(r+="&studentfilter="+n),(n=o(t,"classfilter",!0))&&(r+="&classfilter="+n),r+="&filename="+escape(s.join("-")),t.arg("href",r),t.inherit("loadPage")},"95e4205a640000cfbcc12453f167055414f71339":function(e,t,a,i){return!(!e.get_val("havedropped","siblings")&&!e.get_val("zoom-data-table","data_full"))},ae236e521fd0f3aed186b6a088b288b63018aca8:function(e,t,a,i){return e.get_val("rcenable","siblings")&&e.has_write(e.arg("xds"))&&e.get_val("zoom-data-table","data_full")},"00eea83fc9ead4b116bd55471f341b73fbe619dd":function(e,t,a,i){return e.get_val("attenable","siblings")},"34cca8537937017758d01d35b92f36b5c65cd035":function(e,t,a,i){return e.get_val("aprvenable","siblings")&&e.get_val("zoom-data-table","data_full")},f04bb806813f66d54c7dde7923a99897e44e2afb:function(t,a,i){var n=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title";1==t.get_setting("showdropped")&&(n+="&showdropped=1"),t.xds.href=n,t.inherit("loadPage")},"1d249ff00926d9aa461012bb155f3226675edf3e":function(t,a,i){var n=e.gbl.csvexport+t.get_val("nid")+"?xds="+t.arg("xds")+"&attachment=1&filenamefield=Title";1==t.get_setting("showdropped")&&(n+="&showdropped=1"),t.xds.href=n,t.inherit("loadPage")},"58c3884b6fdcb72c02bf7a09dba806e66df9a3e8":function(e,t,a,i){return 13==e.get_val("reltype")},"11f4f762701992ab60533da2c6431091c8d6df59":function(e,t,a,i){return e.get_val("numParents")>0},"27677abb14810cc47b108b835d5aabad1cee3b53":function(e,t,a,i){return(e.get_val("numActiveParents","siblings")||0)<(e.get_val()||0)},bd478a55c04b496f3e6e00643b30d2c6b35fe658:function(e,t,a,i){return 0===e.get_val("count-numParents")},"76365732362bb90cc4798d7ba4bf76d0c2bbbf86":function(e,t,a,i){return e.get_val("count-numActiveParents","siblings")>0},"7206a804fc59807961d5b1a116e37ea416de297e":function(e,t,a,i){return e.get_val("astatus","siblings")},aefc69f5202c66eea84b16ddca5c591c18f471e0:function(e,t,a,i){return!e.get_val("schedstatus","siblings")},f02885beb6972afa2c8e7c9e2f9c6fe88d5af79d:function(e,t,a,i){return e.get_val("schedstatus","siblings")&&!e.get_val("list","siblings")},abf6c33957632e45080cc6e0e0ce7793c769fece:function(t,a,i){var n={xds:t.arg("xds"),nid:t.get_val("nid"),params:"unresolved=1"};t.xds.href=e.tpl(e.gbl.loadPageParam,n),t.inherit("NavButton")},"187ee8b0a0026476586a07aa6f4b37594f18e6c0":function(e,t,a,i){return e.get_val("attavail","siblings")},"2a950890e34c20f59f44cb2abb9c79ba455ce8e0":function(t,a,i,n){return t.get_val("rpnid","siblings")&&t.get_val("rptype","siblings")!=e.nt.Document.DistrictReportingPeriod(1)},ffcc4281b5a3f6de0051c3b8297d1731db058157:function(t,a,i,n){return t.get_val("rpnid","siblings")&&t.get_val("rptype","siblings")==e.nt.Document.DistrictReportingPeriod(1)},"950511462f04e4b4d1e11477295bf2bf523d5928":function(t,a,i,n){return t.get_val("ptiavail","siblings")&&t.nt()==e.nt.Group.School()},a2ac7e52fcf20a1652833048cdfcc0f906990362:function(t,a,i,n){return e.dateFormat(new Date,"yyyy-mm-dd HH:MM:ss")},"055ec31e675e3d1dbd56467d8d7be28864012f3a":function(e,t,a,i){return e.get_setting("pattern")&&!e.state.get("found")},"5bd807eb581a836c8f49f9291535ef8355edcb63":function(e,t,a){e.args.schoolYear=e.get_xdo("*schoolYear").val(),e.event("loadxds")},dd070ed8562416c77b6039dd86e8dd29c6cebb2d:function(e,t,a,i){return"open_node"===e.get_setting("command")&&e.get_val("results-status-progress")},"7c7ce654fe8d2f3d407ef9be7a231f4125adf975":function(e,t,a,i){return e.get_val("Content")&&e.get_val("Content").ContentType&&"Virus"==e.get_val("Content").Scan},"42df2fa8d7a7038febdbd348cf649b12b944f810":function(e,t,a,i){return e.get_val("Content")&&e.get_val("Content").ContentType&&("Virus"==e.get_val("Content").Scan||0===e.get_val("Content").ContentType.indexOf("video/")||0===e.get_val("Content").ContentType.indexOf("audio/"))},"74cb08c749792d8314b50526ede41ac1e1fb3a6e":function(e,t,a,i){return e.state.get("carouselFiles").length>1},"28613d296b3ce500b5a5d7183ef5931072aac0ec":function(t,a,i){e.post({url:{nid:t.nid(),xds:"buildMultiThumbnailField"},data:{fakedata:1}})},d5b59ef41fae58a3a2a2cfb0f470d892c1a97bc6:function(e,t,a,i){return e.data.pickerBoundary},"581bc03a908818f4328c9d75e38ff7f952180223":function(e,t,a){e.data&&e.global("classNid",e.get_val("nid"))},"06b82b9f06484e16fd720e9afd039c86a4cca0c7":function(e,t,a,i){return"open_node"==e.get_setting("command")&&"new"!==e.build.buildMode&&0==$(".PlacePlanner").length},"4ae0e1b216b792cc6ff494df288600fc1ab51463":function(e,t,a,i){return e.get_setting("indexedMode")},"2047564f82a1a15efcf76b885b4537d8caff250e":function(t,a,i){t.inherit("span"),t.data||(t.data=e.lang("Submit Assignment"))},"141e6a7c5ec93adbfecd42ed986fde0af4828027":function(e,t,a,i){return e.state.get("date")},aa278ed2843f4602ccdc0efcb9f67bcebb4ccebe:function(e,t,a,i){return e.siblings.type},"936d8c61d746b62cce006b813556f5fa6b09fb39":function(e,t,a,i){return e.data.OutOf},"590bfa610d8e7db0bd6bc3b6e51a401a30153d19":function(e,t,a,i){return e.data.rubric||e.data.notes||e.data.filesGrid},bf379cd65d390c490f049b001ccc45714426cb65:function(t,a,i,n){return t.get_setting("snid")||1==e.user.nodetype&&5==e.user.nodesubtype},"55060f7a4c98cc4bbd5c1aa028d91bd180c605a9":function(e,t,a,i){return 1==e.get_val("esubmit")},b15130a7945b9ee2901d1a5d5188c87d34ba686e:function(t,a,i,n){return t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Message.News()||t.get_val("nodetype","rnode")!=e.nt.Message()},c93d13c397150ccbed34d311bda60215c4a186fd:function(t,a,i,n){return t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Message.News()&&t.get_val("nodetype","rnode")==e.nt.Message()},"3ec352202140a16efde5f8cbe988e8cfdbc2f953":function(t,a,i){var n=t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode"),r=e.lookup("subtypeExceptionMap",n).string;t.data=r?r[0]:e.lookup("nt",n).string[1],t.inherit("span")},f6dc447f6c7c94e920f70a777bef439c540bda32:function(t,a,i,n){return t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Message.News()||t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")==e.nt.Message.LessonSummary()||t.get_val("nodetype","rnode")!=e.nt.Message()},d8b721f68e1afea09f9ba9687c33ab73df3b9d1a:function(t,a,i){var n=t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode");t.data=e.lookup("nt",n).string[1],t.inherit("span")},bc3c00b14adbe742bfe714465bb33c200fbb1f5c:function(t,a,i,n){return t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Message.News()&&t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Message.Workflow()&&t.get_val("nodetype","rnode")+"."+t.get_val("nodesubtype","rnode")!=e.nt.Message.LessonSummary()&&t.get_val("nodetype","rnode")==e.nt.Message()},fffd095ff536ad0f64f128a2185cafdf95887d04:function(t,a,i){t.inherit("nowrap"),e.is_arr(t.data)||(t.data=[t.data]);var n=[];for(var r in t.data)n.push(e.lookup("gradeLevel",t.data[r]).str());t.data=n.join(", ")},e83f123472539784c62656dc9236b4d4a50b2226:function(t,a,i){t.inherit("nowrap"),e.is_arr(t.data)||(t.data=[t.data]);var n=[];for(var r in t.data)n.push(e.lookup("gradeLevel",t.data[r]).str());t.data=n.join(", ")},"6e4ecd50a7cf90600172147b90d1e359659400b6":function(e,t,a){e.inherit("span"),e.inherit("admin.fixed")},f9836d152e6d8f05311a0120575a5ba449d3b8df:function(e,t,a,i){return $("body").hasClass("phone")},"004728ee6ed08c8550084bb226633ca526b0b99d":function(t,a,i){var n=t.caller(),r=t.get_val("pnid")||n&&n.get_val("pnid","rnode")||e.gbl.nid;e.storage("UberPlanner-targetNid",t.nid(),"sessionStorage"),t.event("loadPage",{nid:r})},"6b5f96dadbe374b5cf5b9f9c79d9e067624012aa":function(t,a,i){var n=t;e.get_func("bpBeforeUnload")&&e.get_func("bpBeforeUnload")(n,a,i),e.get_func("trigger")(n,a,i)},c8229663cc1c4a505beeb6a68f726624e4db43e8:function(t,a,i){t.fresh=!0,e.get_func("stale_form")(t,a.find("form"))},"7c10bc616c7efcea4ea92df1d964fb386d0b6372":function(t,a,i){$(".xds-threadTreeItem-selected").removeClass("xds-threadTreeItem-selected"),$(".bookPlanEntry").trigger("xds-unloadForm").remove(),location.hash=location.hash.split("/")[0].replace("#",""),e.utils.links.recent=location.hash},"57b439cf57c788c152b399e13f930e2a93e31853":function(e,t,a,i){return 0!=$(".PlacePlanner").length},a52ebb91af25ff7cb6d78e7f7bf79a9fcf46bb66:function(e,t,a,i){return 0==$(".PlacePlanner").length},"3012f214b623817c8c7adfedb25ec4feb64dcb20":function(t,a,i){var n=t;if(i&&i.nid){var r=i.nid.split("/");e.utils.links.setHash(r[r.length-1])}e.get_func("trigger")(n,a,i)},a43b8593eb95976f79891ad799f7facd2ce2d837:function(t,a,i,n){return e.get_func("bpDeleteButtonShowIf")(t)},"9ee2cff6e4f46ad7a0bcd336b2f1e2a38d39f8a8":function(t,a,i){var n=t;e.get_func("trigger")(n,a,i)},"047da2b5615b85ae2f70720b571e92d48aa54fde":function(t,a,i){var n=t.get_target("*where"),r=n.val().split(".");t.dom().attr("action",e.tpl("{{gbl_create}}{{nid}}?xds={{xds}}",{nid:r.pop(),xds:t.xds_full.id})),n.val(r.join(".")),t.event("ajax_post")},e725d373681cede83651db7e593f0303a56bb6a2:function(t,a,i){var n,r,o,s=t.get_val("reorder-list");for(o in t.temp.nTeachers=0,s||{})s.hasOwnProperty(o)&&((r=s[o]).default_role="Class Owner,-Supporting Teacher",r.nodesubtype==e.nt.User.TeacherAssistant(1)&&(r.default_role="Supporting Teacher,-Class Owner"),r.role||(r.role=r.default_role),-1===r.role.indexOf("-Class Owner")&&(n=r,++t.temp.nTeachers));t.temp.nTeachers<2&&(t.addClass("xds-single-teacher"),n&&(n.single_teacher=!0)),t.inherit("f_section")},"9d2b60fb0cb39988414b467fa5d0535190830e04":function(e,t,a){var i=e.val(),n=e.get_val("single_teacher","rnode");i!=e.get_val()&&("Teacher"===e.get_val()&&n?e.update():(i==e.get_val("default_role","rnode")&&(i=""),e.event("post",{nid:e.get_val("nid","node"),data:{rid:e.get_val("rid","rnode"),"teachers-role":i}})))},d4e1e142c52fb362e8a55c523f76824e912109e3:function(e,t,a,i){return!e.get_val("single_teacher","rnode")},d80ef47db7bde106768fd617ec72d46f8e433fb3:function(e,t,a){e.event("post",{nid:e.get_val("nid","node"),data:{rid:e.get_val("rid","rnode"),"teachers-reltype":13}})},c3ad556f3e3bd92f168f5580593ede244d942e32:function(t,a,i){var n,r=t.get_xdo("*teachers-reorder"),o=r?r.get_val("list"):{},s=t.val();for(n in o)if(o[n].nid==s)return t.val(""),void t.e.preventDefault();t.newEvent("post",{action:e.gen_url(t.tpl({command:"link",nid:t.val(),xds:t.get_arg("xds")})).replace(".json","").replace(/\?$/,""),data:{_dest:t.get_val("nid","node"),_reftype:4}})},f825f2639104450742d8c29b1e447085bd3a9ec2:function(e,t,a,i){return 0!=e.get_val()},f7ab5e73f6405f8fe9ae269fd16e3b86557e31d9:function(e,t,a,i){return e.has_write(e.get_val("provisioned","siblings")?"EditTimetable":"CustomTimetable")},b68c761f6020a244360dc2b8fce8baf5555f4d6f:function(e,t,a,i){return 0==e.get_val("summary-mode","siblings")},bb1efba93429cdeede42326c6f69b94fc8724bc3:function(e,t,a,i){return e.get_val("name","siblings")?" ("+e.get_val()+")":e.get_val()},"79f27e461c7d5ee78502f024afbf28f5c74fd2c1":function(e,t,a){e.newEvent("trigger",{eventName:"newCalendarContentAvailable",target:"caller"}),e.newEvent("reloadParent"),e.event("lightbox.close")},db2044174f9627e90d6e9fc436a01857360806c2:function(e,t,a,i){return e.get_val("status")&&e.has_write("EditTimetable")},"7733151947d68ab3e72aacc5cca3df004f4c6371":function(t,a,i,n){return e.get_func("classTimetable.funcs.have_day_periods")(t)},fe26a4a706f9bccd982e9be544b908bf95cb56d7:function(e,t,a){var i,n=e.state.top().get("terms")||[],r=[];for(e.get_val()||e.set("_all"),r.push({value:"_all",display:e.arg("titleAll")}),"string"==typeof n&&(n=n.split(",")),i=0;i<n.length;i++)r.push({value:n[i],display:n[i]});if(r.length<3)return e.exitBlank(!0)||!1;e.arg("list",r),e.inherit("dd.select")},"3abc3e67461d40e7868434a4c243f571457be08b":function(e,t,a){var i,n=e.state.top().get("teachers")||[],r=[];for(e.get_val()||e.set("_all"),r.push({value:"_all",display:e.arg("titleAll")}),i=0;i<n.length;i++)r.push({value:n[i].nid,display:n[i].name});if(r.length<3)return e.exitBlank(!0)||!1;e.arg("list",r),e.inherit("dd.multiSelect")},"8949e3172e24708cf4448b94d0873720ad31b065":function(e,t,a){var i=e.get_arg("value").split(","),n=e.get_val().split(","),r=i.indexOf("_all"),o=n.indexOf("_all"),s=!1;-1===o&&-1!==r?(i=["_all"],s=!0):-1!==o&&-1!==r&&i.length>1?(i.splice(r,1),s=!0):1===i.length&&""===i[0]&&(i=["_all"],s=!0),s&&e.update(i.join(","))},"91fa43fae6058aeea3ff202fc516c1205a921bed":function(t,a,i){var n=t.state.get("ttmode")||0,r=e.get_func("classTimetable.funcs.have_day_periods")(t);if(t.global("readonlyForm")||0!==n||!r)return t.exitBlank()},"16b3cfc79c7aa6e9cfa5644f3ca004f6da962bb2":function(e,t,a){try{delete e.showTitle}catch(e){}e.inherit("fa.icon")},"8e229721a751001dc29d448f54e5c1e736d25e7a":function(e,t,a){e.state.set("op",e.get_val()),e.inherit("dd.select")},bde5924ad4ebdfc08cf89c7ac0e75b48b6dcd3ed:function(e,t,a){var i=e.val();i!==e.get_val()&&(e.set(i),e.state.set("op",i))},"214aac8bb525a1ba5db671b4e71cdf5bb3125ab1":function(e,t,a){if(-1!==["2","3"].indexOf(""+e.state.get("op")))return e.exitBlank()},ffd7de97a1b422b3ad2febbc95ee0832eba98dc5:function(e,t,a){var i=e.get_val();!1===i&&(i=e.state.get("periodID")?1:0,e.set(i)),e.state.get("schedule_type")!==i&&e.state.set("schedule_type",i),e.inherit("f_radioGroup")},b66e488f1b796591670d93044f4eeb819b84b525:function(e,t,a){var i=e.val();i!==e.get_val()&&(e.set(i),e.state.set("schedule_type",i),e.get_parent(1).xdo.update())},db1c8a18b635551e1a85133c4a10299e41832524:function(e,t,a){if(-1===["2","3"].indexOf(""+e.state.get("op"))&&1!=e.state.get("schedule_type"))return e.exitBlank()},ff0981a6fdd4efcb1c1321ae33d01e0b25e36c69:function(e,t,a){if(2==e.state.get("op")||3!=e.state.get("op")&&1==e.state.get("schedule_type"))return e.exitBlank()},"88f781bab56063ec40f3beeab57e0f4d87eb7c37":function(e,t,a){var i=parseInt(e.state.get("rtype")||0,10);if(isNaN(i)||0===i)return e.exitBlank()},"3813f094b82f009b4c911053672fceea49d940a7":function(e,t,a){if(2==e.state.get("op"))return e.exitBlank()},"0f21ecc1b0f0b132d3f8d5fab41b28da9abb4142":function(e,t,a){var i,n=e.get_val("teachers","data_full"),r=[];for(e.get_val()||e.set("_all"),r.push({value:"_all",display:e.arg("titleAll")}),i=0;i<n.length;i++)r.push({value:n[i].nid,display:n[i].name});if(r.length<3)return e.exitBlank()||!1;e.arg("list",r),e.inherit("dd.multiSelect")},"8dfea3793b76bb27833e265f7854189faf28165c":function(e,t,a){if(e.global("readonlyForm"))return e.exitBlank()},"62c7c45b5583dfe52f65b7dcae87118c5e45c4c5":function(t,a,i,n){return e.get("bookGrades").studentsOrder.length<=5},be5a493102ebed28f012abb99070a98819054559:function(e,t,a,i){return e.siblings.students},"3a2f27868a9d7a4da9b97021b1ac350d057fac3f":function(t,a,i,n){return!e.get("gradebook").busted},a561dcc2c9d378a37607180582c717e89f346ab1:function(e,t,a,i){return!(e.get_val("individualAssessment")&&!e.parent_xdo().data.students)},"5f5c299917dad05d20998d54d540c7863b4b7582":function(e,t,a,i){return e.get_val("individualAssessment")&&!e.parent_xdo().data.students&&!bookGrades.sheetMode},"0388034c11b3ab0dccddc713a36b0f7c12c612f0":function(e,t,a,i){return e.get_index()==e.get_setting("tab")},"535a0c65655ba374956b986200c8dc79eb120705":function(e,t,a,i){return(e.state.get("tabs")||[]).length>1||e.get_index()},"2103a7a3e3c9ef4e19e1e79b435d64850b3cb07e":function(e,t,a,i){return e.has_write("dataBookTeacherFeedPost")},"0ef3d07ca25b69ae3f1888fe771a602646dc4634":function(e,t,a,i){return e.get_val("rt")&&(e.get_val("gt")||e.get_val("lat"))&&!e.get_val("ct")},b285be1f0abb2de8fd95d0a66b38abfa7e6350eb:function(e,t,a,i){return e.get_val("rt")&&e.get_val("gt")&&e.get_val("ct")},"4e59c32626e57b95253b3f6a1f3c6a47ee4b195b":function(e,t,a,i){return e.get_val("lat")&&e.get_val("gt")},"50bd15ea9c394793d60535f6366f2e1d8705c033":function(e,t,a,i){return e.get_val("gt")&&e.get_val("ct")},"1a91acb963c3b620f375fecdeb09bbc36296ef73":function(e,t,a,i){return e.get_val("d")&&(e.get_val("gt")||e.get_val("rt")||e.get_val("ct"))},"647a6d5c8c75cd3499785bc4efcb0516f7e877fe":function(e,t,a,i){return 4.21==e.nt()||6.56==e.nt()},"30ad3045c6aab32096bde6a40a62149173450839":function(e,t,a,i){return e.get_val("g")},de5a11bc0434423c7315f526537636566d9236f0:function(e,t,a,i){return!e.get_val("commentWrap")},ebbf8514a1d31de4a2cd732be510777f13af5818:function(e,t,a,i){return!e.get_val("g")},"8b0e44cc7e4b9493c614403bbabb39a896ae10d2":function(t,a,i,n){return e.get("attachmentList").bindifs.notvirus(t)&&!e.get("GraderHost").bindifs.setActiveSubmissionClick(t)},"1721d98b73a5f965e61a85e4dd1916372cfbed01":function(e,t,a,i){return e.state.get("unassigned")},"3c00ab337a55a3e28ea88472b1441a023916e994":function(e,t,a){e.newEvent("lightbox",{stopPropagation:!0,xds:e.get_arg("xds"),model:e.get_arg("model"),nid:e.cnid()})},"18226cdead5a4b65574aebc8e4281b10efa22b65":function(e,t,a,i){return e.caller().get_val("snid")},"95d2e0e438843dd3ce10b0b20b818358f2b8cafb":function(e,t,a,i){return e.get_setting("GraderHost")},"8d0dcb63455784274599ba37addc0675304feace":function(e,t,a){e.set_val((0|e.get_val()).toString()+" Per Min")},fa5429ab89c60cbac5df3665ef2896cbb9d51146:function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" updates during the measuring interval")},d9829302a015804f4ccafec1437372de4dbe6ba3:function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" inserts during the measuring interval")},"180dcdd79df89fbbd642cbf0b92c57f93d77fd49":function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" selects during the measuring interval")},"7247ca6f69c9129aaef7dbc0f461e1660d90f90c":function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" delets during the measuring interval")},b1853c9280af413771884e9c46043141e9a92bf3:function(e,t,a){e.set_val((0|e.get_val()).toString()+"(qry time >1sec) Per Min ")},"57ae142352a437ffec299c13edbe094fede575ac":function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+"slow qrys during the measuring interval")},e757ec01af7732082f172400dba9d84d2989771b:function(e,t,a){e.set_val((0|e.get_val()).toString()+" % dirty")},"357ff1420bc264069e60d4e31ecad7edda9cd785":function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" dirty pages in bufferpool")},"33ea0ca4c572d75a92a65b2f2fcff5202d1dfea5":function(e,t,a){e.set_val((0|e.get_val()).toString()+" miss Per Min")},a20dd13b3cdb31cce545e3ae0667dc45194b168d:function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" logical page reads not found in bufferpool")},bb3cb72a091b78c27616b912b9f2e1079a597ee6:function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" writes done to the bufferpool")},a86a4a428369f6881f28055ba4594f6bf13393a1:function(e,t,a){e.set_val((0|e.get_val()).toString()+" steals")},bab25c0dadf01ba323a6f8e84996a650ac5c3328:function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" pages steals during measuring interval")},b2df691095c60117bacdcfa283a615e15a4aa537:function(e,t,a){e.set_val((0|e.get_val()).toString()+" pages extended Per Min")},"8e01521c9e0e5f617f5148f38fba3366ec38f847":function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" pages extended during interval")},"143012b1572392cf21bc6784f3adc0cdb4ba40d6":function(e,t,a){e.set_val((0|e.get_val()).toString()+" MB/min")},"57c8b686dc7a792f1d6aae74273274dfd3d9e8d4":function(e,t,a){e.set_val("-----"+(0|e.get_val()).toString()+" bytes during interval")},"7f2c0f882ec8673cdbda2979488641a943669c87":function(e,t,a){e.set_val((0|e.get_val()).toString()+" ops/min")},c22dd0111082aa83f1c5d91a23db8b6e1710c899:function(e,t,a){e.set_val("-----"+(0|e.get_val()).toString()+" fsyncs during interval")},a6259423c48955d4d7f91a5b88e5f294131f06db:function(e,t,a){e.set_val((0|e.get_val()).toString()+" MB per min")},"5ee68fa9f93f379af085ed8920825efd92643c6b":function(e,t,a){e.set_val("-----"+(0|e.get_val()).toString()+" bytes received from Edsby during interval")},fdd735b280b69a60d35a745dacd70c1c329b8398:function(e,t,a){e.set_val("-----"+(0|e.get_val()).toString()+" bytes sent to Edsby during interval")},"23abb132bcbee5699fd3ce1df7e8fa8034c98bff":function(e,t,a){e.set_val((0|e.get_val()).toString()+" rows locks currently being waited for")},"16dab872101bfd6527ee2423c2e2b0fe20ba5789":function(e,t,a){e.set_val((0|e.get_val()).toString()+" row lock waits during interval")},"4097c3ae46dc746412af6c26f1678b78ae6dc0eb":function(e,t,a){e.set_val("---------"+(0|e.get_val()).toString()+" disk temps during interval")},e90df269c25c36b443f6c0f76058ecb97d48d258:function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" temp in use during interval")},df946ab317e11a235b7aa78564c45cab075f2542:function(e,t,a){e.set_val((0|e.get_val()).toString()+" times sort buffer is too small during interval")},"0fbed2ba8db5e4fc7ee12622498f72d585534fb4":function(e,t,a){e.set_val((0|e.get_val()).toString()+" new connection threads during interval")},"05a8135623aa2b368c87b568fab0f554352cb199":function(e,t,a){e.set_val("---------"+(0|e.get_val()).toString()+" write requests during interval")},"77c56a50b03b44c9e9b632b395e3371542b535c8":function(e,t,a){e.set_val((0|e.get_val()).toString()+"MB/min")},"4e3d5ceb15631d81fc21b7b8a64278859afb172b":function(e,t,a){e.set_val("--------"+(0|e.get_val()).toString()+" bytes written during interval")},bc4d3c4124a7ae878d43a587729fb8e5160f9ce9:function(e,t,a){e.set_val("------"+(0|e.get_val()).toString()+" doublewrite ops during interval")},"52cd50d8c2bf6a3502e69d52fac6700ad8be17dd":function(e,t,a){e.set_val("-----"+(0|e.get_val()).toString()+" pages written for doublewrite ops")},"6913069e2bcc5d4287f8aa4907d8a259c87fa0ec":function(e,t,a){var i=e.get_val();i&&e.set_val("("+i+")")},"91c3206adea8be761b8cd5d7d487be141e0ecc00":function(t,a,i){if(t.get_val()){for(var n=t.get_val().split(","),r=[],o=0;o<n.length;o++){var s=n[o];r.push(e.lookup("nt",s).str(!0)||"*"+s)}t.set_val(r.join(", "))}},c81a5ea872f2d8338f7b88138ae9619521d9ec95:function(e,t,a){e.inherit("sys");var i=e.global(e.state.get("thread"));i?e.global(e.state.get("thread"),i+1):e.global(e.state.get("thread"),1)},cad38f5087a71b2af2174063d2355550aa691b35:function(t,a,i){if(t.inherit("sys"),t.get_val())if(t.global("unread"))e.is_arr(t.global("unread")[t.get_val("thread")])?t.global("unread")[t.get_val("thread")].push(t.nid()):t.global("unread")[t.get_val("thread")]=[t.nid()];else{var n={};n[t.get_val("thread")]=[t.nid()],t.global("unread",n)}},"7d7ac1cde43cd8482793aaa73c99ed7693c83253":function(t,a,i){t.inherit("sys");var n=[];t.state.get("posts")&&(n=n.concat(e.obj_to_arr(t.state.get("posts")))),t.state.get("evidence")&&(n=n.concat(e.obj_to_arr(t.state.get("evidence")))),t.parent_xdo().map({documents:n})},"075ed5f7e74e1a8bb5d6a4986f60dbe72942dab7":function(t,a,i,n){return t.nid()==e.gbl.uid&&2&t.get_perm(t.arg("xds"))},"74740c830317d63633c750683617ff4e3be041c9":function(e,t,a){0===e.find("li").length&&e.id(1).remove()},e035e185ab0b578ecec0fc54d7cd17c4bf02ada3:function(e,t,a){0==e.find("li").length&&e.id(1).remove()},"6480ab72247b612e7a6abd302490c26637499fa2":function(t,a,i){t.get_args(),e.confirm({confirmButton:t.args.confirmButton,message:t.args.message,confirm:function(){e.post({url:{nid:t.nid(),xds:"clearProfPic"},data:{file:""},success:function(){t.state.set("profpic",!1,!0)}})}})},cb1101d92da3e2c2caffbcfd7c5f4aa379955d39:function(t,a,i,n){var r=t;return!r.state.get("profpic").startsWith("IN:")&&r.state.get("profpic")&&t.nid()==e.gbl.uid&&2&t.get_perm(t.arg("xds"))},aa582296d1906e076591e61e6f85af0e88580b07:function(t,a,i,n){return t.get_val("userNid")!=e.user.nid&&t.get_val("canmail","siblings")},"34a1931bea50940164432c1db6e25fa9d461e366":function(t,a,i){var n=[{value:t.get_val("userNid"),display:t.get_val("name")}],r=[t.get_val("userNid")];n.reverse(),n._r=!1,t.args.data={to:n},t.args.nid=r.join("."),e.get_func("lightbox")(t,a,i)},"04aece9e223b2d23b1a6d5e29722eed8ebe94b92":function(e,t,a){e.get_xdo("*carousel")&&e.get_xdo("*carousel").trigger("newDimensions")},"3d3a7cb4d04752e31c6f0643a8fb091af03f8d98":function(e,t,a){e.newEvent("loadxds",{nid:e.state.get("portfolioNid"),thread:e.nid(),xds:e.get_arg("xds"),unread:e.global("unread")[e.nid()].join(",")})},"78286ec065ca30f0706768174ca62b42341fc284":function(e,t,a,i){return e.get_val("footer-right-replies-num")>0&&e.global("unread")&&e.global("unread")[e.nid()]&&e.global("unread")[e.nid()].length>0},"890d3cf07d5491cd64dfbf7a59af770df611fe41":function(t,a,i){if(t.get_val("files")&&e.is_arr(t.get_val("files"))){t.inherit("link");var n=t.get_val("files").length;n>0&&(t.data=n)}},c9327eddc1ae136a275619525b2e32ce285535d5:function(e,t,a,i){return e.global(e.nid())>0},a546114e840d03322b47cc41c6a33cbb01a816ba:function(e,t,a,i){return e.global(e.nid())},"1270f8e66b543c837833e34a90a20b5cc7f28f0f":function(e,t,a,i){return 8!=e.state.get("pin")},"7da77253ed527b079c06b3bd464bff7fa0219a2a":function(e,t,a){e.get_xdo("*frame")&&e.get_xdo("*frame").dom()&&e.get_xdo("*frame").dom().height()>100&&e.dom().css("display","block")},f24ae933caf4909cd92851ccca5cea954a744df6:function(e,t,a){e.tooltip=e.get_val("tag","rnode").join(", ")},"9bbf059480784a276911f72c60bac0155c0f0b09":function(e,t,a,i){return e.get_val("tag","rnode")},"806d12b5a083ef8640ea6c5dad904d7588632df0":function(e,t,a){e.inherit("link"),e.data=e.get_val("tag","rnode").length},d69ed9c9724d2d9a17b6da18046ecc59399bb3f6:function(e,t,a){e.inherit("sys");var i=e.get_setting("nid").split("/");i.length>1&&e.global("pnid",i[0]),i.length>2&&e.global("rid",i[1])},"7a1a3d40038426d13c7fd2cd042a47f358211500":function(e,t,a,i){return"new"===e.get_setting("op")},"1fc0a910105575f2f77a8b5efe6467043e67a3d3":function(e,t,a,i){return"new"!==e.get_setting("op")},"86c789cef20650d1cfc934610659ec72c3d3973a":function(t,a,i){t.inherit("sys");var n=e.is_str(t.get_setting("nid"))?t.get_setting("nid").split("/"):[t.get_setting("nid")];n.length>1&&t.global("pnid",n[0]),n.length>2&&t.global("rid",n[1])},b9d0bac69f74e93fb94ae06880d55a05ac858b8f:function(e,t,a){e.newEvent("loadxds",{xds:e.get_arg("xds"),nid:e.get_arg("pnid"),target:"{{gbl_page}}"})},"7fc8df25e716ffcfb59f955f65fe2731601de92c":function(t,a,i){"create"!==t.get_setting("command")&&"new"!==t.build.buildMode||(t.xds.defaultValue="Teacher,Parent"),e.layout.isPhone()||t.arg("mode","inline-label"),t.inherit("dd.select")},"214528766ea95447f8dee3c48018181b34601756":function(t,a,i){var n;(""+t.get_setting("nid")).split("/").length>1&&(n=t.get_setting("nid").split("/")[0]),e.ajax({url:{nid:n||t.nid(),xds:t.get_arg("xds")},callback:function(e){var a;for(var i in e.slices){var n=e.slices[i];n.data&&(a=n.data.cloud)}t.newEvent("redraw",{redrawPath:"*list",cloud:a})}})},"052ff7e259ef5c38a414fc5bdfc95e00d1208fe7":function(e,t,a){e.data="("+Object.keys(e.get_val("feed")).length+")"},"9eafa5ed3e0344f34af8571d354eccc58fc03db9":function(e,t,a,i){return e.get_setting("thread")},bdfa10a97eeebf6798d1252330cc6c3f9511626b:function(t,a,i,n){return e.in_array(""+t.nid(),t.get_setting("unread").split(","))>-1},fe801a78fef140e9bbfa41b3d5d0fb1e0a283137:function(t,a,i){t.temp.loaded||(t.event("loadxds",{target:"*studentContainer",xds:t.get_arg("xds"),nid:e.gbl.uid}),t.temp.loaded=!0),t.get_xdo("*studentContainer").dom().toggle()},"32fa32dab299f9d2cd2ed656fe269956dd26074a":function(t,a,i,n){return!e.platform.phone&&2&t.get_perm(t.arg("xds"))},"0999f828154c139fca2302f16b25b8d9a24b19d5":function(t,a,i){var n=[{value:t.get_val("nid"),display:t.get_val("name")}],r=[t.get_val("nid")];n.reverse(),n._r=!1,t.args.data={to:n},t.args.nid=r.join("."),e.get_func("lightbox")(t,a,i)},cb27a4a5397aeb4371cf5410d9604a706371ff5f:function(e,t,a,i){return e.data&&(e.data.subject&&e.data.subject.subjectTag||e.data.grade&&e.data.grade.gradeTag||e.data.tag&&e.data.tag.tags)},fd130c72ecbb8129d468a7dd56a7fad22101f5a2:function(e,t,a,i){return e.data&&e.data.subjectTag},"5a60fc9997a957801094b244fa05977b02d2c86a":function(e,t,a,i){return e.data&&e.data.gradeTag},faff1db05da7f5968390e2d8d566d0ca945af03d:function(e,t,a,i){return e.data&&e.data.tags},"9426534e3a2d404056cad9de73b475f8303d814f":function(e,t,a){e.inherit("sys"),e.global("pnid",e.get_val("nid"))},a53a2d7b7513f3c995dd40b4fb3f5fc16f90724b:function(e,t,a){e.inherit("sys"),e.global("rid",e.get_val("rid"))},"88b1376f98f11c3ab91250b8871904250b90121d":function(e,t,a,i){return""==e.get_val("source")||"Edsby"==e.get_val("source")},c8fcf494d572a1f6406ec48b3f107522f6023dee:function(t,a,i,n){return t.get_val()||e.lang("Edsby")},c90c74ea4fecbab75da53abf4b5865c26cb10404:function(t,a,i,n){return t.get_val()||e.lang("Active")},beb539c465609fd505fecb1f6ffe232e5c1fb6a3:function(e,t,a,i){return""==e.get_val("source")||"Edsby"==e.get_val("source")},"4362a641cac1b21d4a106880b9790561c156fba3":function(e,t,a,i){return""!=e.get_val("source")&&"Edsby"!=e.get_val("source")},fc421b36cb018046cf85a90ac948eb186d1f453a:function(t,a,i,n){return 0==(64&(t.get_val("pin")||0))&&!(t.nt()===e.nt.User.Contact()&&t.get_val("unid"))},"8ab36ff84badce1bfb06df284dcae29eaa066cdb":function(e,t,a,i){return 20==e.get_val("reltype")},"5674f6446d1a2993c3c390a919993642f5c9d4ee":function(e,t,a,i){return!e.get_val("Gender","siblings")},"1e00ba4168371d4b9f7bba48e8bc2703fdc4760a":function(e,t,a){e.data=-1!==["2","20"].indexOf(""+e.get_val("reltype","rnode")),e.inherit("f_checkbox")},"183af35968619c7c1ba5e44cd6a8cf0012dac7d2":function(e,t,a,i){return[1,!0].includes(e.state.get("contactmode"))},"0aab80812f17b6408dd3981d10bccfbd2254f287":function(e,t,a,i){return e.get_val("contactmode","data_full")},"517dd89ff352759bf87bab378386afbcc02081aa":function(t,a,i){t.data=t.get_val()?e.dateFormat(new Date(1e3*t.get_val()),"iso"):"--"},"688749ff8a1d460b682540a8043323609a9536b9":function(e,t,a){e.args.sqlQry=e.get_xdo("*sqlQry").val(),e.event("loadxds")},c3f2c93459f4616ab68d205442b4e96dd7a89056:function(e,t,a,i){return e.get_val("right").bookmarknew||e.get_val("filesPrep")},"3ceb6246a71d804f6d71de8d915d385d83a4fe50":function(e,t,a,i){return 2&e.get_val("pin")},b4c73173adcb1ea3fa0716735ac32e0fdb480652:function(e,t,a,i){return!(2&e.get_val("pin"))},"1b05a26c4506bf11c8fa999126616fe0f9ec1084":function(t,a,i){e.get_func("lightbox")(t,a,i)},"591fa57c6f4211c6711044e530017c773792049c":function(e,t,a,i){return"application/pdf"!==e.get_val("ContentType")},"74f0a910368974e1752b772a6993b1301a5d2a79":function(e,t,a){$(".lightbox-fileViewer").css({"max-width":""}),$("body").addClass("xds-body-hasFullScreenLightbox")},ef340efd0fc16a9394d12fa4c0618585daf0577b:function(t,a,i){var n=t.caller().caller().node,r=t.caller().caller().parent_xdo().parent_xdo();t.nid()!=r.nid()&&(t.args.nid=r.nid(),t.args.thread=n.thread||n.nid),e.get_func("loadThread")(t)},"028f815bf1214e049e54a29464d1bd6acaa2593d":function(e,t,a){0==e.get_val()&&(e.displayVal="")},d6c9d45d0d2fa5d0c9aa2a519ebeaaf8a283880f:function(e,t,a,i){return!e.get_setting("caller").global("members")[e.nid()]},"81295edaff0141e458cad217609a6eb27b84ea50":function(t,a,i,n){return e.isSameDate(t.get_val("date","siblings"))},"92b86e0d45d026d1bc411dbb9ac35774a7061c57":function(e,t,a,i){return"3.16"!=e.nt()&&e.data},"83aa5f9ac5063dd57aa0dfcb31b941f8ba85ae05":function(e,t,a,i){return e.rnode.legacyFile||e.rnode.files||e.rnode.bookmark},d208a3f00b41a74820bc5a940456b4b927389a75:function(e,t,a,i){return e.state.get("mailavailable")&&e.state.get("allowlocal")},b5909daa5efbd19cc59b40ac5b9e992424aaddcf:function(e,a,i,n){return null!=t.CoreMobile},e4cc4a60d15734acf1e6e2409a574ea7a2fcdc6b:function(e,t,a){$("body").hasClass("mobile")},"350c6e23402121a54b83f7a9e91cc59330419155":function(e,t,a){setTimeout(function(){e.get_val("to")&&t.find("textarea").focus()},100)},"8f0373830d6aafe15b01325dba18909929763a62":function(e,t,a,i){return!isNaN(parseInt(e.get_val("where","siblings"),10))},c70684ed70c77cfe4acee220313d7b1283ab6d7f:function(e,t,a,i){return e.get_val()||e.arg("titleDefault")},"8bd5d6f4b99f2b747f78e8dc261b20683a64baaf":function(t,a,i,n){return t.nt()==e.nt.User.Student()&&void 0!==t.state.get("numParents")},"5fcfcedf8bb9a82bec72b10ba77ed56cbd9e19d6":function(e,t,a,i){return e.state.get("numParents")&&!e.state.get("numActiveParents")},a2117981ac9acef169bf170a38f9fdfb492493cd:function(e,t,a,i){return e.get_val("nid","data_full")!=i.uid&&e.get_val("canmail","siblings")},a425bea0f9845bc5a2255703d393214f6e0987be:function(t,a,i){if(t.nt()!==e.nt.User.Student()||!t.caller()||-1!=t.caller().cssPath.indexOf("searchPicker")||t.caller().nt("node")!==e.nt.Container.Class()&&!t.caller().get_val("classnid"))return t.exit(!0);t.inherit("link")},"599f816ff63dd377d77c8b4fcba119c59b15a8e5":function(e,t,a){e.newEvent("lightbox.open",{xds:e.get_arg("xds"),noPath:!0,command:"create",nid:e.caller().get_val("classnid")||e.caller().global("classnid")||e.caller().nid("node"),class:e.caller().get_val("classnid")||e.caller().global("classnid")||e.caller().nid("node"),student:e.nid()})},"92715c70c5af890cf0f694647252d2e2e793ae3d":function(e,t,a){e.newEvent("loadPage",{nid:e.caller().get_val("classnid")||e.caller().global("classnid")||e.caller().nid("node"),xds:e.get_arg("xds")})},e52ed585236e89c9ff9dad202bae1af5c960c954:function(e,t,a){e.xds.nid=e.caller().nid("node"),e.inherit("link")},"8131824cf9945d1b594868115fae330a5e9038c1":function(t,a,i,n){return t.nt()===e.nt.User.Student()&&t.caller()&&-1==t.caller().cssPath.indexOf("searchPicker")&&t.caller().nt("node")===e.nt.Container.Class()},"826353a909c3528afcbdafe1e52e67b124a333d8":function(e,t,a,i){return!e.get_val("bookMark","siblings")},"433b88f47c1558d3c88a3b91045d5a2e93078071":function(e,t,a,i){return e.data.files&&e.data.files.files&&e.data.files.files.length>0||e.data.filecatcher||e.data.bookmark},a9662839e0759e2cd380082a5f94f3b60223ebdc:function(e,t,a,i){return e.state.get("homelink")&&!e.state.get("pendingrid")},ab6f7ff32f7493751496071aa0664d27fcb48ba6:function(e,t,a,i){return" "},ff1da5137ec05a2c20d980d56f41eccb24bb9171:function(e,t,a,i){return!0},"784abb4833474a4b8658f777676983f32dab98ad":function(e,t,a,i){return!e.global("atleastone")},d00f930ff95fee6d94ed4dd85141b93beeb88e87:function(e,t,a){e.args.sqlQry=e.get_xdo("*sqlQry").val(),e.args.runit=e.get_xdo("*runit").val(),e.event("loadxds")},"2adb22a388f54e2ae06304220991031520b973d3":function(t,a,i){var n=t;n.args.pattern=n.id(1).find("input").val(),n.args.pattern&&e.get_func("loadxds")(n,n.id(1))},e01d59dab21afaab47229a1804cd12162ec2e4eb:function(e,t,a){13===e.e.keyCode&&t.find("input").blur()},"80623cd877a0e48899aa9c6f16ea0981a64e1951":function(e,t,a){e.args.schema=e.get_xdo("*schema").val(),e.event("loadxds")},a85b0badbf0f81aba442f5491ac1677a9279cd18:function(t,a,i){if(t.global("autopintolibrary")){var n=t.target("*pin",1),r=parseInt(n.val(),10);r|=e.constant.np.Library(),n.val(r)}},"62b4794503b4ce5cbccf4f357c7e4e564f906dd0":function(t,a,i){if(t.global("autopintolibrary")){var n=t.target("*pin",1),r=parseInt(n.val(),10);r&=~e.constant.np.Library(),n.val(r)}},"68449eadff11cfde71a99dceddd606084b69a388":function(t,a,i){var n=t;if(t.global("autopintolibrary")){var r=t.target("*pin",1),o=parseInt(r.val(),10);e.get("addresources").fn.hasUploads(n.target("*addresources").xdo)?o|=e.constant.np.Library():o&=~e.constant.np.Library(),r.val(o)}},"719ad234945ac044da52301e1a48e7357fcc88b6":function(e,t,a){2&parseInt(e.find(".socialForm-pin",1).val())&&e.id(1).parents("form").bind("ajax_post",function(){e.id(1).parents("form").trigger("newLibraryContentAvailable")})},f2418cbb4152b47897d6ade9c7352043abb1b281:function(t,a,i){var n=t.find(".socialForm-pin",1),r=parseInt(n.val(),10);r|=e.constant.np.Library(),n.val(r)},a4aa9bac053e5a0f3eba0172713cc79d7d26fe88:function(t,a,i){var n=t.find(".socialForm-pin",1),r=parseInt(n.val(),10);r&=~e.constant.np.Library(),n.val(r)},"285536628a97dd2b9f455071a2e4281aaa3bcfd9":function(e,t,a){"red"==e.get_val("led")&&e.addStyle("color","#FF0000");var i=e.get_val("process-pid");("*"==i||"**"==i)&&e.addStyle("font-weight","bold"),"**"==i&&e.addStyle("font-style","italic"),e.inherit("simpleTableRow")},"4779ffd87bce426f6029232492f6de842ae95fcb":function(t,a,i){var n=t;n.args.system=n.get_val("app"),e.get_func("loadxds")(n,a)},"44ecf061165cc1b8496821fa2c42d7bbe8d2b6d6":function(e,t,a){e.set_val((100*e.get_val()|0).toString()+"%")},b596513f2f8a3fa272b670956fc16e9122004868:function(e,t,a){var i=e.get_val();"ok"==i?(e.arg("mode","green").inherit("button"),e.displayVal="OK"):"?"==i?e.displayVal="?":(e.arg("mode","red").inherit("button"),e.displayVal="SYNC")},"933f2da8d7780ff244948aa9953e96761eef9fdf":function(e,t,a){t.html("Syncing...")},eb5d4d85fa9c8339510b4a6f9343261c53b914f7:function(e,t,a,i){return e.get_val("error")},"6a4d45f833b215d9bbe5a03c00ebae2a5cbc2f69":function(e,t,a,i){return e.get_val("warn")},"4d1d37692be46fad054e7728c7dcaece3cd2d8e5":function(t,a,i){t.args.interval=t.get_target("children:interval").find("input").val(),e.get_func("loadxds")(t,a),t.e.preventDefault()},"33e75e95997239a5bf368ee7510a112a5ab1675d":function(e,t,a){e.set_val(Math.round(e.get_val()/104857.6)/10)},d3714156d6171b39ae62d6d1b357072464851d79:function(e,t,a){e.set_val(Math.round(e.get_val()/104857.6)/10)},b7cede32286c3cdaaa1bc0d4400289cb363c07ad:function(e,t,a){e.event("post",{data:{_dest:e.get_xdo("*group").val()||e.get_xdo("*user").val()||e.get_xdo("*container").val()||e.get_xdo("*copynid").val(),name:e.get_xdo("*newname").val()},_new:e.get_xdo("*copynew").val(),xds:e.get_xdo("*copyxds").val(),copylog:e.get_xdo("*copylog").val(),subcopy:e.get_xdo("*subcopy").val()})},"38718aa8dc5c3aab591ba1770cd5fb4896833337":function(a,i,n){e.notif.disableUserChanged(),e.get("broadcast").disable(),t.location=e.tpl("{{gbl_p}}admin/impersonate/"+a.get_val("nid"))},"73e6aae5279fafc0690a693e17e5837b31c05696":function(t,a,i){t.args.log=t.get_target("sibling:log").find("input").val(),t.args.format=t.get_target("sibling:format").find("input").val(),t.args.time=t.get_target("sibling:time").find("input").val().replace("T"," ").replace("Z",""),t.args.delta=t.get_target("sibling:delta").find("input").val(),t.args.sfilter=t.get_target("sibling:sfilter").xdo.val(),e.get_func("loadxds")(t,a)},"53f10d374538eb78ab314288c5782b0a170cbc63":function(t,a,i){t.args.log=t.get_target("sibling:log").find("input").val(),t.args.format=t.get_target("sibling:format").find("input").val(),t.args.delta=t.get_target("sibling:delta").find("input").val(),t.args.sfilter=t.get_target("sibling:sfilter").xdo.val();var n=new Date(t.get_target("sibling:time").xdo.val()+"+00:00"),r=new Date(n.getTime()-1e3*t.args.delta);t.args.time=r.toISOString().replace("T"," ").replace("Z",""),e.get_func("loadxds")(t,a)},"340dd56510c5897015e49360dcc856b10dec99ac":function(t,a,i){t.args.log=t.get_target("sibling:log").find("input").val(),t.args.format=t.get_target("sibling:format").find("input").val(),t.args.delta=t.get_target("sibling:delta").find("input").val(),t.args.sfilter=t.get_target("sibling:sfilter").xdo.val();var n=new Date(t.get_target("sibling:time").xdo.val()+"+00:00"),r=new Date(n.getTime()+1e3*t.args.delta);t.args.time=r.toISOString().replace("T"," ").replace("Z",""),e.get_func("loadxds")(t,a)},"558fa2557bc7c3562abf3f6acc59f88bbf91285b":function(e,t,a,i){return"stats"==e.get_val("log")},"64c3960bdfdf9809b1c1a1298e48e6f1ff107f95":function(e,t,a,i){return"slowqueries"==e.get_val("log")},"51179f5738beb539261b9ea3b55771a3762b2228":function(e,t,a,i){return Number(e.get_val("et"))>1},"04b01b8b1ccdba0c0f8406796e467b0a206b4c4f":function(e,t,a,i){return"ERROR"===e.get_val("level")},"6dd4c6d3837b0ccb2541dfb2319eea06926120a0":function(e,t,a,i){return"WARNING"===e.get_val("level")},"9ca95732f4a765bdd97464b39f14d04ec61e3191":function(e,t,a,i){return"XDS"===e.get_val("level")},"0e8235b92aa5751929b1b26726fe2344bca5df0b":function(e,t,a,i){return"DB"===e.get_val("level")||"slow"===e.get_val("level")},a2fdd2c4789d7a01ce6b08b4af7d25fe41a88f84:function(e,t,a,i){return"SUB"===e.get_val("level")},"95db79bfc56ea802cd58efbe81885e31c038baf6":function(e,t,a,i){return"SESS"===e.get_val("level")},b2b46adc1091aca8bc2a788661bb5ef39fa69fa1:function(e,t,a,i){return"SLOCK"===e.get_val("level")},"7faaa8386be3b7a1d21c0bec4ab3468d5e036bbc":function(e,t,a,i){return"REQ"===e.get_val("level")},"09860a89d928b7981c07a524ac7e1420ddc2da5e":function(e,t,a,i){return"SLD"===e.get_val("level")},c43c61636ff3decb82472dfc949aeb142dec4a30:function(e,t,a,i){return"ES"===e.get_val("level")},ff9885c0046b2365240a4024482fd0f9d8f0d853:function(e,t,a,i){return"IMPORT"===e.get_val("op")},de354c3c7faa52bfba5aa01982631fd657f23b12:function(e,t,a,i){return"BEGIN"===e.get_val("op")},"383cc9367d025d921cd8293ef255b55dcb89db4c":function(e,t,a,i){return"COMPLETED"===e.get_val("op")},"297b3b7e8e0519ef1b676092722557baac8c2f95":function(e,t,a,i){return"WARNING"===e.get_val("op")},"9c921935b06a497b4186901b52ea8cd3ebc1b640":function(e,t,a,i){return"UPDATEUSER"===e.get_val("level")},c9d930b4ce10497f1b1a14ba5ea4e6aa4d267c73:function(e,t,a,i){return"ERROR"===e.get_val("op")},"813ba840389d71e400bf0abc5de20aa510694d46":function(e,t,a){3==e.get_val("nodesubtype")?e.addStyle("font-weight","bold"):2!=e.get_val("nodesubtype")&&e.addStyle("font-style","italic"),e.inherit("a")},"294fc6dac782c6304b2cba1dabce728bb6566c73":function(e,t,a){e.displayVal="("+e.get_val()+")"},e6228540d55059933767d6bfa9e8bcf4d170394c:function(e,t,a){e.newEvent("loadPage",{href:e.arg("href")})},e38d919fa3a3ecdc10ec14ffcede5d305b1bd700:function(t,a,i){t.displayVal=e.lookup("nt",t.get_val("type")+"."+t.get_val("subtype")).str(1)},da7357edc2a0f4bcdda2734371ec8987f4ca7417:function(e,t,a,i){return"open_node"===e.get_setting("command")&&e.get_val("status-progress")&&-1!=e.get_val("status-progress-bar")},a674b34281bc99965bea3b9a4245f22e94c71ef4:function(e,t,a){e.get_val("progress")&&e.get_target("",1).hide()},"4742d63666601b515ab368417b628425b2bcd22b":function(e,t,a){var i=e.get_arg("value")||e.get_val();"Delete"==i?e.get_target("sibling:delwarn",1).show():e.get_target("sibling:delwarn",1).hide(),{Move:1,Copy:1,Link:1,Purge:1}[i]?(e.get_target("sibling:dest",1).show(),e.get_target("sibling:destrel",1).show(),e.get_target("sibling:destldir",1).show()):(e.get_target("sibling:dest",1).hide(),e.get_target("sibling:destrel",1).hide(),e.get_target("sibling:destldir",1).hide()),"SaveXDS"==i?e.get_target("sibling:savexds",1).show():e.get_target("sibling:savexds",1).hide(),"Partition"==i?(e.get_target("sibling:partition",1).show(),e.get_target("sibling:pfilters",1).show()):(e.get_target("sibling:partition",1).hide(),e.get_target("sibling:pfilters",1).hide()),"Thumbnail"==i?e.get_target("sibling:thumbforce",1).show():e.get_target("sibling:thumbforce",1).hide(),"Exec"==i?(e.get_target("sibling:exec",1).show(),e.get_target("sibling:execinfo",1).show(),e.get_target("sibling:field",1).hide(),e.get_target("sibling:type",1).hide()):(e.get_target("sibling:execinfo",1).hide(),e.get_target("sibling:field",1).show(),e.get_target("sibling:type",1).show())},c2ad06fec6bd900ee275a7d0e1f52001d38363ac:function(e,t,a){"eval"!=e.get_val("type")&&"Exec"!=e.get_val("operation")||e.get_target("",1).show()},"07d786e932cc1907fca44d83f4be38b4b5086acf":function(e,t,a){"eval"==a.value?e.get_target("sibling:exec",1).show():e.get_target("sibling:exec",1).hide()},b6d3d1bafd0157ce1734e2a9729f2ce7404c9451:function(e,t,a){e.inherit("lightboxTitle"),"create"==e.get_setting("command")?e.displayVal="Import into: "+e.get_setting("caller").get_val("Title"):e.displayVal="Import results: "+e.get_val("name")},bbcbf8c8584c84da2f6e80cc5e49858ebed56fa1:function(e,t,a){"create"!==e.get_setting("command")&&(e.data=e.nt()),e.inherit("f_str")},"0ad61ece47b9823faed6460eb680930f0ee25e30":function(t,a,i){t.args.log="sync",t.args.time=t.get_val("synctime"),t.args.delta=Math.ceil(t.get_val("syncet")||300),e.get_func("lightbox")(t,a)},c2e50f8fda6c3ab49400ff25eca6d3a059cfc7cf:function(t,a,i){t.args.log="sync",t.args.time=t.get_val("synctime"),t.args.delta=Math.ceil(t.get_val("syncet")||3600),e.get_func("lightbox")(t,a)},"5376f4bc9b8f8198037ad6b9f9c20e6e15fe0b0b":function(t,a,i){t.args.log="sync",t.args.time=t.get_val("synctime"),t.args.delta=Math.ceil(t.get_val("syncet")||600),e.get_func("loadPage")(t,a)},e3433d322a7da8e640115b1c185aa29178a37f9e:function(t,a,i){t.args.log="sync",t.args.time=t.get_val("fsynctime"),t.args.delta=Math.ceil(t.get_val("fsyncet")||600),e.get_func("loadPage")(t,a)},"662ccc876ebc3bda0f8cc54ac80b964be76fb1e7":function(t,a,i){t.args.time=t.get_val("synctime"),t.args.delta=Math.ceil(t.get_val("syncet")||3600),e.get_func("lightbox")(t,a)},"4d5b0bfdbbe1b09a40e22a1b120fda9da9d3eb19":function(t,a,i){3==t.get_val("nodesubtype","data_full")?t.args.xds="DistrictAdministration":t.args.xds="SchoolAdministration",e.get_func("doDelete")(t,a,i)},ec2af55b5257365ebeba1ce7fa72ff4f43f61a85:function(e,t,a){e.event("loadxds",{amp:e.get_target("sibling:size").xdo.val(),max:e.get_target("sibling:max").xdo.val()})},bdf7a1318d7947268a86f6bf5856b233e14d1c03:function(e,t,a){e.set_val(0|e.get_val())},"1a37dbbf95811e09bace693a700e2c7822c28027":function(t,a,i){t.data=t.get_val()?e.dateFormat(new Date(1e3*t.get_val()),"iso"):""},d6f7324baa042fc1c18bfe2e500827a89877f689:function(e,t,a,i){return"open_node"===e.get_setting("command")&&!e.get_val("results-result")},"3113e00bf636fa7dd77f7319144b16cecfbc9cd5":function(t,a,i,n){return e.window.width()<1200},e9d5c9a82838a6799504e3a1e8b6a9ac96bf827e:function(t,a,i,n){return e.platform.tablet},"6f95fe50f875726ad9c7db0b3aebb1e9192b3f5c":function(e,t,a,i){return!bookGrades.mobile},"49f1d4eda60015df86652abc9b09c825ceeff440":function(e,t,a){e.args.stopit=e.get_xdo("*stopit").val(),e.args.runit=e.get_xdo("*runit").val(),e.args.subon=e.get_xdo("*subon").val(),e.args.suboff=e.get_xdo("*suboff").val(),e.args.tracklocks=e.get_xdo("*tracklocks").val(),e.event("loadxds")},d35ada0f8b7fd14eb5b849ff85d0b7342e14f557:function(e,t,a,i){return[!0,1].includes(e.state.get("contactmode"))&&e.has_write("editParent")},e164a0d64175fcb0d5faba833480fa23920a6799:function(t,a,i){if(t.get_val()){for(var n=t.get_val().split(","),r=[],o=0;o<n.length;o++)r.push(e.lookup("nt",n[o]).str(!0));t.set_val(r.join(","))}},"40165ac2776007ea834a1f0f051b6f02f189881a":function(e,t,a){e.get_val()&&e.set_val("+")},__stub__:{}}}),cf.module("extvideo",function(e,t,a){return{video:function(e){var t=e.data;"object"===_typeof(t)&&t.url&&(t=t.url),t.indexOf("://")>=0&&(e.arg("url",t),t=t.split("://")[1]),t.startsWith("vimeo.com")&&e.inherit("extvideo.vimeo")},player:function(e){},vimeo:function(a){var i=a.arg("url"),n=a.arg("videoid");i&&(n=i.split("vimeo.com/")[1]),a.inherit("extvideo.player");var r=function(){if(!a._embedded&&t.Vimeo){a._embedded=!0,a.dom()[0];var e={id:n,width:a.arg("width")||640};void 0!==a.arg("showtitle")&&(e.title=a.arg("showtitle")),void 0!==a.arg("byline")&&(e.byline=a.arg("byline")),i&&(e.url=i,delete e.id),new Vimeo.Player("".concat(a.id().substr(1)),e).on("ended",function(e){a.trigger("xds-extvideo-video-ended",e)})}};a.on("extvideo-do-embed",function(e){r()}),e.layout.isPhone()||e.layout.isTablet()||e.platform.native?(a.addChild({xds:{type:"fa.icon",id:"icon",icon:"play-circle",sparse:!0}}),a.addSubClass("iconmode"),a.on("click",function(t){t.trigger("xds-extvideo-video-ended"),e.links.openUrl(i||"https://vimeo.com/".concat(t.arg("videoid")))})):e.get("resourceutils").xdoReady(a,[{name:"vimeo",main:["".concat(e.gbl.lib,"pkg/node_modules/@vimeo/player/dist/player.min.js")],injectdirect:!0,initTest:function(e){return void 0!==e._vimeorsrc||(e._vimeorsrc=!0,!1)},loadedTest:function(){return!!t.Vimeo},postFunc:function(){}}]).then(function(){a.is_dead()||(void 0===a.arg("autoembed")||a.arg("autoembed"))&&r()})}}}),cf.module("fa",function(e,t,a){var i,n="6.1.1-pro",r="all.css",o="fal",s=!0,d={size:function(e,t){"string"==typeof e&&"L"===e.charAt(0).toUpperCase()?t.push("fa-lg"):(e=parseInt(e,10),isNaN(e)||t.push("fa-"+e+"x"))},fixed:"fa-fw",spin:"fa-spin",pulse:"fa-pulse",border:"fa-border",pull:function(e,t){"left"===e?t.push("fa-pull-left"):"right"===e&&t.push("fa-pull-right")},list:"fa-li",rotate:function(e,t){if("cw"===e)e=90;else if("ccw"===e)e=270;else{if(e=parseInt(e,10),isNaN(e))return;Math.abs(e)>=360&&(e%=360),e<0&&(e+=360)}t.push("fa-rotate-"+e)},flip:"fa-flip-vertical",mirror:"fa-flip-horizontal",inverse:"fa-inverse"},l={"500px":{fa_icon:"500px",fa_class:"fab",code:"f26e"},"address-book-o":{fa_icon:"address-book",fa_class:"far",code:"f2b9"},"address-card-o":{fa_icon:"address-card",fa_class:"far",code:"f2bb"},adn:{fa_icon:"adn",fa_class:"fab",code:"f170"},amazon:{fa_icon:"amazon",fa_class:"fab",code:"f270"},android:{fa_icon:"android",fa_class:"fab",code:"f17b"},angellist:{fa_icon:"angellist",fa_class:"fab",code:"f209"},apple:{fa_icon:"apple",fa_class:"fab",code:"f179"},"area-chart":{fa_icon:"chart-area",fa_class:"fas",code:"f1fe"},"arrow-circle-o-down":{fa_icon:"arrow-alt-circle-down",fa_class:"far",code:"f358"},"arrow-circle-o-left":{fa_icon:"arrow-alt-circle-left",fa_class:"far",code:"f359"},"arrow-circle-o-right":{fa_icon:"arrow-alt-circle-right",fa_class:"far",code:"f35a"},"arrow-circle-o-up":{fa_icon:"arrow-alt-circle-up",fa_class:"far",code:"f35b"},arrows:{fa_icon:"arrows-alt",fa_class:"fas",code:"f0b2"},"arrows-alt":{fa_icon:"expand-arrows-alt",fa_class:"fas",code:"f31e"},"arrows-h":{fa_icon:"arrows-alt-h",fa_class:"fas",code:"f337"},"arrows-v":{fa_icon:"arrows-alt-v",fa_class:"fas",code:"f338"},"asl-interpreting":{fa_icon:"american-sign-language-interpreting",fa_class:"fas",code:"f2a3"},automobile:{fa_icon:"car",fa_class:"fas",code:"f1b9"},bandcamp:{fa_icon:"bandcamp",fa_class:"fab",code:"f2d5"},bank:{fa_icon:"university",fa_class:"fas",code:"f19c"},"bar-chart":{fa_icon:"chart-bar",fa_class:"far",code:"f080"},"bar-chart-o":{fa_icon:"chart-bar",fa_class:"far",code:"f080"},bathtub:{fa_icon:"bath",fa_class:"fas",code:"f2cd"},battery:{fa_icon:"battery-full",fa_class:"fas",code:"f240"},"battery-0":{fa_icon:"battery-empty",fa_class:"fas",code:"f244"},"battery-1":{fa_icon:"battery-quarter",fa_class:"fas",code:"f243"},"battery-2":{fa_icon:"battery-half",fa_class:"fas",code:"f242"},"battery-3":{fa_icon:"battery-three-quarters",fa_class:"fas",code:"f241"},"battery-4":{fa_icon:"battery-full",fa_class:"fas",code:"f240"},behance:{fa_icon:"behance",fa_class:"fab",code:"f1b4"},"behance-square":{fa_icon:"behance-square",fa_class:"fab",code:"f1b5"},"bell-o":{fa_icon:"bell",fa_class:"far",code:"f0f3"},"bell-slash-o":{fa_icon:"bell-slash",fa_class:"far",code:"f1f6"},bitbucket:{fa_icon:"bitbucket",fa_class:"fab",code:"f171"},"bitbucket-square":{fa_icon:"bitbucket",fa_class:"fab",code:"f171"},bitcoin:{fa_icon:"btc",fa_class:"fab",code:"f15a"},"black-tie":{fa_icon:"black-tie",fa_class:"fab",code:"f27e"},bluetooth:{fa_icon:"bluetooth",fa_class:"fab",code:"f293"},"bluetooth-b":{fa_icon:"bluetooth-b",fa_class:"fab",code:"f294"},"bookmark-o":{fa_icon:"bookmark",fa_class:"far",code:"f02e"},btc:{fa_icon:"btc",fa_class:"fab",code:"f15a"},"building-o":{fa_icon:"building",fa_class:"far",code:"f1ad"},buysellads:{fa_icon:"buysellads",fa_class:"fab",code:"f20d"},cab:{fa_icon:"taxi",fa_class:"fas",code:"f1ba"},"calendar-check-o":{fa_icon:"calendar-check",fa_class:"far",code:"f274"},"calendar-minus-o":{fa_icon:"calendar-minus",fa_class:"far",code:"f272"},"calendar-o":{fa_icon:"calendar",fa_class:"far",code:"f133"},"calendar-plus-o":{fa_icon:"calendar-plus",fa_class:"far",code:"f271"},"calendar-times-o":{fa_icon:"calendar-times",fa_class:"far",code:"f273"},"caret-square-o-down":{fa_icon:"caret-square-down",fa_class:"far",code:"f150"},"caret-square-o-left":{fa_icon:"caret-square-left",fa_class:"far",code:"f191"},"caret-square-o-right":{fa_icon:"caret-square-right",fa_class:"far",code:"f152"},"caret-square-o-up":{fa_icon:"caret-square-up",fa_class:"far",code:"f151"},cc:{fa_icon:"closed-captioning",fa_class:"far",code:"f20a"},"cc-amex":{fa_icon:"cc-amex",fa_class:"fab",code:"f1f3"},"cc-diners-club":{fa_icon:"cc-diners-club",fa_class:"fab",code:"f24c"},"cc-discover":{fa_icon:"cc-discover",fa_class:"fab",code:"f1f2"},"cc-jcb":{fa_icon:"cc-jcb",fa_class:"fab",code:"f24b"},"cc-mastercard":{fa_icon:"cc-mastercard",fa_class:"fab",code:"f1f1"},"cc-paypal":{fa_icon:"cc-paypal",fa_class:"fab",code:"f1f4"},"cc-stripe":{fa_icon:"cc-stripe",fa_class:"fab",code:"f1f5"},"cc-visa":{fa_icon:"cc-visa",fa_class:"fab",code:"f1f0"},chain:{fa_icon:"link",fa_class:"fas",code:"f0c1"},"chain-broken":{fa_icon:"unlink",fa_class:"fas",code:"f127"},"check-circle-o":{fa_icon:"check-circle",fa_class:"far",code:"f058"},"check-square-o":{fa_icon:"check-square",fa_class:"far",code:"f14a"},chrome:{fa_icon:"chrome",fa_class:"fab",code:"f268"},"circle-o":{fa_icon:"circle",fa_class:"far",code:"f111"},"circle-o-notch":{fa_icon:"circle-notch",fa_class:"fas",code:"f1ce"},"circle-thin":{fa_icon:"circle",fa_class:"far",code:"f111"},clipboard:{fa_icon:"clipboard",fa_class:"far",code:"f328"},"clock-o":{fa_icon:"clock",fa_class:"far",code:"f017"},clone:{fa_icon:"clone",fa_class:"far",code:"f24d"},close:{fa_icon:"times",fa_class:"fas",code:"f00d"},"cloud-download":{fa_icon:"cloud-download-alt",fa_class:"fas",code:"f381"},"cloud-upload":{fa_icon:"cloud-upload-alt",fa_class:"fas",code:"f382"},cny:{fa_icon:"yen-sign",fa_class:"fas",code:"f157"},"code-fork":{fa_icon:"code-branch",fa_class:"fas",code:"f126"},codepen:{fa_icon:"codepen",fa_class:"fab",code:"f1cb"},codiepie:{fa_icon:"codiepie",fa_class:"fab",code:"f284"},"comment-o":{fa_icon:"comment",fa_class:"far",code:"f075"},commenting:{fa_icon:"comment-dots",fa_class:"far",code:"f4ad"},"commenting-o":{fa_icon:"comment-dots",fa_class:"far",code:"f4ad"},"comments-o":{fa_icon:"comments",fa_class:"far",code:"f086"},compass:{fa_icon:"compass",fa_class:"far",code:"f14e"},connectdevelop:{fa_icon:"connectdevelop",fa_class:"fab",code:"f20e"},contao:{fa_icon:"contao",fa_class:"fab",code:"f26d"},copyright:{fa_icon:"copyright",fa_class:"far",code:"f1f9"},"creative-commons":{fa_icon:"creative-commons",fa_class:"fab",code:"f25e"},"credit-card":{fa_icon:"credit-card",fa_class:"far",code:"f09d"},"credit-card-alt":{fa_icon:"credit-card",fa_class:"fas",code:"f09d"},css3:{fa_icon:"css3",fa_class:"fab",code:"f13c"},cutlery:{fa_icon:"utensils",fa_class:"fas",code:"f2e7"},dashboard:{fa_icon:"tachometer-alt",fa_class:"fas",code:"f3fd"},dashcube:{fa_icon:"dashcube",fa_class:"fab",code:"f210"},deafness:{fa_icon:"deaf",fa_class:"fas",code:"f2a4"},dedent:{fa_icon:"outdent",fa_class:"fas",code:"f03b"},delicious:{fa_icon:"delicious",fa_class:"fab",code:"f1a5"},deviantart:{fa_icon:"deviantart",fa_class:"fab",code:"f1bd"},diamond:{fa_icon:"gem",fa_class:"far",code:"f3a5"},digg:{fa_icon:"digg",fa_class:"fab",code:"f1a6"},dollar:{fa_icon:"dollar-sign",fa_class:"fas",code:"f155"},"dot-circle-o":{fa_icon:"dot-circle",fa_class:"far",code:"f192"},dribbble:{fa_icon:"dribbble",fa_class:"fab",code:"f17d"},"drivers-license":{fa_icon:"id-card",fa_class:"fas",code:"f2c2"},"drivers-license-o":{fa_icon:"id-card",fa_class:"far",code:"f2c2"},dropbox:{fa_icon:"dropbox",fa_class:"fab",code:"f16b"},drupal:{fa_icon:"drupal",fa_class:"fab",code:"f1a9"},edge:{fa_icon:"edge",fa_class:"fab",code:"f282"},eercast:{fa_icon:"sellcast",fa_class:"fab",code:"f2da"},empire:{fa_icon:"empire",fa_class:"fab",code:"f1d1"},"envelope-o":{fa_icon:"envelope",fa_class:"far",code:"f0e0"},"envelope-open-o":{fa_icon:"envelope-open",fa_class:"far",code:"f2b6"},envira:{fa_icon:"envira",fa_class:"fab",code:"f299"},etsy:{fa_icon:"etsy",fa_class:"fab",code:"f2d7"},eur:{fa_icon:"euro-sign",fa_class:"fas",code:"f153"},euro:{fa_icon:"euro-sign",fa_class:"fas",code:"f153"},exchange:{fa_icon:"exchange-alt",fa_class:"fas",code:"f362"},expeditedssl:{fa_icon:"expeditedssl",fa_class:"fab",code:"f23e"},"external-link":{fa_icon:"external-link",fa_class:"far",code:"f35d"},"external-link-square":{fa_icon:"external-link-square-alt",fa_class:"fas",code:"f360"},eye:{fa_icon:"eye",fa_class:"far",code:"f06e"},"eye-slash":{fa_icon:"eye-slash",fa_class:"far",code:"f070"},eyedropper:{fa_icon:"eye-dropper",fa_class:"fas",code:"f1fb"},fa:{fa_icon:"font-awesome",fa_class:"fab",code:"f2b4"},facebook:{fa_icon:"facebook-f",fa_class:"fab",code:"f39e"},"facebook-f":{fa_icon:"facebook-f",fa_class:"fab",code:"f39e"},"facebook-official":{fa_icon:"facebook",fa_class:"fab",code:"f09a"},"facebook-square":{fa_icon:"facebook-square",fa_class:"fab",code:"f082"},feed:{fa_icon:"rss",fa_class:"fas",code:"f09e"},"file-archive-o":{fa_icon:"file-archive",fa_class:"far",code:"f1c6"},"file-audio-o":{fa_icon:"file-audio",fa_class:"far",code:"f1c7"},"file-code-o":{fa_icon:"file-code",fa_class:"far",code:"f1c9"},"file-excel-o":{fa_icon:"file-excel",fa_class:"far",code:"f1c3"},"file-image-o":{fa_icon:"file-image",fa_class:"far",code:"f1c5"},"file-movie-o":{fa_icon:"file-video",fa_class:"far",code:"f1c8"},"file-o":{fa_icon:"file",fa_class:"far",code:"f15b"},"file-pdf-o":{fa_icon:"file-pdf",fa_class:"far",code:"f1c1"},"file-photo-o":{fa_icon:"file-image",fa_class:"far",code:"f1c5"},"file-picture-o":{fa_icon:"file-image",fa_class:"far",code:"f1c5"},"file-powerpoint-o":{fa_icon:"file-powerpoint",fa_class:"far",code:"f1c4"},"file-sound-o":{fa_icon:"file-audio",fa_class:"far",code:"f1c7"},"file-text":{fa_icon:"file-alt",fa_class:"fas",code:"f15c"},"file-text-o":{fa_icon:"file-alt",fa_class:"far",code:"f15c"},"file-video-o":{fa_icon:"file-video",fa_class:"far",code:"f1c8"},"file-word-o":{fa_icon:"file-word",fa_class:"far",code:"f1c2"},"file-zip-o":{fa_icon:"file-archive",fa_class:"far",code:"f1c6"},"files-o":{fa_icon:"copy",fa_class:"far",code:"f0c5"},firefox:{fa_icon:"firefox",fa_class:"fab",code:"f269"},"first-order":{fa_icon:"first-order",fa_class:"fab",code:"f2b0"},"flag-o":{fa_icon:"flag",fa_class:"far",code:"f024"},flash:{fa_icon:"bolt",fa_class:"fas",code:"f0e7"},flickr:{fa_icon:"flickr",fa_class:"fab",code:"f16e"},"floppy-o":{fa_icon:"save",fa_class:"far",code:"f0c7"},"folder-o":{fa_icon:"folder",fa_class:"far",code:"f07b"},"folder-open-o":{fa_icon:"folder-open",fa_class:"far",code:"f07c"},"font-awesome":{fa_icon:"font-awesome",fa_class:"fab",code:"f2b4"},fonticons:{fa_icon:"fonticons",fa_class:"fab",code:"f280"},"fort-awesome":{fa_icon:"fort-awesome",fa_class:"fab",code:"f286"},forumbee:{fa_icon:"forumbee",fa_class:"fab",code:"f211"},foursquare:{fa_icon:"foursquare",fa_class:"fab",code:"f180"},"free-code-camp":{fa_icon:"free-code-camp",fa_class:"fab",code:"f2c5"},"frown-o":{fa_icon:"frown",fa_class:"far",code:"f119"},"futbol-o":{fa_icon:"futbol",fa_class:"far",code:"f1e3"},gbp:{fa_icon:"pound-sign",fa_class:"fas",code:"f154"},ge:{fa_icon:"empire",fa_class:"fab",code:"f1d1"},gear:{fa_icon:"cog",fa_class:"fas",code:"f013"},gears:{fa_icon:"cogs",fa_class:"fas",code:"f085"},"get-pocket":{fa_icon:"get-pocket",fa_class:"fab",code:"f265"},gg:{fa_icon:"gg",fa_class:"fab",code:"f260"},"gg-circle":{fa_icon:"gg-circle",fa_class:"fab",code:"f261"},git:{fa_icon:"git",fa_class:"fab",code:"f1d3"},"git-square":{fa_icon:"git-square",fa_class:"fab",code:"f1d2"},github:{fa_icon:"github",fa_class:"fab",code:"f09b"},"github-alt":{fa_icon:"github-alt",fa_class:"fab",code:"f113"},"github-square":{fa_icon:"github-square",fa_class:"fab",code:"f092"},gitlab:{fa_icon:"gitlab",fa_class:"fab",code:"f296"},gittip:{fa_icon:"gratipay",fa_class:"fab",code:"f184"},glass:{fa_icon:"glass-martini",fa_class:"fas",code:"f000"},glide:{fa_icon:"glide",fa_class:"fab",code:"f2a5"},"glide-g":{fa_icon:"glide-g",fa_class:"fab",code:"f2a6"},google:{fa_icon:"google",fa_class:"fab",code:"f1a0"},"google-plus":{fa_icon:"google-plus-g",fa_class:"fab",code:"f0d5"},"google-plus-circle":{fa_icon:"google-plus",fa_class:"fab",code:"f2b3"},"google-plus-official":{fa_icon:"google-plus",fa_class:"fab",code:"f2b3"},"google-plus-square":{fa_icon:"google-plus-square",fa_class:"fab",code:"f0d4"},"google-wallet":{fa_icon:"google-wallet",fa_class:"fab",code:"f1ee"},gratipay:{fa_icon:"gratipay",fa_class:"fab",code:"f184"},grav:{fa_icon:"grav",fa_class:"fab",code:"f2d6"},group:{fa_icon:"users",fa_class:"fas",code:"f0c0"},"hacker-news":{fa_icon:"hacker-news",fa_class:"fab",code:"f1d4"},"hand-grab-o":{fa_icon:"hand-rock",fa_class:"far",code:"f255"},"hand-lizard-o":{fa_icon:"hand-lizard",fa_class:"far",code:"f258"},"hand-o-down":{fa_icon:"hand-point-down",fa_class:"far",code:"f0a7"},"hand-o-left":{fa_icon:"hand-point-left",fa_class:"far",code:"f0a5"},"hand-o-right":{fa_icon:"hand-point-right",fa_class:"far",code:"f0a4"},"hand-o-up":{fa_icon:"hand-point-up",fa_class:"far",code:"f0a6"},"hand-paper-o":{fa_icon:"hand-paper",fa_class:"far",code:"f256"},"hand-peace-o":{fa_icon:"hand-peace",fa_class:"far",code:"f25b"},"hand-pointer-o":{fa_icon:"hand-pointer",fa_class:"far",code:"f25a"},"hand-rock-o":{fa_icon:"hand-rock",fa_class:"far",code:"f255"},"hand-scissors-o":{fa_icon:"hand-scissors",fa_class:"far",code:"f257"},"hand-spock-o":{fa_icon:"hand-spock",fa_class:"far",code:"f259"},"hand-stop-o":{fa_icon:"hand-paper",fa_class:"far",code:"f256"},"handshake-o":{fa_icon:"handshake",fa_class:"far",code:"f2b5"},"hard-of-hearing":{fa_icon:"deaf",fa_class:"fas",code:"f2a4"},"hdd-o":{fa_icon:"hdd",fa_class:"far",code:"f0a0"},header:{fa_icon:"heading",fa_class:"fas",code:"f1dc"},"heart-o":{fa_icon:"heart",fa_class:"far",code:"f004"},"hospital-o":{fa_icon:"hospital",fa_class:"far",code:"f0f8"},hotel:{fa_icon:"bed",fa_class:"fas",code:"f236"},"hourglass-1":{fa_icon:"hourglass-start",fa_class:"fas",code:"f251"},"hourglass-2":{fa_icon:"hourglass-half",fa_class:"fas",code:"f252"},"hourglass-3":{fa_icon:"hourglass-end",fa_class:"fas",code:"f253"},"hourglass-o":{fa_icon:"hourglass",fa_class:"far",code:"f254"},houzz:{fa_icon:"houzz",fa_class:"fab",code:"f27c"},html5:{fa_icon:"html5",fa_class:"fab",code:"f13b"},"id-badge":{fa_icon:"id-badge",fa_class:"far",code:"f2c1"},"id-card-o":{fa_icon:"id-card",fa_class:"far",code:"f2c2"},ils:{fa_icon:"shekel-sign",fa_class:"fas",code:"f20b"},image:{fa_icon:"image",fa_class:"far",code:"f03e"},imdb:{fa_icon:"imdb",fa_class:"fab",code:"f2d8"},inr:{fa_icon:"rupee-sign",fa_class:"fas",code:"f156"},instagram:{fa_icon:"instagram",fa_class:"fab",code:"f16d"},institution:{fa_icon:"university",fa_class:"fas",code:"f19c"},"internet-explorer":{fa_icon:"internet-explorer",fa_class:"fab",code:"f26b"},intersex:{fa_icon:"transgender",fa_class:"fas",code:"f224"},ioxhost:{fa_icon:"ioxhost",fa_class:"fab",code:"f208"},joomla:{fa_icon:"joomla",fa_class:"fab",code:"f1aa"},jpy:{fa_icon:"yen-sign",fa_class:"fas",code:"f157"},jsfiddle:{fa_icon:"jsfiddle",fa_class:"fab",code:"f1cc"},"keyboard-o":{fa_icon:"keyboard",fa_class:"far",code:"f11c"},krw:{fa_icon:"won-sign",fa_class:"fas",code:"f159"},lastfm:{fa_icon:"lastfm",fa_class:"fab",code:"f202"},"lastfm-square":{fa_icon:"lastfm-square",fa_class:"fab",code:"f203"},leanpub:{fa_icon:"leanpub",fa_class:"fab",code:"f212"},legal:{fa_icon:"gavel",fa_class:"fas",code:"f0e3"},"lemon-o":{fa_icon:"lemon",fa_class:"far",code:"f094"},"level-down":{fa_icon:"level-down-alt",fa_class:"fas",code:"f3be"},"level-up":{fa_icon:"level-up-alt",fa_class:"fas",code:"f3bf"},"life-bouy":{fa_icon:"life-ring",fa_class:"far",code:"f1cd"},"life-buoy":{fa_icon:"life-ring",fa_class:"far",code:"f1cd"},"life-ring":{fa_icon:"life-ring",fa_class:"far",code:"f1cd"},"life-saver":{fa_icon:"life-ring",fa_class:"far",code:"f1cd"},"lightbulb-o":{fa_icon:"lightbulb",fa_class:"far",code:"f0eb"},"line-chart":{fa_icon:"chart-line",fa_class:"fas",code:"f201"},linkedin:{fa_icon:"linkedin-in",fa_class:"fab",code:"f0e1"},"linkedin-square":{fa_icon:"linkedin",fa_class:"fab",code:"f08c"},linode:{fa_icon:"linode",fa_class:"fab",code:"f2b8"},linux:{fa_icon:"linux",fa_class:"fab",code:"f17c"},"long-arrow-down":{fa_icon:"long-arrow-alt-down",fa_class:"fas",code:"f309"},"long-arrow-left":{fa_icon:"long-arrow-alt-left",fa_class:"fas",code:"f30a"},"long-arrow-right":{fa_icon:"long-arrow-alt-right",fa_class:"fas",code:"f30b"},"long-arrow-up":{fa_icon:"long-arrow-alt-up",fa_class:"fas",code:"f30c"},"mail-forward":{fa_icon:"share",fa_class:"fas",code:"f064"},"mail-reply":{fa_icon:"reply",fa_class:"fas",code:"f3e5"},"mail-reply-all":{fa_icon:"reply-all",fa_class:"fas",code:"f122"},"map-o":{fa_icon:"map",fa_class:"far",code:"f279"},maxcdn:{fa_icon:"maxcdn",fa_class:"fab",code:"f136"},meanpath:{fa_icon:"font-awesome",fa_class:"fab",code:"f2b4"},medium:{fa_icon:"medium",fa_class:"fab",code:"f23a"},meetup:{fa_icon:"meetup",fa_class:"fab",code:"f2e0"},"meh-o":{fa_icon:"meh",fa_class:"far",code:"f11a"},"minus-square-o":{fa_icon:"minus-square",fa_class:"far",code:"f146"},mixcloud:{fa_icon:"mixcloud",fa_class:"fab",code:"f289"},mobile:{fa_icon:"mobile-alt",fa_class:"fas",code:"f3cd"},"mobile-phone":{fa_icon:"mobile-alt",fa_class:"fas",code:"f3cd"},modx:{fa_icon:"modx",fa_class:"fab",code:"f285"},money:{fa_icon:"money-bill-alt",fa_class:"far",code:"f3d1"},"moon-o":{fa_icon:"moon",fa_class:"far",code:"f186"},"mortar-board":{fa_icon:"graduation-cap",fa_class:"fas",code:"f19d"},navicon:{fa_icon:"bars",fa_class:"fas",code:"f0c9"},"newspaper-o":{fa_icon:"newspaper",fa_class:"far",code:"f1ea"},"object-group":{fa_icon:"object-group",fa_class:"far",code:"f247"},"object-ungroup":{fa_icon:"object-ungroup",fa_class:"far",code:"f248"},odnoklassniki:{fa_icon:"odnoklassniki",fa_class:"fab",code:"f263"},"odnoklassniki-square":{fa_icon:"odnoklassniki-square",fa_class:"fab",code:"f264"},opencart:{fa_icon:"opencart",fa_class:"fab",code:"f23d"},openid:{fa_icon:"openid",fa_class:"fab",code:"f19b"},opera:{fa_icon:"opera",fa_class:"fab",code:"f26a"},"optin-monster":{fa_icon:"optin-monster",fa_class:"fab",code:"f23c"},pagelines:{fa_icon:"pagelines",fa_class:"fab",code:"f18c"},"paper-plane-o":{fa_icon:"paper-plane",fa_class:"far",code:"f1d8"},paste:{fa_icon:"clipboard",fa_class:"far",code:"f328"},"pause-circle-o":{fa_icon:"pause-circle",fa_class:"far",code:"f28b"},paypal:{fa_icon:"paypal",fa_class:"fab",code:"f1ed"},pencil:{fa_icon:"pencil-alt",fa_class:"fas",code:"f303"},"pencil-square":{fa_icon:"pen-square",fa_class:"fas",code:"f14b"},"pencil-square-o":{fa_icon:"edit",fa_class:"far",code:"f044"},photo:{fa_icon:"image",fa_class:"far",code:"f03e"},"picture-o":{fa_icon:"image",fa_class:"far",code:"f03e"},"pie-chart":{fa_icon:"chart-pie",fa_class:"fas",code:"f200"},"pied-piper":{fa_icon:"pied-piper",fa_class:"fab",code:"f2ae"},"pied-piper-alt":{fa_icon:"pied-piper-alt",fa_class:"fab",code:"f1a8"},"pied-piper-pp":{fa_icon:"pied-piper-pp",fa_class:"fab",code:"f1a7"},pinterest:{fa_icon:"pinterest",fa_class:"fab",code:"f0d2"},"pinterest-p":{fa_icon:"pinterest-p",fa_class:"fab",code:"f231"},"pinterest-square":{fa_icon:"pinterest-square",fa_class:"fab",code:"f0d3"},"play-circle-o":{fa_icon:"play-circle",fa_class:"far",code:"f144"},"plus-square-o":{fa_icon:"plus-square",fa_class:"far",code:"f0fe"},"product-hunt":{fa_icon:"product-hunt",fa_class:"fab",code:"f288"},qq:{fa_icon:"qq",fa_class:"fab",code:"f1d6"},"question-circle-o":{fa_icon:"question-circle",fa_class:"far",code:"f059"},quora:{fa_icon:"quora",fa_class:"fab",code:"f2c4"},ra:{fa_icon:"rebel",fa_class:"fab",code:"f1d0"},ravelry:{fa_icon:"ravelry",fa_class:"fab",code:"f2d9"},rebel:{fa_icon:"rebel",fa_class:"fab",code:"f1d0"},reddit:{fa_icon:"reddit",fa_class:"fab",code:"f1a1"},"reddit-alien":{fa_icon:"reddit-alien",fa_class:"fab",code:"f281"},"reddit-square":{fa_icon:"reddit-square",fa_class:"fab",code:"f1a2"},refresh:{fa_icon:"sync",fa_class:"fas",code:"f021"},registered:{fa_icon:"registered",fa_class:"far",code:"f25d"},remove:{fa_icon:"times",fa_class:"fas",code:"f00d"},renren:{fa_icon:"renren",fa_class:"fab",code:"f18b"},reorder:{fa_icon:"bars",fa_class:"fas",code:"f0c9"},repeat:{fa_icon:"redo",fa_class:"fas",code:"f01e"},resistance:{fa_icon:"rebel",fa_class:"fab",code:"f1d0"},rmb:{fa_icon:"yen-sign",fa_class:"fas",code:"f157"},"rotate-left":{fa_icon:"undo",fa_class:"fas",code:"f0e2"},"rotate-right":{fa_icon:"redo",fa_class:"fas",code:"f01e"},rouble:{fa_icon:"ruble-sign",fa_class:"fas",code:"f158"},rub:{fa_icon:"ruble-sign",fa_class:"fas",code:"f158"},ruble:{fa_icon:"ruble-sign",fa_class:"fas",code:"f158"},rupee:{fa_icon:"rupee-sign",fa_class:"fas",code:"f156"},s15:{fa_icon:"bath",fa_class:"fas",code:"f2cd"},safari:{fa_icon:"safari",fa_class:"fab",code:"f267"},scissors:{fa_icon:"cut",fa_class:"fas",code:"f0c4"},scribd:{fa_icon:"scribd",fa_class:"fab",code:"f28a"},sellsy:{fa_icon:"sellsy",fa_class:"fab",code:"f213"},send:{fa_icon:"paper-plane",fa_class:"fas",code:"f1d8"},"send-o":{fa_icon:"paper-plane",fa_class:"far",code:"f1d8"},"share-square-o":{fa_icon:"share-square",fa_class:"far",code:"f14d"},shekel:{fa_icon:"shekel-sign",fa_class:"fas",code:"f20b"},sheqel:{fa_icon:"shekel-sign",fa_class:"fas",code:"f20b"},shield:{fa_icon:"shield-alt",fa_class:"fas",code:"f3ed"},shirtsinbulk:{fa_icon:"shirtsinbulk",fa_class:"fab",code:"f214"},"sign-in":{fa_icon:"sign-in-alt",fa_class:"fas",code:"f2f6"},"sign-out":{fa_icon:"sign-out-alt",fa_class:"fas",code:"f2f5"},signing:{fa_icon:"sign-language",fa_class:"fas",code:"f2a7"},simplybuilt:{fa_icon:"simplybuilt",fa_class:"fab",code:"f215"},skyatlas:{fa_icon:"skyatlas",fa_class:"fab",code:"f216"},skype:{fa_icon:"skype",fa_class:"fab",code:"f17e"},slack:{fa_icon:"slack",fa_class:"fab",code:"f198"},sliders:{fa_icon:"sliders-h",fa_class:"fas",code:"f1de"},slideshare:{fa_icon:"slideshare",fa_class:"fab",code:"f1e7"},"smile-o":{fa_icon:"smile",fa_class:"far",code:"f118"},snapchat:{fa_icon:"snapchat",fa_class:"fab",code:"f2ab"},"snapchat-ghost":{fa_icon:"snapchat-ghost",fa_class:"fab",code:"f2ac"},"snapchat-square":{fa_icon:"snapchat-square",fa_class:"fab",code:"f2ad"},"snowflake-o":{fa_icon:"snowflake",fa_class:"far",code:"f2dc"},"soccer-ball-o":{fa_icon:"futbol",fa_class:"far",code:"f1e3"},"sort-alpha-asc":{fa_icon:"sort-alpha-down",fa_class:"fas",code:"f15d"},"sort-alpha-desc":{fa_icon:"sort-alpha-up",fa_class:"fas",code:"f15e"},"sort-amount-asc":{fa_icon:"sort-amount-down",fa_class:"fas",code:"f160"},"sort-amount-desc":{fa_icon:"sort-amount-up",fa_class:"fas",code:"f161"},"sort-asc":{fa_icon:"sort-up",fa_class:"fas",code:"f0de"},"sort-desc":{fa_icon:"sort-down",fa_class:"fas",code:"f0dd"},"sort-numeric-asc":{fa_icon:"sort-numeric-down",fa_class:"fas",code:"f162"},"sort-numeric-desc":{fa_icon:"sort-numeric-up",fa_class:"fas",code:"f163"},soundcloud:{fa_icon:"soundcloud",fa_class:"fab",code:"f1be"},spoon:{fa_icon:"utensil-spoon",fa_class:"fas",code:"f2e5"},spotify:{fa_icon:"spotify",fa_class:"fab",code:"f1bc"},"square-o":{fa_icon:"square",fa_class:"far",code:"f0c8"},"stack-exchange":{fa_icon:"stack-exchange",fa_class:"fab",code:"f18d"},"stack-overflow":{fa_icon:"stack-overflow",fa_class:"fab",code:"f16c"},"star-half-empty":{fa_icon:"star-half",fa_class:"far",code:"f089"},"star-half-full":{fa_icon:"star-half",fa_class:"far",code:"f089"},"star-half-o":{fa_icon:"star-half",fa_class:"far",code:"f089"},"star-o":{fa_icon:"star",fa_class:"far",code:"f005"},steam:{fa_icon:"steam",fa_class:"fab",code:"f1b6"},"steam-square":{fa_icon:"steam-square",fa_class:"fab",code:"f1b7"},"sticky-note-o":{fa_icon:"sticky-note",fa_class:"far",code:"f249"},"stop-circle-o":{fa_icon:"stop-circle",fa_class:"far",code:"f28d"},stumbleupon:{fa_icon:"stumbleupon",fa_class:"fab",code:"f1a4"},"stumbleupon-circle":{fa_icon:"stumbleupon-circle",fa_class:"fab",code:"f1a3"},"sun-o":{fa_icon:"sun",fa_class:"far",code:"f185"},superpowers:{fa_icon:"superpowers",fa_class:"fab",code:"f2dd"},support:{fa_icon:"life-ring",fa_class:"far",code:"f1cd"},tablet:{fa_icon:"tablet-alt",fa_class:"fas",code:"f3fa"},tachometer:{fa_icon:"tachometer-alt",fa_class:"fas",code:"f3fd"},telegram:{fa_icon:"telegram",fa_class:"fab",code:"f2c6"},television:{fa_icon:"tv",fa_class:"fas",code:"f26c"},"tencent-weibo":{fa_icon:"tencent-weibo",fa_class:"fab",code:"f1d5"},themeisle:{fa_icon:"themeisle",fa_class:"fab",code:"f2b2"},thermometer:{fa_icon:"thermometer-full",fa_class:"fas",code:"f2c7"},"thermometer-0":{fa_icon:"thermometer-empty",fa_class:"fas",code:"f2cb"},"thermometer-1":{fa_icon:"thermometer-quarter",fa_class:"fas",code:"f2ca"},"thermometer-2":{fa_icon:"thermometer-half",fa_class:"fas",code:"f2c9"},"thermometer-3":{fa_icon:"thermometer-three-quarters",fa_class:"fas",code:"f2c8"},"thermometer-4":{fa_icon:"thermometer-full",fa_class:"fas",code:"f2c7"},"thumb-tack":{fa_icon:"thumbtack",fa_class:"fas",code:"f08d"},"thumbs-o-down":{fa_icon:"thumbs-down",fa_class:"far",code:"f165"},"thumbs-o-up":{fa_icon:"thumbs-up",fa_class:"far",code:"f164"},ticket:{fa_icon:"ticket-alt",fa_class:"fas",code:"f3ff"},"times-circle-o":{fa_icon:"times-circle",fa_class:"far",code:"f057"},"times-rectangle":{fa_icon:"window-close",fa_class:"fas",code:"f410"},"times-rectangle-o":{fa_icon:"window-close",fa_class:"far",code:"f410"},"toggle-down":{fa_icon:"caret-square-down",fa_class:"far",code:"f150"},"toggle-left":{fa_icon:"caret-square-left",fa_class:"far",code:"f191"},"toggle-right":{fa_icon:"caret-square-right",fa_class:"far",code:"f152"},"toggle-up":{fa_icon:"caret-square-up",fa_class:"far",code:"f151"},trash:{fa_icon:"trash-alt",fa_class:"fas",code:"f2ed"},"trash-o":{fa_icon:"trash-alt",fa_class:"far",code:"f2ed"},trello:{fa_icon:"trello",fa_class:"fab",code:"f181"},tripadvisor:{fa_icon:"tripadvisor",fa_class:"fab",code:"f262"},try:{fa_icon:"lira-sign",fa_class:"fas",code:"f195"},tumblr:{fa_icon:"tumblr",fa_class:"fab",code:"f173"},"tumblr-square":{fa_icon:"tumblr-square",fa_class:"fab",code:"f174"},"turkish-lira":{fa_icon:"lira-sign",fa_class:"fas",code:"f195"},twitch:{fa_icon:"twitch",fa_class:"fab",code:"f1e8"},twitter:{fa_icon:"twitter",fa_class:"fab",code:"f099"},"twitter-square":{fa_icon:"twitter-square",fa_class:"fab",code:"f081"},unsorted:{fa_icon:"sort",fa_class:"fas",code:"f0dc"},usb:{fa_icon:"usb",fa_class:"fab",code:"f287"},usd:{fa_icon:"dollar-sign",fa_class:"fas",code:"f155"},"user-circle-o":{fa_icon:"user-circle",fa_class:"far",code:"f2bd"},"user-o":{fa_icon:"user",fa_class:"far",code:"f007"},vcard:{fa_icon:"address-card",fa_class:"fas",code:"f2bb"},"vcard-o":{fa_icon:"address-card",fa_class:"far",code:"f2bb"},viacoin:{fa_icon:"viacoin",fa_class:"fab",code:"f237"},viadeo:{fa_icon:"viadeo",fa_class:"fab",code:"f2a9"},"viadeo-square":{fa_icon:"viadeo-square",fa_class:"fab",code:"f2aa"},"video-camera":{fa_icon:"video",fa_class:"fas",code:"f03d"},vimeo:{fa_icon:"vimeo-v",fa_class:"fab",code:"f27d"},"vimeo-square":{fa_icon:"vimeo-square",fa_class:"fab",code:"f194"},vine:{fa_icon:"vine",fa_class:"fab",code:"f1ca"},vk:{fa_icon:"vk",fa_class:"fab",code:"f189"},"volume-control-phone":{fa_icon:"phone-volume",fa_class:"fas",code:"f2a0"},warning:{fa_icon:"exclamation-triangle",fa_class:"fas",code:"f071"},wechat:{fa_icon:"weixin",fa_class:"fab",code:"f1d7"},weibo:{fa_icon:"weibo",fa_class:"fab",code:"f18a"},weixin:{fa_icon:"weixin",fa_class:"fab",code:"f1d7"},whatsapp:{fa_icon:"whatsapp",fa_class:"fab",code:"f232"},"wheelchair-alt":{fa_icon:"accessible-icon",fa_class:"fab",code:"f368"},"wikipedia-w":{fa_icon:"wikipedia-w",fa_class:"fab",code:"f266"},"window-close-o":{fa_icon:"window-close",fa_class:"far",code:"f410"},"window-maximize":{fa_icon:"window-maximize",fa_class:"far",code:"f2d0"},"window-restore":{fa_icon:"window-restore",fa_class:"far",code:"f2d2"},windows:{fa_icon:"windows",fa_class:"fab",code:"f17a"},won:{fa_icon:"won-sign",fa_class:"fas",code:"f159"},wordpress:{fa_icon:"wordpress",fa_class:"fab",code:"f19a"},wpbeginner:{fa_icon:"wpbeginner",fa_class:"fab",code:"f297"},wpexplorer:{fa_icon:"wpexplorer",fa_class:"fab",code:"f2de"},wpforms:{fa_icon:"wpforms",fa_class:"fab",code:"f298"},xing:{fa_icon:"xing",fa_class:"fab",code:"f168"},"xing-square":{fa_icon:"xing-square",fa_class:"fab",code:"f169"},"y-combinator":{fa_icon:"y-combinator",fa_class:"fab",code:"f23b"},"y-combinator-square":{fa_icon:"hacker-news",fa_class:"fab",code:"f1d4"},yahoo:{fa_icon:"yahoo",fa_class:"fab",code:"f19e"},yc:{fa_icon:"y-combinator",fa_class:"fab",code:"f23b"},"yc-square":{fa_icon:"hacker-news",fa_class:"fab",code:"f1d4"},yelp:{fa_icon:"yelp",fa_class:"fab",code:"f1e9"},yen:{fa_icon:"yen-sign",fa_class:"fas",code:"f157"},yoast:{fa_icon:"yoast",fa_class:"fab",code:"f2b1"},youtube:{fa_icon:"youtube",fa_class:"fab",code:"f167"},"youtube-play":{fa_icon:"youtube",fa_class:"fab",code:"f167"},"youtube-square":{fa_icon:"youtube-square",fa_class:"fab",code:"f431"}};function c(){_$("head").find("#fa_loader").length||(_$("head").append('<link id="fa_loader" rel="stylesheet" type="text/css" href="'+e.gbl.lib+"fontawesome/"+n+"/css/"+r+"?"+n+'" />'),_$("head").append('<link id="fa_shim_loader" rel="stylesheet" type="text/css" href="'+e.gbl.lib+"fontawesome/"+n+"/css/v4-shims.min.css?"+n+'" />'))}function u(t){var a,i,n,r,c=["e_fa",t.arg("fa_class_override")||t.arg("fa_class")||o];if(a=t.icon||t.arg("icon"),s&&l[a]&&(e.get("log").deprecate('fontawesome: found legacy icon "'+a+'" -> "'+l[a].fa_icon+'" on "'+t.id()+'"'),"fab"===l[a].fa_class&&(c=["e_fa",l[a].fa_class]),a=l[a].fa_icon),!a)return!1;for(n in"fa"!==a.split("-")[0]&&(a="fa-"+a),c.push(a),d)void 0===(i=t[n])&&(i=t.arg(n)),i&&("string"==typeof(r=d[n])?c.push(r):r(i,c));return c}i={glyph:function(e){c();var t=u(e);if(!1===t)return e.exitBlank(!0);void 0===e.arg("showTitle")&&(e.showTitle=!1),e.sparse=!0,e.addClass(t),e.inherit(e.arg("ttag")||"span"),e.arg("size")&&e.addSubClass("size-".concat(e.arg("size")))},icon:function(t){t.sparse=1;var a=u(t);if(!1===a)return t.exitBlank(!0);c();var i=new e.classes.CFTag("span",{"aria-hidden":"true"},!1,a);t.arg("appendIcon")?t.preclosetag(i):t.posttag(i),t.inherit(t.arg("ttag")||"div")},iconRow:function(e){e.inherit("fa.icon")},iconTab:function(e){e.arg("selected")?e.arg("fa_class",e.arg("fa_class_selected")||"fad"):e.arg("fa_class",e.xds.fa_class||o),e.inherit("simpleTab"),e.inherit("fa.icon")},load_fa:c};var f=t.setInterval(function(){e&&e.gbl&&e.gbl.server&&(c(),t.clearInterval(f))},200);return i}),cf.module("facets",function(e,t,a){function i(t,a){var i,n,r,o,s,d,l,c,u=t.arg("split"),f=t.parent.data,g=t.arg("data");for(i in u&&(u=new RegExp("\\s*"+u.replace(/[\\\.\^\-\$\+\*\?\!\=\[\]\{\}\(\)]/,"\\$&")+"\\s*")),-1!==g.indexOf("-")&&(r=(n=g.split("-")).pop()),o=r||g,f)if(f.hasOwnProperty(i))if((d=f[i]["_"+g])?s=f[i][g]:(i=r?e.search(n,f[i]):f[i])?(d=i[o],l=i["_"+o],s=d&&l?d:void 0,d=l||d):d=[],void 0!==d&&!1!==d||(d=[]),e.is_arr(d)||(d=u?(""+d).split(u):[d],s&&(s=u?(""+s).split(u):[s])),d.length)for(c in d)d.hasOwnProperty(c)&&a(t,d[c],s);else a(t,void 0,void 0)}var n={averageFacet:function(e){e.arg("facets",[[0,50,0,"<50"],[50,60,0,"60"],[60,70,0,"70"],[70,80,0,"80"],[80,90,0,"90"],[100,1500,0,"90<"]]),e.temp.open_low=!0,e.temp.open_high=!0,e.inherit("facets.rangeFacet")},boolFacet:function(){function t(t,a,i){var n,r=!1,o="titleFalse";if(void 0===a||""===a){if(t.arg("tristate"))return void++t.temp.emptyFacet}else a&&"0"!==a&&(r=!0,o="titleTrue");void 0===t.temp.facet[r]?(t.temp.facet[r]=1,(n=t.arg(o))&&(t.temp.displays[r]=e.mlescape(n),r?t.temp.facets.splice(0,0,!0):t.temp.facets.push(!1))):++t.temp.facet[r]}return function(e){var a,n,r=e.arg("data"),o=e.temp.facets=[],s=e.temp.facet={},d=e.temp.displays={},l=e.temp.keys={};if(e.temp.emptyFacet=0,e.temp.facetLookup=e.arg("facetLookup"),i(e,t),Object.keys(s).length+(e.temp.emptyFacet?1:0)<1&&!e.sparse)return(a=e.global("filters")||e.get_setting("filter")||{})[r]&&(delete a[r],e.global("filters")||e.global("filters",a)),e.showTitle=!1,!1;for(n=e.temp.facets.length;--n>=0;)o[n]=[o[n],d[e.temp.facets[n]],s[o[n]]];e.arg("facets",o),e.arg("keys",l),e.arg("empty",e.temp.emptyFacet),e.arg("facetType")||e.arg("facetType","bool"),e.inherit("facets.buttonFacet")}}(),buttonFacet:function(){function t(e){var t=$(e.currentTarget),a=t.parents(".xds-facets-buttonFacet").xdo,i=t.parent().attr("data-val"),n=t.attr("data-val"),r=a.global("filters"),o="xds-facet-selected",s=a.arg("facetSelect");if(t.hasClass("xds-facet-all")&&(s="all"),"all"!==s&&"radio"!==s||(t.parents("ul").find("."+o).removeClass(o),r[i]=!1),!a.temp.facetArgs){a.temp.facetArgs={};for(var d=Object.entries(a.xds),l=0;l<d.length;l++){var c=_slicedToArray(d[l],2),u=c[0],f=c[1];"facet"===u.substr(0,5)&&-1===["facetSelect","facetType"].indexOf(u)&&(a.temp.facetArgs[u]=f)}}"all"===s?t.addClass(o):"all"!==s&&(void 0!==r[i]&&!1!==r[i]||(r[i]={type:a.arg("facetType")||"facet",values:{},nValues:0},a.temp.colParent&&(r[i].colParent=a.temp.colParent),a.temp.colLast&&(r[i].colLast=a.temp.colLast),a.temp.split&&(r[i].split=a.arg("split")),r[i]=$.extend(!0,r[i],a.temp.facetArgs)),t.hasClass(o)?(t.hasClass("xds-facet-empty")?delete r[i].empty:(delete r[i].values[n],--r[i].nValues),t.removeClass(o),t.attr("aria-checked","false"),r[i].empty||r[i].nValues||t.parents("ul").find(".xds-facet-all").addClass(o)):(t.hasClass("xds-facet-empty")?r[i].empty=1:(r[i].values[n]=1,++r[i].nValues),t.addClass(o),t.attr("aria-checked","true"),t.parents("ul").find(".xds-facet-all").removeClass(o))),a.parents(".xds-facets-facet").trigger("xds-facet",r[i])}function a(e){e.find("li").on("click",t)}return function(t){var i,n,r,o=t.arg("facets"),s=t.arg("keys")||{},d=t.global("filters")||t.get_setting("filter")||{},l='<i class="xds-facet-marker far fa-times"></i>',c=t.arg("split"),u=t.arg("data");if(t.inherit("facets.facetDefault"),c&&(c=t.temp.split=new RegExp("\\s*"+c.replace(/[\\\.\^\-\$\+\*\?\!\=\[\]\{\}\(\)]/,"\\$&")+"\\s*")),-1!==u.indexOf("-")&&(t.temp.colParent=u.split("-"),t.temp.colLast=t.temp.colParent.pop()),d[u]&&(d[u].values||(d[u].values={}),d[u].nValues||(d[u].nValues=0),t.temp.colParent&&(d[u].colParent=t.temp.colParent),t.temp.colLast&&(d[u].colLast=t.temp.colLast),c&&(d[u].split=t.arg("split")),d[u].keys)){for(i in d[u].keys)d[u].keys.hasOwnProperty(i)&&s[i]&&(d[u].values[s[i]]=1,++d[u].nValues);delete d[u].keys}t.global("filters")||t.global("filters",d),t.arg("mode")&&t.addClass("xds-simpleFacet-"+t.arg("mode")),r='<ul data-val="'+(t.temp.colLast||u)+'"><li tabindex="0" role="checkbox" aria-label="'+e.lang("All")+'" class="xds-facet-all '+(d[u]?"":"xds-facet-selected")+'"><span class="xds-facet-text">'+e.lang("All")+"</span></li>",t.arg("empty")&&t.arg("emptyFacet")&&(r+='<li class="xds-facet-empty'+(d[u]&&d[u].empty?" xds-facet-selected":"")+'"  tabindex="0"><span class="xds-facet-text">'+e.lang(t.arg("emptyFacet"))+"</span>"+l+"</li>");for(var f=d[u]&&e.clone(d[u].values)||{},g=Object.keys(f),p=0;p<g.length;p++){var h=g[p];f[e.mlescape(h)]=1}for(i in o)if(o.hasOwnProperty(i)){var m=f[(n=o[i])[0]];r+='<li data-val="'+e.mlescape(n[0])+'" aria-label="'+e.tpl(e.lang("{{title}} value {{dataval}}"),{title:t.arg("title"),dataval:e.mlescape(n[0])})+'" class= "'+(m?"xds-facet-selected":"")+'" role="checkbox" aria-checked="'+(m?"true":"false")+'" tabindex="0"><span class="xds-facet-text" role="presentation">'+e.get("sanitizer").sanitize(n[1])+"</span>"+l+"</li>"}t.posttag(r+"</ul>").ready(a)}}(),componentNameListFacet:function(t){var a,i,n,r,o,s,d,l,c=t.parent.data||{};n=(i=t.arg("data").split("-")).pop(),a=i.pop(),0===i.length&&(i=void 0),d=e.get_type("componentName").getBuildFunc(t);for(var u=Object.values(c),f=0;f<u.length;f++){var g=u[f];if((o=i?e.search(i,g):g)&&(!(r=a?o[a]:o[n])||e.is_arr(r)||r["_"+n]||("string"==typeof r?(r=JSON.parse(r),e.is_arr(r)&&(o[a]={},o[a][n]=r)):r="object"===_typeof(r)?r[n]:void 0),e.is_arr(r))){for(l=[],s=0;s<r.length;s++)l.push(d(r[s]));(a?o[a]:o)["_"+n]=l}}t.inherit("facets.simpleFacet")},elapsedFacet:function(){function e(e,t){var a,i,n,r=!1,o=!1,s=e.temp.facets,d=e.temp.dateranges;for(a=0;a<s.length;a++)i=s[a],n=d[a],i[0]>=t[0]&&!1===r&&(r=n),(i[1]>=t[1]||!1===i[1])&&!1===o&&(o=n);return[r[0],o[1]]}return function(t){var a=t.temp.now=(new Date).getTime(),i=t.arg("future")||t.future;t.temp.direction_multi=i?1:-1,t.temp.facets=t.arg("facets")||t.facets||[[0,25,0,"Never"],[25,50,0,"1 month"],[50,75,0,"1 week"],[75,100,0,"1 day"]],t.temp.dateranges=t.arg("dateranges")||t.dateranges||[[0,a+26784e5*t.temp.direction_multi],[a+26784e5*t.temp.direction_multi,a+6048e5*t.temp.direction_multi],[a+6048e5*t.temp.direction_multi,a+864e5*t.temp.direction_multi],[a+864e5*t.temp.direction_multi,!1]],t.arg("max")||t.arg("max",100),t.arg("min")||t.arg("min",0),t.arg("step")||t.arg("step",25),t.arg("facets")||t.arg("facets",t.temp.facets),t.arg("facetType","daterange").arg("rangeFunc",e).inherit("facets.rangeFacet")}}(),facet:function(){var a=function(t){var a,i=t.get_setting("filter")||{};if(t.temp.noSave||(a=e.links.getnid()),a&&!t.get_setting("_f")){if("{"!==(a=decodeURI(a)).substr(0,1))try{a=atob(a)}catch(e){}try{if(a=JSON.parse(a),e.is_obj(a))if(a._f){for(var n=Object.entries(a),r=0;r<n.length;r++){var o=_slicedToArray(n[r],2),s=o[0],d=o[1];t.set_setting(s,d)}i=a.filter}else t.set_setting("filter",i=a)}catch(e){}}else t.get_setting("filter")||(i=void 0,t.set_setting("filter",void 0));t.global("filters",i),t.arg("filters",i),t.arg("useStateKey")&&t.state.set(t.arg("useStateKey"),"object"==_typeof(a)?a:i)};function i(e){e.preventDefault(),e.arg("useStateKey")?(a(e),e.state.set(e.arg("useStateKey"),n.getSettingsObject(e))):e.newEvent("redraw")}return function(e){var n=e.arg("noSave");e.xds.data=e.search(e.arg("source")),void 0===n&&(n=void 0!==(n=e.get_setting("facetSave"))?!n:!e.build.isPageReload),e.temp.noSave=n,a(e),e.on("xds-facet","facets.faceted"),e.on(t,"hashchange",i),e.sparse=!0,e.showTitle=!0,e.attr("role","search")}}(),facetDefault:function(t){var a=t.arg("title")||t.searchXds(t.parent.source+"-"+t.arg("data")).title||"";a.length&&(t.posttag(e.html.make("div",a,{role:"heading","aria-label":e.tpl(e.lang("Filter by {{title}}"),{title:a}),"aria-level":2},"xds-facet-header")),t.showTitle=!1)},faceted:function(e,t,a){var i;e.isDefaultPrevented()||((i=n.getSettingsObject(e)).redrawPath=e.temp.path||!1,e.event("facets.saveFacets"),e.arg("useStateKey")?e.state.set(e.arg("useStateKey"),i):e.newEvent("redraw",i))},facetItem:function(e){e.tag("li"),e.arg("selected")&&e.addClass("xds-facet-selected")},filter:function(){function t(e,t,a){var i=e.val();e.temp.val!==i&&(clearTimeout(e.temp.timer),e.temp.timer=setTimeout(function(){!function(e){var t,a=e.val();a.length?(e.global("filterGlobal",a),e.arg("filterType")&&e.global("filterType",e.arg("filterType"))):(e.set_setting("filterGlobal",void 0),e.set_setting("filterType",void 0),e.deleteGlobal("filterGlobal"),e.deleteGlobal("filterType")),(t=e.dom().parents(".xds-facets-facet")).length?t.trigger("xds-facet",{filter:a}):(e.arg("filterType")&&e.state.set("filterType",e.arg("filterType")),e.state.set("filterGlobal",a||void 0))}(e)},400)),e.temp.val=i}return function(a){a.inherit("dd.facet",{defaultValue:a.get_setting("filterGlobal")||a.state.data.filterGlobal||"",placeholder:a.arg("placeholder")||"","aria-label":a.arg("aria-label")||e.lang("Type to search")}),a.dd.loadList=e.noop,a.val=function(){return a.dd.searchValue()},a.on("keyup",t),a.sparse=!0}}(),getSettingsObject:function(t){var a,i,n,r,o,s=t.get_xdo(t.arg("target"));if(s?a=s.path_include||s.cssPath:(a=t.arg("target"),s=e.get_obj(t.find("."+t.xds.target,1))),!s)return{};t.temp.path=a,t.temp.target=s,s&&"function"==typeof s.ref&&(t.temp.target=s.ref()),i=s.get_setting(),o=!1,r=(n={filter:t.global("filters"),filterGlobal:t.global("filterGlobal"),filterType:t.global("filterType"),sort:i.sort,sortReverse:i.sortReverse,sortType:i.sortType,sortDirection:i.sortDirection,sortCol:i.sortCol,sortBy:i.sortBy}).filter||{};for(var d=Object.entries(r),l=0;l<d.length;l++){var c=_slicedToArray(d[l],2),u=c[0],f=c[1];"facet"!==f.type||f.nValues||f.empty?o=!0:delete r[u]}return o||delete n.filter,n},listFacet:function(t){!function t(a,i){var n,r,o,s,d,l=[];for(o in a)if(a.hasOwnProperty(o)){if(void 0===(d=a[o])["_"+i]){for(n=[],r=i.split("-").reverse();r.length&&void 0!==d;)if(s=r.pop(),0===r.length)void 0!==(d=void 0!==d["_"+s]?d["_"+s]:d[s])&&(e.is_arr(d)||(d=[d]),n=n.concat(d));else if(d=d[s],e.is_arr(d)){n=n.concat(t(d,r.join("-"))),d["_"+r.reverse().join("-")]=n;break}a[o]["_"+i]=n}l=l.concat(a[o]["_"+i])}return l}(t.parent.data,t.arg("data")),t.inherit("facets.simpleFacet")},rangeFacet:function(){function t(e,t,a){var i,n,r=e.global("filters"),o=!1,s=e.get_arg("values"),d=e.temp.colLast||e.arg("data"),l=e.temp.facets;e.arg("rangeFunc")?s=e.arg("rangeFunc")(e,s):(s=s.map(function(e){return parseInt(e,10)}),i=parseInt(e.arg("min"),10),n=parseInt(e.arg("max"),10),s[0]===i&&s[1]===n&&(o=!0),e.temp.open_low&&s[0]<=i&&(s[0]=parseInt(l[0][0],10)),e.temp.open_high&&s[1]>=n&&(s[1]=parseInt(l[l.length-1][1],10))),s={type:e.arg("facetType")||"range",value:s},o?delete r[d]:(r[d]=s,e.temp.colParent&&(r[d].colParent=e.temp.colParent),e.temp.colLast&&(r[d].colLast=e.temp.colLast)),e.parents(".xds-facets-facet").trigger("xds-facet",r[d])}return function(a){var i,n,r,o,s,d,l,c,u,f,g,p,h;if(a.renderThis()){if(i=a.parent.data||{},n=a.arg("data"),p=0,"string"==typeof(u=a.arg("facets")))try{u=JSON.parse(u)}catch(e){u=void 0}if(a.temp.facets=u,-1!==n.indexOf("-")&&(a.temp.colParent=n.split("-"),a.temp.colLast=a.temp.colParent.pop()),r=a.temp.colLast||n,f=u&&u.length,a.arg("counters")||!a.sparse){for(var m=Object.values(i),v=0;v<m.length;v++){var b=m[v];if(void 0!==(s=(o=a.temp.colLast?e.search(a.temp.colParent,b):b)?o["_"+r]||o[r]:void 0)){if(!a.arg("counters")){++p;break}for(g=f;g--&&!(s>=u[g][0]&&s<u[g][1]&&u[g][2]++););++p}}if(!a.sparse&&!p)return!1}for(g=0,h="";g<f;)h+=e.html.make("span",u[g][3],"","xds-facet-item"),g++;void 0===a.arg("min")&&(u&&(1===u.length?(d=u[0][0],c=(l=u[0][1])-d):(u[0][1]-u[0][0]==u[1][1]-u[1][0]?d=u[0][0]:(d=u[0][1],a.temp.open_low=!0),u[u.length-1][1]-u[u.length-1][0]==u[1][1]-u[1][0]?l=u[u.length-1][1]:(l=u[u.length-1][0],a.temp.open_high=!0),c=(l-d)/(u.length-(a.temp.open_low?1:0)-(a.temp.open_high?1:0)))),a.arg("min",d),a.arg("max",l),a.arg("step",c)),a.preclosetag(e.html.div(h,"xds-facet-list")),a.inherit("facets.facetDefault").inherit("facets.slider").on("xds-slider",t)}}}(),resetFacets:function(t,a,i){var n,r,o=t.parents(".xds-facets-facet").find(".xds-is-server-facet");if(o.length){for(e.links.setHash(""),n=$.extend(!0,{target:"xds-cont"},e.get_func("zooms.funcs.getURLParameter")(t,void 0,!0)),r=0;r<o.length;r++)delete n[$(o[r]).xdo.arg("param")];t.newEvent("loadxds",n)}else t.newEvent("redraw",{reset:!0})},saveFacets:function(e){},serverFacet:function(){function t(e){var t,a,i=$(e.e.target).xdo,n=e.temp.param_val.slice();e.e.stopPropagation(),"mousedown"!==e.e.type?"facets.facetItem"===i.arg("type")&&(i.arg("select_empty")||i.arg("select_exclusive")?(e.find(".xds-facets-facetItem").each(function(e,t){var a=$(t).xdo;a.arg("selected",0),a.removeClass("xds-facet-selected")}),i.arg("selected",1),i.addClass("xds-facet-selected"),n=[i.arg("value")]):-1!==(a=n.indexOf(""+i.arg("value")))?(i.arg("selected",0),i.removeClass("xds-facet-selected"),n.splice(a,1)):(i.arg("selected",1),i.addClass("xds-facet-selected"),n.push(""+i.arg("value")),void 0!==e.temp.empty_value&&-1!==(a=n.indexOf(""+e.temp.empty_value))&&n.splice(a,1)),""===(n=n.join(","))&&(n=void 0),n!==(e.temp.param_val.join(",")||"")&&(t=Object.assign({target:"xds-cont"},e.temp.param_func(e,void 0)),e.temp.param_val=t[e.temp.param]=n,e.arg("trigger")?e.trigger(e.arg("trigger"),t):e.newEvent("loadxds",t))):e.e.preventDefault()}return function(a){var i,n,r,o=!1,s=!1,d=a.arg("value_field")||"value",l=a.arg("display_field")||"title",c=1,u=[];a.temp.param_func=a.arg("param_func")?e.get_func(a.arg("param_func")):function(t,a){return e.get_func("zooms.funcs.getURLParameter")(t,a,!0)},a.temp.param=a.arg("param")||a.xds.id,n=a.temp.param_func(a,a.temp.param),n=a.temp.param_val=n&&""!==n?n.split(","):[],i=a.arg("state")?a.state.get(a.arg("state"))||{}:a.get_val()||{};for(var f=Object.values(i),g=0;g<f.length;g++){var p=f[g];p&&(e.is_obj(p)?(p.value=p[d],p.title=p[l]):p={value:p,title:p},void 0!==p.title&&void 0!==p.value&&(r=-1!==n.indexOf(""+p.value),p.select_empty&&(r=r||!n.length,a.temp.empty_value=p.value),p.select_invert&&(r=!r),p.selected=r,u.push(p)))}u.length>1&&a.arg("facetSort")&&(u=e.sort({sortType:a.arg("facetSort"),sortBy:"title"},u,a));for(var h=Object.values(u),m=0;m<h.length;m++){var v=h[m];a.addChild($.extend(!0,{id:"option-"+c++,type:"facets.facetItem",selected:v.selected,_server:!0},v)),r&&!v.select_empty&&(s=!0)}var b=!0,_=!1,y=void 0;try{for(var x,w=(a.xds._children||[]).values()[Symbol.iterator]();!(b=(x=w.next()).done);b=!0){var C=x.value;"sys"===C.type||C._server||(r=-1!==n.indexOf(""+C.value),C.select_empty?(r=r||!n.length,a.temp.empty_value=C.value):o=!0,C.select_invert&&(r=!r),C.selected=r,r&&!C.select_empty&&(s=!0))}}catch(e){_=!0,y=e}finally{try{b||null==w.return||w.return()}finally{if(_)throw y}}if(u.length<2&&!o&&!s)return a.exitBlank(!0);a.sparse=!0,a.arg("mode")&&a.addClass("xds-simpleFacet-"+a.arg("mode")),a.addClass("xds-is-server-facet"),a.inherit("facets.facetDefault"),a.posttag("<ul>"),a.preclosetag("</ul>"),a.on("click",t),s&&a.set_setting("filterServer",!0)}}(),simpleFacet:function(){function t(t,a,i){var n,r;void 0!==a?(n=e.mlescape(""+a).toLowerCase(),t.temp.facetLookup?(r=e.lookup(t.temp.facetLookup,a))&&r.val()==a&&(t.temp.displays[n]=r.str()):t.temp.displays[n]=a,a=e.is_str(a)?n:a,i&&(t.temp.keys[i]=n),void 0===t.temp.facet[a]?(t.temp.facet[a]=1,t.temp.facets.push(a)):t.temp.facet[a]+=1):++t.temp.emptyFacet}return function(a){var n,r,o=a.arg("data"),s=a.temp.facets=[],d=a.temp.facet={},l=a.temp.displays={},c=a.temp.keys={};if(a.temp.emptyFacet=0,a.temp.facetLookup=a.arg("facetLookup"),i(a,t),s.length+(a.temp.emptyFacet?1:0)<2&&!a.sparse)return(n=a.global("filters")||a.get_setting("filter")||{})[o]&&(delete n[o],a.global("filters")||a.global("filters",n)),a.showTitle=!1,!1;for(s=a.temp.facets=e.sort({sortType:a.arg("facetSort"),displays:l,counts:d},s,a),r=a.temp.facets.length;--r>=0;)s[r]=[s[r],l[a.temp.facets[r]],d[s[r]]];a.arg("facets",s),a.arg("keys",c),a.arg("empty",a.temp.emptyFacet),a.inherit("facets.buttonFacet")}}(),slider:function(){function t(t){var a,i=[t.arg("min"),t.arg("max")],n=t.global("filters")||t.get_setting("filters")||{};n[t.arg("data")]&&(i=n[t.arg("data")].value||i),t.global("filters")||t.global("filters",n),a={range:!0,min:t.arg("min"),max:t.arg("max"),values:i,slide:function(e,a){clearTimeout(t.temp.timer),t.temp.timer=setTimeout(function(){t.dom().trigger("xds-slider",a)},200)}},e.get_func("enableTouchDraggable")&&(a.stop=a.slide,delete a.slide,e.get_func("enableTouchDraggable")(t)),t.find(".xds-rangeFacet-slider").slider(a)}return function(a){a.posttag(e.html.div("","xds-rangeFacet-slider")).ready(t)}}(),filters:{bool:function(e,t,a,i,n,r){return++r.len,!(!e.empty||n&&0!==n.length)||!e.nValues||!(!e.values[!0]||!a||"0"===a)||!(!e.values[!1]||a&&"0"!==a)||void 0},daterange:function(t,a,i,n,r,o){var s=0;void 0!==i&&(s=e.parseDate(i).getTime()),++o.len;var d=t.value;if(s>=d[0]&&(s<=d[1]||!1===d[1]))return!0},facet:function(t,a,i,n,r,o){if(t.empty&&(++o.len,!r||0===r.length))return!0;if(t.nValues&&(o.len+=t.nValues,i)){"string"==typeof t.split&&(t.split=new RegExp("\\s*"+t.split.replace(/[\\\.\^\-\$\+\*\?\!\=\[\]\{\}\(\)]/,"\\$&")+"\\s*")),i=t.split&&"string"===n?i.split(t.split):"object"===n?i:[i];var s=!0,d=!1,l=void 0;try{for(var c,u=i.values()[Symbol.iterator]();!(s=(c=u.next()).done);s=!0)for(var f=c.value,g=Object.keys(t.values),p=0;p<g.length;p++){var h=g[p];if(("string"===n||"object"===n&&"string"==typeof f)&&(f.toLowerCase()===h.toLowerCase()||f.toLowerCase()===e.mlescape(h).toLowerCase())||r==h)return!0}}catch(e){d=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(d)throw l}}}},range:function(e,t,a,i,n,r){++r.len;var o=e.value;if(a=parseFloat(a),o[0]<=a&&a<o[1]||o[0]===o[1]&&o[0]===a)return!0}},utils:{get_row_values:i}};return n}),cf.module("feeds",function(e,t,a,i){e.css,e.$css;var n=e.html,r=(e.gbl,"xds-feeds-feedItem-unread"),o={events:{changePinCommands:function(t,a,i){for(var n,r=e.get_node(t.nid()),o=r.length,s=".feedItem-right-footer-commands-";o--;)(n=r[o].id(1)).find(s+"cmd2").show(),n.find(s+"cmd2a").hide()},toggleAttendanceHistoryExpand:function(e,t,a){var i=e.parents(".feedItem");i.parent().find(".xds-threadid-"+e.rnode.thread)[i.hasClass("xds-expandHistory")?"removeClass":"addClass"]("xds-expandHistory")},reply:function(t){var a=t.global("xdsReplyResponse");if(e.layout.isPhone()){var i={xds:t.get_arg("xds"),xdsr:a,noPath:!0,loadPage:!0,command:"create",nid:t.get_val("nid","node"),threadid:t.get_val("thread"),replyto:t.nid(),replytouser:t.get_val("createid")};t.newEvent("loadPage",i)}},insertReply:function(t,a,i){var n=t.dom().parents(".feedItem"),r=t.caller();0===n.length&&(n=t.dom().parents(".xds-feeds-feedItem")),0===n.length&&(n=t.dom()),r&&r.global("xdsReplyLoadXDS")?t.args.xds=r.global("xdsReplyLoadXDS"):t&&t.global("xdsReplyLoadXDS")?t.args.xds=t.global("xdsReplyLoadXDS"):t.args.xds="feedItem",n.removeClass("xds-feedItem-reply-open"),n.removeClass("xds-feedItem-reply-open"),n.removeClass("xds-feeds-feedItem-last"),n.parent().hasClass("xds-cont")&&(n=n.parent()),t.args.target=n,t.args.updateThreads=!0,e.get_func("loadxds")(t,a,i)}},feed:function(t){!t.arg("noScroll")&&!t.get_setting("serverPage")&&"prepend"!=t.get_setting("append")&&t.infiniteScroll(),t.arg("annotator")&&e.get_func(t.arg("annotator"))&&e.get_func(t.arg("annotator"))(t),t.global("wysiwyg-feedSafe",t.arg("wysiwyg-feedSafe")||!0),t.global("sanitizer-rule",t.arg("sanitizer-rule")||"feed"),t.ready(function(){t.trigger("xds-feeds-feed-loaded")}),t.attr("role",t.arg("role")||"main")},feedEntry:function(e){var t=function(e,t){var a=e.find(".xds-feedEntryType").not(".xds-blank"),i=e.find(".xds-feedEntryAux");a.length>0||i.length>0?(a.first().trigger("click"),t.parent().find(".xds-noContent").hide()):t.hide()};e.preclosetag(n.div("","xds-feedEntry-loader")).ready(t).on("ajax_post",t)},feedEntryType:function(t){t.attr("role","button"),t.attr("aria-label",e.tpl(e.lang("Create New {{type}}"),{type:t.arg("title")})),t.has_write(t.arg("xds"))?t.inherit("icon").on("click",function(e,t){var a={command:e.arg("command")||"create",xds:e.arg("xds"),xdsr:e.arg("xdsr"),rxdstype:e.arg("rxdstype")||"ref",target:t.parents(".xds-feedEntry").find(".xds-feedEntry-loader"),model:e.global("modelNid")};e.arg("nodetype")&&(a.nodetype=e.arg("nodetype")),e.event("loadxds",a),t.siblings(".xds-feedEntry-active").removeClass("xds-feedEntry-active"),t.addClass("xds-feedEntry-active")}):t.exitBlank()},feedItemRight:function(e){},feedItem:function(t){var a=t.get_val("thread");t.xds.markUnread===i&&(t.xds.markUnread="unread");var n="xds-threadid-"+a;t.attr("data-nid",t.nid()),t.attr("data-thread",a),a&&t.addClass(n),t.addClass("xds-feedItem-type-"+e.get_nt(t.rnode).replace(".","_")),t.get_val("_threadlastitem")&&t.addClass("xds-feeds-feedItem-last"),t.delegate("deleted",function(e){if(e.get_val("_threadhead")){var t=e.get_val("thread");e.find(".xds-threadid-"+t,1).each(function(){$(this).attr("id")!==e.path&&$(this).find(".xds-confirmDelete-confirm").find(".xds-button").trigger("click")})}}),t.delegate("edited",function(t){var a=e.gen_url({nid:t.node.nid,xds:t.xds_full.id,thread:t.get_val("thread")||t.nid(),_t:Date.now()}),i=t.cssPath.split("-");e.get_data(a,function(e){for(i.shift();i.length>0;)e=e[i.shift()];for(var a in e)if(e.hasOwnProperty(a)&&e[a].nid==t.nid()){delete t.data.feedItemBodyRendered,t.state.set("updatedContents",e[a]);break}},"allowRichDetection")}),t.get_val("unread")&&t.xds.markUnread&&(t.addClass(r),t.addClass(e.css.unread));var o=!1;switch(t.nt()){case e.nt.Document.Assignment():case e.nt.Document.Lesson():case e.nt.Message.LessonSummary():o=!0}(t.get_val("nid")==t.get_val("thread")||o)&&t.addClass("xds-feeds-feedItem-threadRoot"),t.get_setting("showUnread")&&t.get_val("unread")&&!t.global("foundUnread")&&t.ready(function(){t.dom().length>0&&t.dom()[0].scrollIntoView({behavior:"smooth",block:"center"})})},feedItemBody:function(e){var t=e.state.get("updatedContents");!function(e,t){if(t){var a=e.name().split("-"),i=t;for(a.shift();a.length>0;){var n=a.shift();if(!i[n]){a=[],i=!1;break}i=i[n]}for(var r in i||e.exitBlank(),i)e.data[r]=i[r],e.set_val(r,i[r]),e.map(r,i[r])}}(e,t);var a=e.get_val(i,"rnode")?"rnode":"node",n=e.get_val("feedItemBodyRendered",a);if(n&&n!==e.name())return!1;e[a].feedItemBodyRendered=e.name(),e.inherit(e.arg("inherit")||"div")},stateHooked:function(e){e.sparse=!0},feedItemThreader:function(t){var a=t.get_val("thread"),i=t.get_val("_threadlen"),n="xds-threadid-"+a;i>4&&a===t.nid()?(t.displayVal=t.tpl(t.arg("title")),t.showTitle=!1,t.ready(function(){var a=t.find("."+n,1),i=a.length,o=!1,s=0;for(s=0;s<i;s++)if(s>0&&s<i-3){if($(a[s]).hasClass(e.css.unread)||$(a[s]).hasClass(r)||$(a[s]).hasClass("xdl-search-resultItem")){o=!0;break}$(a[s]).addClass("xds-feedItemThreader-hidden"),o=!0}(!o||s<=1)&&t.dom().hide()}),t.on("click",function(e,t){for(var a=e.find("."+n+".xds-feedItemThreader-hidden",1),i=a.length,r=0;r<i;r++)$(a[r]).removeClass("xds-feedItemThreader-hidden");t.hide()})):t.exitBlank()}};for(var s in o)e.types[s]=o[s];return o}),cf.module("files",function(e,t,a){var i,n=e.css,r=e.gbl,o=!1,s={square:[64,128,192],aspectW:[100,250,640,1024]};if(e.init(function(){i=[e.nt.Document.LiveDoc(),e.nt.Document.LiveDocGoogle(),e.nt.Document.LiveDocMicrosoft()]}),t.cordova&&(t.FileTransfer||t.fetch)&&t.cordova.plugins&&t.cordova.plugins.fileOpener2&&navigator.userAgent.indexOf("Android")<0){t.requestFileSystem(t.TEMPORARY,5242880,function(t){t.root.createReader().readEntries(function(e){e.forEach(function(e){e.isFile&&e.remove()})},function(t){e.log.debug(t)})});var d=function(a,i,n){t.EdsbyReactBridge&&t.EdsbyReactBridge.openFile||(navigator.userAgent.indexOf("Android")>=0?(cordova.InAppBrowser.open(a.toURL(),"_blank"),n&&n.remove()):cordova.plugins.fileOpener2.open(a.toURL(),i.ContentType,{error:function(){n&&n.remove(),n=e.dialog(e.lang("An error has occurred."))},success:function(){n&&n.remove()}}))},l=function(a,i){var n=a.data;i&&(n=i),Array.isArray(n)&&(n=n[0]),n.file&&(n=n.file),a.get_val("file")&&(n=a.get_val("file")),Array.isArray(n)&&(n=n[0]),n.thumb&&(n=n.thumb),Array.isArray(n)&&(n=n[0]),n.Content&&(n=n.Content),n.download&&(n=n.download);var r=n.nid||a.nid(),o=e.dialog(e.lang("Downloading, please wait..."));n.ContentSize&&t.requestFileSystem(t.PERSISTENT,n.ContentSize,function(i){var s=i.root.createReader(),l=r+"_"+n.ContentName.replace(/[\s,\/#!$%\^&\*;:{}=`~()]/g,"_");s.readEntries(function(s){var u=!1;s.forEach(function(e){e.isFile&&e.name==l&&(d(e,n,o),u=!0)}),u||i.root.getFile(l,{create:!0,exclusive:!1},function(i){t.fetch?i.createWriter(function(e){e.seek(0);fetch(c.getImageDownloadUrl(a,r),{credentials:"include"}).then(function(t){var a=t.body.getReader();return function t(){return a.read().then(function(a){if(e.seek(e.length),a.value){var i=a.done;return function(e,t){return new Promise(function(a,i){e.onwriteerror=function(e){i(e)},e.onwriteend=function(){a()},e.write(t)})}(e,new Blob([a.value],{type:"octet/stream"})).then(function(){return i||t()})}if(a.done)return!0})}()}).then(function(e){d(i,n,o)})},function(t){e.log.debug(t)}):t.FileTransfer&&(new FileTransfer).download(c.getImageDownloadUrl(a,r),i.toURL(),function(e){d(e,n.ContentType,o)},function(t){o&&o.remove(),o=e.dialog(e.lang("An error has occurred."))})},function(){o=e.dialog(e.lang("An error has occurred."))})},function(){})})};o=function(e,a){return new Promise(function(i,n){t.cordova&&t.cordova.plugins&&cordova.plugins.photoLibrary?cordova.plugins.photoLibrary.requestAuthorization(function(){l(e,a),i()},function(e){n(e)},{read:!0,write:!0}):(l(e,a),i())})}}var c={getTargetSizeAndAspectImageUrl:function(t,a,i){var n=t.get_val("MaxSize"),r=t.arg("targetWidth")||t.global("width")||t.arg("width")||n[1];"string"==typeof r&&r.indexOf("%")>=0&&(r=n[1]),t.arg("maxWidth")&&(r=parseInt(t.arg("maxWidth"))),r>1024&&(r=1024);var o=!1,s=!1;if(e.settings.checkdefs)for(var d=[1024,640,250,100],l=0;l<d.length;l++){var u=d[l];if(u<n[1]){r=u,(o=c._getFilePublicThumbnailUrl(t,!1,!1,"M"))&&(s=!0);break}}else if(n[1]<r)for(var f=[1024,640,250,100],g=0;g<f.length;g++){var p=f[g];if(r=p,p>n[1])break}return o||(o=c.getImageDownloadUrl(t,a,r||1024,void 0,i)),{url:o,targetWidth:r,isPublic:s}},getFileDownloadUrl:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"orig",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"file",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fileThumbnail",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s="",d="";return t&&(s=t.cssPath),o&&(o="&attach=1"),t&&(t.get_val("public")||t.get_val("file-public"))?d="&_=".concat(t.get_val("public")||t.get_val("file-public")):t&&t.get_val("ContentName")&&t.get_val("ContentSize")&&(d="&_c=".concat(e.sha1("".concat(t.get_val("ContentName"),"-").concat(t.get_val("ContentSize"),"-").concat(t.cnid())))),e.tpl("{{dl}}{{nid}}?field={{field}}&xds={{xds}}&size={{size}}{{attach}}&ui={{ui}}{{suffix}}",{dl:e.gbl.dl,nid:a||t.nid(),field:n,xds:r,size:i,attach:o,ui:s,suffix:d})},getFileDownloadTicket:function(t){return new Promise(function(a,i){e.ajax({xdo:t,url:{xds:"GetFileDownloadTicket",nid:t.nid()},callback:function(e){var t=!1;try{t=e.slices[0].data.ticket,a(t)}catch(e){}t||i(e)}})})},getImageDownloadUrl:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"orig",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"file",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fileThumbnail",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return"orig"==a&&(a=1024),e&&e.get_val("url")&&e.get_val("isPublicThumb")?e.get_val("url"):c.getFileDownloadUrl(e,t,a,i,n,r)},_getFilePublicThumbnailUrl:function(a,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n||a.data,s=!1;if(e.settings.cdn&&e.settings.cdn.img&&(void 0===t.cfNative||e.settings.cdnoverride&&e.settings.cdnoverride.img)){var d=e.settings.cdn.img,l=(o.publicsizes||"").split(","),c=o.public;if(r&&"boolean"==typeof r&&(r="M"),r){if(!l.includes(r))return!1;c=[c,r].join("-")}if("object"==_typeof(o)&&void 0!==c)s=e.tpl("{{prefix}}/{{blob}}",{blob:c,prefix:d});else if("string"==typeof o&&o.indexOf("-")>0){var u=o.split("-");u[1].length>10&&(s=e.tpl("{{prefix}}/{{blob}}",{blob:u[1],prefix:d}))}}return s||i},_serverSupportsPublicThumbnails:function(t){return e.settings.cdn&&e.settings.cdn.img},_defs:{validThumbnailSizes:s,publicThumbnailThreshold:192},_utils:{getFileGlyph:function(t){var a,i;return t.arg("icon")||e.get_func("files.hasViewer")(t).icon||(a=e.get("nodedefs"))&&(i=a.lookup(t))&&i.icon||"file"},getFileClass:function(t){var a,i;return!t.arg("icon")&&!e.get_func("files.hasViewer")(t).icon&&(a=e.get("nodedefs"))&&(i=a.lookup(t))&&i.fa_class?i.fa_class:""}},_resources:{images:{basePath:"{{gbl_lib}}pkg/node_modules/blueimp-load-image/js",js:["{{gbl_lib}}pkg/node_modules/blueimp-load-image/js/load-image.all.min.js"]}},registry:{get:function(t,a){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&(e.extensions||e.excludeextensions)){var i=t.split(".");if(i.length>1){var n=i.pop().toLowerCase();return(!e.excludeextensions||void 0===e.excludeextensions[n]||!e.excludeextensions[n])&&!(!e.extensions||void 0===e.extensions[n]||!e.extensions[n])&&e}}return a},o=0;o<c.registry.viewers.length&&!n;o++){var s=c.registry.viewers[o];if(s._compiledTest||(s._compiledTest=new RegExp(s.regexp)),!s.runtimeTest||s.runtimeTest()){if(""==t&&(n=r(s,a)))break;!n&&s._compiledTest.test(t)&&(s.except&&s.except[t]||(n=r(s,a,s)))}}return!(n&&n.devices&&!i&&!(e.layout.isPhone()?n.devices.includes("phone"):e.layout.isTablet()?n.devices.includes("tablet"):n.devices.includes("desktop")))&&n},register:function(e){var t=["files.register",e.name,(new Date).getTime()].join(".");if(e._compiledTest||(e._compiledTest=new RegExp(e.regexp)),e.extensions){var a={};for(var i in e.extensions)a[i.toLowerCase()]=e.extensions[i];e.extensions=a}return c.registry.viewers.unshift(e),e._id=t,t},unregister:function(e){for(var t=0;t<c.registry.viewers.length;t++)if(c.registry.viewers[t]._id==e)return c.registry.viewers.splice(t,1),!0;return!1},viewers:[{regexp:"application/pdf.*",name:"pdf",viewer:"files.pdf",requiresServer:!0,icon:"file-pdf",devices:["desktop"]},{regexp:"image/.*",name:"image",except:{"image/vnd.adobe.photoshop":1,"image/psd":1,"image/svg+xml":1,"image/svg":1,"image/heic":1,"image/tiff":1},viewer:"files.image",scanExempt:!0,args:{tag:"div",limitSize:!1,preserveAspect:!0,noScaleUp:!0,_styles:[{styles:{"background-size":"contain","max-width":"calc(100%)"}}]},parentstyles:{"text-align":"center",display:"flex"},icon:"file-image"},{regexp:"text/(?!rtf)",name:"text",except:{},viewer:"files.text",requiresServer:!0,scanExempt:!0,excludeextensions:{stl:!0},extensions:{txt:!0,html:!0,py:!0,java:!0,js:!0},parentstyles:{overflow:"auto","background-color":"var(--ui-container-subsidiary-background-colour)"},icon:"file-alt"},{regexp:"application/json",name:"json",viewer:"files.text",requiresServer:!0,parentstyles:{overflow:"auto","background-color":"var(--ui-container-subsidiary-background-colour)"},icon:"file-code"},{regexp:"audio/.*",except:{"audio/midi":1,"audio/x-midi":1,"audio/mid":1},name:"audio",scanExempt:!0,viewer:"media.audio",requiresServer:!0,thumbnail:!0,icon:"file-audio",parentstyles:{"justify-content":"space-around"},args:{_styles:[{styles:{flex:"0 0 auto"}}]}},{regexp:"video/.*",name:"video",scanExempt:!0,viewer:"media.video",parentstyles:{width:"100%","text-align":"center"},thumbnail:!0,icon:"file-video"},{regexp:"application/(zip)|(x-zip-compressed)",name:"zip",viewer:"files.zip",requiresServer:!0,parentstyles:{overflow:"auto","background-color":"var(--ui-container-subsidiary-background-colour)"},icon:"file-archive"}]},utils:{embedExternalImageTag:function(e,t){t.src=c.utils.embedExternalImageURI(e,t.src)},generateExternalImageURI:function(t){return e.tpl("{{p}}load/embedimage/{{nid}}?xds={{xds}}&embedSrc={{source}}&src=&scrape={{url}}",{p:e.gbl.p,nid:t.nid||e.gbl.user.nid,xds:"bookMarkPreview",url:encodeURIComponent(t.uri),source:t.name})},embedExternalImageURI:function(t,a,i){return!(!a||"string"!=typeof a)&&(0==a.indexOf(e.tpl("{{p}}load/embedimage",{p:e.gbl.p}))?a:c.utils.generateExternalImageURI({nid:i||t.nid(),uri:a,name:t.name()}))},is_live_doc:function(e){return i.includes("".concat(e.nodetype,".").concat(e.nodesubtype))}},fn:{nativeHandler:function(e,a){var i=e.cnid();e.get_val("nid")&&e.get_val("nid").indexOf&&e.get_val("nid").indexOf("/")>=0&&(i=e.get_val("nid"));var n=c.getFileDownloadUrl(e,i,void 0,e.xds.field||"file"),r=!1;return o?(o(e),r=!0):t.CoreMobile&&(t.leapMobile&&t.leapMobile.helpers&&t.leapMobile.helpers.downloadFile&&t.plugins&&t.plugins.fileOpener?t.leapMobile.helpers.downloadFile(e.data.ContentName,n,!0):Core4Plugin.showFileView(n,function(){},function(){}),r=!0),r&&(e.stopPropagation(),e.preventDefault()),r},isContentType:function(e,t){var a=e.data,i=!1;if(a.ContentType){var n=a.ContentType;n.substr(1).includes(";")&&(n=n.split(";")[0]);for(var r=n.split("/"),o=t.contentType.split(","),s=0;s<o.length;s++){var d=o[s].split("/");if(i=d.length>1?n==o[s]:r[0]==d[0])return i}}return t.nodetype&&(i=t.nodetype==e.nt()),i},hasViewer:function(e){var a=e.has_role("Experimental"),i=c.registry.get(e.get_val("ContentType")||e.state.get("ContentType"),e.get_val("ContentName")||e.get_val("name"));return!(!a&&i.experimental)&&!(t.cfNative&&i&&i.noNative)&&i},loadResources:function(t){var a=[],i=!1;for(var n in t.get_arg("filter")&&(i=t.get_arg("filter")),c._resources)if(!i||i[n]){if(c._resources.hasOwnProperty(n)&&c._resources[n].css)if("string"==typeof c._resources[n].css)a.push(c._resources[n].css);else for(var r=0;r<c._resources[n].css.length;r++)a.push(c._resources[n].css[r]);if(c._resources.hasOwnProperty(n)&&c._resources[n].js)if("string"==typeof c._resources[n].css)a.push(e.tpl(c._resources[n].js));else for(var o=0;o<c._resources[n].js.length;o++)a.push(e.tpl(c._resources[n].js[o]))}e.resources.load(a,function(){t.trigger("xds-resourcesLoaded")})}},monitorFileStatus:function(a,i){if(!a.arg("noMonitor")){var n=a.nid(),r=function(e){var i=e.slices[0].data.file;i.Processing||(t.clearTimeout(a.temp.timeout),i.lateRender=!0,i.nid=n,a.state.set("Content",i))};i&&i.nid&&(n=i.nid);var o=function(){var t=a.state.peek("Content");(!t||t&&t.Processing)&&e.get("cfnp").get(a,{xds:"getFileStatus",nid:n},"net::bg").then(r)};a.unread_version(a.nid(),"changed",o),a.temp.timeout=a.setTimeout(o,500),a.setTimeout(o,50)}},isProcessing:function(t,a){var i=a.Processing,n=a.Scan;return e.settings.fileprocessors&&(e.settings.virusscan&&n||!e.settings.virusscan)&&i&&t.get_val("filesdate")&&(new Date).getTime()-e.parseDate(t.get_val("filesdate")).getTime()>9e5&&(i=!1),i},processing:function(t){t.addStyles({display:"flex","flex-direction":"column","align-items":"center",width:"128px",height:"128px"}),t.removeChild("thumb"),t.removeChild("processing"),t.removeChild("guide"),t.addChild({id:"processing",type:"fa.glyph",icon:"circle-notch",fa_class:"fad",css:"fa-spin xds-files-viewer-processing-indicator"});var a={id:"guide",css:"xds-files-viewer-processing-guidetext",title:e.lang("Thank you for being patient. Edsby is working hard to scan this file for viruses. It will become available automatically when the spinner stops spinning.")};0!=t.get_val("ContentType").indexOf("audio")&&0!=t.get_val("ContentType").indexOf("video")||(a.title=e.lang("Processing media file. The file will become available when the spinner stops.")),t.addChild(a),c.monitorFileStatus(t)},viewer:function(t){var a=t.state.get("Content")||t.data;if(t.removeChild("processing"),t.removeChild("guide"),t.removeChild("err"),t.removeChild("file"),t.data=a,t.temp.nid||(t.temp.nid=t.data.nid||t.nid()),t.data){t.data.nid=t.temp.nid;var n=a.Processing&&e.settings.fileprocessors,r=a.Scan,o=c.registry.get(t.get_val("ContentType"),t.get_val("ContentName"));if(i.includes(t.nt())&&(o=void 0),t.arg("noMonitor",!1),t.arg("viewerBlacklist")){for(var s=t.arg("viewerBlacklist").split(","),d={},l=0;l<s.length;l++)d[s[l]]=!0;s.includes(o.name)&&(o=void 0)}if(o&&!o.scanExempt&&e.settings.checkdefs){var u="scancheck-".concat(t.id()),f=t.state.get(u);if(!f)return c.checkVirusScanState(t,!1,!0).then(function(e){t.state.set(u,!0)},function(e){t.state.set(u,e)}).catch(function(e){t.state.set(u,e)}),t.arg("noMonitor",!0),void t.inherit("files.processing");if(f&&"string"==typeof f&&["virus","error"].includes(f))return void t.addChild({xds:{id:"err",type:"div",css:"xds-file-viewer-err",sparse:!0,title:e.lang("Virus Scan error: unable to display file")}})}if(c.isProcessing(t,a))t.inherit("files.processing");else if(e.settings.fileprocessors&&n&&r&&(o=!1),o){t.addSubClass("contains-".concat(o.name)),t.data={file:t.data},t.addStyles({display:"flex","flex-direction":"column","align-items":"center"});var g,p={id:"file",type:o.viewer,litePreview:t.arg("litePreview")||!1,noLinks:!0,_styles:[{styles:{"text-align":"left",width:"100%",flex:"auto","max-width":"100%"}}],sparse:!0};if(t.arg("noPath")&&(p.noPath=!0),o.args)for(g in o.args)p[g]=o.args[g];if(t.arg("viewerOverrideArgs")){var h=t.arg("viewerOverrideArgs");for(g in h)p[g]=h[g]}t.arg("zoomable")&&(p.zoomable=t.arg("zoomable")),t.removeChild("file"),t.addChild(p),t.addStyles(o.parentstyles)}else if(t.nt()==e.nt.Document.Bookmark()){if(t.data.field){var m=t.data.nid;t.data=JSON.parse(e.mlunescape(t.data.field)),t.data.nid=m}t.inherit("wysiwyg.bookmark")}else t.inherit("files.typeIcon"),t.on("click","files.viewFile")}else t.exitBlank()},smartThumb:function(t){var a=t.get_val(),i=a.thumbnail||a.file||a;if(t.nt()===e.nt.Document.Bookmark()&&a.cached_thumbnail||t.nt()===e.nt.Document.LTILink()&&a.thumbnail)return t.arg("limitSize",!1),t.arg("tag",t.arg("tag")||"img"),t.arg("targetWidth",t.arg("targetWidth")||64),t.data=t.nid(),t.arg("queueable",!1),void t.inherit("files.image");if(i&&i.ContentType){t.arg("limitSize",!1);var n=c.registry.get(i.ContentType,i.ContentName);if(n&&"image"===n.name)return t.arg("tag",t.arg("tag")||"img"),t.arg("targetWidth",t.arg("targetWidth")||64),void t.inherit("files.image")}t.inherit("files.typeIcon")},text:function(t){var a=t.data;if(a&&a.ContentSize||(a=t.parent_xdo().data),!a||!a.ContentSize)return t.displayVal=e.lang("This is not a valid file field."),void t.tag("div");if(a.ContentSize>=5e6)return t.displayVal=e.lang("This file is too large to preview inline, click the download link to download it."),void t.tag("div");t.data||(t.data={});var i=c.getFileDownloadUrl(t,t.cnid()),n=t.state.get("textviewer");void 0===n?(t.ready(function(){e.ajax({xdo:t,url:i,callback:function(a,i){var n=JSON.parse(JSON.stringify(t.data));n.fileContents=e.mlescape(i.responseText),t.state.set("textviewer",n)}})}),t.addChild({id:"loading",type:"files.loading"}),t.data.loading=!0,t.addChild({id:"loading",type:"files.loading"})):(t.data=n,t.data.loading=!1,t.inherit("code.render"))},loading:function(t){t.data?t.data=e.lang("Loading File, Please Wait...")+"<br/>"+e.html.loading():t.exitBlank()},pdf:function(t){t.get_val("ContentType")&&(t.sparse=!0);var a={};t.global("width")&&(a["max-width"]=t.global("width")+"px"),t.arg("width")&&(a.width=t.arg("width")+"px"),t.global("height")&&(a.height=t.global("height")+"px"),t.addStyles(a);var i=c.getFileDownloadUrl(t,t.arg("noPath")?t.nid():t.cnid(),void 0,t.xds.field||"file",t.arg("xds")||"fileView");return t.tag("iframe").addAttr("src","".concat(e.gbl.lib.replace(e.gbl.cdn,e.gbl.server),"pdfjs/").concat("2.7.570","/web/viewer.html?file=").concat(encodeURIComponent(i))),void t.addAttr("height",t.xds.height||"100%").addAttr("width",t.xds.width||"100%")},zip:function(e){var t=e.arg("litePreview")?"zipPreviewLite":"zipPreview",a="node";e.rnode&&e.rnode.nid&&(a="rnode"),e.ready(function(){e.newEvent("loadxds",{xds:t,noForm:!0,noPath:e.arg("noPath"),nidSource:a})})},video:function(e){e.inherit("media.video")},audio:function(e){e.inherit("media.audio")},profpic:function(t){var a,i="{{p}}core/nodedl/{{nid}}?nodepic=true&field=file&xds=profpic&size={{ppsize}},{{ppsize}}",o=t.state.get(t.id()+"queueFinished"),d=t,l=!0,u=parseInt(d.xds.size||40);isNaN(u)&&(u=40),"image"!=d.xds.imagemode&&d.addClass("xds-profpic-profpic");var f=u;d.arg("circle")&&(f-=10);var g,p="max-height:"+u+"px; max-width:"+u+"px;",h="height:"+u+"px; width:"+u+"px;",m='style="width:'+f+"px;height:"+f+'px;background-size: cover;background-image:url({{url}});"',v=s.square,b=0;for(a=0;a<v.length;a++)if(f<=v[a]){b=v[a];break}(0==b||b>192)&&(b=192);var _={user:{icon:"fa-user-astronaut",fa_class:"fad",bg:"transparent",fg:"var(--ui-profpic-foreground-colour)",lineaspect:1.24,aspect:.8},group:{icon:"fa-university",aspect:.7},"container.team":{icon:"fa-futbol",aspect:.7},"container.badge":{icon:"fa-user-tag",aspect:.6},"container.list":{icon:"fa-list",aspect:.6},"container.club":{icon:"fa-users",aspect:.6},"container.application":{icon:"fa-box-open",aspect:.6},"container.lor":{icon:"fa-books",aspect:.6},"container.plc":{icon:"fa-users-class",aspect:.6},"container.class":{icon:"fa-chalkboard-teacher",aspect:.6},"container.pdgroup":{icon:"fa-chalkboard-teacher",aspect:.6},"container.studygroup":{icon:"fa-book-open",aspect:.6},container:{icon:"fa-map-marker",aspect:.7},"document.link":{icon:"fa-globe",aspect:.7},"document.bookmark":{icon:"fa-link",aspect:.7}};for(a in _)d.removeChild(a.replace(".","_"));d.removeChild("initials");var y=""+(d.arg("nodetypeProxy")||d.nt());"container"==d.arg("mode")?d.addClass("xds-profpic-container"):"user"!=d.arg("mode")&&y.split(".")[0]!=e.nt.User()&&"createid"!=d.xds.dbid||(d.addClass("xds-profpic-user"),y=e.nt.User()),d.get_val("name")&&"string"==typeof d.get_val("name")&&d.attr("aria-label",e.tpl(e.lang("{{type}} {{name}}"),{type:e.nt(y).str(),name:d.get_val("name")}));var x=d.get_val(),w=!1;if(x&&"IN:"!==x){var C=x,k={ppsize:b,p:r.p,nid:d.get_val()};if("string"==typeof x&&x.startsWith("IN:")){var S=x.split("IN:")[1];"string"==typeof k.nid&&(k.nid=d.nid()),t.addChild({xds:{id:"initials",sparse:!0,title:S,css:"profpic-initials","aria-hidden":!0,fields:[],_styles:[{styles:{display:"flex","font-size":u/2-3+"px","font-weight":"600",color:"var(--ui-profpic-foreground-colour)",width:u+"px",height:u+"px","justify-content":"center","align-items":"center","user-select":"none"}}]}}),o=!0,l=!1,d.inherit("miniprofile").addClass("xds-profpic-wrap")}else if("object"===_typeof(k.nid)&&(k.nid=d.nid()),c._getFilePublicThumbnailUrl(t,!1)?(i=c._getFilePublicThumbnailUrl(t,!1),w=!0,o=!0):y==e.nt.User()&&(i=!1,x=!1),i){if(g=e.tpl(i,k),e.get("queues").get("net::imageCache").peek(g,"main")&&(o=!0),!o){var T=e.get("queues").get("net::imageCache").queue(g,t,{rescan:!0});T.done&&!T.failed?o=!0:T.failed?x=!1:(x=!1,T.promise.then(function(e){t.state.set(t.id()+"queueFinished",!0)}).catch(function(e){}))}if(!o&&b>64){var M=e.tpl(i,{ppsize:64,p:r.p,nid:d.get_val()});e.get("queues").get("net::imageCache").peek(M,"main")&&(g=M,x=C,d.addStyles({filter:"blur(1px)"}))}}}if(d.addStyle("width",u+"px"),d.addStyle("height",u+"px"),!x||"IN:"===x){d.addClass("profpic-default-icon"),g={3:{4:"club",9:"team",10:"plc"}}[y.split(".")[0]],e.is_obj(g)&&(g=g[y.split(".")[1]]),g||(g=e.nt(y).str().toLowerCase().split(".")[0]);var I=_[e.nt(y).str().toLowerCase()]||_[g];I?(l=!1,d.removeChild("initials"),d.addChild({xds:{id:_[e.nt(y).str().toLowerCase()]?e.nt(y).str().toLowerCase().replace(".","_"):g.replace(".","_"),sparse:!0,type:"fa.glyph",icon:I.icon,fa_class:t.arg("fa_class")||I.fa_class||"fad",css_class:"profpic-default-icon",fields:[],_styles:[{styles:{"text-align":"center","vertical-align":"middle","box-sizing":"border-box","font-size":f*(I.aspect||1)+"px","line-height":f*(I.lineaspect||1)+"px",width:u+"px",height:u+"px",color:I.fg||"var(--ui-container-subsidiary-foreground-colour)","border-radius":"var(--ui-container-border-radius)","background-color":I.bg||"var(--ui-container-subsidiary-background-colour)",margin:0}}]}}),d.inherit("miniprofile").addClass("xds-profpic-wrap")):g=r.p+"static/xdl/images/default/"+g+".png"}if(d.sparse=!0,d.displayVal=" ",l&&"image"==t.xds.imagemode)t.set_val({url:g,isPublicThumb:w}),t.arg(""),t.sparse=!0,t.inherit("files.image");else if(l){var A="";d.xds.overlay&&(A='<span class="xds-profpic-overlay" style="'+h+'"></span>');var D=d.arg("alt");D||(D=d.get_val("name",d.rnode?"rnode":"node"),e.is_str(D)||(D="")),m=e.tpl(m,{url:g}),g=e.html.div('<div class="xds-profpic'+(d.arg("circle")?" xds-profpic-circle":"")+'" '+m+'><img class="xds-profpic-print-image" src="'+g+'" style="'+p+'" alt="'+D+'"></div>'+A,n.screen,{style:p});var L="string"==typeof d.get_val()&&d.get_val().includes(":")?d.nid():d.get_val();!1!==d.arg("setNid")&&d.set_val("_loadxds",L||d.get_val("nid"),d.arg("setNidSrc")?d.arg("setNidSrc"):"rnode",1),d.inherit("miniprofile").addClass("xds-profpic-wrap").posttag(g)}},profimage:function(e){var t=parseInt(e.arg("size")||e.arg("maxWidth")||e.arg("maxHeight")||32);isNaN(t)&&(t=32),e.xds.size=t,e.xds.imagemode="image",e.inherit("profpic")},image:function(t){var a=t.arg("usePublicThumbnail"),i=!1;if("string"==typeof a&&(i=a),t.removeChild("queuedglyph"),t.removeChild("queuedspacer"),t.arg("usePublicThumbnail")){var n=c._getFilePublicThumbnailUrl(t,!1,!1,i);if(!i&&!n)return!1}t.arg("prioritizePublicThumbnail")&&c._getFilePublicThumbnailUrl(t,!1,!1,i)&&t.arg("usePublicThumbnail",!0),(e.layout.isPhone()||e.layout.isTablet())&&t.arg("zoomable")?t.inherit("zoomable.image"):function(e){var t=e.data&&"object"==_typeof(e.data)&&e.data.MaxSize||[];if(Math.min(e.arg("targetWidth")||e.global("width")||e.arg("width")||t[1]||1024,1024),e.get_val("isPublicThumb")&&e.get_val("url"))return!1;if(!1===e.arg("queueable")||e.get_val("lateRender"))return!1;if((e.arg("squareImage")||e.arg("usePublicThumbnail"))&&c._getFilePublicThumbnailUrl(e,!1,!1,i))return!1;var a=c.getTargetSizeAndAspectImageUrl(e,e.nid(),e.arg("xds"));return!a||!a.isPublic}(t)?t.inherit("files.queuedimage"):t.inherit("files.standardimage")},queuedimage:function(t){var a=t.state.get(t.id()+"queueFinished"),i=t.arg("xds")||"photoViewer";if(t.removeChild("queuedglyph"),t.removeChild("queuedspacer"),!a){var n=t.data;if(!n)return!1;var r=t.cnid();if(t.arg("noPath")&&(r=t.nid()),"data"==t.arg("nidSource")){var o=parseInt(t.data);isNaN(o)||(r=o)}var s=t.data;"string"!=typeof t.data&&(s=c.getTargetSizeAndAspectImageUrl(t,r,i).url);var d=!1;n.MaxSize&&0<n.MaxSize[1]?d=!1:"string"==typeof n&&n.includes(t.nid())&&(d=!(n.indexOf("size=")>=0&&n.indexOf("size=orig")<0));var l=e.get("queues").get("net::imageCache").queue(s,t,{rescan:d});if(l.promise.then(function(e){t.state.set(t.id()+"queueFinished",!0)}).catch(function(e){}),l.done)a=!0;else{t.displayVal="",t.addChild({xds:{id:"queuedglyph",type:"fa.glyph",fa_class:"fad",icon:"fa-image",sparse:!0,_styles:[{styles:{position:"absolute",left:"calc(50% - 48px)"}}]}});var u=n.MaxSize||[];if(t.arg("preserveAspect")&&2==u.length){var f=u[0]/u[1]*100+"%";t.addChild({xds:{id:"queuedspacer",type:"",sparse:!0,_styles:[{styles:{"padding-bottom":f,width:Math.min(u[0],450)+"px"}}]}})}t.addStyles({"font-size":"92px",color:"#fafafa"})}}a&&t.inherit("files.standardimage")},standardimage:function(t){var a=t.data||t.state.get("file"),i=t.arg("tag")||"img",n=t.arg("xds")||"photoViewer";if(!a)return!1;var r=t.cnid(),o=a.MaxSize||[],s=a;if(t.arg("noPath")&&(r=t.nid()),"data"==t.arg("nidSource")){var d=parseInt(t.data);isNaN(d)||(r=d)}if(a&&a.blobUrl&&(a=a.blobUrl),"string"!=typeof a){var l=c.getTargetSizeAndAspectImageUrl(t,r,n);s=l.url;var u=l.targetWidth,f={src:s};t.global("width")&&t.addStyle("max-width",t.global("width")-(t.arg("widthAdjust")||0)+"px"),t.global("height")&&t.addStyle("max-height",t.global("height")-(t.arg("heightAdjust")||0)+"px");var g=t.arg("disallowCanvas");if(l.isPublic&&(g=!0,i="img"),"img"==i||g){if(u=Math.min(u||1024,1024),t.arg("squareImage")&&(u=[u,u].join(",")),f.src=e.tpl(s,{size:u}),t.arg("squareImage")||t.arg("usePublicThumbnail")){var p=t.arg("usePublicThumbnail"),h=!1;"string"==typeof p&&(h=p);var m=c._getFilePublicThumbnailUrl(t,f.src,!1,h);m&&(f.src=m)}for(var v in"img"!=i?(t.addStyle("background-image",e.tpl("url({{src}})",f)),delete f.src):(f.alt=t.arg("alt")||t.get_arg("alt")||a.ContentName&&e.tpl(e.lang("Uploaded File: {{ContentName}}"),a)||e.lang("Uploaded File"),t.on("load",function(e){e.trigger("xds-file-image-loaded")})),f)t.attr(v,f[v]);t.arg("crossOrigin")&&t.attr("crossOrigin",t.arg("crossOrigin"))}else if(t.arg("limitSize")&&o&&t.addStyle({"max-height":"".concat(o[0],"px"),"max-width":"".concat(o[1],"px")}),t.ready(function(t){(u=Math.min(t.dom().width(),u))<10&&(u=1024),Math.min(u,1024)<1024&&(u=Math.min(u,1024)),t.arg("squareImage")&&(u=[u,u].join(",")),s=e.tpl(e.tpl("{{url}}",{url:f.src}),{size:u}),t.newEvent("files.loadResources",{filters:{images:!0}})}).on("xds-resourcesLoaded",function(){var a=new XMLHttpRequest;a.open("GET",e.tpl(s,{size:"orig"}),!0),a.responseType="blob",a.onload=function(e){200==this.status&&loadImage(this.response,function(e,a){t.dom().replaceWith(e),void 0===t.arg("limitSize")||t.arg("limitSize")||$(e).css({"object-fit":"cover","max-width":"100%","max-height":"100%"}),t.arg("noScaleUp")&&$(e).css({"max-height":"min(".concat(o[0],"px, calc(var(--viewport-height) - 44px))"),"max-width":"".concat(o[1],"px")})},{maxWidth:1024,maxHeight:1024,orientation:!0,canvas:!0,meta:!0,contain:!0})},a.send()}),t.arg("preserveAspect")&&2==o.length){var b=o[0]/o[1]*100+"%";t.addStyle("padding-bottom",b)}}else if("img"!=i){if(t.addStyle("background-image",e.tpl("url({{url}})",{url:a})),t.arg("preserveAspect")&&2==o.length){var _=o[0]/o[1]*100+"%";t.addStyle("padding-bottom",_)}if(t.arg("aspect")){var y={"16:9":"56.25%","4:3":"75%","3:2":"66.66%","8:5":"62.5%"};y[t.arg("aspect")]&&t.addStyle("padding-bottom",y[t.arg("aspect")])}}else t.tag("img").addAttr("src",a),t.addAttr("alt",t.arg("alt")||t.get_arg("alt")||a.ContentName&&e.tpl(e.lang("Uploaded File: {{ContentName}}"),a)||e.lang("Uploaded File")),t.close=!1;t.displayVal=" ",t.tag(i),t.on("dragstart",function(t){t.e.originalEvent.dataTransfer.setData("edsby/fileuri",e.tpl(s,{size:"orig"}))})},checkVirusScanState:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.settings.checkdefs)return Promise.resolve();var n=e.lang("We're scanning the file for malware, please wait a moment (your file will download automatically when the scan is complete) or try again later."),r=!1,o={nid:a||(t.arg("noPath")||t.get_arg("noPath")?t.nid():t.cnid()),field:t.arg("field")||"file",xds:"CheckScanStatus"},s=function(){t.clearTimeout(d),r&&r.remove()},d=!1;return void 0!==t.arg("noScanDialog")&&(i=t.arg("noScanDialog")),i||(d=t.setTimeout(function(){r=e.dialog(n)},2e3)),t.stopPropagation(),t.preventDefault(),new Promise(function(a,i){var n=0,r=!1,d=!1,l=function l(){return o._ts=(new Date).getTime(),e.ajax({xdo:t,url:o,_netqueueid:"net::bg"}).then(function(e){if(t.is_dead())i();else if(n+=1,e.slices[0].data.scanstatus){if(s(),["virus","error"].includes(e.slices[0].data.scanstatus))return void i(e.slices[0].data.scanstatus);r||(r=!0,a())}else{if(n<3)return new Promise(function(e,a){t.setTimeout(function(){l().then(e).catch(a)},2e3*Math.pow(10,n))});s(),i()}},function(e){s(),d=!0,i(e)}).catch(function(e){s(),d=!0,i(e)})};t.unread_version(t.nid(),"changed",function(e){d?t.unread_version(t.nid(),"changed",!1):l()},function(){l()},function(){l()})})},checkVirusScanStateThenDownload:function(t){var a=c.getFileDownloadUrl(t,void 0,void 0,void 0,void 0,"view"!=t.arg("mode"));c.checkVirusScanState(t).then(function(){e.links.openUrl(a,"_blank")},function(){e.get("virus").warning(t)}).catch(function(){e.get("virus").warning(t)}),t.stopPropagation(),t.preventDefault()},viewFile:function(a){e.layout.isPhone()&&t.cfNative?(c.fn.nativeHandler(xdo)||xdo.event("files.open_file",{xdsPhone:"AlbumLightboxMobile"}),xdo.stopPropagation(),xdo.preventDefault()):t.EdsbyReactBridge&&t.EdsbyReactBridge.openFile?(a.stopPropagation(),a.preventDefault(),c.checkVirusScanState(a).then(function(){c.getFileDownloadTicket(a).then(function(i){var n="".concat(e.gbl.dl).concat(a.nid(),"?field=").concat(a.xds.field||"file","&xds=").concat(a.arg()||"fileThumbnail","&ui=").concat(a.cssPath,"&size=orig&ticket=").concat(encodeURIComponent(i));if(t.EdsbyReactBridge&&t.EdsbyReactBridge.openFile){var r=a.get_val("ContentName");if(!r){var o=a.get_val("Content");o&&(r=o.ContentName),r||(r=e.get("guid").rfc4122())}t.EdsbyReactBridge.openFile(r,n)}else e.links.openUrl(n)})},function(){e.get("virus").warning(a)}).catch(function(t){e.get("virus").warning(a)})):c.checkVirusScanStateThenDownload(a)},download:function(e){c.getFileDownloadUrl(e),e.on("click","files.viewFile"),e.arg("icon")?(e.inherit("fa.icon"),e.addSubClass("icon")):e.tag("a")},downloadwarning:function(t){var a=t.get_val("Content")||t.get_val("file"),i=!1,n=!1;"Virus"!==a.Scan&&a.Processing?(t.inherit("files.download"),i=e.lang("Download")):"Virus"==a.Scan?(t.addClass("xds-files-downloadwarning-quarantined"),i=e.lang("Quarantined")):a.Processing&&(i=e.lang("Processing"),n=e.lang("This file is still being processed for display in the browser, it will be available soon.")),i&&n?(t.tag("a"),t.displayVal=i,t.on("click",function(t){"Virus"==a.Scan?t.event("virus.warning"):a.Processing&&e.dialog(n),t.stopPropagation()})):t.data=i},downloadall:function(e){e.arg("field","files"),e.arg("zip",!0),e.inherit("files.download")},tearoffIcon:function(e){var t=e.state.get("tearoff");if(2===t)e.arg("tooltip",e.arg("titleTornOff")),e.arg("fa_class","fas");else{if(1!==t)return e.exitBlank();e.arg("tooltip",e.arg("titleNeedTearOff")),e.arg("fa_class","far")}e.displayVal="",e.arg("icon","clone"),e.inherit("fa.glyph")},typeIcon:function(e){e.inherit("files.faTypeIcon")},faTypeIcon:function(t){var a,i=t.get_val(),n=i.thumbnail||i.file||i,r=parseInt(t.arg("iconSize")||"32"),o=parseInt(t.arg("iconSizeW")||"24");t.arg("iconSizeW")||(o=24*r/32),a=r;var s=e.get("files")._utils.getFileGlyph(t),d=e.get("files")._utils.getFileClass(t),l=[];e.settings.fileprocessors&&"Virus"===t.get_val("Content").Scan&&!t.arg("suppressQuarantine")&&(s="fa-exclamation-triangle",t.arg("fa_class","fas"),l.push("xds-files-faTypeIcon-orange")),t.removeChild("icon");var c={xds:{id:"icon",fields:[{id:"glyph",sparse:1,_styles:[{styles:{position:"relative",width:t.arg("styleWidth")||o+"px",height:a+"px","align-self":"center","margin-bottom":t.arg("suppressName")?"0":"5px"}}],fields:[{id:"bg",type:"fa.glyph",sparse:1,icon:s,fa_class:d,_styles:[{styles:{color:"var(--ui-container-background-colour)",position:"absolute",top:"0px",left:"0px","font-size":r+"px",width:o+"px","text-align":"center"}}]},{id:"glyph",type:"fa.glyph",sparse:1,css:"xds-files-faTypeIcon-glyph",icon:s,fa_class:d||"fad",_styles:[{styles:{position:"absolute",top:"0px",left:"0px","font-size":r+"px",width:o+"px","text-align":"center"}}]}]}],_styles:[{styles:{display:"flex","flex-direction":"column",width:"100%"}}]},data:{text:n.ContentName||""}};t.arg("fa_class")&&(c.xds.fields[0].fields[1].fa_class=t.arg("fa_class")),t.arg("styleWidth")&&(c.xds.fields[0].fields[0]._styles[0].styles.width=t.arg("styleWidth"),c.xds.fields[0].fields[1]._styles[0].styles.width=t.arg("styleWidth")),d&&c.xds.fields[0].fields.splice(0,1),t.arg("suppressName")||c.xds.fields.push({id:"text",noLinks:!0,tooltip:n.ContentName||"",_styles:[{styles:{padding:"0 5px"}}]}),l.length>0&&t.addClass(l.join(" ")),t.displayVal="",t.addChild(c)},legacyTypeIcon:function(t){var a=t.get_val(),i=a.thumbnail||a.file||a,n=e.gbl.sys.fileTypeIcons,r=e.gbl.sys.fileTypeScale,o=i.ContentType||"",s=i.ContentName;o||(o="application/octet-stream",s=t.get_val("title")||t.get_val("name"));var d=void 0!==n[o=o.substr(o.indexOf("/")+1)]?n[o]:0,l=t.arg("iconSize")||"32";d=d*r[l+""]-2,t.addClass("xds-fileThumbnail-icon").posttag(e.html.div(e.html.div(o,["xds-fileThumbnail-sprite","xds-fileThumbnail-sprite"+l],{style:"background-repeat: repeat-x; display: inline-block; background-position:"+-1*d+"px 0px;"})+(void 0===t.arg("fileName")||t.arg("filename")?e.html.p(s,"xds-fileThumbnail-name"):""),"xds-files-typeIcon-contents"))},open_file:function(a,n,r){var s,d,l=!1,u=!1;if(r&&r.ContentType?(l=r.ContentType,u=r.ContentName):a.data&&a.data.ContentType?(l=a.data.ContentType,u=a.data.ContentName):a.data&&a.data.file&&a.data.file.ContentType?(l=a.data.file.ContentType,u=a.data.file.ContentName):a.data&&a.data.content&&a.data.content.ContentType&&(l=a.data.content.ContentType,u=a.data.content.ContentName),!(a.e.originalEvent&&"xds-fileThumbnail-downloadBar"==a.e.originalEvent.target.className||a.e.isImmediatePropagationStopped())){var f,g,p,h={xds:a.arg("xds")||a.get_arg("xds")};if(!a.arg("suppressLightbox")){if(s=[a.get_val("nodetype"),a.get_val("nodesubtype")].join("."),d=[a.state.get("nodetype"),a.state.get("nodesubtype")].join("."),s===e.nt.Document.LTILink()||d===e.nt.Document.LTILink()||a.parent_xdo().data.thumb&&[a.parent_xdo().data.thumb.nodetype,a.parent_xdo().data.thumb.nodesubtype].join(".")===e.nt.Document.LTILink())p="files.open_lti_app";else if((f=a.get_val("viewxds")||a.get_val("thumb-viewxds")||a.state.get("viewxds"))&&(g=a.get_val("NID")||a.get_val("thumb-NID")||a.state.get("NID")))h.view_xds=f,h.obj_nid=g,p=i.includes(s)||i.includes(d)?"files.open_live_doc":"files.open_viewxds_generic";else{var m=a.arg("nocnid")||a.arg("noPath")||a.get_arg("nocnid")||a.get_arg("noPath"),v=a.target(a.arg("filesTarget")||"*files");if(v.length>0?m?h.nid=v.xdo.nid():"node"===a.get_arg("nidSource")?h.nid=v.xdo.nid("node"):h.nid=v.xdo.cnid():h.nid=a.nid(),m&&(h.noPath=!0),l&&function(e){if({"application/pdf":!0,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":!0,"application/msword":!0,"application/vnd.openxmlformats-officedocument.presentationml.presentation":!0,"application/vnd.ms-powerpoint":!0,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":!0,"application/vnd.ms-excel":!0,"application/vnd.apple.keynote":!0,"application/vnd.apple.pages":!0,"application/vnd.apple.numbers":!0,"image/jpeg":!0,"image/jpg":!0,"image/png":!0,"audio/mpeg":!0}[e])return!0;for(var t in{"application/vnd.openxmlformats-officedocument":!0})if(e.startsWith(t))return!0;return!1}(l)&&(o||t.EdsbyReactBridge)||t.cordova&&e.platform.android&&"remainder"!==a.xds.id){var b=!(!r||!r.ContentType)&&r;return!b&&a.get_parent(a.arg("filesTarget")||"*files").length>0&&(b=a.get_parent(a.arg("filesTarget")||"*files").xdo.data),o?void c.checkVirusScanState(a).then(function(){o(a,b)},function(){e.get("virus").warning(a)}).catch(function(){e.get("virus").warning(a)}):void c.checkVirusScanState(a).then(function(){c.getFileDownloadTicket(a).then(function(i){var n="".concat(e.gbl.dl).concat(a.nid(),"?field=").concat(a.xds.field||"file","&xds=").concat(a.arg()||"fileThumbnail","&ui=").concat(a.cssPath,"&size=orig&ticket=").concat(encodeURIComponent(i));t.EdsbyReactBridge&&t.EdsbyReactBridge.openFile?t.EdsbyReactBridge.openFile(u||b.ContentName||a.get_val("ContentName")||b.thumb&&b.thumb.ContentName,n):e.links.openUrl(n)})},function(){e.get("virus").warning(a)}).catch(function(){e.get("virus").warning(a)})}e.layout.isPhone()?(a.arg("lightboxShowFileOnly")&&(h.nid=a.rnode.nid),(0===a.get_parent(a.arg("filesTarget")||"*files").siblings().length||a.get_arg("noMultiLightbox"))&&(h.xds=a.arg("xdsSingle")||a.get_arg("xdsSingle")||h.xds,h.nid=a.rnode.nid),p="lightbox"):p="lightbox"}a.global("albumLightboxNoFeed")&&(h.noFeed=!0),e.settings.checkdefs&&(a.isA([e.nt.File.Attachment(),e.nt.File.Upload()])||l)?c.checkVirusScanState(a).then(function(e){a.event(p,h)},function(){e.log.debug(err),e.dialog(e.lang("Error scanning file"))}).catch(function(t){e.log.debug(t),e.dialog(e.lang("Error scanning file"))}):a.event(p,h)}}},open_lti_app:function(t,a,i){var n=t.get_val("content-NID")||t.get_val("NID")||t.get_val("nid"),r=t.get_val("content-rid")||t.get_val("rid"),o=e.tpl(e.gbl.loadPageParam,{nid:n,xds:t.get_arg("xdsLTI")||"LTILaunch",params:r?"link="+r:""}),s=t.get_val("width","siblings"),d=t.get_val("height","siblings"),l="";parseInt(s+"",10)&&parseInt(d+"",10)&&(l="width="+s+",height="+d),e.links.openUrl(o,"LTILaunch_"+n,l)},open_live_doc:function(){var t=1e3;function a(i,n){i&&i.temp&&!i.temp.dead&&e.get_data({nid:n,xds:"LiveDocTearOffStatus"},function(){}).then(function(e){var r=e.slices[0].data;if(2===r.tearoff)for(var o=i.arg("filefld")||"files",s=i.state.get(o)||{},d=Object.values(s),l=0;l<d.length;l++){var c=d[l];if(c.nid===n&&c.Content){c.Content=Object.assign(c.Content,r),i.state.set(o,s),i.trigger("xds-tearoff-state-updated");break}}else i.setTimeout(a,t,"open_live_doc.poll_tearoff",n)}).catch(function(){i.setTimeout(a,t,"open_live_doc.poll_tearoff_catch",n)})}return function(i,n,r){var o,s,d=!1,l=i.state.get("embedurl")||i.get_val("embedurl"),c=i.state.get("openurl")||i.get_val("openurl"),u=l||c;u&&((o=i.state.get("tearoff")||0)>0&&(s=i.get_val("nid"),u=e.tpl(e.gbl.loadPage,{nid:s,xds:"LiveDocTearOff"}),d=!1,o<2&&i.setTimeout(a,t,"open_live_doc_actual",s)),!1===d?e.links.openUrl(u,"_blank"):i.event("files.open_viewxds_generic"))}}(),open_viewxds_generic:function(e,t,a){var i=e.get_args(),n=i.view_xds,r=i.obj_nid;delete i.view_xds,delete i.obj_nid,i.xds=n,e.get_val("rid")?(e.rnode.rid=e.get_val("rid"),i.nid=e.cnid()):i.nid=[e.get_val("nid","node"),r].join("/"),i.noPath=!0,e.event("lightbox",i)},fileThumbnail:function(a){var i=a;if(!1===i.data||$.isEmptyObject(i.data))return!1;var r,s=i.get_val(),d=e.gbl.sys.fileTypeIcons,l=s.thumbnail||s.file||s,u=l.ContentType||"",f=i.get_val("nid"),g=i.xds.size||i.xds.width||i.xds.height||50,p=i.arg("iconSize")||"32",h=i.xds.width||g,m=i.xds.height||g,v=!1,b=!1,_=a.arg("xds")||"fileThumbnail",y=c.getImageDownloadUrl(a,f,"{{size}}",("thumbnail"===i.xds.field?"file":i.xds.field)||"file",_);if((""+h).indexOf("%")>=0){var x=i.xds.maxWidth||!1;!1!==x?(b=h,g=x,h=x):console.warn("fileThumbnail: percentage width with no maxWidth parameter not yet supported")}i.global("fileThumbnailTweaks")&&((v=i.global("fileThumbnailTweaks")).height&&(m=v.height),v.width&&(h=v.width));var w,C="max-height: {{maxHeight}}px; max-width: {{maxWidth}}px;",k='style="'+(m==i.xds.height?"height:"+m+"px;":"width:"+h+"px;")+'"',S=!1,T={maxHeight:i.xds.maxheight||m,maxWidth:h},M={height:m,width:h};i.arg("preserveAspectRatio")&&(k='style="max-height:'+(i.xds.maxheight||m)+"px; max-width:"+h+'px;"',Math.max(m,h)),b&&(T={maxWidth:h,width:b},C="max-width: {{maxWidth}}px; width: {{width}};",M={height:"auto",width:b,maxWidth:h},k='style="height: {{height}}; width: {{width}}; max-width: {{maxWidth}}px;" '),S=i.cnid(),(i.arg("nocnid")||i.arg("noPath"))&&(S=i.nid());var I=c.getImageDownloadUrl(a,f,"orig",("thumbnail"===i.xds.field?"file":i.xds.field)||"file",_);if("vignette"===i.arg("mode")&&1==i.global("gridSize")){var A=c.registry.get(i.data.ContentType,i.data.ContentName);if(i.nt()==e.nt.Document.Bookmark())return e.layout.isPhone()&&i.global("width","93vw !important"),void i.inherit("wysiwyg.bookmark");if(A&&A.thumbnail)return e.layout.isPhone()&&i.global("width","93vw !important"),void i.inherit(A.viewer);v&&v.maxScreenWidth&&v.maxScreenWidth,C=""}else"vignette"===i.arg("mode")&&i.data.thumbnail_url&&(u="image/jpeg",I=c.utils.embedExternalImageURI(i,i.data.thumbnail_url));(i.xds.suppressStyle||i.arg("mode")&&"vignette"===i.arg("mode"))&&(k=""),i.arg("useTransitions")&&i.addClass("xds-fileThumbnail-useTransitions"),i.arg("mode")&&i.addClass("xds-fileThumbnail-"+i.arg("mode"))||i.addClass("xds-fileThumbnail-stacked");var D=l&&l.ContentSize&&l.ContentSize>2e7&&!1;if("image"===u.substr(0,5)&&!~u.indexOf("photoshop")&&!~u.indexOf("tiff")&&!D||s&&s.thumbnail)r=s&&s.thumbnail_url?c.utils.embedExternalImageURI(i,i.data.thumbnail_url):I,h<=c._defs.publicThumbnailThreshold&&(r=c._getFilePublicThumbnailUrl(a,r)),w=e.tpl('<img src="{{src}}" {{imagestyle}} class="{{imageclass}}" alt="{{alt}}" draggable>',{src:r,imagestyle:e.tpl(k,M),imageclass:i.xds.imageClass||"",alt:l.ContentName}),"vignette"===i.arg("mode")&&1!=i.global("gridSize")&&(w="",C="background-image: url("+r+")"),v&&v.maxScreenWidth&&(C=C+";width:"+v.maxScreenWidth+"px"),w=i.xds.noscreen?w:e.html.div(w,n.screen,{style:e.tpl(C,T)}),i.arg("fileName")&&(w+=e.html.p(l.ContentName,"xds-fileThumbnail-name"),i.xds.imageClass="xds-fileThumbnail-icon"),i.xds.imageMode&&"download"===i.xds.imageMode?w='<a href="'+I+'">'+w+"</a>":(void 0===i.xds.lightbox||i.xds.lightbox)&&i.arg("xds")&&i.on("click",function(e){e.args={xds:e.arg(),nid:e.arg("containerNid")||e.arg("nidSource")&&e.get_val("nid",e.arg("nidSource"))||e.get_val("nid","node"),pageNid:e.get_val("nid")},"rel"===e.arg("nidSource")&&(e.args.nid=e.args.pageNid,delete e.args.pageNid),S&&(e.args.nid=S,delete e.args.pageNid),e.event("lightbox.open"),e.e&&(e.e.preventDefault(),e.e.stopPropagation())}),a.state.get(i.id()+"queueFinished")||0==i.arg("queueable")?(i.addClass(!i.xds.imageClass&&"xds-fileThumbnail-image").posttag(w),i.ready(function(e){e.trigger("xds-fileThumbnail-imageLoaded")})):(e.get("queues").get("net::imageCache").queue(r,i,{rescan:!1}).promise.then(function(e){i.state.set(a.id()+"queueFinished",!0)}).catch(function(e){}),i.addStyles({"font-size":g/2+"px","line-height":g+"px",width:g+"px",display:"block","text-align":"center"}),i.arg("icon","image"),i.inherit("fa.icon"));else{var L,E=e.gbl.sys.fileTypeScale,N=!1,P=["xds-fileThumbnail-sprite","xds-fileThumbnail-sprite"+p],j={};if(s&&5!==(s.nodetype||5)?(P.push("xds-fileThumbnail-nodetype-"+s.nodetype),void 0!==s.nodesubtype&&P.push("xds-fileThumbnail-nodesubtype-"+s.nodesubtype),N=!0):(L=(L=void 0!==d[u=u.substr(u.indexOf("/")+1)]?d[u]:0)*E[p+""]-2,j.style="background-position:-"+L+"px 0px;","pdf"===u&&(N=!0)),"vignette"===i.arg("mode")&&null==i.arg("noDownload")&&(N||i.preclosetag('<a class="xds-fileThumbnail-downloadBar" href="'+I+'">Download</a>'),i.arg("overrideLinkBehaviour",!0),i.on("click",function(a){if(a.e&&a.e.target&&"xds-fileThumbnail-downloadBar"===a.e.target.className){if(a.e.stopPropagation(),e.settings.checkdefs)return c.checkVirusScanStateThenDownload(a),void a.e.preventDefault();e.get("windows")&&e.get("windows")._available?(e.get("windows").launchFile(I,l.ContentName),a.e.preventDefault()):t.cordova&&t.FileTransfer&&t.cordova.plugins&&t.cordova.plugins.fileOpener2?o(a):t.cordova&&t.cordova.InAppBrowser&&t.cordova.InAppBrowser.open&&(cordova.InAppBrowser.open(I.replace("&attach=1",""),"_blank"),a.e.preventDefault())}}),"download"===i.arg("fileMode")&&"pdf"===u&&e.platform.mobile&&e.platform.native),void 0!==i.xds.lightbox&&!i.xds.lightbox||null!=i.xds.fileMode&&"lightbox"!==i.xds.fileMode){var O=e.html.div(u,P,j)+e.html.p(l.ContentName,"xds-fileThumbnail-name");if(null==i.arg("overrideLinkBehaviour")||0==i.arg("overrideLinkBehaviour")||"view"==i.arg("fileMode")){"view"==i.arg("fileMode")&&(I=I.replace("&attach=1",""));var R={target:"_blank"};i.arg("fileLink")&&(R.href=I),O=e.html.a(O,"",R)}i.addClass("xds-fileThumbnail-icon").posttag(O),e.settings.checkdefs&&i.on("click",function(e){e.isPropagationStopped()||c.checkVirusScanStateThenDownload(e)})}else i.on("click",function(e){e.args={xds:e.arg()||"AlbumLightbox",nid:e.arg("containerNid")||e.arg("nidSource")&&e.get_val("nid",e.arg("nidSource"))||e.get_val("nid","node"),pageNid:e.get_val("nid")},"rel"==e.arg("nidSource")&&(e.args.nid=e.args.pageNid,delete e.args.pageNid),S&&(e.args.nid=S,delete e.args.pageNid),e.event("lightbox.open"),e.e&&(e.e.preventDefault(),e.e.stopPropagation())}),i.addClass("xds-fileThumbnail-icon").posttag(e.html.div(u,P,j)+e.html.p(l.ContentName,"xds-fileThumbnail-name"))}i.on("dragstart",function(t){t.e.originalEvent.dataTransfer.setData("edsby/fileuri",e.tpl(y,{size:"orig"}))})},fileView:function(e){void 0!==e.xds.field||(e.xds.field="file"),void 0!==e.xds.size||(e.xds.size=500),e.xds.lightbox=!1,e.inherit("fileThumbnail")},fileViewer:function(t){t.pagingSetup("block",function(){var a=function(e){37===e.which&&t.prevPage(),39===e.which&&t.nextPage()};c.fileViewer.keyhandler&&e.window.off("keydown",c.fileViewer.keyhandler),e.window.keydown(a),c.fileViewer.keyhandler=a}),t.on("prevPage",function(e){t.prevPage(!1,!1,!1,{}),e&&e.stopPropagation&&(e.stopPropagation(),e.preventDefault())}).on("nextPage",function(e){t.nextPage(!1,!1,!1,{}),e&&e.stopPropagation&&(e.stopPropagation(),e.preventDefault())}).ready(function(){t.trigger("resize")})},fileViewImage:function(e){e.inherit("fileThumbnail",{lightbox:!1,noscreen:!0,iconSize:e.arg("iconSize")||64,imageClass:"xds-fileViewImage-img",size:e.xds.size||600,suppressStyle:!0,xds:e.arg()})},fileName:function(e){var t=e.data,a=t.thumbnail||t.file||t;a.ContentName&&(e.data=a.ContentName),e.tag("span")},downloadButton:function(t){if(e.layout.isPhone())return!1;var a=c.getFileDownloadUrl(t,void 0,void 0,void 0,void 0,"view"!=t.arg("mode"));t.tag("a"),t.arg("displayMode")&&"link"==t.arg("displayMode")||t.addClass("xds-button xds-default-button"),e.settings.checkdefs?t.on("click",c.checkVirusScanStateThenDownload):(t.tag("a").addAttr("href",a).addAttr("target","_new"),e.get("windows")&&e.get("windows")._available&&t.on("click",function(t){e.get("windows").launchFile(a,t.get_val("ContentName")),t.e.preventDefault()}))},fileViewVideo:function(t){!(-1==navigator.userAgent.indexOf("Safari")||navigator.userAgent.indexOf("Chrome")>-1)||e.platform.tablet||e.platform.phone||e.platform.mobile||"video/quicktime"!=t.get_val("ContentType")&&"video/mp4"!=t.get_val("ContentType")&&"video/webm"!=t.get_val("ContentType")&&"video/ogg"!=t.get_val("ContentType")&&"video/3gpp"!=t.get_val("ContentType")?(t.xds.height=768,t.xds.width=1034,t.xds.mode="vignette",t.xds.lightbox=!1,t.xds.fileMode="download",t.xds.preserveAspectRatio=!1,t.inherit("albums.types.smartFileThumbnail")):t.inherit("files.video")}};e.extend.fn({loadLibraryViewer:function(t,a){void 0!==t.global("disableLightbox")&&0!=t.global("disableLightbox")||(t.args={xds:t.arg("xds")||"libraryItemViewer",nid:t.arg("containerNidSource")?t.get_val("nid",t.arg("containerNidSource")):t.arg("containerNid")||t.get_val("nid","node"),pageNid:t.data.nid||t.get_val("nid")},t.args.xds="AlbumLightbox","AlbumLightbox"!=t.args.xds||t.arg("loadAlbum")||(t.args.nid=t.args.pageNid),e.platform.phone?(t.args.nid=t.cnid(),t.args.target=e.gbl.page,t.args.changeUrl=!1,e.get_func("loadxds")(t)):e.get_func("lightbox")(t),t.e.preventDefault(),t.e.stopPropagation())}});for(var u=["downloadButton","fileThumbnail","fileView","fileViewer","fileViewImage","fileName","fileViewVideo","profpic"],f=0;f<u.length;f++)c[u[f]]&&(e.types[u[f]]=c[u[f]]);return c}),cf.module("forms",function(e,t,a){var i=e.css,n=e.$css,r=e.html;function o(e){var t=e.arg("guidetext");t&&e.postclosetag(r.div(t,[i.validateMsg,i.validateMsgGuidetext,e.cssPath+"-guidetext"]))}e.gbl,e.validate=function(e){var t=e.xdo?e.xdo:e;e.find(n.validateMsgError).remove(),e.find(n.validateMsgForm).remove(),e.find(n.hasValidate).each(function(){($(this).is(":visible")||$(this).xdo.arg("validateHidden")||t&&t.arg("validateHiddenFields"))&&$(this).trigger("validate")});var a=e.find(n.validateMsgError);if(a.fadeIn(),0===a.length){var i=jQuery.Event("form-validated");if(e.trigger(i),!i.isDefaultPrevented())return!0}else{var r=jQuery.Event("form-validate-failed");if(t&&t.arg("validationScrolling")){var o=t.find(".xds-validate-msg-error");o&&o.xdo&&o.xdo.event("scrollTo")}if(e.trigger(r),r.isDefaultPrevented())return!0}},e.registerGlobalCSSClass({formInput:"xdl-forms-input",fieldPlaceholder:"xds-field-placeholder",fieldReadonly:"xdl-forms-field-readonly",formSprite:"xds-form-sprite",formVirgin:"xds-form-virgin",validate:"xds-validate",validateFailed:"xds-validate-failed",validateMsg:"xds-validate-msg",validateMsgForm:"xds-validate-msg-form",validateMsgWarning:"xds-validate-msg-warning",validateMsgError:"xds-validate-msg-error",validateMsgGuidetext:"xds-validate-msg-guidetext",dirtyForm:"xds-form-dirty",formInputNotReady:"xds-form-input-notready"});var s={selectors:{focusableInputs:["input:not([disabled],[type=hidden]):visible","select:not([disabled]):visible","textarea:not([disabled]):visible","button:not([disabled]):visible","*[contenteditable]:visible"].join(", "),focusables:["a[href]:visible","area[href]:visible","input:not([disabled],[type=hidden]):visible","select:not([disabled]):visible","textarea:not([disabled]):visible","button:not([disabled]):visible","iframe:visible","object:visible","embed:visible","*[tabindex]:not([tabindex=false]):not(.xds-f_textarea):visible","*[contenteditable]:visible",".xdl-focusable"].join(", ")},_normalizeInputArgs:function(e){var t={};for(var a in e){var i=a,n=e[a];switch(a){case"disabled":n=n?"disabled":void 0;break;case"readonly":n=n?"readonly":void 0}void 0!==n&&(t[i]=n)}return t},is_read_only:function(e){var t;return void 0!==(t=e.readonly)?t:void 0!==(t=e.state.get("readonly"))?t:void 0!==(t=e.arg("readonly"))?t:void 0!==(t=e.xds_full.readonly)?t:void 0!==(t=e.get_setting("readonlyForm"))?t:e.global("readonlyForm")},validate:{default:function(e){},fail:function(e){return!1},required:function(t){var a=!0,n=t.val();if(void 0===n&&(n=""),t.dom().hasClass("xdl-picker-disabled")||t.dom().find(".xdl-picker-disabled").length>0||t.dom().find("input:disabled").length>0||t.dom().hasClass("xds-dd-disabled"))return!0;if(t.dom().hasClass("xds-f_file")?a=!!t.temp.selectedFile:t.id(1).hasClass("xds-addresources-container")&&!e.get_func("addresources.hasUploads")(t)?a=!1:void 0===n?a=!1:t.hasClass("FancyPicker")?a="[]"!=t.parent_xdo().val():(n=(n+"").split(" ").join(""))&&!t.id(1).hasClass(i.fieldPlaceholder)||(a=!1),t.args&&t.args.validatorFailValues){var r=t.args.validatorFailValues;Array.isArray(r)||(r=[r]),r.includes(n)&&(a=!1)}return a?void 0:(t.args.message=t.args.message||e.lang("This is a required field"),!1)},inputReady:function(t){return!t.dom().hasClass(e.css.formInputNotReady)||(t.on("xds-form-input-ready",function(e){e.trigger("submit")}),!1)},uploadsComplete:function(t){var a=!0;if(t.temp._uploader&&t.temp._uploader._active)for(var i=t.temp._uploader._active,n=0;n<i.length;n++)if(!i[n].complete&&!i[n]._removed){a=!1;break}return a||(t.args.message=t.args.message||e.lang("File uploads must be complete, please wait."),t.hasClass(e.css.validateFailed)&&t.on("xds-addresources-all-files-uploaded",function(e){e.trigger("submit")})),a},readyToPost:function(a){var i=a.temp._readyToPost;if(!i){var n=t.setInterval(function(){a.temp._readyToPost&&a.trigger("submit"),t.clearInterval(n)},100);return a.args.message=e.lang("Please wait for previewing to complete."),!1}return i},requireNInGroup:function(e){return s.validate.requireOneInGroup(e)},requireOneInGroup:function(t){var a=t.args.validatorGroup||t.parent_xdo().arg("validatorGroup");if(!a)return!0;for(var n=t.parent_xdo().arg("validateCount")||1,r=t.parent_xdo().arg("validateCountMax"),o=t.find(".xds-validator-group-"+(a||t.args.type),!0),d=0,l=0;l<o.length;l++){var c=$(o[l]);if(c.xdo){var u=c.xdo.val();if(c.hasClass("swfuplaod")){c.find(".xds-f_file-queue li").length>0&&d++;continue}if(c.hasClass("xds-f_file")&&c.xdo.temp.selectedFile){d++;continue}if(c.hasClass("xds-uploader-types-uploader")&&c.hasClass("xds-uploader-uploader-hasFile")){d++;continue}if(c.hasClass("xds-addresources-container")){e.get_func("addresources.hasUploads")(c.xdo)?s.validate.uploadsComplete(c.xdo)?d++:d-=1e3:u=!1;continue}(null==u||0==u||""==u||Array.isArray(u)&&0==u.length||"object"===_typeof(u)&&0===Object.keys(u).length||c.hasClass(i.fieldPlaceholder))&&!c.hasClass("xds-validator-modified")||d++}}return r&&d>r?(t.args.message=t.args.message||e.tpl(e.lang("A maximum of {{max}} of these fields may be filled."),{max:r}),!1):(t.args.message=t.args.message||e.tpl(e.lang("At least {{required}} of these fields are required."),{required:n}),d>=n)},integer:function(t){var a=t.val();if(a.length>0&&(isNaN(parseInt(a))||(parseInt(a)+"").length!==a.length))return t.args.message=t.args.message||e.lang("The value must be an integer."),!1},email:function(e){var t=e.val();return!!(t.length>0&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.toLowerCase()))||0===t.length||!t},intergerpositiveorzero:function(t){var a=t.val(),i=parseInt(a);if(a.length>0&&(isNaN(i)||i<0||(i+"").length!==a.length))return t.args.message=t.args.message||e.lang("The value must be an integer greater than or equal to zero."),!1},natural:function(t){var a=t.val();if(a.length>0&&(isNaN(parseInt(a))||(parseInt(a)+"").length!==a.length||parseInt(a)<=0))return t.args.message=t.args.message||e.lang("The value must be a number greater than 0."),!1},nondefault:function(t){var a=t.val(),i=t.xds.defaultValue||!1;if(a==i||!1===i&&!a)return t.args.message=t.args.message||e.lang("You must select a value for this field."),!1},number:function(t){var a=t.val();if(a.length>0&&isNaN(a))return t.args.message=t.args.message||e.lang("The value must be a number"),!1},positivenumber:function(t){var a=t.val();if(a.length>0&&isNaN(a)||+a<0)return t.args.message=t.args.message||e.lang("The value must be a positive number"),!1},always:function(){},never:function(e){return e.arg("message")&&(e.args.message=e.arg("message")),!1},poll:function(t){if("#"+t.e.target.id==t.id()){var a=t.get_target("*enum");if(!a)return!1;var i=a.val();try{i=JSON.parse(i)}catch(e){i={}}var n=0;for(var r in i)i.hasOwnProperty(r)&&(n+=1);return t.args.message=t.args.message||e.lang("You must provide at least two poll answers."),n>=2}},dateGreater:function(t){var a=t.get_target(t.arg("greaterThan")),i=e.parseDate(a.xdo.val()),n=e.parseDate(t.val());return t.args.message=t.args.message||e.lang("The end date must be after the start date."),i<=n},url:function(t){t.args.message=e.lang("Please enter valid URL.");var a=t.val().toLowerCase();if(a.indexOf(" ")>=0)return t.args.message=e.lang("Please remove any spaces from the URL"),!1;if(a.indexOf("//")>=0){if(!a.startsWith("http://")&&!a.startsWith("https://"))return t.args.message=e.lang('Please correct protocol to be "https://" or "http://"'),!1}else a="https://"+a;var i=a.split("/")[2].split(":"),n=new RegExp("^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"),r=new RegExp("^()([1-9]|[1-5]?[0-9]{2,4}|6[1-4][0-9]{3}|65[1-4][0-9]{2}|655[1-2][0-9]|6553[1-5])$");if(n.test(i[0])||"localhost"==i[0]){if(!(i.length>1))return!0;if(r.test(i[1]))return!0}var o=e.findURLS(a);return 1===(o=e.obj_to_arr(o)).length&&o[0]==a&&void 0}},events:{inputNotReady:function(t){t.temp["form-input-readycounter"]||(t.temp["form-input-readycounter"]=0),t.temp["form-input-readycounter"]+=1,e.log.debug("forms.events.inputNotReady: ".concat(t.temp["form-input-readycounter"])),t.dom().addClass(e.css.formInputNotReady)},inputReady:function(t){t.temp["form-input-readycounter"]?t.temp["form-input-readycounter"]-=1:t.temp["form-input-readycounter"]=0,e.log.debug("forms.events.inputReady: ".concat(t.temp["form-input-readycounter"])),0===t.temp["form-input-readycounter"]&&(t.dom().removeClass(e.css.formInputNotReady),t.trigger("xds-form-input-ready"))},setField:function(e){var t=e.get_xdo(e.get_arg("target")),a=e.get_arg(e.get_arg("valueKey")||"value");t.val(e.tpl(a)),t.trigger("xds-forms-field-valueChanged")},changePostTarget:function(t,a,i){$.extend(t.data,i);var n=a.parents("form");n.length||(n=a);var r=e.get_obj(n),o=r.xds;o.nid=t.get_arg("nid"),void 0===o.nid&&(o.nid=i&&i.nid?(""+i.nid).split(",").join("."):""),void 0!==o.nid&&""!==o.nid||(o.nid=t.get_arg("value")),o.nid=(o.nid+"").split(",").join("."),$.extend(o,t.args),n.attr("action",r.formAction())},warning:function(e,t,a){var n=e.args.target?e.get_target(e.args.target,1):e.dom();e.find("."+e.e.id,1).length||n.after(r.div(e.args.message,[i.validateMsg,i.validateMsgWarning,e.e.id])).next().fadeIn()},validate:function(t,a,n){var o=t.args.target?t.get_target(t.args.target,1):t.dom();if(t.find("."+t.e.id,1).fadeOut(),o.removeClass(e.css.validateFailed),t.args._func&&"string"==typeof t.args._func){var d=e.common.processPotentialEvalField("_func",t.args._func);d.func&&(t.args._func=d.func)}(t.args._func&&!1===t.args._func(t,a,n)||t.args.type&&!1===e.get_func(t.args.type,s.validate)(t,a,n))&&(o.addClass(e.css.validateFailed),o.append(r.div(t.args.message,[i.validateMsg,i.validateMsgError,t.e.id])).on("resetValidation",function(){o.removeClass(e.css.validateFailed),t.find("."+t.e.id,1).remove()}))},validateForm:function(t,a){e.validate(a)},stale_form:function(e,t){return void 0===t&&(t=e),e.fresh||e.args&&e.args.fresh?(t.removeClass("xds-form-sending"),$(t).find("input, textarea").each(function(){$(this).removeAttr("readonly")}),$(t).find(n.field).removeClass("xds-field-sending"),!1):!!t.hasClass("xds-form-sending")||($(t).find("input, textarea").each(function(){$(this).attr("readonly","readonly")}),$(t).find(n.field).addClass("xds-field-sending"),$(t).addClass("xds-form-sending"),!1)},ajax_post:function(a,o,d){var l,c=function(t,a,i){if(t.arg("tmpNodeCommitAfter")||t.get_setting("noCommit")||"new"!==t.build.buildMode||t.get_arg("preview")){!a.is("form")&&(a=a.parents("form"));var n={};if("undefined"!=typeof tinyMCE)for(var r in tinyMCE.editors)if(tinyMCE.editors.hasOwnProperty(r)){var o=tinyMCE.editors[r];a.find("#"+r).length&&e.get("neweditors").prepareMCETextArea(r)&&(n[r]=e.get("neweditors").resolve_editor_to_xdo(o))}var d=a.attr("action");if(void 0===t.stale_form&&void 0===t.args.stale_form&&(t.stale_form=!0),t.args=t.args||{},t.stale_form=void 0!==t.args.stale_form?t.args.stale_form:t.stale_form,t.stale_form&&s.events.stale_form(a))return!1;t.form={},a.find("input:not(.xds-forms-field-virtual), textarea").each(function(){var a=$(this).attr("name");if(a&&(t.form[a]=$(this).val(),$(this).hasClass("xds-richtext-f_styledtext")||n[a])){var i=t.form[a];e.get_func("wysiwyg.isEditor")&&e.get_func("wysiwyg.isEditor")(t)&&e.get_func("wysiwyg.getFormattedHTML")&&(i=e.get_func("wysiwyg.getFormattedHTML")(n[a]));var r="\x3c!--xdl-rich--\x3e";if(i.substr(0,r.length)!==r&&i.length){var o=r+i;t.form[a]=o,t.find('[name="'+a+'"]').val(o)}}});var c=[],f="new"===t.build.buildMode&&!t.get_arg("preview")&&!!t.arg("tmpNodeCommitAfter"),g=function(e,n){t.response=e,s.events.ajax_post.success(e,n,t,a,i)},p=function(a,i){f?e.post({url:{command:"commit",nid:t.nid()},callback:function(){t.is_dead()||(t.build.buildMode="newCreated",g(a,i))}}):g(a,i)},h=(t.dom().attr("action"),a.serializeArray());t.temp&&(t.temp.postData=h);var m={};h.map(function(e){m[e.name]=e.value});var v=t.find('input[type="file"]');if(v.length){for(var b=e.get("addresources"),_=[],y=[],x=[],w=0;w<v.length;w++){var C=v[w];C.getAttribute("data-direct-upload")&&function(){var t=e.get_obj(C);if(t.temp.selectedFile)y.push(t.temp.selectedFile),x.push(C.name||"file");else if(C.files)for(var a=0;a<C.files.length;a++)y.push(C.files[a]),x.push(C.name||"file");_.push(b.upload(y,m,{action:d},function(e){t.trigger("progress",{progress:e})},x))}()}if(_.length>0){var k=Promise.all(_);return(k=k.then(function(e){var t=e[0].response,a=e[0].xhr;p(t,a)})).then(function(e){t.trigger("ajax_post_upload")}).catch(function(e){t.trigger("ajax_post_fail",e)})}}return l=setTimeout(function(){a.append(e.html.div(e.html.loading(),"xds-loading-wrap"))},1e3),e.post({xdo:void 0,url:d,data:m,callback:function(a,i){var n=[];if(c.length>0){for(var r=0;r<c.length;r++)n.push(c[r](a,i));a._wasMultiUpload=!0}Promise.all(n).then(function(){var n=Promise.resolve();t.arg("rePostAfterUploads")&&(n=new Promise(function(i,n){for(var r={nid:[a.pnid,a.rid,a.nid].join("/"),command:"node",xds:t.xdsid()},o=t.arg("rePostAfterUploads").split(","),s={},d=0;d<o.length;d++)s[o[d]]=!0;var l={};for(var c in m)s[c]&&(l[c]=m[c]);e.post({xdo:t,url:e.gen_url(r).replace(".json",""),data:l,callback:function(e,t){i({action:"rePostAfterUploads",response:e})}})})),n.then(function(e){p(a,i)})})}}),!1}e.post({url:{command:"commit",nid:t.nid()},callback:function(){t.is_dead()||(t.build.buildMode="newCreated",u(t,a,i))}})},u=function(t,a,i){if(void 0!==t.e&&t.e.preventDefault&&t.e.preventDefault(),!e.validate(a))return!1;var n=function(t,a,i){var n={};if("undefined"!=typeof tinyMCE)for(var r in tinyMCE.editors)if(tinyMCE.editors.hasOwnProperty(r)){var o=tinyMCE.editors[r];a.find("#"+r).length&&e.get("neweditors").prepareMCETextArea(r)&&(n[r]=e.get("neweditors").resolve_editor_to_xdo(o))}var s=[];if(Object.keys(n).length>0)for(var d in n)s.push(e.get("neweditors").saveHook(d));return s}(0,a);return n.length>0?(Promise.all(n).then(function(){c(t,a,i)}),!1):c(t,a,i)};u.success=function(a,o,d,c,u){try{if(t.leapMobile&&t.leapMobile.version<4&&"string"==typeof a){var p=c,h=u,m=e.handleResponse(a);a=m,c=(d=h).id(1),u=p,d.response=m}else null==c&&(c=d.id(1))}catch(e){}if(clearTimeout(l),c.find(".xds-loading-wrap").remove(),void 0===a.error||d.args&&d.args.forceSuccess){var v=d.find(n.success,!0),b=a.nid;a.pnid&&a.rid&&(a.nid=d.cnid([a.pnid,a.rid,a.nid]));var _=d.args.func;if(d.arg("updateData")){var y=d.temp.postData;for(var x in y)if(y.hasOwnProperty(x)){var w=e.get_obj(d.path.split("-").pop()+"-"+y[x].name);if(w&&w.xds&&w.xds.dbid){var C=e.sanitize(e.mlescape(y[x].value));e.update(b,w.xds.dbid,C)}}}delete d.args.func,v.length?f(d,a,v,_):_&&e.get_func(_)(d,a),c.find(n.success).length?c.find(n.success).fadeIn(1e3,function(){setTimeout(function(){g(d,c,a)},500)}):g(d,c,a)}else{var k,S;d.fresh=!0,s.events.stale_form(d,c),a=e.handleResponse(a),e.errors.handleResponseError(a),a.errorfield&&("*"===a.errorfield.charAt(0)?(k=d.get_xdo(a.errorfield))&&(S=k.dom()):(S=c.find("[name="+a.errorfield+"]")).length&&(S=S.parents(e.$css.field)),S&&S.length&&(S.after(r.div(e.lang(a.errorstr)||e.lang("Error"),[i.validateMsg,i.validateMsgError])).siblings(n.validateMsg).hide().fadeIn(),a.messagevisible=!0)),c.trigger("ajax_post_fail",a)}};var f=function(t,a,i,n){i.css({display:"inline-block",opacity:0}),i.animate({opacity:1},function(){n&&e.get_func(n)(t,a)}),setTimeout(function(){i.fadeOut(1e3)},1e3)},g=function(e,t,a){t.trigger("ajax_post_succeeded",{target:e}),!e.args.no_ajax_post&&t.trigger("ajax_post",a),!e.arg("noPostedEvent")&&t.trigger("posted",a),a._wasMultiUpload&&t.trigger("ajax_post_multifile_posted",a)};return u}(),post:function(t,a,i){var n;a||(a=t.dom()),!t.args&&(t.args={});var r=t.args.data||{};$.extend(r,{_formkey:t.key()}),!t.args.data&&(r[t.name()]=t.get_val()),!t.get_arg("nid")&&(t.args.nid=t.rnode?e.composeNid(t.node,t.rnode):t.node.nid),e.is_func(t.args.nid)&&(t.args.nid=t.args.nid(t)),n=e.tpl(t.get_arg("action")?t.get_arg("action"):void 0!==t.get_arg("xds")?e.formAction(e.gen_url(t.get_args())):t.formAction(),t.rnode?t.rnode:t.node),!t.args.jsonresponse&&(n=n.replace(".json","")),e.post({xdo:t,url:n,data:r,error:function(e){"function"==typeof t.get_arg("error")&&t.get_arg("error")(t,e)},callback:function(n,r){e.get_func("ajax_post").success(n,r,t,a,i,t)}})},filteredSearchQuery:function(e){var t,a=e.get_arg("formtarget"),i=e.get_arg("patternField"),n=a?"parent"===a?e.parent_xdo():e.get_xdo("*".concat(a)):e,r=[],o={};if(e.get_arg("subject")&&(e.set_setting("subject",e.get_arg("subject")),e.get_xdo("*lorfilters").update()),i){var s=e.get_xdo(i);if(!s)return;t=s.val()}var d=function(e){return e.length>1&&"["==e[0]&&"]"==e[e.length-1]?e:'"'.concat(e,'"')};n.find(".xdl-forms-field, .xds-dd-prep-prep, .xds-f_hidden, .xds-facets-serverFacet").each(function(t,a){var i,s=n.get_xdo("find:#".concat(a.id));a.classList.contains("xds-facets-serverFacet")?(i=s.temp.param_val||"",Array.isArray(i)&&(i=i.join(","))):i=s.val();var l=s.arg("exclude");if(l){if("string"!=typeof l||!l.includes("state:"))return;var c="!"===l[0],u=function(t){t=t.trim().split(":");var a=e.state.peek(t[1]);if(3===t.length){if(!c&&a==t[2]||c&&a!=t[2])return!1}else if(a&&!c||!a&&c)return!1;return!0};if(l.indexOf(" AND ")>0){var f=l.split(" AND "),g=!0;for(var p in f){var h=f[p];g=g&&u(h)}if(!g)return}else if(!u(l))return}if(i)if(s.arg("wildcard")&&(i+="*"),s.arg("parametername"))o[s.arg("parametername")]=i;else{var m,v=s.arg("luceneKey")||s.xds.id,b=i.split(",");if(b.length>1)for(var _ in m="".concat(v,":("),b)m+=d(b[_]),_<b.length-1?m+=" OR ":m+=")";else m="".concat(v,":").concat(d(i));r.push(m)}});var l=r.join(" AND "),c=o;c.target=e.get_arg("target")||e,c.xds=e.get_arg("xds"),i?(c.pattern=t,c.filters=l):c.pattern=l,e.newEvent("loadxds",c)}},preCloseForm:function(t,a,i){if(!a){if(!t)return;a=t.dom()}if(i||(i=function(){}),a.find(".xds-form").length>0){var n=[];n.push(new Promise(function(t,i){e.get_obj(a.find(".xds-form")[0]).trigger("xds-form-close",{func:t,target:a})})),Promise.all(n).then(function(){i()})}else i()},form:function(){function t(e){return"create"===e.get_setting("command")||"create"===e.arg("command")}function a(a,o){var d=p(a),l=a.caller();if(a.xds.callerThread&&l&&o.find("form").append(r.input({type:"hidden",name:"thread",value:l.nid()})),t(a)&&!1!==a.arg("persistData")){var c,u,f,g=e.storage(d,void 0,!0),h=!1;if(g){for(c in g)u=o.find("[name='"+c+"']"),(f=$(u.parents(n.field))).length&&f.xds&&(f=f.xdo,g[c].length&&(h=!0,u.val()&&u.val().length&&!f.dom().hasClass(i.fieldPlaceholder)||g[c]&&u.val(g[c])&&f.dom().removeClass(i.fieldPlaceholder)&&(f.temp.edited=!0),u.trigger("xds-forms-field-reconstituted",{name:c,val:g[c]})));h&&o.removeClass("xds-form-virgin")}}a.get_children()&&!a.arg("suppressInitialFocus")&&setTimeout(function(){var t=o.find(s.selectors.focusableInputs).first();0===t.length&&(t=o.find(s.selectors.focusables).first());var a=$(t.parents(n.field)).xdo||t.xdo;a&&a.xds&&!a.xds.suppressInitialFocus&&(e.inInitialFocus=!0,t[0]&&t[0].focus(),e.state._lastActiveElement=t[0],a&&a.picker&&!a.picker.searchLength&&a.picker.close(!0),delete e.inInitialFocus)},1)}function o(a,i){var n=p(a);if(t(a)&&!1!==a.arg("persistData")&&!a.isDefaultPrevented()&&!a.temp.submitted){var r=a.e.target,o=r.name,s=r.value,d=e.storage(n,void 0,!0)||{};o&&(d[o]=s,e.storage(n,d,!0))}}function d(a,i,n){var r=p(a);if(t(a)&&!1!==a.arg("persistData")&&!a.isDefaultPrevented()&&!a.temp.submitted){var o=n.name,s=n.value,d=e.storage(r,void 0,!0)||{};o&&(d[o]=s,e.storage(r,d,!0))}}function l(a,i){var n=p(a);e.log.debug("forms.events.form[formSubmit]"),t(a)&&(e.storage(n,-1,!0),a.temp.submitted=!0)}function c(e,t){delete e.temp.dirty,e.arg("closeOnPost")&&e.event("lightbox.close")}function u(e,t){e.arg("noDirtyForm")||(e.temp.dirty||e.addClass(i.dirtyForm),e.temp.dirty=!0)}function f(e,t){delete e.temp.dirty,e.removeClass(i.dirtyForm)}function g(t,a,i){var n;if(!i&&(i={}),n=i.func||t.args.func,t.temp.dirty&&!t.temp.dialog){t.temp.dialog=!0;var r=e.confirm({target:t.args.target||i.target,confirmButton:"Close",message:i.message||e.lang("Are you sure you want to close this window without saving changes?"),cancel:function(){delete t.temp.dialog},confirm:function(){delete t.temp.dialog,t.temp.dirty=!1,a&&a.trigger("xds-form-closed"),t.trigger("xds-form-close"),"function"==typeof n&&n()}});return r.then(function(){},function(){}),r.finally(function(){delete t.temp.dialog}),r}return t.temp.dirty?Promise.resolve():("function"==typeof n&&n(),Promise.resolve())}function p(e){return e.get_setting("nid")+":"+e.xdsid()}return function(n){n.sudoType||n.arg("noPost")?n.arg("noPost")&&n.on("submit",e.noop,{preventDefault:!0}):n.has_event("ajax_post")||!n.has_write(n.arg("xds"))&&!n.arg("editable")||n.on("submit","ajax_post"),!n.arg("noFlexForm")&&n.addClass("xds-form-flex");var r=!1;!1!==n.arg("editable")&&(n.has_write()||n.arg("editable")||t(n))||(r=!0,n.addClass("xdl-form-readonly")),!1!==n.arg("formReadOnlyGlobal")&&r&&n.global("readonlyForm",!0),t(n)&&(n.addClass(i.formVirgin),n.on("change xds-picker-picked keyup setFormDirty","removeClass",{className:i.formVirgin})),n.addAttr({method:"post",enctype:"multipart/form-data",action:n.tag("form").formAction()}),n.sparse=!0,n.ready(a),n.on("keyup",o),n.on("xds-forms-field-changed",d),n.on("submit",l),n.on("change",u),n.on("resetdirty",f),n.on("xds-picker-picked",u),n.on("ajax_post",c),n.on("xds-form-close",g),n.on("setFormDirty",u),n.closeForm=function(){return g(n)},n.posttag('<input type="hidden" value="'+n.key()+'" name="_formkey">'),n.arg("width")&&n.addStyle("width",parseFloat(n.arg("width"))+"px")}}(),f_section:function(t){t.tag("fieldset").posttag(void 0!==t.xds.title?"<h2>"+t.xds.title+"</h2>":""),t.xds.legend&&t.posttag(e.html.make("legend",t.xds.legend)),t.sparse=!0,t.showTitle=!1;var a=t.get_children(),i=a&&a.length-1;i?(a[i].css="xds-f_section-last "+(a[i].css||"").replace(/\s*(\S+)\s*/,"$1"),a[0].css="xds-f_section-first "+(a[0].css||"").replace(/\s*(\S+)\s*/,"$1")):a&&a.length?a[0].css="xds-f_section-single "+(a[0].css||"").replace(/\s*(\S+)\s*/,"$1"):t.addClass("xds-f_section-empty")},f_title:function(e){e.tag("h2")},f_label:function(e){var t;e.addClass("xdl-forms-label"),e.arg("for")&&((t=e.path.split("-")).pop(),t.push(e.arg("for")),e.addAttr("for",t.join("-")+"__f__")),e.tag("label")},f_default:function(){function t(e){e.find(".xdl-forms-input").attr("size",e.val().length)}function n(e){if(!$.contains(e.dom()[0],a.activeElement)){var t=e.find("input");if(t.focus(),t.length>0){var i=t.val();try{t[0].setSelectionRange(i.length,i.length)}catch(e){}}}}return function(d,l,c){d.noLinks=!0,l=!1!==l&&(l||"text"),c=(c||"")+" "||"",c+="xdl-forms-input";var u=d.xds,f=void 0===d.get_val()||!1===d.get_val()?"":d.get_val(),g="",p=void 0!==d.xds.name?d.xds.name:d.name(),h=s.is_read_only(d)?"readonly":void 0;if(0!==f.length||d.noDefault||(d.addClass("xds-field-empty"),void 0!==d.xds.defaultValue&&(f=d.arg("defaultValue"))),d.arg("width")&&(d.addStyle("width",d.arg("width")),d.posttag('<div class="xdl-forms-field-wrap">',!0),d.preclosetag("</div>"),d.addClass("xdl-forms-field-width")),void 0!==d.arg("value")&&(f=d.arg("value")),!u.nopicker){var m=d.get_children();(u.choices||m&&m.length)&&(g=d.pickerSetup(d.pickerextend).construct(),d.xds.disableSetState=!0)}o(d);var v=d.inputArgs||{};"object"==_typeof(f)&&(f=JSON.stringify(f)),$.extend(v,{name:p,id:d.path+"__f__",type:l,value:""===f?"":f,readonly:h}),h&&d.addClass(i.fieldReadonly),d.arg("inputArgs")&&$.extend(v,d.arg("inputArgs")),v.value=e.mlescape(v.value),"name"===d.arg("dbid")&&(v.maxLength=255),d.arg("maxlength")&&(v.maxLength=d.arg("maxlength")),d.arg("inputmode")&&(v.inputmode=d.arg("inputmode"));var b=d.arg("disabled");if(b){var _=!0;if("string"==typeof b){var y=e.get_func(b);y&&!y(d)&&(_=!1)}_&&(v.disabled="disabled")}d.arg("placeholder")&&(v.placeholder=d.arg("placeholder"),v["aria-label"]=d.arg("placeholder")),d.arg("autocapitalize")&&(v.autocapitalize=d.arg("autocapitalize")),d.arg("autoWidth")&&(v.size=v.value.length||5,d.delegate("keyup",t)),v=s._normalizeInputArgs(v),d.xds["aria-label"]&&(v["aria-label"]=d.arg("aria-label")),"hidden"===v.type?void 0===d.attr("tabindex")&&d.attr("tabindex",h?"-1":"0"):(d.xds.suppressAria=!0,d.picker?d.attr("tabindex","0"):d.attr("tabindex","-1"),v.tabindex=h?"-1":"0"),v=!1===l?d.inputTag?e.html[d.inputTag](d.inputHTML||"",c):"":r.input(v,c),g&&(v="");var x=(d.preInput||"")+v+(d.inputExtend||"")+g;if(d.addClass([i.field,i.focusable]),d.displayVal=" ",!u.title||d.arg("noTitle")||d.arg("simple"))d.addClass("xds-field-notitle");else{var w=r.make("label",u.title,{for:d.path+"__f__"},"xdl-forms-label",!0);d.arg("appendLabel")?d.preclosetag(w):d.posttag(w),d.showTitle=!1}d.posttag(x),d.delegate("focusin",n),!d.arg("disableSetState")&&d.on("change xds-picker-picked","setState"),d.arg("autofocus")&&d.ready(function(e){n(e)}),e.platform.ios&&d.ready(function(){var e={8216:"'",8219:"'",8220:'"',8223:'"',8217:"'",8221:'"',8242:"'",8243:'"',8245:"'",8246:'"',8212:"-",8211:"-"};d.find("input").on("keypress",function(t){if(t.key){if(1!=t.key.length)return;var i=t.key.codePointAt(0),n=e[i];n&&(t.preventDefault(),a.execCommand("insertText",0,n))}})})}}(),enableField:function(e){var t=e.target();t.xdo.arg("disabled",!1),t.find("input").attr("disabled","")},f_guidetext:function(e){e.xds.readonly=!0,e.inherit("f_default")},f_styledtext:function(e){e.inherit("richtext.types.f_styledtext")},f_multiline:function(e){e.inherit("f_textarea")},f_textarea:function(t){t.arg("tabindex",-1),e.platform.mobile&&t.arg("mobileSuppressInitialFocus")&&t.arg("suppressInitialFocus",t.arg("mobileSuppressInitialFocus")),t.on("change","trigger",{eventName:"validate"});var a=t.arg("max-height")||"";e.layout.isPhone()&&(a="150px",t.arg("max-height-phone")&&(a=t.arg("max-height-phone")));var n=t.arg("min-height")||"";a&&(a="max-height:"+a+";"),n&&(a+="min-height:"+n+";"),t.arg("height")&&(a+="height: ".concat(t.arg("height"),";")),t.noLinks=!0;var d={id:t.id(0).substr(1)+"__f__",class:"xdl-forms-input",name:void 0!==t.xds.name?t.xds.name:t.name(),style:a,placeholder:t.arg("placeholder"),autocomplete:t.arg("autocomplete")||"off","aria-label":t.arg("placeholder")||t.arg("aria-label")||e.lang("Enter Text")};t.arg("autofocus")&&(d.autofocus="true"),t.xds.suppressAria=!0,s.is_read_only(t)&&(t.arg("readonly","readonly"),d.readonly="readonly");var l=e.html.make("textarea",t.get_val()||t.displayVal||"",d);t.addClass(i.field).posttag(l).preclosetag(""+r.div("","xds-f_url-loader")),t.sparse=!0,t.showTitle=!1,t.displayVal=" ",o(t),!1!==t.arg("autogrow")&&t.on("input",function(e){var t=e.find("textarea")[0];!1!==e.arg("autoshrink")&&(t.style.height=0),t.style.height=t.scrollHeight+"px"}),t.on("keyup",function(a){t.trigger("setFormDirty"),t.arg("modeTrigger")&&"chat"==t.state.data[t.arg("modeTrigger")]&&(13!=t.e.keyCode||t.e.shiftKey&&!e.platform.mobile||(t.preventDefault(),t.trigger("submit")))}),t.on("keydown",function(a){t.arg("modeTrigger")&&"chat"==t.state.data[t.arg("modeTrigger")]&&(13!=t.e.keyCode||t.e.shiftKey&&!e.platform.mobile||t.preventDefault())}),t.ready("trigger",{eventName:"input"})},f_str:function(a){return a.arg("interimchange")&&a.on("keyup",function(e){e.temp.keyupTimer&&t.clearTimeout(e.temp.keyupTimer),13!==e.e.keyCode&&(e.temp.keyupTimer=t.setTimeout(function(){e.trigger("interimchange",{newValue:e.val()})},500))}),e.types.f_default.call(a,a)},f_browseNode:function(t){t.sparse=!0,t.showTitle=!1,t.runOnce(function(){t.addChild({id:"visibleValue",placeholder:t.arg("placeholder")||e.lang("Choose Source"),readonly:"readonly",type:"f_str",title:t.arg("title")}),t.addChild({id:"sourceValue",type:"f_hidden",name:t.name()})}),t.on("click","lightbox",{xds:t.arg("xdsBrowse")}),t.on("BrowseNode-done",function(e){e.get_xdo("*sourceValue").val(e.get_arg("nid")),e.get_xdo("*visibleValue").val(e.get_arg("name"))})},f_url:function(e){e.inherit("f_hidden").postclosetag(r.div("","xds-f_url-loader"))},f_simplePassword:function(e){e.inputArgs||(e.inputArgs={}),e.inputArgs.autocomplete="off",e.inherit("f_default","password")},f_password:function(t){var a,i,r;if(t.inputArgs||(t.inputArgs={}),t.inputArgs.autocomplete="off",t.xds.verify?(r={"xds-f_section-first":"","xds-f_section-single":"xds-f_section-last"},t.data=!1):(t.arg("disableSetState",!0),t.addSibling({name:"",id:"verify",type:"f_password",title:"Verify Password",css:t.xds.css||"",_styles:[{styles:{"text-align":"left"}}],verify:!0,disableSetState:!0}),t.addValidator({type:function(e){return e.find("input").val()===e.dom().next(n.field).find("input").val()},message:t.arg("message")||e.lang("The passwords did not match.")}),r={"xds-f_section-last":"","xds-f_section-single":"xds-f_section-first"}),r){for(i=(a=t.xds.css?t.xds.css.split(" "):[]).length;i--;)void 0!==r[a[i]]&&(a[i]=r[a[i]]);t.xds.css=a.join(" ")}t.inherit("f_default","password")},f_address:function(e){e.inherit("f_textarea")},f_hidden:function(t){t.sparse=!0;var a=void 0!==t.xds.name?t.xds.name:t.name(),i=!1!==t.data?t.data:void 0!==t.xds.defaultValue?t.arg("defaultValue"):"";if(i=t.tpl(i),void 0!==t.arg("value")&&(i=t.arg("value")),"object"===t.arg("stype")&&e.is_obj(i)||e.is_arr(i))try{i=JSON.stringify(i)}catch(e){}t.arg("noValue")&&(i=""),t.tag("input",!1,{name:a,type:"hidden",value:t.arg("escape")||"object"===t.arg("stype")?"":i}),t.displayVal="",(t.arg("escape")||"object"===t.arg("stype"))&&t.ready(function(e,t){t.val(i)})},f_switch:function(t){var a="var(--ui-switch-font-size)";t.arg("size")&&(a="".concat(t.arg("size"),"px")),t.addStyle("font-size",a);var i={off:{tooltip:e.lang("Turn on"),label:e.lang("Turned off")},on:{tooltip:e.lang("Turn off"),label:e.lang("Turned on")}},n={1:{icon:"toggle-on",newValue:0,styles:{color:"var(--ui-switch-colour-active)"},tooltip:t.arg("offTooltip")||i.on.tooltip,label:t.xds.title?"".concat(t.xds.title,": ").concat(i.on.label):i.on.label},0:{icon:"toggle-off",newValue:1,tooltip:t.arg("onTooltip")||e.lang("Turn on"),label:t.arg("hiddenLabel")||(t.xds.title?"".concat(t.xds.title,": ").concat(i.off.label):i.off.label)}};t.sparse=1,t.addChild({id:"value",name:t.name(),type:"f_hidden"});var r,o=t.state.get(t.path),s=void 0===o?t.data:o,d=1;t.data={value:s},void 0===s&&(s=t.xds.defaultValue);var l=n["".concat(s)];if(!l)return t.exitBlank();if(r=l.icon,d=l.newValue,l.styles)for(var c in l.styles)t.addStyle(c,l.styles[c]);t.tooltip=l.tooltip,t.attr("aria-label",l.label);var u=function(e,t){e.state.set(e.path,t),e.trigger("change",t)};t.on("click",function(e){u(e,d)}),t.on("keyup",function(e){if(e.eventKeyIs(["LEFT","RIGHT","ENTER"])){if(e.eventKeyIs("LEFT")?d=0:e.eventKeyIs("RIGHT")&&(d=1),d===t.data.value)return;u(e,d)}}),t.inherit("fa.glyph",{icon:r})},f_nodetype:function(t){if("create"!==t.get_setting("command")&&"new"!==t.build.buildMode)return!1;var a;if(t.arg("defaultValue")){var i=e.lookup("nt",t.arg("defaultValue")).val();i&&(a={defaultValue:i})}t.inherit("f_hidden",a)},f_date:function(e){e.inputArgs={autocomplete:"off"},e.inherit("f_default").ready(function(){s.is_read_only(e)||(e.temp.lastVal=e.val(),e.find("input").datepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd",onClose:function(t,a){var i=e.val();i!=e.temp.lastVal&&(e.trigger("datechanged",{new:i,prev:e.temp.lastVal}),e.temp.lastVal=i)}}))})},f_dateNoTime:function(t){t.inputArgs={autocomplete:"off"},t.data=e.dateFormat(e.parseDate(t.data,"GMT"),"yyyy-mm-dd"),t.inherit("f_default").ready(function(){s.is_read_only(t)||(t.temp.lastVal=t.val(),t.find("input").datepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd",onClose:function(e,a){var i=t.val();i!=t.temp.lastVal&&(t.trigger("datechanged",{new:i,prev:t.temp.lastVal}),t.temp.lastVal=i)}}))})},f_currency:function(e){e.inherit("f_default")},f_number:function(e){e.inherit("f_default")},f_telephone:function(e){e.inherit("f_default")},f_email:function(t){t.addValidator({type:"email",message:e.lang("Please supply a valid email address")}),t.inherit("f_default","email")},f_int:function(e){void 0===e.xds.validate&&e.addValidator({type:"integer"}),void 0===e.inputArgs&&(e.inputArgs={}),void 0!==e.arg("min")&&(e.inputArgs.min=e.arg("min")),void 0!==e.arg("max")&&(e.inputArgs.max=e.arg("max")),void 0!==e.arg("step")&&(e.inputArgs.step=e.arg("step")),e.inherit("f_default","number")},f_checkbox:function(){var t,a="xds-f_checkbox-checked",n="fa-check-square",o="fas",d="fa-square",l="fal";function c(t,i,r){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.arg("disabled")){if("string"!=typeof t.arg("disabled"))return!1;var c=e.get_func(t.arg("disabled"));if(!c)return!1;if(c(t))return!1}i[0].onselectstart=function(){return!1},t.e&&t.e.preventDefault();var u,f,g=t.dom(),p=g.find(".e_fa");g.hasClass(a)?(g.removeClass(a),p.removeClass(n),p.removeClass(o),p.addClass(l),p.addClass(d),u=0):(p.removeClass(l),p.removeClass(d),g.addClass(a),p.addClass(n),p.addClass(o),u=1),t.arg("inverse")&&(u=1-u),t.dom().attr("aria-checked",u?"true":"false"),f=u?t.temp.checkval:t.temp.falseval,t.set(f),g.find("input").val(f),t.arg("noAnchorFocus")||p.focus(),s&&i.trigger("change",u)}function u(e,t){32===e.e.which&&(e.e.stopPropagation(),e.e.preventDefault(),"keyup"===e.e.type&&e.trigger("click"))}return(t=function(e){var t=e.arg("inverse"),f=e.get_val(),g=["xds-f_checkbox-ui","e_fa"],p=s.is_read_only(e);e.temp.checkval=void 0!==e.arg("cbvalue")?e.arg("cbvalue"):1,e.temp.falseval=void 0!==e.arg("falsevalue")?e.arg("falsevalue"):"",f||!1!==f||(f=e.is_create()&&void 0!==e.arg("defaultValueOnCreate")?e.arg("defaultValueOnCreate"):e.arg("defaultValue")?e.arg("defaultValue"):0),f=f==e.temp.checkval||!0===f?e.temp.checkval:e.temp.falseval,e.set(f),f===e.temp.checkval&&!t||t&&f===e.temp.falseval?(e.addClass(a),g.push(o),g.push(n),e.attr("aria-checked","true")):(g.push(l),g.push(d),e.attr("aria-checked","false")),e.posttag(r.span("",g,{tabindex:"-1","aria-label":e.arg("label")||e.arg("title"),role:"checkbox"},!0)),e.noDefault=!0,p?e.addClass(i.fieldReadonly):e.on("click",c),e.on("keydown keyup",u),e.attr("role","checkbox"),e.inherit("f_default","hidden"),e.arg("cdid")&&e.arg("monitorstate")&&e.state.watch(e.arg("cdid"),function(t){t&&!e.dom().hasClass(a)&&c(e,e.dom(),void 0,!1)})}).f_checkbox_key=u,t}(),f_tristate:function(){var t=["fa-square","fa-check-square","fa-minus-square"],a=["fal","fas","fal"];function n(e){return e<0||e>=2?void 0:0===e||"0"===e?0:e?1:void 0}function o(e,i,r){var o;if(e.arg("disabled"))return!1;e.temp.anchor.removeClass(t[e.temp.value]),e.temp.anchor.removeClass(a[e.temp.value]),e.temp.value=(e.temp.value+2)%3,o=n(e.temp.value),e.temp.input.val(o),e.set(o),e.temp.anchor.addClass(t[e.temp.value]),e.temp.anchor.addClass(a[e.temp.value]),e.trigger("change",o)}function d(e,t){e.temp.input=t.find("input"),e.temp.anchor=t.find("a")}return function(l){var c=l.get_val(),u=s.is_read_only(l);c=!1===c||""===c?2:c&&"0"!==c?1:0,l.temp.value=c,l.set(n(c)),l.addClass(["xds-f_checkbox"]),l.posttag(r.a("",["xds-f_checkbox-ui","e_fa",t[l.temp.value],a[l.temp.value]],{tabindex:u?"-1":"0"},!0)),u?l.addClass(i.fieldReadonly):l.on("click",o),l.on("keydown keyup",e.get_type("f_checkbox").f_checkbox_key),l.inherit("f_default"),l.ready(d)}}(),internal_f_file_progressBar_bar:function(e){var t=e.arg("stateKey");e.sparse=!0;var a=e.state.get(t)||0;e.addStyle("width",a+"%"),e.tag("div"),e.state.watch(t,function(t){e.dom().css("width",t+"%")})},internal_f_file_progressBar:function(e){var t=e.arg("stateKey");e.sparse=!0,e.addChild({xds:{id:"bar",type:"forms.internal_f_file_progressBar_bar",stateKey:e.id()+"-progress"},data:0}),e.addStyle("display","none"),e.state.top().watch(t,function(t){e.dom().css("display","block"),e.state.set(e.id()+"-progress",t)}),e.tag("div")},internal_f_file_preview:function(e){var t=e.state.get(e.arg("selectedStateKey"));if(t){var a={right:{name:t.name}};if(t.type){var i=new Blob([t],{type:t.type}),n=URL.createObjectURL(i);a.preview={ContentType:t.type,blobUrl:n}}e.addChild({xds:{id:"preview",css:"xds-f_file_richPreview-preview",sparse:!0,fields:[{id:"preview",type:"files.smartThumb",tag:"div",targetWidth:48,iconSize:48,queueable:!1},{id:"right",css:"xds-f_file_richPreview-right",sparse:!0,fields:[{id:"name",css:"xds-f_file_richPreview-name"},{id:"progress",type:"forms.internal_f_file_progressBar",stateKey:e.arg("selectedStateKey")+"-uploadProgress"}]}]},data:a})}else e.exitBlank()},f_fileInput:function(e){e.inherit("f_default","file","xdl-forms-f_file_input")},f_file:function(a){if(s.is_read_only(a))return!1;a.addClass(i.field),a.sparse=!0,a.xds.disableSetState=!0,a.wrapTitle=!0;var n=a.id()+"-selectedFile";a.arg("nopicker",!0),a.inputArgs={"data-direct-upload":!0},a.addChild({xds:{id:"rich",css:"xds-f_file_richPreview",sparse:!0,fields:[{id:"button",type:"button",title:a.arg("buttonTitle")||e.lang("Browse"),sparse:!0,events:[{trigger:"click",type:"trigger",eventName:"selectFile"}],tooltip:e.lang("Browse your computer")},{id:"preview",sparse:!0,type:"forms.internal_f_file_preview",selectedStateKey:n}]},data:!1}),a.inherit("f_default","file","xdl-forms-f_file_input"),a.on("click",function(e){e.temp.inClick||(e.stopPropagation(),e.temp.inClick=!0,e.find("input[type=file]").trigger("click"),e.temp.inClick=!1)}),a.on("change",function(t){var i=t.find("input[type=file]"),r=!1;i[0].files&&i[0].files.length>0&&(r=i[0].files[0]),e.get("addresources").fileTypeAllowed(t,r.name,r.type)?(a.temp.selectedFile=r,a.state.set(n,r),a.trigger("xds-f_file-file-selected",{file:r})):(i[0].value="",a.trigger("xds-f_file-file-cleared"))}),a.on("drag dragstart dragend dragover dragenter dragleave",function(e){e.temp.draginprogress=!0,e.e.preventDefault(),e.e.stopPropagation()}).on("drop dragend",function(i){var r=i.e.originalEvent;if(r.dataTransfer&&r.dataTransfer.files){var o=r.dataTransfer.files;if(o.length>0){i.find("input[type=file]").val("");var s=o[0];e.get("addresources").fileTypeAllowed(i,s.name,s.type)&&(i.temp.selectedFile=s,i.state.set(n,s),a.trigger("xds-f_file-file-selected",{file:s}))}}return i.temp.draginprogress=!1,i.temp.outtimeout=t.setTimeout(function(){i.temp.draginprogress||i.dom().removeClass("is-droppable")},100),i.e.preventDefault(),i.e.stopPropagation(),!0}).on(t,"dragover dragenter",function(e){e.dom().addClass("is-droppable"),e.temp.draginprogress=!0,e.temp.outtimeout&&(t.clearTimeout(e.temp.outtimeout),e.temp.outtimeout=!1)}).on(t,"dragleave dragend drop",function(e){e.temp.draginprogress=!1,e.temp.outtimeout=t.setTimeout(function(){e.temp.draginprogress||e.dom().removeClass("is-droppable")},300)}).on("progress",function(e){a.state.set(n+"-uploadProgress",e.get_arg("progress"))})},f_submit:function(e){var t={value:e.arg("title"),type:"submit"};e.arg("disabled")&&(t.disabled="disabled"),e.addClass(i.defaultButton).tag("input","xds-submit",t),e.attr("role","button"),e.showTitle=!1,e.sparse=!0,e.guidetext=!1},f_radioGroup:function(e){e.arg("legacy")||e.global("formsUseLegacyTypes")?e.inherit("f_radioGroupLegacy"):e.inherit("f_radioGroupSemantic")},f_radioGroupLegacy:function(t){function a(e){return e.temp.val_field?(void 0===e.temp.val_t&&(e.temp.val_t=e.get_xdo("*"+e.temp.val_field)||!1),e.temp.val_t?e.temp.val_t.dom():void 0):e.find("input.f_radioGroup_val")}function i(e,t,i){var n=a(e);n&&(n.val(i["data-value"]),e.temp.val_field&&e.state.set(e.temp.val_t.arg("id"),n.val())),e.trigger("change")}function n(){var e=a(this);if(e)return e.val()}function o(){var e=a(this);e&&e.xdo.set(this.val())}function s(e){var t;e.temp.buttons||(t=function e(t,a,i,n){var r,o;for(o in void 0===a&&(a=[],i=[],n=[]),t)r=t[o],n.push(r.id),("f_radio"===r.type||r.radio)&&(a.push(r),i.push(n.join("-"))),r.fields&&e(r.fields,a,i,n),n.pop();return[a,i]}(e.get_children()),e.temp.buttons=t[0],e.temp.button_paths=t[1])}function d(){return s(this),this.temp.buttons}function l(){return s(this),this.temp.button_paths}function c(e){var t,a=this.buttons();for(t=0;t<a.length;t++)if(a[t]["data-value"]==e)return a[t]}function u(){return this.getButton(this.val())}return function(t){t.attr("role","radiogroup");var a,s,f=t.get_val();!t.xds.fields||"object"!==_typeof(f)&&!t.arg("val_field")&&t.arg("dbid")?!1===f&&(f=void 0):(s=t.arg("val_field")||"radiovalue",t.xds.fields[s]?(t.temp.val_field=s,f=(f||{})[t.temp.val_field]):"object"===_typeof(f)&&(f=void 0)),!1!==f&&void 0!==f||void 0===(f=void 0!==t.defaultValue?t.defaultValue:t.arg("defaultValue"))&&(f=""),t.temp.val_field&&void 0!==f&&!1!==f&&(t.get_val()||t.set({}),t.data[t.temp.val_field]=f,t.state.set(t.arg("id"),f)),a=f.toString(),t.sparse=!0,t.displayVal="",t.addClass("xdl-forms-field"),!t.arg("title")||t.arg("noTitle")||t.arg("simple")?(t.addClass("xds-field-notitle"),t.arg("title")&&t.attr("aria-label",t.arg("title"))):(t.posttag(r.make("label",t.arg("title"),{id:t.id()+"_label",for:t.path+"__f__"},"xdl-forms-label")),t.showTitle=!1,t.attr("aria-labelledby","#"+t.id()+"_label")),t.val=n,t.buttons=d,t.buttonPaths=l,t.getButton=c,t.activeButton=u,t._updatefromdom||(t._updatefromdom=t.updatefromdom),t.updatefromdom=o;var g=t.buttons();for(var p in g){var h=g[p];h.checked=void 0!==f&&void 0!==h["data-value"]&&a===h["data-value"].toString()||"true"===a||a===h["data-value"]}t.temp.val_field||t.posttag(r.input({type:"hidden",value:e.is_bool(f)?f?1:0:f,name:void 0!==t.xds.name?t.xds.name:t.name(),class:"f_radioGroup_val"})),t.arg("disableSetState")||t.on("change","setState"),t.on("radioChange",i)}}(),f_radioGroupSemantic:function(t){t.tag("fieldset"),t.addClass("xdl-forms-field"),t.sparse=!0;var a=t.get_val(),i=t.arg("val_field")||"radiovalue";!t.xds.fields||"object"!==_typeof(a)&&!t.arg("val_field")&&t.arg("dbid")?!1===a&&(a=void 0):t.xds.fields[i]?(t.temp.val_field=i,a=(a||{})[t.temp.val_field]):"object"===_typeof(a)&&(a=void 0),!1!==a&&void 0!==a||void 0===(a=void 0!==t.defaultValue?t.defaultValue:t.arg("defaultValue"))&&(a=""),t.temp.val_field&&void 0!==a&&!1!==a&&(t.get_val()||t.set({}),t.data[t.temp.val_field]=a,t.state.set(t.arg("id"),a)),!t.arg("title")||t.arg("noTitle")||t.arg("simple")?(t.addClass("xds-field-notitle"),t.arg("title")&&t.posttag(r.make("legend",t.arg("title"),{id:t.id()+"_legend"},"xdl-forms-legend"))):(t.posttag(r.make("label",t.arg("title"),{id:t.id()+"_label",for:t.path+"__f__"},"xdl-forms-label")),t.showTitle=!1,t.attr("aria-labelledby","#"+t.id()+"_label")),t.arg("val_field")||t.posttag(r.input({type:"hidden",value:e.is_bool(a)?a?1:0:a,name:void 0!==t.xds.name?t.xds.name:t.name(),class:"f_radioGroup_val"})),t.set_val_field=function(a){var n=t.child(i,1);if(n.length&&n.xdo&&e.is_xdo(n.xdo)){var r=n.xdo;r.dom().val(a),t.state.set(r.arg("id"),a)}else t.find(".f_radioGroup_val").val(a)},t.on("radioButtonChange",function(e,a,i){t.set_val_field(i["data-value"]),e.arg("disableSetState")||e.event("setState")}),t.displayVal="",t.watch(function(e){})},f_newRadio:function(e){},f_radio:function(e){e.arg("legacy")||e.global("formsUseLegacyTypes")?e.inherit("f_legacyRadio"):e.inherit("f_radioSemantic")},f_radioSemantic:function(t){var a=t.arg("checked")?1:0;s.is_read_only(t),t.displayVal="",t.temp["data-value"]=t.arg("data-value"),t.attr("tabindex","-1"),t.displayVal="",t.showTitle=!1;for(var i=t.parent_xdo();i&&"fieldset"!==i.tagName;)i=i.parent_xdo();var n=t.name();i&&(n=i.name());var o=i.val();!1!==o&&void 0!==o||void 0!==i.arg("defaultValue")&&(o=i.arg("defaultValue")),void 0!==o&&(o=o.toString());var d=t.arg("data-value");void 0!==d&&(d=d.toString()),i&&void 0!==o&&o===d?a=1:i&&void 0!==o&&(a=0);var l={type:"radio",name:n,id:t.id()+"_input",tabindex:0,value:t.arg("data-value"),"aria-hidden":"true"};a?(l.checked="true",t.attr("data-checked","1")):t.attr("data-checked","0"),t.posttag(r.make("input","",l,"xdl-f_radio_input",!0)),t.posttag(r.make("label",r.make("span","",{"aria-hidden":"true"},["xdl-f_radio_glyph_unchecked","e_fa","fa-circle","fal"],!0)+r.make("span","",{"aria-hidden":"true"},["xdl-f_radio_glyph_checked","e_fa","fa-dot-circle","fas"],!0)+(t.arg("title")||""),{id:t.id()+"_label",for:t.id()+"_input",role:"radio"},"xdl-f_radio_label",!0)),t.on("change",function(e){e.trigger("radioButtonChange",{"data-value":e.temp["data-value"]}),e.attr("data-checked",e.temp["data-value"])}),t.on("click",function(t){var a=e.get_obj(t.e.target);i.find("input[type=radio]").each(function(i,n){var r=e.get_obj(n);r.is(a)?n.checked||(n.checked=!0,t.trigger("change",{"data-value":r.temp["data-value"]})):n.checked=!1}),t.stopPropagation()})},f_faRadio:function(){var t="xds-f_radio-button-checked",a="fa-dot-circle",n="fa-circle",o="fal",d="fas";function l(i,r){r[0].onselectstart=function(){return!1},i.e.preventDefault();var s=i.find(".xds-f_radio-button");i.temp.radioGroup||(i.temp.radioGroup=$(i.parents(".xds-f_radioGroup")).xdo);var l=i.temp.radioGroup.buttonPaths();for(var c in l){var u=i.temp.radioGroup.get_xdo("*"+l[c]);e.is_xdo(u)&&(u.set(0),u.find(".xds-f_radio-button").removeClass(t),u.find(".xds-f_radio-button").removeClass(a),u.find(".xds-f_radio-button").removeClass(d),u.find(".xds-f_radio-button").addClass(n),u.find(".xds-f_radio-button").addClass(o),u.attr("aria-checked","false"))}s.hasClass(t)||(s.addClass(t),s.removeClass(n),s.removeClass(o),s.addClass(a),s.addClass(d),i.attr("aria-checked","true")),i.set(1),i.find(".xds-f_radio-button").focus(),i.temp.radioGroup.trigger("radioChange",{"data-value":i.temp["data-value"]})}function c(e,t){32===e.e.which&&(e.e.preventDefault(),t.trigger("click"))}return function(e){var u=e.arg("checked")?1:0,f=s.is_read_only(e);e.displayVal="",e.temp["data-value"]=e.arg("data-value"),e.attr("role","radio");var g=["xds-f_radio-button","e_fa"];u?(g.push(t),g.push(a),g.push(f?"fas":d)):(g.push(n),g.push(f?"fas":o)),e.posttag(r.div(r.span("",g,{tabindex:"-1"}),["xds-f_radio-button-wrap"])),!e.arg("title")||e.arg("noTitle")||e.arg("simple")?e.addClass("xds-field-notitle"):(e.posttag(r.make("label",e.arg("title").replace(/ /g,"&nbsp;"),{for:e.path+"__f__"},"xdl-forms-label")),e.showTitle=!1),f?e.addClass(i.fieldReadonly):(e.on("keydown",c),e.on("click",l))}}(),f_freeRadio:function(){function e(e,t,a){var i=e.get_xdo("*"+e.arg("group"));e.state.get(e.arg("group")),e.temp.radioGroup=i,i.buttons(),i.temp.buttons.push(e),i.temp.button_paths.push(e.arg("id")),i.val()==e.arg("data-value")&&e.trigger("click")}return function(t){t.on("onload",e),t.inherit("f_radio")}}(),f_legacyRadio:function(){var t="xds-f_radio-button-checked";function a(a,i){i[0].onselectstart=function(){return!1},a.e.preventDefault();var n=a.find("a");a.temp.radioGroup||(a.temp.radioGroup=$(a.parents(".xds-f_radioGroupLegacy")).xdo);var r=a.temp.radioGroup.buttonPaths();for(var o in r){var s=a.temp.radioGroup.get_xdo("*"+r[o]);s instanceof e.xdoSuperProto&&(s.set(0),s.find("a").removeClass(t))}n.hasClass(t)||n.addClass(t),a.set(1),a.find("a").focus(),i.trigger("radioChange",{"data-value":a.temp["data-value"]})}function n(e,t){32===e.e.which&&(e.e.preventDefault(),t.trigger("click"))}return function(e){e.displayVal="",e.arg("inverse");var o=e.arg("checked")?1:0,d=s.is_read_only(e);e.temp["data-value"]=e.arg("data-value");var l=["xds-f_radio-button",i.formSprite];o&&l.push(t),e.posttag(r.a("",l,{tabindex:"-1"})),!e.arg("title")||e.arg("noTitle")||e.arg("simple")?e.addClass("xds-field-notitle"):(e.posttag(r.make("label",e.arg("title").replace(/ /g,"&nbsp;"),{for:e.path+"__f__"},"xdl-forms-label")),e.showTitle=!1),d?e.addClass(i.fieldReadonly):(e.on("keydown",n),e.on("click",a))}}(),f_slider:function(e){e.inputArgs={min:e.arg("min")?e.arg("min"):0,max:e.arg("max")?e.arg("max"):100,step:e.arg("step")?e.arg("step"):1},e.inherit("f_default","range")},input:function(e){e.tag("input"),e.close=!1,e.displayVal=" ",e.sparse=!0,e.attr("placeholder",e.arg("placeholder")),e.addAttr("value",!1!==e.get_val()?e.get_val():""),void 0!==e.arg("inputType")&&e.addAttr("type",e.arg("inputType"))},f_colorPicker:function(t){t.inputArgs={autocomplete:"nope"},t.inherit("f_str",{disableSetState:!0}),e.resources.load([e.gbl.lib+"colpick/colpick.js",e.gbl.lib+"colpick/colpick.css"],function(){t.dom().find("input").css({"border-right-width":"20px"}).colpick({layout:"hex",submit:0,colorScheme:"dark",onChange:function(e,a,i,n,r){$(n).css("border-color","#"+a),r||$(n).val(a),t.trigger("change")},onReady:function(e,t){$(el).css("border-color","#"+t),bySetColor||$(el).val(t)}}).keyup(function(){$(this).colpickSetColor(this.value)}),t.find("input").colpickSetColor(t.data)})},f_duration:function(){var t;function a(e,t){return void 0!==e.temp[t]?e.temp[t]:void 0!==e[t]?e[t]:e.arg(t)}function i(t,i){var n=[],r=a(t,"none_value"),o=[{value:86400,display:e.lang("days",!1,"duration picker days item")},{value:604800,display:e.lang("weeks",!1,"duration picker weeks item")}],s=[{value:1,display:e.lang("seconds",!1,"duration picker seconds item")},{value:60,display:e.lang("minutes",!1,"duration picker minutes item")},{value:3600,display:e.lang("hours",!1,"duration picker hours item")}];return a(t,"date_only")||(n=n.concat(s)),a(t,"time_only")||(n=n.concat(o)),a(t,"allow_unlimited")&&!i&&(n=n.concat({value:0,display:a(t,"textZero")||e.lang("unlimited")})),void 0===r||i||(n=n.concat({value:r,display:a(t,"textNone")||e.lang("none")})),n}function n(e,t){return t.value-e.value}function r(e,t){var a,r=i(e,!0);for(r.sort(n),a=0;a<r.length-1&&(!r[a].value||t%r[a].value!=0);a++);return r[a]}function o(e,t){var i,n=a(e,"none_value");return void 0!==n&&t===n?e.data={quantity:"--",units:n,value:n}:0===t?e.data={quantity:"--",units:0,value:0}:(i=r(e,t),e.data={quantity:Math.ceil(t/i.value),units:i.value,value:a(e,"save_days")?Math.max(Math.ceil(t/86400),1):t}),e.data.value}function d(e){var t=s.is_read_only(e);e.addChild({id:"quantity",type:"f_int",spinner:!0,readonly:t,disableSetState:!0,events:[{func:"forms.f_duration.quantity_changed",trigger:"change"}]}),e.addChild({id:"units",readonly:t,disableSetState:!0,type:"f_duration.unit_picker"}),e.addChild({id:"value",name:e.name(),type:"f_hidden"}),e.orig_val=e.val}function l(e,t){var i=e.val(),n=a(e,"none_value");void 0!==t&&(void 0!==n&&t===n||0===t&&a(e,"allow_unlimited")||(t=Math.max(e.temp.min_val,t),e.temp.max_val&&(t=Math.min(e.temp.max_val,t))),e.set(t),t=o(e,t)),i!==t&&(e.arg("disableSetState")&&e.update(),e.trigger("change",{value:t,prev_value:i}))}function c(e,t,i){var n,o,s,d=a(e,"none_value");e.e.isDefaultPrevented()||(e.e.stopPropagation(),void 0!==d&&i.value===d?s=d:(n=parseInt(i.value,10),o=e.get_parent(1).xdo,(0!=(s=(parseInt(e.get_xdo("siblings:quantity").val(),10)||1)*parseInt(i.value||0,10))||!a(e,"allow_unlimited"))&&s<o.temp.min_val&&r(o,o.temp.min_val).value!=i.value&&(s=o.temp.min_val+n)),l(e.get_parent(1).xdo,s))}function u(e){if(void 0===e)return this.data.value;l(this,e)}return(t=function(t){var i,n,r=a(t,"save_days"),s=t.data,l=(a(t,"min"),a(t,"none_value"));r&&(t.date_only=!0,t.time_only=!1),t.runOnce(d),(i=t.xds.fields.units).date_only=a(t,"date_only")||!1,i.time_only=a(t,"time_only")||!1,i.allow_unlimited=a(t,"allow_unlimited")||!1,i.textZero=a(t,"textZero"),i.textNone=a(t,"textNone"),(n=t.xds.fields.quantity).defaultMult=a(t,"defaultMult"),delete t._state.keySet,t.arg("nopicker",!0),t.temp.min_val=Math.max(parseInt(a(t,"min")||1,10),1),t.temp.max_val=a(t,"max"),void 0!==l&&((isNaN(l=parseInt(l,10))||l>0)&&(l=""),t.temp.none_value=l,i.none_value=l,n.none_value=l),void 0!==t.temp.max_val&&(t.temp.max_val=Math.max(parseInt(t.temp.max_val,10),t.temp.min_val)),e.is_obj(s)?s=0===s.units||void 0!==l&&s.units===l?s.units:s.quantity*s.units:(!1===s&&void 0===(s=a(t,"defaultValue"))&&(s=t.temp.min_val),r&&(s*=86400),void 0!==t.temp.max_val&&(s=Math.min(t.temp.max_val,s)),void 0!==l&&s===l||0===s&&i.allow_unlimited||(s=Math.max(t.temp.min_val,s))),o(t,s),t.inherit("f_default",!1),t.val=u}).unit_picker=function(e){e.on("xds-picker-picked",c),e.inherit("dd.select",{list:i(e)})},t.get_units=function(e){return i(e.obj)},t.quantity_changed=function(e,t,i){var n,r,o,s,d=a(e,"none_value");e.e.isDefaultPrevented()||(e.e.stopPropagation(),n=parseInt(e.val(),10),r=e.get_parent(1).xdo,"--"===e.val()?n=0:isNaN(n)?n=void 0:(o=e.sibling("units",1).xdo.val(),(!(s=parseInt(o,10))||void 0!==d&&o===d)&&(s=parseInt(a(e,"defaultMult"))||60),n*=s),l(r,n))},t}()};for(var d in s)"events"!==d&&"validate"!==d&&(e.types[d]=s[d]);for(var l in s.events)e.fn[l]=s.events[l];return s}),cf.module("guid",function(e,t,a,i){return{rfc4122:function(){if(t.crypto!==i&&t.crypto.getRandomValues)return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=crypto.getRandomValues(new Uint8Array(1))[0]%16|0;return("x"===e?t:3&t|8).toString(16)});var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)})}}}),cf.module("layout",function(e,t,a){var i,n={gutterMap:{n:0,s:5,m:10,l:15},nColsDefault:12,breakPoints:[{w:736,c:3},{w:1024,c:6}],isPhone:function(){return 3===n.nCols},isTablet:function(){return 6===n.nCols},calculateCols:function(){var t=n.nCols,a=_$("body");n.wWidth=e.window.width(),n.wHeight=e.window.height();var i=n.breakPoints,r=i.length;for(delete n.nCols;r--;)n.wWidth<=i[r].w&&(n.nCols=i[r].c);if(n.nCols||(n.nCols=n.nColsDefault),t!==n.nCols){var o="xl-"+n.nCols;n.prevClass&&a.removeClass(n.prevClass),a.addClass(o),n.prevClass=o}}};return e.layout=n,e.pageListen({source:t,trigger:"resize"},function(){clearTimeout(i),i=setTimeout(function(){var t=n.nCols;n.calculateCols(),n.nCols!==t&&e.links.reloadPage()},100)}),a.body?n.calculateCols():$(a).ready(function(){n.calculateCols()}),e.layout.convertXDSField=function(e,t){var a,i,r,o=e._responsive||[];if(e._respsonsiveDefaults)for(r in e._respsonsiveDefaults)e[r]=e._respsonsiveDefaults[r];else e._respsonsiveDefaults={};for(a=0;a<o.length;a++)if((i=o[a]).c.cols==n.nCols)for(r in i.p)e._respsonsiveDefaults[r]=e[r],e[r]=i.p[r]},e.xdo.calculateResponsiveChildren=function(t){for(var a=t||this.get_children()||[],i=0;i<a.length;i++)a[i]._responsive&&e.layout.convertXDSField(a[i],this)},e.xdo.layoutUpdate=function(t){var a=this,i=a.build._complete&&a.dom();if(e.is_num(t)){if(i){var n=i.parent()[0].className.split(" "),r=[];n.map(function(e){-1===e.indexOf("xl-grid")&&-1===e.indexOf("xl-pct")&&r.push(e)}),r.push("xl-grid12-"+t),i.parent()[0].className=r.join(" ")}a.xds&&a.xds._layout&&(a.xds._layout.w=t)}},e.xdo._buildCalculateResponsive=function(){e.layout.convertXDSField(this.xds,this)},e.xdo._buildLayoutCalculateRows=function(e,t){var a,i,r,o,s,d,l,c,u,f,g,p,h,m,v=e.length,b=0,_={};for(i=0;i<v;i++)p=0,h=0,g=0,m=!1,r=void 0,e[i]&&e[i][1].m?(f=e[i][1].m,u=e[i][1].w,r=e[i][1]):f=-1,1===f?(p=u/t,g=u):2===f?(p=(u=parseFloat(u))/100,g=0):3===f?(h=parseInt(u),p=0,(o=r.g)?(s=o.r||"n",d=o.l||o.e||"s"):(s="n",d="s"),l=n.gutterMap[s]+n.gutterMap[d],r.wadd=l,h+=l):4===f?p=(g=t/n.nColsDefault*u)/t:5===f?(p=0,g=0,m=!0):6===f?(p=0,g=0):-1===f&&(p=100,g=t),(!_[b]||_[b].widthPercent+p>1||1===p||1===_[b].widthPercent&&5===f)&&b++,_[b]?((a=_[b]).widthPercent+=parseFloat(p),a.widthPx+=parseFloat(h),a.c-=parseInt(g),a.n++,m&&(a.hasFill=!0)):(c=t,_[b]={c:c-g,n:1,widthPercent:parseFloat(p),widthPx:parseFloat(h),hasFill:m}),r&&(r.row=b);return _.lastRow=b,_},e.xdo._buildLayoutChildren=function(t){var a=this,i=t||a._tag._layoutChildren;if(i){var r,o,s,d,l,c,u,f,g,p,h,m,v,b,_,y=n.nCols,x=e.xdo._buildLayoutCalculateRows(i,y),w=i.length,C=x.lastRow;for(f=0;f<w;f++)if(!1!==i[f]&&(m=i[f][1],l=i[f][2],i[f][3],c=["xl"],u={},o=!1,d=!1,s=!1,m.m)){if(r=x[m.row],(!i[f-1]||i[f-1][1].row<m.row)&&(d=!0),i[f+1]?m.row<i[f+1][1].row&&(o=!0):o=!0,m.row==C&&(s=!0),g=m.m,h=m.w,1===g)h=parseInt(h),m.scaling||r.c>0&&!r.hasFill&&(h+=Math.floor(h/(y-r.c)*r.c)),(h=h*n.nColsDefault/y)>n.nColsDefault&&(h=n.nColsDefault),c.push("xl-grid12-"+h);else if(2===g)c.push("xl-pct-"+h);else if(3===g)u.width=parseInt(h)+m.wadd+"px";else if(4===g)c.push("xl-grid12-"+h);else if(5===g)r.widthPx?u.width="calc("+(100-100*r.widthPercent)+"% - "+r.widthPx+"px)":u.width=100-100*r.widthPercent+"%";else if(6===g&&m.w)if("string"==typeof m.w&&-1!==m.w.indexOf("%"))u.width=m.w;else{var k=parseInt(m.w);k>e.layout.wWidth&&(k=e.layout.wWidth),u.width=k+"px"}for(var S in m.align&&c.push("xl-align-"+m.align),(v=m.g||{}).e||(v.e="s"),"n"!==v.e&&c.push("xl-g-r-"+v.e),v.t&&c.push("xl-g-"+v.t+"-t"),v.r&&c.push("xl-g-"+v.r+"-r"),v.b&&c.push("xl-g-"+v.b+"-b"),v.l&&c.push("xl-g-"+v.l+"-l"),p="",u)p+=S+":"+u[S]+";";if(p&&(p='style="'+p+'"'),d&&(b=l),a.output[l]='<div class="'+c.join(" ")+'" '+p+">"+a.output[l],o&&6!==m.m){_=["xl-row"],s&&_.push("xl-row-last"),_.push("xl-row-g-r-"+(v.r||v.e)),_.push("xl-row-g-b-"+(v.b||v.e)),a.output[b]='<div class="'+_.join(" ")+'">'+a.output[b];var T=void 0===m.exitIndex?a.output.length-1:m.exitIndex;a.output[T]+="</div>"}}}},e.xdo._buildLayout=function(){var e=this,t=e.build.insertIndex,a={},i=e.xds._layout;if(i)for(var n in i)a[n]=i[n];var r=e.parent_xdo();if(a.m){if(r){if(e._tag.exclude)return;r._tag._layoutChildren||(r._tag._layoutChildren=[]),r._tag._layoutChildren.push([e.xds.id,a,t,e.output.length])}else a.g||(a.g={e:"n"}),e._buildLayoutChildren([[e.xds.id,a,t,e.output.length]]);e.output.push("</div>"),a.exitIndex=e.output.length-1}else r&&r._tag&&r._tag._layoutChildren&&r._tag._layoutChildren.push(!1)},n}),cf.module("lightbox",function(e,t,a,i){e.css;var n=e.$css,r=(e.html,e.gbl,n.lightbox),o=n.lightbox+":last",s=".lightbox",d=".lightbox-cont",l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"then",value:function(e){return this.promise.then(e)}},{key:"catch",value:function(e){return this.promise.catch(e)}},{key:"finally",value:function(e){return this.promise.finally(e)}},{key:"lightbox",get:function(){return this._lb},set:function(e){this._lb=e}},{key:"promise",get:function(){return this._promise},set:function(e){this._promise=e}}]),e}(),c={focusQueue:[],confirmClose:{},boxes:[],minheight:400,minwidth:500,zindex:1e3,backgroundClicked:function(e){$(e.target).hasClass("lightbox-wrap")&&(c.triggerClose(),e&&e.stopPropagation(),e&&e.preventDefault())},len:function(){return $(r).length},closeAll:function(){if(e.browser.history){var a=$(r);a.length&&t.history.go("-"+a.length)}c.none()},triggerClose:function(){e.get("forms.preCloseForm")(i,$(o),function(){e.browser.history?t.history.back():c.close()})},none:function(){$(".xds-lightbox-wrap").remove(),$("body").removeClass("xds-hasLightbox"),$("#cfload").attr("aria-hidden",!1),setTimeout(function(){c.scrollPos&&c.scrollPos.length>0&&e.scrollTop(c.scrollPos.pop()),delete c.scrollPos},50)},close:function(a,i,s){var l=a,u=$(o),f=function(){if(c.len()){if(c.closing=!0,e.browser.history&&!i)return void t.history.back();var n=function(){var t=$(this).find(e.$css.cont);try{var i=e.extend(s||{});a&&a.args&&(i=e.extend(i,a.args)),e.get_obj($(o).find(".xds-cont").children()[0]).trigger("xds-lightbox-closing"),e.get_obj($(o).find(".xds-cont").children()[0]).trigger("xds-lightbox-internal-closed",i)}catch(e){}t.each(function(){$(this).children().triggerHandler("xds-unload")}),$(this).parents(d).safeRemove();var n=c.focusQueue.pop();if(n){var l=$(n).parents(".xdl-picker");l.length&&l.xdo&&0==l.xdo.picker.status?l.focus():n.focus()}if(0===$(r).length)c.none();else{var u=$(o).parents(d);u.addClass("xds-lightbox-active"),u.attr("aria-hidden",!1)}delete c.closing};$(o).parent().find(".xds-lightbox-background").css("opacity",0),a&&a.get_arg("immediate")||e.layout.isPhone()?n.call($(o)[0]):$(o).fadeOut(100,n)}};return!l&&u.find(".xds-form").length>0?$(u.find(".xds-form")[0]).trigger("xds-form-close",{func:f,target:u}):(!$(n.dialog).length||l)&&f(),$("body").removeClass("xds-body-hasFullScreenLightbox"),!0},addClose:function(){e.layout.isPhone()||e.get_func("lightboxAddClose")&&e.get_func("lightboxAddClose")({})},position:function(e){var t=e||$(o);(t=t.hasClass("lightbox")?t:t.parents(s)).css("margin-left",0),t.css({opacity:1})},addNewLegacy:function(){return c.addNew(i,i,i,i,!1)},addNew:function(n,r){var s=arguments.length>2&&arguments[2]!==i?arguments[2]:"",l=arguments.length>3&&arguments[3]!==i&&arguments[3],u=!(arguments.length>4&&arguments[4]!==i)||arguments[4];c.scrollPos===i&&(c.scrollPos=[]),c.scrollPos.push(e.window.scrollTop()),e.scrollTop(0),u&&($("body").addClass("xds-hasLightbox"),$("#cfload").attr("aria-hidden","true")),$(".xds-hoverbox").hide(),$(a.activeElement).trigger("blur");var f=$(".xds-lightbox-wrap");if(l||!f.length){var g='<div class="xds-lightbox-wrap"></div>';l&&(g='<div class="xds-lightbox-wrap xds-lightbox-wrap-supercede"></div>'),f=$(g),l?$("body").append(f):$("body").prepend(f)}e.layout.isPhone()?f.append(e.tpl('<div class="lightbox-cont"><div class="lightbox" role="dialog"></div></div>',{contClass:s||""})):f.append(e.tpl('<div class="lightbox-cont {{contClass}}"><div class="lightbox-wrap"><div class="lightbox" role="dialog"></div></div></div>',{contClass:s||""}));var p=$(o);if(e.browser.touch)p.parent(".lightbox-wrap").on("touchend",c.backgroundClicked),p.on("touchend",function(e){e.stopPropagation()});else{var h=0,m=0,v=!1;p.parent(".lightbox-wrap").on("click",function(e){v||c.backgroundClicked(e)}),p.parent(".lightbox-wrap").on("mousedown",function(e){h=e.pageX,m=e.pageY}),p.parent(".lightbox-wrap").on("mouseup",function(e){v=Math.abs(h-e.pageX)>=30||Math.abs(m-e.pageY)>=30})}var b={opacity:0,"max-width":e.document.width()};return e.platform.phone||(b["margin-left"]=(e.window.width()-p.outerWidth())/2+e.document.scrollLeft()+"px",b["max-width"]=e.document.width()-150),p.css(b),$(d).attr("aria-hidden","true"),$(".xds-lightbox-active").removeClass("xds-lightbox-active"),p.parents(d).addClass("xds-lightbox-active").attr("aria-hidden","false"),n!==i&&(p.html(n).css("opacity",1),c.addClose(),c.position()),e.browser.history&&history.pushState({lightbox:!0},null,location.href),p.on("xds-loaded",function(){t.setTimeout(function(){e.get("accessory").updateAll()},50)}),p},setTitle:function(e){var t=e.arg("title")||e.get_val(),a=e.state.peek("lightboxTitleOverride")||{title:t};a.title=t,e.arg("visibility")&&(a.visibility=e.arg("visibility")),e.state.set("lightboxTitleOverride",a),e.exitBlank()},toggleFullScreen:function(){$(o).toggleClass("xds-lightbox-fullScreen")},footer:function(t){t.sparse=!0;var a=t.get_children();a&&a.forEach(function(e){"left"==e.id?e.css="xds-lightbox-footer-left":"right"==e.id&&(e.css="xds-lightbox-footer-right")}),a&&a.length&&!t.arg("addElements")||(t.showTitle=!1,t.arg("confirm")&&t.addChild({id:"success",type:"success",title:t.arg("confirm")}),t.addChild({id:"cancel",type:"cancel",title:t.arg("titleCancel")||e.lang("Cancel")}),!t.arg("noSave")&&t.addChild({id:"save",type:"f_submit",title:t.arg("title")||e.lang("Save")})),t.on("xds-cancel","lightbox.close"),e.layout.isPhone()&&t.ready(function(e){e.state.set("lightbox-footer-height",e.dom().height())})},title:function(t){var a=t.state.get("lightboxTitleOverride"),i=t.t.parents(s).length||t.t.hasClass("lightbox");if(a&&t.arg("title",a.title),e.layout.isPhone()){t.tag("div",!1);var n=t.arg("mode");return n||(n=i?"lightbox.close":"back"),void t.inherit("sectionHeader",{mode:n})}if(i){if(!a&&t.state.peek("".concat(t.path,"-rendered"))===(t.arg("title")||"__blank__"))return void t.exitBlank();t.state.set("".concat(t.path,"-rendered"),t.arg("title")||"__blank__"),t.tag(1,"xds-hbox-title xds-lightbox-title").ready(function(e,t){if(a)switch(a.visibility){case"visible":e.dom().show();break;case"hidden":e.dom().hide()}var i,n=e.parents(s);t.is(n.children(".xds-lightbox-title"))||(n.children(".xds-lightbox-title").remove(),t.prependTo(e.parents(s)),n.attr("aria-labelledby",e.path),i=e.t.parents(s).length?e.t.parents(s):e.t,e.t.addClass("lightbox-has-title"),i.draggable&&i.draggable({handle:".xds-lightbox-title",start:function(){e.trigger("xds-lightbox-dragging")}}))})}else t.inherit("f_title")},closeIcon:function(t){t.tag("div").posttag(e.html.div("x"+e.html.tooltip(e.lang("Press ESC to close.")),["xds-lightbox-close",e.css.sprite]))},events:function(){return[{func:function(){c.triggerClose()},trigger:"keydown",args:{_source:"document",keyCode:27,preventDefault:!0,priority:1e3*e.get("lightbox").len()}},{func:function(){e.get("lightbox").close(i,!0)},trigger:"popstate",args:{_source:"window",preventDefault:!0,priority:1e3*e.get("lightbox").len()}},{func:function(t){setTimeout(function(){if(!$.contains(t.dom()[0],a.activeElement)){var i=e.get("forms").selectors.focusables;t.dom().find(i).first()[0].focus()}})},args:{keyCode:9},trigger:"keydown"},{func:function(t){var a=t.dom().find(e.get("forms").selectors.focusableInputs).first();a.length<1&&(a=t.dom().find(e.get("forms").selectors.focusables).first()),a&&a.xdo?a.xdo.initialFocus():a.focus()},trigger:"onload"},{func:function(e){c.triggerClose()},trigger:"click"}]},prepOpen:function(t){c.focusQueue.push(a.activeElement);var i=t.args.func,n=t.args.pre_func;t.args.pre_func=function(t){if(t.buildTarget="lightbox",!$(t.s.target).length)return!1;var a=e.get(n);a&&a(t),t.slice.xds.events||(t.slice.xds.events=[]);var i=c.events();t.slice.xds.events.push(i[0]),t.slice.xds.events.push(i[1]),t.slice.xds.events.push(i[2]),t.slice.xds.events.push(i[3]),"nowrap"===t.slice.xds.type&&delete t.slice.xds.type,t.slice.xds._children||(t.slice.xds._children=[]);var r={id:"lightboxClose",type:"a",tooltipLocation:"left",tooltip:e.lang("Press ESC to close."),css:"far fa-times-circle xds-lightbox-close ",sparse:!0,events:[i[4]]};if(e.browser.touch&&delete r.tooltip,!e.layout.isPhone()&&(t.slice.xds._children.push(r),t.slice.xds._styles&&t.slice.xds._styles.length>0)){var d=t.slice.xds._styles[0],l=t.s.target||$(o);l=l.hasClass("lightbox")?l:l.parents(s),d.styles&&d.styles.width&&l.css("width",d.styles.width)}},t.args.func=function(t){clearTimeout(void 0),c.addClose();var a=e.get(i);a&&a(t),c.position(t.target)}},open:function(t){t.trigger("xds-lightbox-opening");var a=new l;return a.promise=new Promise(function(n,r){c.prepOpen(t),setTimeout(function(){c.position(),c.addClose()},500);var o=t.args||{};t.get_arg("disablecont")?o.target=c.addNew(i,i,"lightbox-disablecont",i,!1):o.target=c.addNew(i,i,i,t.get_arg("supercede")),a.lightbox=o.target,t.args=o,!t.args.xds&&t.get_arg("content")&&(t.args.xds={xds:{id:"lightboxDirect",title:t.get_arg("content")}}),e.fn.loadxds(t),t.args.xds&&t.args.target.addClass("lightbox-"+t.args.xds),t.args.maxWidth&&t.args.target.css("max-width",t.args.maxWidth),t.args.target.on("xds-lightbox-internal-closed",function(e,t){n({xdo:e,altprops:t})})}),a},isInLightbox:function(e){return e.parents(s).length>0||e.hasClass(s)}};return e.types.lightboxTitle=function(e){e.inherit("lightbox.title")},e.types.lightboxClose=function(e){e.inherit("lightbox.closeIcon")},e.fn.lightboxController=c,e.fn.lightbox=c.open,c.open._returnsPromise=!0,c}),cf.module("localforage",function(e,t,a,i){return function(){var e,n,r,o,s;o={},s={},r=n=function(e){if(r._eak_seen=o,s[e])return s[e];if(s[e]={},!o[e])throw new Error("Could not find module "+e);for(var t,a=o[e],i=a.deps,d=a.callback,l=[],c=0,u=i.length;c<u;c++)"exports"===i[c]?l.push(t={}):l.push(n(g(i[c])));var f=d.apply(this,l);return s[e]=t||f;function g(t){if("."!==t.charAt(0))return t;for(var a=t.split("/"),i=e.split("/").slice(0,-1),n=0,r=a.length;n<r;n++){var o=a[n];if(".."===o)i.pop();else{if("."===o)continue;i.push(o)}}return i.join("/")}},(e=function(e,t,a){o[e]={deps:t,callback:a}})("promise/all",["./utils","exports"],function(e,t){var a=e.isArray,i=e.isFunction;t.all=function(e){if(!a(e))throw new TypeError("You must pass an array to all.");return new this(function(t,a){var n,r=[],o=e.length;function s(e){return function(t){d(e,t)}}function d(e,a){r[e]=a,0==--o&&t(r)}0===o&&t([]);for(var l=0;l<e.length;l++)(n=e[l])&&i(n.then)?n.then(s(l),a):d(l,n)})}}),e("promise/asap",["exports"],function(e){var n,r,o,s,d=void 0!==t?t:{},l=d.MutationObserver||d.WebKitMutationObserver,c="undefined"!=typeof global?global:this===i?t:this,u=[];function f(){for(var e=0;e<u.length;e++){var t=u[e];(0,t[0])(t[1])}u=[]}"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?n=function(){process.nextTick(f)}:l?(r=0,o=new l(f),s=a.createTextNode(""),o.observe(s,{characterData:!0}),n=function(){s.data=r=++r%2}):n=function(){c.setTimeout(f,1)},e.asap=function(e,t){1===u.push([e,t])&&n()}}),e("promise/config",["exports"],function(e){var t={instrument:!1};e.config=t,e.configure=function(e,a){if(2!==arguments.length)return t[e];t[e]=a}}),e("promise/polyfill",["./promise","./utils","exports"],function(e,a,i){var n=e.Promise,r=a.isFunction;i.polyfill=function(){var e,a;"Promise"in(e="undefined"!=typeof global?global:void 0!==t&&t.document?t:self)&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&(new e.Promise(function(e){a=e}),r(a))||(e.Promise=n)}}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,a,n,r,o,s,d){var l=e.config,c=(e.configure,t.objectOrFunction),u=t.isFunction,f=(t.now,a.all),g=n.race,p=r.resolve,h=o.reject,m=s.asap;function v(e){if(!u(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof v))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function a(e){M(t,e)}try{e(function(e){S(t,e)},a)}catch(e){a(e)}}(e,this)}function b(e,t,a,i){var n,r,o,s,d=u(a);if(d)try{n=a(i),o=!0}catch(e){s=!0,r=e}else n=i,o=!0;k(t,n)||(d&&o?S(t,n):s?M(t,r):e===x?S(t,n):e===w&&M(t,n))}l.async=m;var _=void 0,y=0,x=1,w=2;function C(e,t){for(var a=e._subscribers,i=e._detail,n=0;n<a.length;n+=3)b(t,a[n],a[n+t],i);e._subscribers=null}function k(e,t){var a,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(c(t)&&(i=t.then,u(i)))return i.call(t,function(i){if(a)return!0;a=!0,t!==i?S(e,i):T(e,i)},function(t){if(a)return!0;a=!0,M(e,t)}),!0}catch(t){return!!a||(M(e,t),!0)}return!1}function S(e,t){e===t?T(e,t):k(e,t)||T(e,t)}function T(e,t){e._state===_&&(e._state=y,e._detail=t,l.async(I,e))}function M(e,t){e._state===_&&(e._state=y,e._detail=t,l.async(A,e))}function I(e){C(e,e._state=x)}function A(e){C(e,e._state=w)}v.prototype={constructor:v,_state:i,_detail:i,_subscribers:i,then:function(e,t){var a=this,i=new this.constructor(function(){});if(this._state){var n=arguments;l.async(function(){b(a._state,i,n[a._state-1],a._detail)})}else!function(e,t,a,i){var n=e._subscribers,r=n.length;n[r]=t,n[r+x]=a,n[r+w]=i}(this,i,e,t);return i},catch:function(e){return this.then(null,e)}},v.all=f,v.race=g,v.resolve=p,v.reject=h,d.Promise=v}),e("promise/race",["./utils","exports"],function(e,t){var a=e.isArray;t.race=function(e){if(!a(e))throw new TypeError("You must pass an array to race.");return new this(function(t,a){for(var i,n=0;n<e.length;n++)(i=e[n])&&"function"==typeof i.then?i.then(t,a):t(i)})}}),e("promise/reject",["exports"],function(e){e.reject=function(e){return new this(function(t,a){a(e)})}}),e("promise/resolve",["exports"],function(e){e.resolve=function(e){return e&&"object"===_typeof(e)&&e.constructor===this?e:new this(function(t){t(e)})}}),e("promise/utils",["exports"],function(e){function t(e){return"function"==typeof e}var a=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=function(e){return t(e)||"object"===_typeof(e)&&null!==e},e.isFunction=t,e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.now=a}),n("promise/polyfill").polyfill()}(),function(){var e="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,a=a||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(a){var n={_driver:"asyncStorage",_initStorage:function(t){var i=this,n={db:null};if(t)for(var r in t)n[r]=t[r];return new e(function(e,t){var r=a.open(n.name,n.version);r.onerror=function(){t(r.error)},r.onupgradeneeded=function(){r.result.createObjectStore(n.storeName)},r.onsuccess=function(){n.db=r.result,i._dbInfo=n,e()}})},getItem:function(a,n){var r=this;"string"!=typeof a&&(t.console.warn(a+" used as a key, but it is not a string."),a=String(a));var s=new e(function(e,t){r.ready().then(function(){var n=r._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName).get(a);o.onsuccess=function(){var t=o.result;t===i&&(t=null),e(t)},o.onerror=function(){t(o.error)}}).catch(t)});return o(s,n),s},setItem:function(a,n,r){var s=this;"string"!=typeof a&&(t.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new e(function(e,t){s.ready().then(function(){var r=s._dbInfo,o=r.db.transaction(r.storeName,"readwrite").objectStore(r.storeName);null===n&&(n=i);var d=o.put(n,a);d.onsuccess=function(){n===i&&(n=null),e(n)},d.onerror=function(){t(d.error)}}).catch(t)});return o(d,r),d},removeItem:function(a,i){var n=this;"string"!=typeof a&&(t.console.warn(a+" used as a key, but it is not a string."),a=String(a));var r=new e(function(e,t){n.ready().then(function(){var i=n._dbInfo,r=i.db.transaction(i.storeName,"readwrite").objectStore(i.storeName).delete(a);r.onsuccess=function(){e()},r.onerror=function(){t(r.error)},r.onabort=function(e){var a=e.target.error;"QuotaExceededError"===a&&t(a)}}).catch(t)});return o(r,i),r},clear:function(t){var a=this,i=new e(function(e,t){a.ready().then(function(){var i=a._dbInfo,n=i.db.transaction(i.storeName,"readwrite").objectStore(i.storeName).clear();n.onsuccess=function(){e()},n.onerror=function(){t(n.error)}}).catch(t)});return o(i,t),i},length:function(t){var a=this,i=new e(function(e,t){a.ready().then(function(){var i=a._dbInfo,n=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName).count();n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}}).catch(t)});return r(i,t),i},key:function(t,a){var i=this,n=new e(function(e,a){t<0?e(null):i.ready().then(function(){var n=i._dbInfo,r=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),o=!1,s=r.openCursor();s.onsuccess=function(){var a=s.result;a?0===t?e(a.key):o?e(a.key):(o=!0,a.advance(t)):e(null)},s.onerror=function(){a(s.error)}}).catch(a)});return r(n,a),n},keys:function(t){var a=this,i=new e(function(e,t){a.ready().then(function(){var i=a._dbInfo,n=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName).openCursor(),r=[];n.onsuccess=function(){var t=n.result;t?(r.push(t.key),t.continue()):e(r)},n.onerror=function(){t(n.error)}}).catch(t)});return r(i,t),i}};"function"==typeof define&&define.amd?define("asyncStorage",function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:this.asyncStorage=n}function r(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function o(e,t){t&&e.then(function(e){!function(e,t){e&&setTimeout(function(){return e(null,t)},0)}(t,e)},function(e){t(e)})}}.call(t),function(){var e="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,a=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;a=this.localStorage}catch(e){return}var n="__lfsc__:",r=n.length,o="arbf",s="blob",d="si08",l="ui08",c="uic8",u="si16",f="si32",g="ur16",p="ui32",h="fl32",m="fl64",v=r+o.length;function b(e){var t="",a=new Uint16Array(e);try{t=String.fromCharCode.apply(null,a)}catch(e){for(var i=0;i<a.length;i++)t+=String.fromCharCode(a[i])}return t}function _(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var y={_driver:"localStorageWrapper",_initStorage:function(t){var a={};if(t)for(var i in t)a[i]=t[i];return a.keyPrefix=a.name+"/",this._dbInfo=a,e.resolve()},getItem:function(i,b){var y=this;"string"!=typeof i&&(t.console.warn(i+" used as a key, but it is not a string."),i=String(i));var x=new e(function(e,t){y.ready().then(function(){try{var b=y._dbInfo,_=a.getItem(b.keyPrefix+i);_&&(_=function(e){if(e.substring(0,r)!==n)return JSON.parse(e);for(var t=e.substring(v),a=e.substring(r,v),i=new ArrayBuffer(2*t.length),b=new Uint16Array(i),_=t.length-1;_>=0;_--)b[_]=t.charCodeAt(_);switch(a){case o:return i;case s:return new Blob([i]);case d:return new Int8Array(i);case l:return new Uint8Array(i);case c:return new Uint8ClampedArray(i);case u:return new Int16Array(i);case g:return new Uint16Array(i);case f:return new Int32Array(i);case p:return new Uint32Array(i);case h:return new Float32Array(i);case m:return new Float64Array(i);default:throw new Error("Unkown type: "+a)}}(_)),e(_)}catch(e){t(e)}}).catch(t)});return _(x,b),x},setItem:function(r,v,y){var x=this;"string"!=typeof r&&(t.console.warn(r+" used as a key, but it is not a string."),r=String(r));var w=new e(function(e,_){x.ready().then(function(){v===i&&(v=null);var y=v;!function(e,a){var i="";if(e&&(i=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r,v=n;e instanceof ArrayBuffer?(r=e,v+=o):(r=e.buffer,"[object Int8Array]"===i?v+=d:"[object Uint8Array]"===i?v+=l:"[object Uint8ClampedArray]"===i?v+=c:"[object Int16Array]"===i?v+=u:"[object Uint16Array]"===i?v+=g:"[object Int32Array]"===i?v+=f:"[object Uint32Array]"===i?v+=p:"[object Float32Array]"===i?v+=h:"[object Float64Array]"===i?v+=m:a(new Error("Failed to get type for BinaryArray"))),a(v+b(r))}else if("[object Blob]"===i){var _=new FileReader;_.onload=function(){var e=b(this.result);a(n+s+e)},_.readAsArrayBuffer(e)}else try{a(JSON.stringify(e))}catch(i){t.console.error("Couldn't convert value into a JSON string: ",e),a(i)}}(v,function(t,i){if(i)_(i);else{try{var n=x._dbInfo;a.setItem(n.keyPrefix+r,t)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||_(e)}e(y)}})}).catch(_)});return _(w,y),w},removeItem:function(i,n){var r=this;"string"!=typeof i&&(t.console.warn(i+" used as a key, but it is not a string."),i=String(i));var o=new e(function(e,t){r.ready().then(function(){var t=r._dbInfo;a.removeItem(t.keyPrefix+i),e()}).catch(t)});return _(o,n),o},clear:function(t){var i=this,n=new e(function(e,t){i.ready().then(function(){for(var t=i._dbInfo.keyPrefix,n=a.length-1;n>=0;n--){var r=a.key(n);0===r.indexOf(t)&&a.removeItem(r)}e()}).catch(t)});return _(n,t),n},length:function(t){var a=this,i=new e(function(e,t){a.keys().then(function(t){e(t.length)}).catch(t)});return _(i,t),i},key:function(t,i){var n=this,r=new e(function(e,i){n.ready().then(function(){var i,r=n._dbInfo;try{i=a.key(t)}catch(e){i=null}i&&(i=i.substring(r.keyPrefix.length)),e(i)}).catch(i)});return _(r,i),r},keys:function(t){var i=this,n=new e(function(e,t){i.ready().then(function(){for(var t=i._dbInfo,n=a.length,r=[],o=0;o<n;o++)0===a.key(o).indexOf(t.keyPrefix)&&r.push(a.key(o).substring(t.keyPrefix.length));e(r)}).catch(t)});return _(n,t),n}};"function"==typeof define&&define.amd?define("localStorageWrapper",function(){return y}):"undefined"!=typeof module&&module.exports?module.exports=y:this.localStorageWrapper=y}.call(t),function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,n=this.openDatabase,r="__lfsc__:",o=r.length,s="arbf",d="blob",l="si08",c="ui08",u="uic8",f="si16",g="si32",p="ur16",h="ui32",m="fl32",v="fl64",b=o+s.length;if(n){var _={_driver:"webSQLStorage",_initStorage:function(e){var t=this,i={db:null};if(e)for(var r in e)i[r]="string"!=typeof e[r]?e[r].toString():e[r];return new a(function(a,r){try{i.db=n(i.name,String(i.version),i.description,i.size)}catch(i){return t.setDriver("localStorageWrapper").then(function(){return t._initStorage(e)}).then(a).catch(r)}i.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=i,a()},function(e,t){r(t)})})})},getItem:function(i,n){var _=this;"string"!=typeof i&&(t.console.warn(i+" used as a key, but it is not a string."),i=String(i));var y=new a(function(t,a){_.ready().then(function(){var n=_._dbInfo;n.db.transaction(function(_){_.executeSql("SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[i],function(a,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=function(t){if(t.substring(0,o)!==r)return JSON.parse(t);var a,i,n,_,y,x=t.substring(b),w=t.substring(o,b),C=.75*x.length,k=x.length,S=0;"="===x[x.length-1]&&(C--,"="===x[x.length-2]&&C--);var T=new ArrayBuffer(C),M=new Uint8Array(T);for(a=0;a<k;a+=4)i=e.indexOf(x[a]),n=e.indexOf(x[a+1]),_=e.indexOf(x[a+2]),y=e.indexOf(x[a+3]),M[S++]=i<<2|n>>4,M[S++]=(15&n)<<4|_>>2,M[S++]=(3&_)<<6|63&y;switch(w){case s:return T;case d:return new Blob([T]);case l:return new Int8Array(T);case c:return new Uint8Array(T);case u:return new Uint8ClampedArray(T);case f:return new Int16Array(T);case p:return new Uint16Array(T);case g:return new Int32Array(T);case h:return new Uint32Array(T);case m:return new Float32Array(T);case v:return new Float64Array(T);default:throw new Error("Unkown type: "+w)}}(n)),t(n)},function(e,t){a(t)})})}).catch(a)});return x(y,n),y},setItem:function(e,n,o){var b=this;"string"!=typeof e&&(t.console.warn(e+" used as a key, but it is not a string."),e=String(e));var _=new a(function(a,o){b.ready().then(function(){n===i&&(n=null);var _=n;!function(e,a){var i="";if(e&&(i=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var n,o=r;e instanceof ArrayBuffer?(n=e,o+=s):(n=e.buffer,"[object Int8Array]"===i?o+=l:"[object Uint8Array]"===i?o+=c:"[object Uint8ClampedArray]"===i?o+=u:"[object Int16Array]"===i?o+=f:"[object Uint16Array]"===i?o+=p:"[object Int32Array]"===i?o+=g:"[object Uint32Array]"===i?o+=h:"[object Float32Array]"===i?o+=m:"[object Float64Array]"===i?o+=v:a(new Error("Failed to get type for BinaryArray"))),a(o+y(n))}else if("[object Blob]"===i){var b=new FileReader;b.onload=function(){var e=y(this.result);a(r+d+e)},b.readAsArrayBuffer(e)}else try{a(JSON.stringify(e))}catch(i){t.console.error("Couldn't convert value into a JSON string: ",e),a(null,i)}}(n,function(t,i){if(i)o(i);else{var n=b._dbInfo;n.db.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO "+n.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){a(_)},function(e,t){o(t)})},function(e){e.code===e.QUOTA_ERR&&o(e)})}})}).catch(o)});return x(_,o),_},removeItem:function(e,i){var n=this;"string"!=typeof e&&(t.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new a(function(t,a){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){a(t)})})}).catch(a)});return x(r,i),r},clear:function(e){var t=this,i=new a(function(e,a){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("DELETE FROM "+i.storeName,[],function(){e()},function(e,t){a(t)})})}).catch(a)});return x(i,e),i},length:function(e){var t=this,i=new a(function(e,a){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+i.storeName,[],function(t,a){var i=a.rows.item(0).c;e(i)},function(e,t){a(t)})})}).catch(a)});return x(i,e),i},key:function(e,t){var i=this,n=new a(function(t,a){i.ready().then(function(){var n=i._dbInfo;n.db.transaction(function(i){i.executeSql("SELECT key FROM "+n.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,a){var i=a.rows.length?a.rows.item(0).key:null;t(i)},function(e,t){a(t)})})}).catch(a)});return x(n,t),n},keys:function(e){var t=this,i=new a(function(e,a){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("SELECT key FROM "+i.storeName,[],function(t,a){for(var i=[],n=0;n<a.rows.length;n++)i.push(a.rows.item(n).key);e(i)},function(e,t){a(t)})})}).catch(a)});return x(i,e),i}};"function"==typeof define&&define.amd?define("webSQLStorage",function(){return _}):"undefined"!=typeof module&&module.exports?module.exports=_:this.webSQLStorage=_}function y(t){var a,i=new Uint8Array(t),n="";for(a=0;a<i.length;a+=3)n+=e[i[a]>>2],n+=e[(3&i[a])<<4|i[a+1]>>4],n+=e[(15&i[a+1])<<2|i[a+2]>>6],n+=e[63&i[a+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function x(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}}.call(t),function(){var e="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,t="asyncStorage",a="localStorageWrapper",i="webSQLStorage",n=["clear","getItem","key","keys","length","removeItem","setItem"],r={description:"",driver:[t,i,a].slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},o=3;"function"==typeof define&&define.amd?o=1:"undefined"!=typeof module&&module.exports&&(o=2);var s,d,l,c=(s=this,d=d||s.indexedDB||s.webkitIndexedDB||s.mozIndexedDB||s.OIndexedDB||s.msIndexedDB,(l={})[i]=!!s.openDatabase,l[t]=!!function(){if(void 0!==s.openDatabase&&s.navigator&&s.navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))return!1;try{return d&&"function"==typeof d.open&&"function"==typeof IDBKeyRange}catch(e){return!1}}(),l[a]=!!function(){try{return localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}(),l),u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function f(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var a in t)t.hasOwnProperty(a)&&(u(t[a])?arguments[0][a]=t[a].slice():arguments[0][a]=t[a])}return arguments[0]}function g(e,t){e[t]=function(){var a=arguments;return e.ready().then(function(){return e[t].apply(e,a)})}}var p=this;function h(e){this._config=f({},r,e),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var t=0;t<n.length;t++)g(this,n[t]);this.setDriver(this._config.driver)}h.prototype.INDEXEDDB=t,h.prototype.LOCALSTORAGE=a,h.prototype.WEBSQL=i,h.prototype.config=function(e){if("object"===_typeof(e)){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},h.prototype.driver=function(){return this._driver||null},h.prototype.ready=function(t){var a=this,i=new e(function(e,t){a._driverSet.then(function(){null===a._ready&&(a._ready=a._initStorage(a._config)),a._ready.then(e,t)}).catch(t)});return i.then(t,t),i},h.prototype.setDriver=function(t,a,i){var n=this;function r(){n._config.driver=n.driver()}return"string"==typeof t&&(t=[t]),this._driverSet=new e(function(a,i){var r=n._getFirstSupportedDriver(t);if(!r){var s=new Error("No available storage method found.");return n._driverSet=e.reject(s),void i(s)}if(n._dbInfo=null,n._ready=null,1!==o){if(2===o){var d;switch(r){case n.INDEXEDDB:d=require("./drivers/indexeddb");break;case n.LOCALSTORAGE:d=require("./drivers/localstorage");break;case n.WEBSQL:d=require("./drivers/websql")}n._extend(d)}else n._extend(p[r]);a()}else require([r],function(e){n._extend(e),a()})}),this._driverSet.then(r,r),this._driverSet.then(a,i),this._driverSet},h.prototype.supports=function(e){return!!c[e]},h.prototype._extend=function(e){f(this,e)},h.prototype._getFirstSupportedDriver=function(e){if(e&&u(e))for(var t=0;t<e.length;t++){var a=e[t];if(this.supports(a))return a}return null},h.prototype.createInstance=function(e){return new h(e)};var m=new h;1===o?define("localforage",function(){return m}):2===o?module.exports=m:this.localforage=m}.call(t),localforage.config({name:"corefour",storeName:"corefourstore",description:"Database for CoreFour Engine"}),localforage}),cf.module("log",function(e,t,a){e.ticket=function(e){for(var t in e)this[t]=e[t]};var i=e.settings;e.init(function(){i=e.settings},"pre");var n={stats:{err:0,warn:0},E_TYPE_DEBUG:0,E_TYPE_INFO:1,E_TYPE_DEPRECATION:1.5,E_TYPE_WARN:2,E_TYPE_ERROR:3,E_PERM:100,E_NOUSERGROUP:101,E_XDSNOTFOUND:103,E_BADNID:104,E_NOXDSRIGHTS:105,E_INVALIDKEY:106,E_CANNOTWRITETONODE:107,E_RENDER:202,E_JSON:203,E_NOTARGET:204,E_SERVERCRASH:250,E_NODEPROC:251,E_RESPONSE:252,E_RESOURCE:301,E_BLANKRESPONSE:302,E_OTHER:400,E_POSTDISPOSE:401,E_DIAGNOSTICMESSAGE:600,E_USERREPORT:601,errors:{get 100(){return e.lang("Sorry, you are not permitted to perform that function.")},get 103(){return e.lang("Sorry, that template does not exist.")},get 104(){return e.lang("Sorry, that object does not exist.")},get 200(){return e.lang("Sorry, Edsby has been unable to process your request. ")},get 300(){return e.lang("Sorry, there seems to be a network connection error. Please try again.")},get 301(){return e.lang("Sorry, Edsby has been unable to load resources associated with your request. ")},get 302(){return e.lang("Sorry, Edsby was not able to access the internet. ")},get 400(){return e.lang("Sorry, Edsby encountered an error. ")}},mapServerError:function(e,t){var a=n.E_OTHER;switch(e){case 1008:a=n.E_CANNOTWRITETONODE;break;case 1030:a=n.E_PERM;break;case 1014:a=n.E_SERVERCRASH;break;case 1082:a=n.E_NODEPROC;break;case 1011:a=n.E_INVALIDKEY}t=(t+"").toLowerCase();for(var i=[{test:"bad nid",code:n.E_BADNID},{test:"xds not found",code:n.E_XDSNOTFOUND},{test:"no rights",code:n.E_NOXDSRIGHTS},{test:"common user group",code:n.E_NOUSERGROUP},{test:"access denied",code:n.E_PERM}],r=i.length,o=0;o<r;o++)if(-1!==t.indexOf(i[o].test))return i[o].code;return a},handleResponseError:function(t){var a=e.errors.mapServerError(t.error,t.errorstr),i=[t.error];return t.errorstr&&i.push(t.errorstr),t.details&&i.push(t.details),t.Exception&&i.push(t.Exception),{code:a,ticket:t.ticket&&{hash:t.ticket},category:n.errorClass(a),raw:i.join(" ")}},displayError:function(a){n.prepError(a);var i,r=e.mlescape(a.raw||a.exception||a.ticket&&(a.ticket.trace||a.ticket.stack||a.ticket.message||a.ticket.reportName));a.xds={id:"xdlError",sparse:!0,fields:[{id:"icon",sparse:!0,css:"xdlError-"+a.category},{id:"ticket",title:a.visibleTicket},{id:"title",title:a.ticketString},{id:"raw",title:r,displayVal:"nl2br"}]},a.target&&a.target.length?(a.target.hasClass("lightbox")?((i=e.clone(a.xds)).events=e.get("lightbox").events(),i.events.pop(),i.fields.push({id:"ok",title:e.lang("Ok"),type:"button",events:[{func:function(){t.history.back()}}]})):i=e.clone(a.xds),e.xdsbuild({changeUrl:!1,slice:{xds:i},target:a.target,func:function(){a.raw}},{displayError:function(){n.errorFallback(a)}})):n.errorFallback(a)},errorFallback:function(t){n.prepError(t),t._isLoad?t.xds.fields.push({id:"refresh",title:e.lang("Retry"),type:"button",events:[{trigger:"click",func:function(e){a.location.reload()}}]}):t.xds.fields.push({id:"ok",title:e.lang("Ok"),type:"button",events:[{func:"focus",trigger:"onload"},{func:"trigger",args:{eventName:"xdlDialog-close"}}]}),e.dialog(t)},errorClass:function(e){return e-e%100},prepError:function(t){t.code=t.code||n.E_OTHER,t.category=n.errorClass(t.code);var a=n.errorClass(t.code);t.ticketString=n.errors[t.code]||n.errors[a],t.visibleTicket||(t.ticket?t.visibleTicket=t.code+"-"+t.ticket.hash:t.visibleTicket=t.code),t.visibleTicket=e.lang("Error: ")+t.visibleTicket},history:[],hash:function(e){var t=0;if(0==e.length)return t;for(var a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t=Math.abs(t&t);return t},strictModeEnabled:function(){return-1!==e.settings.runtime.strict&&(i.dev||1==(1&e.settings.runtime.strict))},trace:function(){},silentLog:function(){var e=Array.prototype.slice.call(arguments);n.addLog({type:1,name:"Log",silent:!0,message:e.join("\t")})},log:function(){var e=Array.prototype.slice.call(arguments);n.addLog({type:n.E_TYPE_INFO,name:"Log",message:e.join("\t")})},profile:function(t){e.settings.runtime.profile&&e.log.info(t)},debug:function(t){e.settings.dev&&("string"==typeof t&&(t={message:t,name:"Debug "}),t.type=n.E_TYPE_DEBUG,n.addLog(t))},info:function(e){"string"==typeof e&&(e={message:e,name:"Info "}),e.type=n.E_TYPE_INFO,n.addLog(e)},warn:function(e){n.stats.warn++,"string"==typeof e&&(e={name:"Warn ",message:e}),e.type=n.E_TYPE_WARN,n.addLog(e)},error:function(e){n.stats.err++;try{return e.type=n.E_TYPE_ERROR,n.addLog(e),n.report(e)}catch(e){}},addLog:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var r={name:t.name,message:t.message,body:t.body,date:(new Date).toISOString(),type:t.type};if(t.xdo&&t.xdo.e&&t.xdo.e.type&&(r.message="".concat(t.xdo.e.type,": ").concat(r.message)),t.exception){t.type=4;var o=t.exception;o.stack&&(t.stack=o.stack),t.message||(t.message=o.name+": "+o.message);var s=TraceKit.computeStackTrace(t.exception).stack||[];s.map(function(e){delete e.context}),t.richStack=JSON.stringify(s),t.stack&&console.error(t.stack),t.stack||console.error(o)}t.module?r.module=t.module:r.module="general",[t.name,r.message,t.body||""].join("\t"),a&&(n.history.push(r),n.history.length>1e3&&n.history.shift());var d=1;if(void 0!==e.settings.runtime.loglevel)try{d=parseInt(e.settings.runtime.loglevel)}catch(o){}var l="all";void 0!==e.settings.runtime.logfilter&&(l=e.settings.runtime.logfilter);try{l=l.split(",")}catch(o){l=["all"]}!i.dev||t.exception||t.silent||(l.includes("all")||l.includes(r.module))&&t.type>=d&&(t.type===n.E_TYPE_ERROR||(t.type,n.E_TYPE_WARN),e.settings.runtime.logtrace)}catch(o){}},exception:function(e,t){return n.error({module:"engine",method:"exception",name:t?"Uncaught Exception":"Caught Exception",message:e.message,exception:e})},loadedScripts:function(){for(var t=[],i=0;i<a.scripts.length;i++)t.push(a.scripts[i].src.replace(location.origin,"").replace(e.gbl.cdn,"CDN"));return t.join("\n")},report:function(t){var a={};a.code=t.code||n.E_OTHER,a.reportName=t.name,a.message=t.message,a.nodetype=t.nodetype||e&&e.nt&&e.nt.Document&&e.nt.Document.ClientCrashReport(),a.module=t.module||"general";var i=a.module;if(t.method&&(a.method=t.method,i=i+"."+t.method),t.xdo){var r=t.xdo;a.path=r.path,a.xdspath=r.cssPath,a.node=r.nid(),a.xds=r.xdsid(),t.xdo.e&&t.xdo.e.type&&(a.eventtype=t.xdo.e.type)}else t.xdoinfo&&(a.path=t.xdoinfo.path,a.xdspath=t.xdoinfo.cssPath,a.node=t.xdoinfo.nid,a.xds=t.xdoinfo.xds);if(t.build&&t.build.s){var o=t.build,s=o.s;a.path=o.s.url,a.xds=s.xds,a.node=s.nid}a.richStack=t.richStack,a.username=e&&e.gbl&&e.gbl.user&&e.gbl.user.name,a.userid=e.gbl.uid,a.log=JSON.stringify(n.history),a.loadedScripts=n.loadedScripts(),a.pagexds=e.links.getxds(),a.pagenid=e.gbl.nid,a.stack=t.stack,a.aux=t.aux,a.jsVersion=e.settings.compiled,a.compiledJsVersion=e.settings.jsver;var d=a.message+a.reportName,l=d+(e.settings.dev?0:e.settings.compiled);a.xds&&(l+=a.xds,d+=a.xds),a.eventtype&&(l+=a.eventtype,d+=a.eventtype),t.duplicates&&(l+=Date.now()),l=n.hash(l),d=n.hash(d),a.hash=l,a.noverhash=d;var c=e.localStorage("xds-crashReports")||{},u=a.reportName+(t.exception?"\n"+t.exception+"\n":"");if(!0!==t.noServerLog){if(!c[l]){c[l]=1,e.localStorage("xds-crashReports",c);var f={};try{f={"x-xds-err-msg":a.message,"x-xds-err-name":a.reportName,"x-xds-err-path":a.path}}catch(e){}e.gbl.user&&7!=e.gbl.user.nodesubtype&&e.settings.runtime.reportcrashes&&e.post({headers:f,noLog:!0,retry:!1,url:{command:"create",nid:"crash",xds:"ClientCrashReportPost",nodetype:a.nodetype,h:d,sh:l,ha:n.hash(i),v:e.settings.dev?0:e.settings.compiled,c:a.code,m:a.module,e:a.eventtype?a.eventtype:0,r:a.xds?a.xds:"eng"},data:a})}n.strictModeEnabled()&&!t.noStrict&&e.errors.displayError({visibleTicket:"STRICT MODE VIOLATION",raw:e.mlescape(u)+(t.stack||""),mode:"wide"}),e.settings.runtime.breakerrors}return new e.ticket(a)},deprecate:function(t){e.log.warn({name:"Deprecation Warning",message:t},!1)},serialize:function(t){return e.is_xdo(t)?"[cf.xdo ".concat(t.path,"]"):t instanceof jQuery?"[jQuery selector:".concat(t.selector,", __xdoid:").concat(t.__xdoid,", length:").concat(t.length,"]"):t}};return e.diagnosticMessage=function(t){"string"==typeof t&&(t={name:"Diagnostic Message",message:t}),t.name||(t.name="Diagnostic Message"),t.code||(t.code=e.log.E_DIAGNOSTICMESSAGE),t.xds||(t.xds="diag"),t.duplicates=!1,t.noStrict=!0,e.log.error(t)},t.onerror=function(e,t,a,i,r){var o=new Error(e);if(r&&r instanceof Error&&(o=r),o&&o instanceof Error)switch(o.message){case"ResizeObserver loop limit exceeded":return}n.error({module:"engine",method:"onerror",name:"Uncaught Exception",exception:o})},t.addEventListener("unhandledrejection",function(e){var t;if(e.reason&&e.reason instanceof Error)t=e.reason;else{var a=e.reason;if("object"===_typeof(a))try{a=JSON.stringify(a)}catch(e){}t=new Error(a)}n.error({name:"Unhandled Promise Rejection",exception:t})}),t.log=n,e.errors=n,e.log=n,n}),cf.module("logos",function(e,t,a){var i={prefix:"edsby",get alt(){return e.lang("Edsby")}},n=function(e,t){var a=new Date;a.setMonth(t.month-1),a.setDate(t.day||1),a.setHours(t.hour||0),a.setMinutes(t.minutes||0),a.setSeconds(0),a.setMilliseconds(0);var i=new Date(a.getTime());return i.setDate(a.getDate()+t.length),e.getTime()>=a.getTime()&&e.getTime()<=i.getTime()};return{logo:function(t){var a=t.arg("variant")||"edsby",r={basePath:e.tpl("{{modules}}/logos/logos",e.gbl),variant:a},o={},s=t.arg("pattern")||"{{basePath}}/{{prefix}}-{{variant}}.png",d=new Date,l=!1,c=e.lookup(t.arg("lookup")||"logorotation");for(var u in"object"==_typeof(t.data)&&void 0!==t.data.getTime&&(d=t.data),c){var f=c[u];f.params&&f.params[a]&&(o[u]={dateSpec:{day:f.params.day,month:f.params.month,length:f.params.length},prefix:f.params.prefix},f.params.url&&(o[u].url=f.params.url),f.params.title&&(o[u].alt=f.params.title),f.params[a]&&"string"==typeof f.params[a]&&(o[u].imgdata=f.params[a]))}for(var g in o)if("default"!=g&&n(d,o[g].dateSpec)){l=o[g];break}l&&0!==t.data||(l=i),r.prefix=l.prefix;var p=e.tpl(s,r);l.imgdata&&(p=l.imgdata);var h={xds:{id:"img",type:"files.image",tag:"img",sparse:!0,queueable:!1,_styles:[{styles:{"max-width":"100%"}}]}};l.alt&&(h.xds.alt=l.alt),t.addChild(h),t.data={img:p},l.url?(t.tag("a").addAttr("href",l.url).addAttr("target","_blank"),l.alt&&t.addAttr("title",l.alt)):t.addAttr("title",l.alt)}}}),cf.module("math",function(e,t,a){var i=function(){return{basic:[{name:e.lang("examples",!1,"Equation Editor Group"),commands:[{name:e.lang("Fraction Example"),wide:!0,cmd:"x=\\frac{1+y}{1+2z^2}"},{name:e.lang("Binomial Coefficient"),wide:!0,cmd:"\\binom{n}{k} = \\frac{n!}{k!(n-k)!}"},{name:e.lang("Pythagorean Theorem"),wide:!0,cmd:"a^2+b^2=c^2"},{name:e.lang("Pythagorean Theorem 2"),wide:!0,cmd:"c = \\sqrt{a^2+b^2}"},{name:e.lang("Sum Example"),wide:!0,smallFont:!0,cmd:"\\sum_{i=1}^{n}{n-i}"}]},{name:e.lang("variables and constants"),commands:[{name:e.lang("x",!1,"Example constant in equation editor palette"),cmd:"x"},{name:"y",cmd:"y"},{name:"z",cmd:"z"},{name:"a",cmd:"a"},{name:"b",cmd:"b"},{name:"c",cmd:"c"},{name:e.lang("pi",!1,"Equation Editor Command"),cmd:"\\pi"},{name:e.lang("e",!1,"Equation Editor Command"),cmd:"e"},{name:e.lang("i",!1,"Equation Editor Command"),cmd:"i"},{name:e.lang("infinity",!1,"Example constant in equation editor palette"),command:"\\infinity"}]},{name:e.lang("simple functions"),commands:[{name:e.lang("squared",!1,"square function in equation editor palette"),cmd:"write:^2",example:"x^2"},{name:e.lang("exponent",!1,"Exponent function in equation editor palette"),cmd:"write:^y",example:"x^y"},{name:e.lang("sqrt",!1,"square root - Example function in equation editor palette"),command:"\\sqrt{x}"},{name:e.lang("subscript",!1,"Example function in equation editor palette"),command:"x_{b}"},{name:e.lang("fraction",!1,"Example function in equation editor palette"),command:"\\frac{a}{b}"},{name:e.lang("ln",!1,"The natural Logarithm in equation editor palette"),command:"\\ln"},{name:e.lang("log",!1,"The logarithm function in equation editor palette"),command:"\\log"},{name:e.lang("log_a",!1,"The logarithm with base a in equation editor palette"),command:"\\log_a"},{name:e.lang("sum",!1,"sum function in equation editor palette"),command:"\\sum_{}^{}",example:"\\sum_{i=1}^n",smallFont:!0},{name:e.lang("absolute value",!1,"Absolute Value in equation editor palette"),command:"|",example:"|{x}|"},{name:e.lang("binomial",!1,"Binomial function in equation editor palette"),command:"\\binom{}{}",example:"\\binom{x}{y}",smallFont:!0},{name:e.lang("degree",!1,"Degree symbol in equation editor palette"),command:"^\\circ",example:"90^\\circ"},{name:e.lang("angle",!1,"Angle Symbol in equation editor palette"),command:"\\ang"},{name:e.lang("empty",!1,"Empty Set Symbol in equation editor palette"),command:"\\empty"},{name:e.lang("vert",!1,"Example constant in equation editor palette"),command:"\\vert"},{name:e.lang("perpendicular",!1,"Perpendicular symbol in equation editor palette"),command:"\\perp"},{name:e.lang("not",!1,"Not symbol in equation editor palette"),command:"\\not"}]}],calculus:[{name:e.lang("integrals and derivatives"),commands:[{name:e.lang("integral",!1,"Equation Editor Command"),command:"\\int_{a}^{b} x"},{name:e.lang("integral",!1,"Equation Editor Command"),command:"\\oint_{a}^{b} x"},{name:e.lang("partial differential",!1,"Equation Editor Command"),command:"\\partial{x}"},{name:e.lang("partial derivative",!1,"Equation Editor Command"),command:"\\frac{\\partial{  }}{\\partial{}}"}]}],trigonometry:[{name:e.lang("trig"),commands:[{name:e.lang("sine",!1,"Equation Editor Command"),command:"\\sin",example:"\\sin{x}"},{name:e.lang("cosine",!1,"Equation Editor Command"),command:"\\cos",example:"\\cos{x}"},{name:e.lang("tangent",!1,"Equation Editor Command"),command:"\\tan",example:"\\tan{x}"},{name:e.lang("cosecant",!1,"Equation Editor Command"),command:"\\csc",example:"\\csc{x}"},{name:e.lang("secant",!1,"Equation Editor Command"),command:"\\sec",example:"\\sec{x}"},{name:e.lang("cotangent",!1,"Equation Editor Command"),command:"\\cot",example:"\\cot{x}"}]}],miscellaneous:[{name:e.lang("logic",!1,"Equation Editor Command"),commands:[{name:e.lang("similar",!1,"Equation Editor Command"),command:"\\sim"},{name:e.lang("congruent",!1,"Equation Editor Command"),command:"\\cong"},{name:e.lang("equivalent",!1,"Equation Editor Command"),command:"\\equiv"},{name:e.lang("oplus",!1,"Equation Editor Command"),command:"\\oplus"},{name:e.lang("otimes",!1,"Equation Editor Command"),command:"\\otimes"},{name:e.lang("times",!1,"Equation Editor Command"),command:"\\times"},{name:e.lang("not equal",!1,"Equation Editor Command"),command:"\\neq"},{name:e.lang("therefore",!1,"Equation Editor Command"),command:"\\therefor"},{name:e.lang("because",!1,"Equation Editor Command"),command:"\\because"},{name:e.lang("proportional",!1,"Equation Editor Command"),command:"\\prop"},{name:e.lang("approximate",!1,"Equation Editor Command"),command:"\\approx"},{name:e.lang("For All",!1,"Equation Editor Command"),command:"\\forall"},{name:e.lang("exists",!1,"Equation Editor Command"),command:"\\xist"},{name:e.lang("and",!1,"Equation Editor Command"),command:"\\and"},{name:e.lang("or",!1,"Equation Editor Command"),command:"\\or"},{name:e.lang("product",!1,"Equation Editor Command"),command:"\\prod",example:"\\prod_{j=0}^J",smallFont:!0},{name:e.lang("coproduct",!1,"Equation Editor Command"),command:"\\coprod",example:"\\coprod_{j=0}^J",smallFont:!0}]},{name:e.lang("sets",!1,"Equation Editor Command"),commands:[{name:e.lang("is in",!1,"Equation Editor Command"),command:"\\in"},{name:e.lang("is not in",!1,"Equation Editor Command"),command:"\\notin"},{name:e.lang("contains",!1,"Equation Editor Command"),command:"\\contains"},{name:e.lang("does not contain",!1,"Equation Editor Command"),command:"\\doesnotcontain"},{name:e.lang("subset",!1,"Equation Editor Command"),command:"\\subset"},{name:e.lang("superset",!1,"Equation Editor Command"),command:"\\superset"},{name:e.lang("not subset",!1,"Equation Editor Command"),command:"\\notsubset"},{name:e.lang("not superset",!1,"Equation Editor Command"),command:"\\notsuperset"},{name:e.lang("subset equals",!1,"Equation Editor Command"),command:"\\sube"},{name:e.lang("superset equals",!1,"Equation Editor Command"),command:"\\supe"},{name:e.lang("not subset equals",!1,"Equation Editor Command"),command:"\\nsube"},{name:e.lang("not superset equals",!1,"Equation Editor Command"),command:"\\nsupe"},{name:e.lang("union",!1,"Equation Editor Command"),command:"\\union"},{name:e.lang("intersection",!1,"Equation Editor Command"),command:"\\intersect"}]},{name:e.lang("symbols",!1,"Equation Editor Command"),commands:[{name:e.lang("dot",!1,"Equation Editor Command"),command:"\\sdot",example:"x\\sdot y"},{name:e.lang("less than",!1,"Equation Editor Command"),command:"\\lt",example:"x \\lt y"},{name:e.lang("greater than",!1,"Equation Editor Command"),command:"\\gt",example:"x \\gt y"},{name:e.lang("less than or equal",!1,"Equation Editor Command"),command:"\\le",example:"x \\le y"},{name:e.lang("greater than or equal",!1,"Equation Editor Command"),command:"\\ge",example:"x \\ge y"},{name:e.lang("converges",!1,"Equation Editor Command"),command:"\\darr"},{name:e.lang("diverges",!1,"Equation Editor Command"),command:"\\uarr"},{name:e.lang("Up Arrow",!1,"Equation Editor Command"),command:"\\uArr"},{name:e.lang("To",!1,"Equation Editor Command"),command:"\\to"},{name:e.lang("implies",!1,"Equation Editor Command"),command:"\\implies"},{name:e.lang("implied by",!1,"Equation Editor Command"),command:"\\impliedby"},{name:e.lang("gets",!1,"Equation Editor Command"),command:"\\gets"},{name:e.lang("harr",!1,"Equation Editor Command"),command:"\\harr"},{name:e.lang("if and only iff",!1,"Equation Editor Command"),command:"\\iff"}]}],symbols:[{name:e.lang("",!1,"Equation Editor Command"),commands:[{name:e.lang("alpha",!1,"Equation Editor Command"),command:"\\alpha"},{name:e.lang("beta",!1,"Equation Editor Command"),command:"\\beta"},{name:e.lang("gamma",!1,"Equation Editor Command"),command:"\\gamma"},{name:e.lang("delta",!1,"Equation Editor Command"),command:"\\delta"},{name:e.lang("zeta",!1,"Equation Editor Command"),command:"\\zeta"},{name:e.lang("eta",!1,"Equation Editor Command"),command:"\\eta"},{name:e.lang("theta",!1,"Equation Editor Command"),command:"\\theta"},{name:e.lang("iota",!1,"Equation Editor Command"),command:"\\iota"},{name:e.lang("kappa",!1,"Equation Editor Command"),command:"\\kappa"},{name:e.lang("mu",!1,"Equation Editor Command"),command:"\\mu"},{name:e.lang("nu",!1,"Equation Editor Command"),command:"\\nu"},{name:e.lang("xi",!1,"Equation Editor Command"),command:"\\xi"},{name:e.lang("rho",!1,"Equation Editor Command"),command:"\\rho"},{name:e.lang("sigma",!1,"Equation Editor Command"),command:"\\sigma"},{name:e.lang("tau",!1,"Equation Editor Command"),command:"\\tau"},{name:e.lang("chi",!1,"Equation Editor Command"),command:"\\chi"},{name:e.lang("psi",!1,"Equation Editor Command"),command:"\\psi"},{name:e.lang("phi",!1,"Equation Editor Command"),command:"\\phi"},{name:e.lang("phiv",!1,"Equation Editor Command"),command:"\\phiv"},{name:e.lang("epsilon",!1,"Equation Editor Command"),command:"\\epsilon"},{name:e.lang("epsiv",!1,"Equation Editor Command"),command:"\\epsiv"},{name:e.lang("varpi",!1,"Equation Editor Command"),command:"\\varpi"},{name:e.lang("varsigma",!1,"Equation Editor Command"),command:"\\varsigma"},{name:e.lang("vartheta",!1,"Equation Editor Command"),command:"\\vartheta"},{name:e.lang("upsilon",!1,"Equation Editor Command"),command:"\\upsilon"},{name:e.lang("digamma",!1,"Equation Editor Command"),command:"\\digamma"},{name:e.lang("varkappa",!1,"Equation Editor Command"),command:"\\varkappa"},{name:e.lang("varrho",!1,"Equation Editor Command"),command:"\\varrho"},{name:e.lang("pi",!1,"Equation Editor Command"),command:"\\pi"},{name:e.lang("lambda",!1,"Equation Editor Command"),command:"\\lambda"},{name:e.lang("Gamma",!1,"Equation Editor Command"),command:"\\Gamma"},{name:e.lang("Delta",!1,"Equation Editor Command"),command:"\\Delta"},{name:e.lang("Theta",!1,"Equation Editor Command"),command:"\\Theta"},{name:e.lang("Lambda",!1,"Equation Editor Command"),command:"\\Lambda"},{name:e.lang("Xi",!1,"Equation Editor Command"),command:"\\Xi"},{name:e.lang("Pi",!1,"Equation Editor Command"),command:"\\Pi"},{name:e.lang("Sigma",!1,"Equation Editor Command"),command:"\\Sigma"},{name:e.lang("Phi",!1,"Equation Editor Command"),command:"\\Phi"},{name:e.lang("Psi",!1,"Equation Editor Command"),command:"\\Psi"},{name:e.lang("Omega",!1,"Equation Editor Command"),command:"\\Omega"}]}]}},n={_resources:{mathquill:{css:[e.gbl.lib+"pkg/node_modules/mathquill/build/mathquill.css"],js:e.gbl.lib+"pkg/node_modules/mathquill/build/mathquill.js"}},_preventFocus:function(){var e=a.activeElement;setTimeout(function(){e.focus()},1)},types:{editor:function(t){e.get("resourceutils").xdoReady(t,[{name:"mathquill",main:["pkg/node_modules/mathquill/build/mathquill.js","pkg/node_modules/mathquill/build/mathquill.css"]}]).then(function(){var e=MathQuill.getInterface(2);a=e.MathField(t.dom().parent().find(".xds-math_editor_mathquill")[0]),t.dom().parent().find(".xds-math_editor_mathquill").on("keydown keypress input keyup focusout paste",function(e){var i=a.latex();t.val(i),t.dom().val(i),t.trigger("change",{newvalue:i})}),t.data&&a.latex(t.data)});var a=!1;t.data=t.get_setting("seedContent")||t.data||"",t.get_setting("seedContent")&&t.state.set("equation",t.data),t.on(""),t.sparse=!0,t.on("mqCmd",function(e){MathQuill.getInterface(2),a.write(e.get_arg("val")).focus()}),t.inherit("f_hidden").postclosetag(e.html.div("","xds-math_editor_mathquill")),t.state.watch("equation",function(e){e!=a.latex()&&a.latex(e)})},toolbox:function(e){e.sparse=!0;var t=[],a=!0,n=function(e){for(var t=[],a=0;a<e.length;a++){var i=e[a];t.push({name:i.name,commands:{command:i.commands}})}return t},r=i();for(var o in r)t.push({name:o,tools:{section:n(r[o])},selected:a}),a&&e.state.setnx("selectedGroup",o),a=!1;e.data={groups:{group:t},tools:t}},tools:function(e){var t=e.state.get("selectedGroup")||!1;t&&t!=e.data.name&&e.exitBlank()},tool:function(a){a.sparse=!0;var i=a.data.example||a.data.command||a.data.cmd||a.data.name;i.indexOf(":")>=0&&(i=i.split(":")[1]),a.data.display=i,e.platform.phone||e.platform.tablet||a.arg("tooltip",a.data.name),a.inherit("button"),a.data.smallFont&&a.addClass("xds-math-tool-smallFont"),a.data.wide&&a.addClass("xds-math-tool-wide"),a.on("mousedown",function(e){var a=e.data.command||e.data.cmd||e.data.name,i=a;if(a.indexOf(":")>=0&&(a=a.split(":")[0],i=i.split(":")[1]),e.target("*mathquill").length>0)e.target("*mathquill").trigger("mqCmd",{cmd:a,val:i});else{var n=e.target("*LaTeX-input").find("textarea"),r=n.prop("selectionStart"),o=n.prop("selectionEnd"),s=n.val(),d=s.substring(0,r)+i+s.substring(o,s.length);n.val(d),e.state.set("equation",d);var l=e.target("*LaTeX-input").xdo;l.temp.changeTimeout&&t.clearTimeout(l.temp.changeTimeout),l.temp.changeTimeout=t.setTimeout(function(){l.trigger("change")},300)}})},palette:function(e){e.exitBlank(),e.sparse=!0,e.preclosetag(function(){var e,t=function e(t,a){var i,n=[];for(var r in n.push("<div class='plugin-mathquill-command-group plugin-mathquill-command-group-"+t+"' onmousedown='cf.get('math')._preventFocus();'>"),a)a.hasOwnProperty(r)&&(a[r].commands?(n.push("<div class='plugin-mathquill-command-subgroup plugin-mathquill-command-subgroup-"+a[r].name+"'><div class='plugin-mathquill-command-subgroup-title'>"+a[r].name+"</div>"),n.push(e(a[r].name,a[r].commands)),n.push("</div>")):n.push("<div class='plugin-mathquill-command-command' style='position: relative;' title='"+((i=a[r]).cmd||i.command||i.name)+"' alt='"+(i.command||i.name)+"'><span class='cover' style='position:absolute; top:0px; left: 0px;width: 75px; height: 44px; z-index: 3;' onmousedown='cf.get('math')._preventFocus();'></span><span class='latexCmd' style='z-index: 2;'>"+(i.example||i.cmd||i.command||i.name)+"</span></div>"));return n.push("</div>"),n.join("")},a=[],n=["<div class='plugin-mathquill-command-tabs'>"],r=["<div class='plugin-mathquill-command-groups'>"],o=i();for(var s in o)o.hasOwnProperty(s)&&(n.push((e=s,o[s],"<div class='plugin-mathquill-command-tab' onmousedown='cf.get('math')._preventFocus();' title='"+e+"'>"+e+"</div>")),r.push(t(s,o[s])));return n.push("</div>"),r.push("</div>"),a.push(n.join("")),a.push(r.join("")),a.join("")}()),e.on("mousedown",function(e){var t=e.e,a=$(t.target);if(a.hasClass("cover")&&(a=$(a.parent())),a.hasClass("plugin-mathquill-command-tab")){var i=$(".plugin-mathquill-command-group-"+a.attr("title"));$(".plugin-mathquill-command-group").hide(),i.show()}else if(a.hasClass("plugin-mathquill-command-command")){var n="cmd",r=a.attr("title"),o=r;r.indexOf(":")>0&&(n=(r=r.split(":"))[0],o=r[1]),e.target("*mathEditor").trigger("mqCmd",{cmd:n,val:o})}}).ready(function(){!function a(){if(t.MathQuill)for(var i=MathQuill.getInterface(2),n=e.dom().find(".latexCmd"),r=0;r<n.length;r++)i.StaticMath($(n[r]));else t.setTimeout(a,50)}()})},laTeX:function(e){e.ready(function(e){!function a(){t.MathQuill?MathQuill.getInterface(2).StaticMath(e.dom()[0]):t.setTimeout(a,50)}()})},mathquillrender:function(e){e.arg("state")&&(e.data=e.state.get(e.arg("state"))||e.data||""),e.ready(function(e){!function a(){t.MathQuill?MathQuill.getInterface(2).StaticMath(e.dom()[0]):t.setTimeout(a,50)}()})},math:function(e){e.inherit("math.mathjax")},mathml:function(e){var a=e.state.get("equation-mathml")||e.data;a||e.exitBlank(),e.data="",e.preclosetag(a),e.ready(function e(){t.MathJax&&t.MathJax.typeset?MathJax.typeset():t.setTimeout(e,100)})},mathjax:function(e){if(e.state.get("equation-mathml"))e.exitBlank();else{var a=e.state.get("equation")||e.get_setting("seedContent")&&e.get_setting("seedContent").data||e.data;e.data="\\("+(a||"")+"\\)",t.setTimeout(function(){var t=MathJax.tex2mml(a);t&&e.state.set("equation-mathml",t)},1),e.ready(function e(){t.MathJax&&t.MathJax.typeset?MathJax.typeset():t.setTimeout(e,100)})}}},fn:{formatXML:function(e){for(var t="",a=(e=e.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),i=0,n="other",r={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},o=0;o<a.length;o++){var s=a[o],d=Boolean(s.match(/<.+\/>/)),l=Boolean(s.match(/<\/.+>/)),c=Boolean(s.match(/<[^!].*>/)),u=d?"single":l?"closing":c?"opening":"other",f=n+"->"+u;n=u;var g="";i+=r[f];for(var p=0;p<i;p++)g+="    ";t+=g+s+"\n"}return t},getMathML:function(e,t,a){a(MathJax.tex2mml(t))},mmlchanged:function(e){var t=e.find("textarea").val();e.state.get("equation-mathml")!==t&&(e.state.set("equation-mathml",t),e.state.set("mathml-modified",1),e.newEvent("math.mml2texfromtextarea"))},mml2texfromtextarea:function(a){var i=a.find("textarea"),n=i.val();n=n.replace(/>/g,"&gt;").replace(/</g,"&lt;"),n=(n=$("<div/>").html(n).text()).replace(/<math[^>]+>/i,'<math xmlns="http://www.w3.org/1998/Math/MathML">'),i.val(n),a.state.set("doingmml2tex",(a.state.peek("doingmml2tex")||0)+1),e.get_func("math.mml2tex")(a,n,function(e){t.setTimeout(function(){a.state.set("equation",e),a.state.set("doingmml2tex",(a.state.peek("doingmml2tex")||1)-1)},1)})},waitfortex:function(t){if(t.state.get("doingmml2tex")>=1){var a=!1;t.state.peek("texdialog")||(a=e.dialog({message:e.lang("Working, please wait...")+""+e.html.loading(),buttons:[]}),t.state.set("texdialog",a)),t.state.watch("doingmml2tex",function(e){0===e&&(t.state.peek("texdialog").remove(),t.state.set("texdialog",!1),t.state.set("editorMode",t.arg("editorMode")||t.get_arg("editorMode")))}),t.stopPropagation(),t.preventDefault()}else t.state.set("editorMode",t.arg("editorMode")||t.get_arg("editorMode"))},mml2tex:function(t,a,i){$.ajax({method:"POST",url:"/microservices/math/mml2tex?xds=EquationEditor",data:{mathml:a},complete:function(t){var a=t.responseText;if(a.indexOf('<?xml version="1.0" encoding="UTF-8"?><?mml2tex ')>=0){var n=a.replace('<?xml version="1.0" encoding="UTF-8"?><?mml2tex ',"").replace("?>","");i&&i(n)}else i&&i(e.lang("error: unrecognized mathml"))}})},saveDelta:function(e){var t=e.state.get("equation"),a=e.state.data["equation-mathml"];a?e.get_setting("editor")&&e.get_setting("editor").trigger("xds-delta",{delta:a,deltaSource:"mathml"}):e.get_setting("editor")&&e.get_setting("editor").trigger("xds-delta",{delta:t,deltaSource:"math"});var i={latex:e.state.data.equation};e.state.get("mathml-modified")&&(i.mathml=e.state.peek("equation-mathml"),delete i.latex),e.target("caller").trigger("xds-math",i),e.trigger("xds-deltaSaved"),e.target("*mathEditor").trigger("xds-math-saveDelta")},loadResources:function(t){var a=[];for(var i in n._resources){if(n._resources.hasOwnProperty(i)&&n._resources[i].css)if("string"==typeof n._resources[i].css)a.push(n._resources[i].css);else for(var r=0;r<n._resources[i].css.length;r++)a.push(n._resources[i].css[r]);n._resources.hasOwnProperty(i)&&n._resources[i].js&&a.push(n._resources[i].js)}e.resources.load(a,function(){t.trigger("xds-math-resourcesLoaded")})}},containsMath:function(e){var t=e.get_val();return!(!t||!MathJax)&&(t.indexOf("\\(")>=0&&t.indexOf("\\)")>=0||t.indexOf("<math")>=0||t.indexOf("$$")>=0)},queueMathRender:function(e){var a=e.root_xdo();a.temp._mathrendertimeout&&t.clearTimeout(a.temp._mathrendertimeout);var i=a.ref();a.temp._mathrendertimeout=t.setTimeout(function(){delete i.resolve().temp._mathrendertimeout,MathJax.typeset()},50)},getMathJaxBasePath:function(){return"".concat(e.gbl.lib,"pkg/node_modules/mathjax/es5")},getMathJaxScriptPath:function(){return n.getMathJaxBasePath()+"/tex-mml-chtml.js?config=TeX-AMS-MML_HTMLorMML"},injectMathJax:function(){t.MathJax&&t.MathJax.version||(t.MathJax={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]],autoload:{color:[],colorv2:["color"]},packages:{"[+]":["noerrors"]}},options:{enableMenu:!1,ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process",safeOptions:{allow:{URLs:"none",classes:"none",cssIDs:"none",styles:"none"}}},loader:{load:["[tex]/noerrors","ui/safe"]},startup:{ready:function(){MathJax.startup.defaultReady()}}});var a={name:"MathJax",injectdirect:!0,initTest:function(e){return void 0!==e._mathjax||(e._mathjax=!0,!1)},loadedTest:function(){return!!t.MathJax.version},main:[n.getMathJaxScriptPath()],postFunc:function(){}};e.get("resourceutils")?e.get("resourceutils").load(a):(t._resourceUtilsQueue||(t._resourceUtilsQueue=[]),t._resourceUtilsQueue.push(a))}};return e.init(function(){n.injectMathJax()}),n}),cf.module("media",function(e,t,a){var i=function(e,t){e.ready(function(){var t=e.dom().find(".xds-media-downloadbar");t.length>0&&t.on("click",function(e){e.stopPropagation(),e.stopImmediatePropagation()}),e.on("play",function(e){$("video,audio").each(function(t,a){if(e.dom()[0]!==a)try{a.pause()}catch(e){}})})})},n=function(t,a,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.state.get("Content")||t.get_val("Content")||t.data,o=[],s=r.ContentType.split("/")[0],d='<source src="{{src}}" type="{{type}}"/>',l=!1;if(r.AltTypes)for(var c=0;c<r.AltTypes.length;c++){var u=r.AltTypes[c],f=u;if("object"==_typeof(u)&&u.ctype&&(f=u.ctype),(!e.browser.safari||"audio"!==s||0==f.indexOf("audio/mpeg"))&&0==f.indexOf([s,"/"].join(""))&&(e.platform.phone&&n&&(l&&l>u.size&&o.length>0&&o.pop(),l=u.size),i.streamSelector="&ctype="+encodeURIComponent(f),n&&(i.streamSelector=i.streamSelector+"&csize="+u.size),o.push(e.tpl(d,{src:e.tpl(a,i),type:f.split(";")[0]})),!e.platform.phone&&n))break}return e.browser.safari&&"audio"===s&&0===r.ContentType.indexOf("audio/mpeg")&&(delete i.streamSelector,o.push(e.tpl(d,{src:e.tpl(a,i),type:r.ContentType.split(";")[0]}))),o},r={},o={_getAudioContext:function(){return r.audioContext||(t.AudioContext?r.audioContext=new AudioContext:t.webkitAudioContext&&(r.audioContext=new webkitAudioContext)),r.audioContext},_utils:{visualizeAudioTag:function(t,a,i){if(!e.platform.mobile){var n=o._getAudioContext();if(n){var r=n.createAnalyser();n.createMediaElementSource(a).connect(r),r.connect(n.destination),o._utils.visualizeAudioStream(r,i),t.on("xds-unload",function(t){n.close(),e.log.debug("media.visualizeAudioTag: Audio Context unloaded")})}}},visualizeAudioStream:function(e,t){var a=t.getContext("2d"),i=t.width,n=t.height;e.fftSize=256;var r=e.frequencyBinCount,o=new Uint8Array(r);a.clearRect(0,0,i,n),function t(){requestAnimationFrame(t),e.getByteFrequencyData(o),a.fillStyle="rgb(200, 200, 200)",a.fillRect(0,0,i,n);for(var s,d=i/r*2.5,l=0,c=0;c<r;c++)s=o[c],a.fillStyle="rgb(50,50,"+(s+100)+")",a.fillRect(l,n-s/2,d,s/2),l+=d+1}()}},video:function(t){var a="{{dl}}{{nid}}?field={{field}}&attach=1&xds={{xds}}&ui={{ui}}{{streamSelector}}",r={dl:e.gbl.dl,nid:t.nid(),field:"file",xds:"videoPlayer",ui:t.cssPath,streamSelector:""},o=!1,s=!1,d=e.tpl(a,r),l=t.data.ContentType;if(t.data.AltTypes)for(var c=0;c<t.data.AltTypes.length;c++){var u=t.data.AltTypes[c],f=u;if("object"==_typeof(u)&&u.ctype&&(f=u.ctype),0==f.indexOf("image/")){o=f;break}}o&&(r.streamSelector="&ctype=image",s=e.tpl(a,r));var g={"max-width":"calc(100%)","max-height":"90vh"};t.global("width")&&(g["max-width"]=t.global("width")+"px",(""+t.global("width")).indexOf("vw")>=0&&(g["max-width"]=t.global("width"))),t.global("height")&&(g["max-height"]=t.global("height")+"px");var p="";for(var h in g)p=p+h+":"+g[h]+";";p.length>0&&(p=e.tpl(' style="{{styl}}"',{styl:p})),t.addStyle("display","inline-block");var m={srcAttr:"",type:l,style:p,preload:"metadata",downloadStr:e.lang("Download Original")};(e.layout.isPhone()||e.layout.isTablet()||e.platform.native)&&(m.downloadStr=e.lang("Open")),m.sources=e.tpl('<source src="{{src}}" type="{{type}}"/>',{src:d,type:l});var v=n(t,a,r,!0);v.length>0&&(m.sources=v.join("\n")),m.poster=o?'poster="'+s+'"':"";var b=e.extend({},r);b.ui="".concat(t.cssPath,"-download"),m.dlsrc=e.tpl(a,b);var _=["<video controls{{style}} {{poster}}>","{{sources}}</video>"];e.platform.native||t.arg("noDownloadBar")||(_.push('<div class="xds-media-downloadbar" style="text-align:center;">'),_.push('<a href="{{dlsrc}}" target="_blank">{{downloadStr}}</a></div>')),t.addStyle({display:"flex","flex-direction":"column"}),t.tag("div").preclosetag(e.tpl(_.join(""),m)),i(t)},isPlayable:function(t){var a={dl:e.gbl.dl,nid:t.nid(),field:"file",xds:"audioPlayer",ui:t.cssPath,streamSelector:""};return n(t,"{{dl}}{{nid}}?field={{field}}&attach=1&xds={{xds}}&ui={{ui}}{{streamSelector}}",a).length>0},audio:function(t){var a="{{dl}}{{nid}}?field={{field}}&attach=1&xds={{xds}}&ui={{ui}}{{streamSelector}}",r={dl:e.gbl.dl,nid:t.nid(),field:"file",xds:"audioPlayer",ui:t.cssPath,streamSelector:""},s=e.tpl(a,r),d=t.data.ContentType;t.addStyle("display","inline-block");var l={src:s,srcAttr:"",type:d,style:"width:100%;"};l.sources=e.tpl('<source src="{{src}}" type="{{type}}"/>',{src:s,type:d});var c=n(t,a,r);l.sources=c.join("\n"),1==(c=[]).length&&(l.srcAttr=e.tpl('src="{{src}}"',l)),t.arg("visualize")?t.tag("div").posttag("<canvas class='xds-media-audio-visualization' style='width:100%; height:70px;'></canvas>").preclosetag(e.tpl('<audio controls style="{{style}}">{{sources}}</audio>',l)).ready(function(e){var t=e.find("audio")[0],a=e.find("canvas")[0];o._utils.visualizeAudioTag(e,t,a)}):(t.tag("audio"),t.attr("controls","controls"),t.preclosetag(e.tpl("{{sources}}",l))),i(t)}};return o}),cf.module("msoffice",function(e,t,a){var i={staticimg:function(e){},msoffice:function(t){t.data.player||(t.data={guidance:{text:e.lang("Document preview provided by:")},player:t.data}),t.addChild({xds:{id:"guidance",css:"xds-msoffice-msoffice-guidance",sparse:!0,fields:[{id:"text",sparse:!0,css:"xds-msoffice-msoffice-guidance-text"},{id:"msftlogo",type:"resourceutils.img",path:"msoffice",module:"msoffice",filename:"MSFT_logo_rgb_C-Gray.png",sparse:!0,css:"xds-msoffice-msoffice-guidance-img",_styles:[{styles:{height:"38px"}}]},{id:"o365logo",type:"resourceutils.img",path:"msoffice",module:"msoffice",filename:"Ofc365_rgb_Orng166.png",sparse:!0,css:"xds-msoffice-msoffice-guidance-img",_styles:[{styles:{height:"48px"}}]}]}}),t.addChild({xds:{type:"msoffice.player",sparse:!0,id:"player"}})},player:function(t){if(t.data.ContentSize>=1e7){var a=e.lang("This file is too large to preview, click here to download it.");t.tag("div").addClass("xds-msoffice-msoffice-fileTooLarge"),t.addChild({xds:{id:"toolarge",sparse:!0,fields:[{id:"download",type:"files.download",sparse:!0,title:a}]},data:{guide:a}})}else if(t.state.get("ticket")){var i={};t.global("width")&&(i["max-width"]=t.global("width")+"px"),t.arg("width")&&(i.width=t.arg("width")+"px"),t.global("height")&&(i.height=t.global("height")+"px"),t.addStyles(i);var n=e.gbl.dl+(t.arg("noPath")?t.nid():t.cnid())+"?field="+(t.xds.field||"file")+"&attach=1&xds="+(t.arg()||"fileThumbnail")+"&ui=".concat(t.cssPath,"&size=orig&ticket=")+encodeURIComponent(t.state.get("ticket"));e.platform.ios&&e.platform.native?(t.arg("title",e.lang("Open File")),t.inherit("button"),t.on("click",function(t){e.links.openUrl(n,"_blank")})):t.tag("iframe").addAttr("src","https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(n))}else e.ajax({xdo:t,url:{xds:"GetFileDownloadTicket",nid:t.nid()},callback:function(e){setTimeout(function(){t.state.set("ticket",e.slices[0].data.ticket)},10)}})}};return e.init(function(){!function a(){var i=e.get("files");i&&i.registry?(e.get("files").registry.register({regexp:"(application/vnd.openxmlformats-officedocument.wordprocessingml.*)|(application/vnd.ms-word.*)|(application/msword)",extensions:{csv:!1,pptx:!1,ppt:!1,docx:!0,doc:!0,xlsx:!1,xls:!1,dot:!0,dotx:!0},name:"msoffice-word",viewer:"msoffice.msoffice",requiresServer:!0,icon:"file-word",noNative:!0,runtimeTest:function(){return e.settings.enhancedpreviews}}),e.get("files").registry.register({regexp:"(application/vnd.openxmlformats-officedocument.spreadsheetml.*)|(application/vnd.ms-excel.*)|(application/vnd.ms-excel)",extensions:{csv:!1,pptx:!1,ppt:!1,docx:!1,doc:!1,xlsx:!0,xls:!0,xlt:!0,xltx:!0},name:"msoffice-excel",viewer:"msoffice.msoffice",requiresServer:!0,icon:"file-excel",noNative:!0,runtimeTest:function(){return e.settings.enhancedpreviews}}),e.get("files").registry.register({regexp:"(application/vnd.openxmlformats-officedocument.presentationml.*)|(application/vnd.ms-powerpoint.*)|(application/vnd.ms-powerpoint)",extensions:{csv:!1,pptx:!0,ppt:!0,docx:!1,doc:!1,xlsx:!1,xls:!1},name:"msoffice-powerpoint",viewer:"msoffice.msoffice",requiresServer:!0,icon:"file-powerpoint",noNative:!0,runtimeTest:function(){return e.settings.enhancedpreviews}})):t.setTimeout(a,100)}()}),i}),cf.module("neweditors",function(e,t,a){t.edsbyCustomURLConverterLORVariant=function(e,t,a,i){return e};var i="\x3c!--xdl-rich--\x3e",n={prepareMCETextArea:function(t){for(var a=tinyMCE.editors[t],r=n.resolve_editor_to_xdo(a),o=r.dom().find("#"+t),s=e.get_obj(o[0]),d=a.dom.select("img"),l={},c=0;c<d.length;c++){e.get("sanitizer").normalizeEmbeddedImage(a.dom.$(d[c]),{files:e.get_func("wysiwyg.getKnownFiles")(s)});try{var u=d[c].getAttribute("SRC"),f=u.split("?")[0].split("/").pop();(u.startsWith("https://")||u.startsWith("http://")||u.startsWith(e.gbl.dl.substr(e.gbl.p.length-1)))&&(l[f]=u)}catch(e){}}a.save();var g=(o.val()||"").replace(i,"");0===(g=i+e.get("sanitizer").sanitize(g,s.arg("sanitizerSaveRule")||"richtextSave",void 0,{files:e.get_func("wysiwyg.getKnownFiles")(s)})).indexOf("<p>\n\t&nbsp;</p>")?o.val(i+g.substr("<p>\n\t&nbsp;</p>".length)):o.val(g),g=i+(o.val()||"").replace(i,"");var p="none";return Object.keys(l).length>0&&(p=Object.keys(l).join(",")),"none"!=p&&r.target("*embeddedFileAuditor").val(p),g},saveHook:function(e){return new Promise(function(t,a){tinyMCE.editors[e].uploadImages(function(e){t()})})},resolve_editor_to_xdo:function(t){return e.get_obj(t.id.replace("__f__",""))},tinymce:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(a){if(e.get("forms").is_read_only(a))a.inherit("wysiwyg.draw").addSubClass("readonly");else{var i,r=["pkg","node_modules","tinymce"].join("/"),o=e.gbl.lib+["tinymce","plugins","5.6.2"].join("/");a.arg("saveRaw")&&a.data&&a.data.indexOf("\x3c!--xdl-rich--\x3e")<0&&(a.data=e.htmlentitiesdecode(a.data)),a.data=e.get("sanitizer").sanitize(a.data,a.arg("sanitizeRule")||"richtext",void 0,{files:e.get_func("wysiwyg.getKnownFiles")(a)}),a.addValidator({type:"inputReady",message:e.lang("Not ready yet, please wait. The form will be automatically submitted when ready.")}),e.get("resourceutils").xdoReady(a.inherit("f_textarea"),[{name:"tinymce",main:[[r,"tinymce.min.js"],[r,"jquery.tinymce.min.js"]]},{name:"tinymcemathjax",main:[["tinymce","plugins","tinymce-mathjax","plugin.js"]]}]).then(function(s){tinyMCE.baseURL=e.gbl.lib+r,tinyMCE.suffix=".min";var d=e.gbl.xdl;e.settings.dev&&(d="/static/xdl/");var l={},c={height:700,elementpath:!1,max_height:700,branding:!1,relative_urls:!1,menubar:"edit insert view format table tools help",toolbar1:"fullscreen | undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media spellchecker | print | forecolor backcolor | edsbymath | edsbycode",toolbar2:!1,toolbar3:!1,toolbar4:!1,toolbar5:!1,resize:!1,image_advtab:!1,extended_valid_elements:"math[*],menclose[*],merror[*],mfenced[*],mfrac[*],mglyph[*],mi[*],mlabeledtr[*],mmultiscripts[*],mn[*],mo[*],mover[*],mpadded[*],mphantom[*],mroot[*],mrow[*],ms[*],mspace[*],msqrt[*],mstyle[*],msub[*],msubsup[*],msup[*],mtable[*],mtd[*],mtext[*],mtr[*],munder[*],munderover[*],semantics[*],maction[*],annotation[*],+@[data-embed-name]",content_css:[e.gbl.lib,"tinymce","content.css"].join("/"),contextmenu:"copy paste | link image inserttable | cell row column deletetable",statusbar:!1},u=["code","contextmenu","advlist","media","link","lists","table","textcolor","charmap","fullscreen","hr","fullpage","anchor","paste","preview","spellchecker","toc","emoticons","print","visualblocks","searchreplace","mathjax","edsbymath","edsbydeltasources","edsbygrammar","noneditable","a11ychecker"],f={selector:[a.id(),"textarea"].join(" "),noneditable_noneditable_class:"math-latex",mathjax:{configUrl:e.get("math").getMathJaxScriptPath()},plugins:u,external_plugins:{edsbydeltasources:d+"modules/neweditors/tinymce/edsbydeltasources"+(e.settings.dev?".":".min.")+"js?_cb="+(e.settings.dev?(new Date).getTime():e.settings.compiled),edsbymath:d+"modules/neweditors/tinymce/edsbymath"+(e.settings.dev?".":".min.")+"js?_cb="+(e.settings.dev?(new Date).getTime():e.settings.compiled),edsbygrammar:d+"modules/neweditors/tinymce/edsbygrammar"+(e.settings.dev?".":".min.")+"js?_cb="+(e.settings.dev?(new Date).getTime():e.settings.compiled),advcode:"".concat(o,"/advcode/plugin.min.js"),a11ychecker:"".concat(o,"/a11ychecker/plugin.min.js")},skin_url:"".concat(d,"/modules/neweditors/tinymce/skin/"),imagetools_proxy:e.gbl.server+"/microservices/tinymce_services/ephox-image-proxy/image",paste_data_images:!0,paste_preprocess:function(t,i){i.content=e.get("sanitizer").sanitize(i.content,"richtextpaste",void 0,{files:e.get_func("wysiwyg.getKnownFiles")(a)})},spellchecker_languages:"English=en",spellchecker_callback:function(t,a,i,n){var r=a.match(this.getWordCharPattern())||[];a=r.join("\n"),e.get("language").typos(a,"en-US").then(function(e){var t=function(e){for(var t=[],a=0;a<e.replacements.length;a++)t.push(e.replacements[a].value);return 0==t.length&&t.push(e.rule.description),t},a={};for(var i in e.matches)a[i]=t(e.matches[i]);return{words:a}}).then(i).catch(n)},automatic_uploads:!1,images_upload_handler:function(t,i,n){var r=[e.get("guid").rfc4122(),t.filename()].join("-"),o=r,s=a.state.get("pkg"),d=a.nid();s&&a.global("baseUrl")&&(o=[a.get_val("name").split("/").shift(),"__uploads",r].join("/"));var c={_formkey:a.key(),nodetype:e.nt.File.Attachment(),pin:e.constant.np.KnowledgeBase(),name:o};"readonly"!==tinymce.activeEditor.mode.get()&&(e.get("forms").events.inputNotReady(a),tinymce.activeEditor.setMode("readonly")),s?d=a.get_setting("container_nid"):c.fieldref=a.xds.dbid,e.get("addresources").upload(t.blob(),c,{nid:e.gbl.user.nid,xds:a.state.get("xdsDirectUpload")||"RTUploader"}).then(function(t){var n=a.arg("xdsFiles")||a.xds_full.id||"RichTextEmbeddedFiles";return e.get("addresources").linkUploads(a,{nid:d,xds:a.state.get("xdsUpload")||"RichTextAttachFile",linknids:[t.response.nid]}).then(function(t){return e.get_func("wysiwyg.updateKnownFiles")(a,{nid:d,xds:s?"RichTextEmbeddedFiles":n})}).then(function(t){var r="files";if(n==a.xds_full.id){(r=(r=a.sibling("files")).split("-")).shift();for(var s=0;s<r.length;s++)t[r[s]]&&(t=t[r[s]])}var d=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rtefile";for(var r in t)if(t[r].name===o||t[r].ContentName===o){var s=function(){t[r].file?n="file":t[r].rtefile?n="rtefile":a.arg("filedbid")&&(n=a.arg("filedbid"));var s=e.tpl("{{dl}}{{nid}}?field="+n+"&xds=fileThumbnail&size=1024",{dl:e.gbl.dl,nid:[a.global("cartridge")||a.nid(),t[r].rid,t[r].nid].join("/")});return l[s]={filename:o,nid:t[r].nid,rid:t[r].rid},{v:e.get("files").checkVirusScanState(a,t[r].nid).then(function(){i(s),e.get("forms").events.inputReady(a),tinymce.activeEditor.setMode("design")})}}();if("object"===_typeof(s))return s.v}return Promise.resolve()},c=[];return t.file&&c.push(d(t.file)),t.rtefile&&c.push(d(t.rtefile)),t.legacyfile&&c.push(d(t.legacyfile)),Promise.all(c)})}).catch(function(t){e.get("forms").events.inputReady(a),tinymce.activeEditor.setMode("design"),n(t)})},file_picker_types:"image",setup:function(t){var i=!0;a.temp.tinymce=t;var r=function(e){var i=n.prepareMCETextArea(t.id);"string"==typeof i&&a.set_val(i),a.trigger("setFormDirty"),a.trigger("input"),a.trigger("change")};t.on("init",function(e){t.setContent(a.data||"")}),t.on("SetContent",function(e){}),t.on("Dirty",function(e){r()}),t.on("paste",function(e,a){for(var i=0;i<e.clipboardData.items.length;i++){var n=e.clipboardData.items[i];if("file"==n.kind){var r=n.getAsFile();r&&r.type.startsWith("image/")&&function(){var a=new FileReader;a.addEventListener("load",function(){var e='<img src="'.concat(a.result,'">');t.execCommand("mceInsertContent",!1,e)},!1),a.readAsDataURL(r),e.stopPropagation(),e.preventDefault()}()}}}),t.on("NodeChange",function(e){e&&e.element&&e.element.src&&e.element.src.startsWith("blob:")&&e.element.getAttribute("data-embed-name")&&e.element.removeAttribute("data-embed-name")}),t.on("BeforeExecCommand",function(i){if(i&&["mceImageFlipVertical","mceImageFlipHorizontal","mceImageRotateLeft","mceImageRotateRight"].includes(i.command)){var n=t.selection.getNode();n&&n.getAttribute("data-embed-name")&&(n.removeAttribute("data-embed-name"),"readonly"!==t.mode.get()&&(e.get("forms").events.inputNotReady(a),tinymce.activeEditor.setMode("readonly")))}}),t.on("BeforeAddUndo",function(e){i&&(i=!1,e.preventDefault())}),t.on("AddUndo",r),t.on("Change",r),t.on("ExecCommand",function(e){if(e)switch(e.command){case"mceFullScreen":$("body").toggleClass("xds-neweditors-body-contains-fullscreeneditor")}}),t.setContent(""),a.trigger("xds-wysiwyg2-editorReady",{editor:t})},extended_valid_elements:"math[*],menclose[*],merror[*],mfenced[*],mfrac[*],mglyph[*],mi[*],mlabeledtr[*],mmultiscripts[*],mn[*],mo[*],mover[*],mpadded[*],mphantom[*],mroot[*],mrow[*],ms[*],mspace[*],msqrt[*],mstyle[*],msub[*],msubsup[*],msup[*],mtable[*],mtd[*],mtext[*],mtr[*],munder[*],munderover[*],semantics[*],maction[*],annotation[*],+@[data-embed-name]",mathjaxConfig:{options:{enableMenu:!1},showMathMenu:!1,showMathMenuMSIE:!1,TeX:{extensions:["cancel.js"]},messageStyle:"none",asciimath2jax:{ignoreClass:".*",processClass:"math-ascii"},tex2jax:{ignoreClass:".*",processClass:"math-latex",inlineMath:[["$","$"],["\\(","\\)"],["$$","$$"]],displayMath:[["$$$","$$$"]]},MathML:{extensions:["content-mathml.js"]},"HTML-CSS":{availableFonts:["STIX"],preferredFont:"STIX",webFont:"STIX-Web",imageFont:null},AsciiMath:{decimalsignAlternative:","}},target_list:!1};if("create"!==a.get_setting("command")&&"create"!==a.arg("command")&&(u.push("image"),u.push("imagetools"),f.automatic_uploads=!0,f.file_picker_callback=function(t,i,n){$("#mce-modal-block").css("z-index","1000");var r={filter:"image",xds:a.state.get("xdsUpload")||"AddFilesLBNoThumbnail",limit:1},o=a.state.get("pkg"),s=a.nid();o||(r.fieldref=a.xds.dbid),"readonly"!==tinymce.activeEditor.mode.get()&&(e.get("forms").events.inputNotReady(a),tinymce.activeEditor.setMode("readonly")),o?(s=a.get_setting("container_nid"),r.nid=s,r.nameprefix=[a.get_val("name").split("/").shift(),"uploads"].join("/")):r.fieldref=a.xds.dbid,e.get("addresources").doUpload(a,r).then(function(t){var i=a.arg("xdsFiles")||a.xds_full.id||"RichTextEmbeddedFiles";if(!t)throw new Error("file picker cancelled");return e.get_func("wysiwyg.updateKnownFiles")(a,{nid:s,xds:o?"RichTextEmbeddedFiles":i}).then(function(e){var n="files";if(i==a.xds_full.id){(n=(n=a.sibling("files")).split("-")).shift();for(var r=0;r<n.length;r++)e[n[r]]&&(e=e[n[r]])}var o={filename:t.filenames[0]},d=!1,l=function(e){for(var t in e)if(e[t].name==o.filename||e[t].ContentName==o.filename)return d=!0,o.pnid=s,o.rid=e[t].rid,o.nid=e[t].nid,e[t].rtefile?o.dbid="rtefile":e[t].file?o.dbid="file":a.arg("filedbid")&&(o.dbid=a.arg("filedbid")),!0;return!1};if(l(e.file)||l(e.legacyfile),d)return o;throw new Error("File Not Found")})}).then(function(i){var n=i.filename,r={dl:"/"+e.gbl.dl.replace(e.gbl.p,""),nid:[i.pnid,i.rid,i.nid].join("/"),dbid:i.dbid},o=e.tpl("{{dl}}{{nid}}?field={{dbid}}&xds=fileThumbnail&size=1024",r);return l[o]=i,e.get("files").checkVirusScanState(a,i.nid).then(function(){t(o,{title:n}),e.get("forms").events.inputReady(a),tinymce.activeEditor.setMode("design")})}).then(function(){return e.get_func("wysiwyg.updateKnownFiles")(a,{nid:a.global("cartridge")||a.nid(),xds:listXds})}).catch(function(t){e.get("forms").events.inputReady(a),tinymce.activeEditor.setMode("design")})}),a.arg("autoresize")&&f.plugins.push("autoresize"),a.global("cartridge")&&a.global("baseUrl")){var g=a.global("cartridge");a.get_setting("container_nid")&&a.get_setting("container_nid")!=g&&(g=[a.get_setting("container_nid"),g].join("/")),(i=e.tpl(a.global("baseUrl"),{cartridge:g}).split("/")).pop(),c.document_base_url=i.join("/")+"/",f.urlconverter_callback="edsbyCustomURLConverterLORVariant"}var p=!1;if(a.xds_full){if(a.xds_full._lang)try{p=(p=a.xds_full._lang.split(",")[0]).indexOf("fr")>=0&&"fr"}catch(e){p=!1}(p||(t.navigator.userLanguage||t.navigator.language).indexOf("fr")>=0)&&(c.language="fr"),f.plugins=f.plugins.join(",");var h=function(t,i){var n,r,o,s={};for(var d in i)s[d]=i[d];for(var l in t)s[l]=(n=l,r=t[l],void 0,void 0!==(o=a.arg(n))?o:r);return(e.layout.isPhone()||!1===a.arg("menubar"))&&(i.menubar=""),s}(c,f);tinyMCE.init(h)}},function(e){}),a.editor={appendText:function(t){var i=a.temp.tinymce;i.selection.select(i.getBody(),!0),i.selection.collapse(!1),i.execCommand("mceInsertContent",!1,e.nl2br(t))},insertText:function(t){a.temp.tinymce.execCommand("mceInsertContent",!1,e.nl2br(t))},setContent:function(e){a.temp.tinymce.setContent(e||"")}}}})};return n}),cf.module("nodedefs",function(e,t,a){var i={},n={register:function(t){var a={},n=t.get_children(),r=function(t){var i=n[t],r=i.nt?e.lookup("nt",i.nt).val():i.id;a[r]={nt:i.nt,xdsEdit:i.xdsEdit,xdsView:i.xdsView,command:i.command,title:i.title,id:i.id,icon:i.icon,fa_class:i.fa_class,leafNode:i.leafNode,exclude:{},noIcon:i.noIcon},void 0!==i.ctypeicon&&(a[r].ctypeicon=i.ctypeicon),i.mode&&(a[r].mode=i.mode),i.titlePlural&&(a[r].titlePlural=i.titlePlural),i.exclude&&i.exclude.map(function(t){a[r].exclude[e.lookup("nt",t).val()]=1})};for(var o in n)r(o);return i[t.name()]=a,!1},getRegistry:function(e,t){return JSON.parse(JSON.stringify(i[t]))},lookup:function(e,t){var a=e;if("object"==_typeof(a)&&(a=e.nt()),t){if(i[t][a])return i[t][a]}else for(var n in i)if(i[n][a])return i[n][a];return!1},loadxds:function(e){var t=n.lookup(e,e.get_arg("registry")),a=e.arg("xds");t&&(a=t.xdsView),e.event("loadxds",{xds:a,embedded:1})}};return n}),cf.module("notif",function(e,t,a){var i,n=e.gbl,r={state:function(){return{notif:{track:Object.keys(e.notif.track),trackVersion:Object.keys(e.notif.trackVersion),lastMovement:e.notif.lastMovement,status:e.notif.status,wsStatus:e.notif.wsStatus},ws:{authenticated:e.notif.ws._authenticated,sublist:e.notif.ws._sublist,errorCount:e.notif.ws._errorCount,retryCount:e.notif.ws.retryCount,count:e.notif.ws.count}}},lastMovement:Date.now(),pollers:{},track:{},trackVersion:{},versions:{},prevversions:{},flags:{},nodetypes:{},trackedFlags:{},status:{persist:{},flags:{}},titleSet:!1,poll:{},polling:!1,polled:!1,timer:!1,nodetags:[],clean:function(){e.log.debug({module:"notif",method:"clean",name:"cf.notif.clean()",message:"notif cleaned"});var t=Object.keys(e.notif.trackVersion).concat(Object.keys(e.notif.track));r.track={},r.trackVersion={},r.flags={},r.prevversions={},t.length&&r.wsStatus&&d.subscribe({sub:t})},codeChanged:function(a){e.storage("settings-compiled",-1),e.get("broadcast").send({codeUpdated:a}),r.fetchBootstrap(!1,!1,!0).then(function(){t.location.reload()})},checkLoginState:function(){return e.log.debug("notif.checkLoginState: checking login state"),e.notif.nodetag.fire(!0,!1,"checkLoginState").catch(function(t){e.links.reloadPage()})},updateExpectedSessionExpiry:function(e){r.expectedSessionExpiry=e,r.sessionExpiryTimeout&&t.clearTimeout(r.sessionExpiryTimeout);var a=r.expectedSessionExpiry-new Date;a<0&&(a=3e4,r.expectedSessionExpiry=new Date),r.sessionExpiryTimeout=t.setTimeout(r.checkLoginState,a)},checkSessionValidity:function(){if(r.expectedSessionExpiry){var t=r.expectedSessionExpiry-new Date;return e.log.debug("notif.checkSessionValidity: session expires in ".concat(t," milliseconds")),t>=0}return!0},disableUserChanged:function(){e.notif._userChangedDisabled=!0},enableUserChanged:function(){delete e.notif._userChangedDisabled},userChanged:function(i,n,o,s){if(e.settings.runtime||(e.settings.runtime={}),e.settings.runtime.userChanged=!0,!e.notif._userChangedDisabled&&"HandoffToNative"!==e.links.getxds())if(s&&t.cfNative)e.links.reloadPage();else{if(!s)return o?a.location.href.indexOf("BasePublic")>=0?void a.location.assign("/"):void e.links.reloadPage(!0):e.storageReset().finally(function(){return e.notif._inUserChangedFlow=!0,e.notif.nodetag.stop(),d.close(),e.get("queues").pauseAll(),e.get("queues").flushAll(),e.memory.slices={},new Promise(function(i,o){e.get("queues").flushAll(),e.get("queues").resumeAll(),e.notif.fetchBootstrap(function(){e.history.clear(),d.close(),n?(e.gbl.routing?e.gbl.routing.href?a.location.href=e.gbl.routing.href:(e.gbl.routing._isUserChanged=!0,e.xdsbuild(e.gbl.routing),delete e.gbl.routing):e.xdsbuild({xds:e.user.base,nid:e.gbl.uid,target:e.gbl.page}),e.notif._inUserChangedFlow=!1,e.notif.nodetag.start(),d.init(),r.push&&r.push.register&&r.push.register()):void 0!==t.cfNative?e.links.reloadPage():a.location=e.gbl.p,i()},!0)})});a.location.assign("/")}},setTitle:function(e){var t=e.data;r.titleSet?t&&t>0?(a.title=a.title.replace(r.titleSet,"("+t+") "),r.titleSet="("+t+") "):(a.title=a.title.replace(r.titleSet,""),r.titleSet=!1):t&&t>0&&(a.title="("+t+") "+a.title,r.titleSet="("+t+") ")},OpenInfoConfirm:function(e,t,a){e.temp.pbits=e.arg("pbit").split(","),e.temp.pbits.reverse(),e.event("notif.InfoConfirmed")},InfoConfirmed:function(t,a,i){if(!e.layout.isPhone()||!e.storage("confirmPersonalInformation-dismissed")){for(;(t.temp.pbits||[]).length;){var n=t.temp.pbits.pop(),r=t.get_arg("xds".concat(n))||t.get_arg("xds")||t.arg("xds".concat(n))||t.arg("xds");if(e.lookup("pbits",n).val()&e.user.pbits&&!t.parents("body").find(".lightbox-".concat(r)).length)return void t.newEvent("lightbox",{xds:r})}t.newEvent("trigger",{eventName:"infoconfirm",stopPropagation:1,target:"*head-banner-right-help-init"})}},init:function(t){r.nodetypes=t||{},r.status=e.localStorage("xds-notifcations")||{persist:{},flags:{}},r.status||(r.status={}),r.status.flags||(r.status.flags={}),i=r.status},processBootstrap:function(a){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.slices[0],r=n.xds,o=n.data,s=n.data.user,d=o.settings;if(!e.gbl.user||i||e.gbl.user.nid===s.nid){if(e.settings.compiled=d.compiled=a.compiled,e.settings.jsver=d.jsver,e.settings.appname=d.appname,e.settings.checkdefs=d.checkdefs,void 0!==d.ClientStrictMode&&(e.settings.runtime.strict=d.ClientStrictMode),o.blockedfiles){var l={};if(o.blockedfiles.blacklist){l.blacklist={};for(var c=0;c<o.blockedfiles.blacklist.length;c++)l.blacklist[o.blockedfiles.blacklist[c].toUpperCase()]=1}if(o.blockedfiles.whitelist){l.whitelist={};for(var u=0;u<o.blockedfiles.whitelist.length;u++)l.whitelist[o.blockedfiles.whitelist[u].toUpperCase()]=1}e.settings.blockedfiles=l}e.gbl.init(o.application,d.apache),e.cook(r),e.gbl.sys=e.settings,e.user=e.gbl.user=s,e.gbl.uid=s.nid,e.localStorage("uid",e.gbl.uid),s.isaroles=o.isaroles,s.roles=o.roles,s.clienttype=o.clienttype,s.formkey=n._formkey,e.updatePlatform(s.clienttype);var f=e.settings.types.cd,g=navigator.userAgent.toLowerCase();(e.platform.android||g.includes("silk")||void 0!==t.EdsbyReactBridge)&&(e.settings.runtime.autoclienttype=!0);var p=_$("body");for(var h in s.clienttype&f.Mobile||s.clienttype&f.iPad?(p.addClass("mobile"),s.clienttype&f.iPad&&p.addClass("tablet"),s.clienttype&f.Phone&&p.addClass("phone")):(s.clienttype&f.Default||!s.clienttype)&&p.addClass("desktop"),e.platform.os={},-1!=navigator.appVersion.indexOf("Win")&&(e.platform.os.win=!0),-1!=navigator.appVersion.indexOf("Mac")&&(e.platform.os.mac=!0),-1!=navigator.appVersion.indexOf("X11")&&(e.platform.os.unix=!0),-1!=navigator.appVersion.indexOf("Linux")&&(e.platform.os.linux=!0),e.platform.os)p.addClass("x-cf-platform-os-".concat(h));for(var m in e.settings.runtime)p.attr("data-runtime-".concat(m),e.settings.runtime[m]);e.platform.native&&e.platform.ios&&p.addClass("ios"),e.platform.ipad&&(e.platform.tablet=!0);var v,b,_=r.fields.clientstrings,y={},x=function(t){var a=e.settings.constants.lang.tags.web,i=t.title;t.dateFormat&&(a=e.settings.constants.lang.tags.dateFormat,i=t.dateFormat),void 0===y[a]&&(y[a]=[]),y[a][t.key]=i};for(b in v=r.fields.globalstrings.fields)x(v[b]);for(b in v=_.fields.global.fields)x(v[b]);for(b in v=_.fields.files.fields)x(v[b]);r.fields.notifications||(r.fields.notifications={fields:{default:{title:"{{whoname}} {{what}}"}}});var w={};for(var C in r.fields.notifications.fields)w[C]=r.fields.notifications.fields[C];e.language=y,e.settings.useBundles=!0,e.settings.notifications=w,e.settings.appname=r.fields.appname.title,e.settings.WebSockServerActive=o.WebSockServerActive,e.settings.fileprocessors=o.fileprocessors,t.ieVersion||!e.platform.mobile?e.settings.smartCaching=!1:e.settings.smartCaching=!0,e.init()}else e.notif.userChanged()},fetchBootstrap:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.storage("xds-bootstrap-inval");return n&&!i||(n=(new Date).getTime(),e.storage("xds-bootstrap-inval",n)),e.ajax({url:{xds:"bootstrap",_inval:n},callback:function(i){i&&i.slices&&(e.notif.processBootstrap(i,a),e.user.debug&&!e.Debugger?e.loadDebugger(t):t&&t(),e.opts.cacheSlices?e.localStorage("xds-bootstrap",i):e.localStorage("xds-bootstrap",-1))}})},flagUpdate:function(t){var a={},i=!1,n=function(t,a,i,n,o,s){var d=a,l=0;n||(n=[]);var c=r.nodetypes[n.join(".")];switch(o){case"+":d+=s,0==a&&(l=1);break;case"=":i==e.gbl.user.nid&&(d=s,(c>0||a>0)&&(l=-1))}return{flag:d,nt:n.join("."),ntDiff:l}};for(var o in t)if(e.is_arr(t[o])){var s=t[o][1];"string"==typeof o&&0==o.indexOf("b")&&(o="nc"),a[o]=r.nodetypes[o]||0;for(var d=0;d<s.length;d++)try{var l=n.apply(void 0,[o,a[o]].concat(_toConsumableArray(s[d])));if(a[o]=l.flag,void 0!==r.nodetypes[l.nt]){var c=r.nodetypes[l.nt];a[l.nt]&&(c=a[l.nt]),(c+=l.ntDiff)<0&&(c=0),a[l.nt]=c}var u=r.trackedFlags[o];r.trackedFlags[o]=l;var f={};for(var g in f[e.nt.Container.Mailbox()]=[e.nt.Container.Conversation(),e.nt.Container.Workflow()],f)if(f[g].includes(l.nt)&&[0,1].includes(l.flag))switch(r.track[o]||(e.log.info({module:"notif",function:"ws.flagUpdate",name:"ws.flagUpdate",message:"untracked nid ".concat(o,", adding to notif.track for rollup ").concat(g)}),r.track[o]={}),l.flag){case 0:a[g]=Math.max(r.nodetypes[g]-1,0);break;case 1:u&&0===u.flag?a[g]=Math.max(r.nodetypes[g]+1,0):i=!0;break;default:i=!0}[e.nt.Container.Conversation(),e.nt.Container.Workflow()].includes(l.nt)}catch(t){e.log.debug("notif.flagUpdate: unable to process message ".concat(JSON.stringify(s[d])))}}r.updateFlags(a),i&&e.notif.nodetag.fire(!0)},versionUpdate:function(t){var a;for(var i in r.userVersion&&t[e.user.nid]&&r.userVersion!==t[e.user.nid]&&r.fetchBootstrap(!1,!1,!0),t[e.user.nid]&&(r.userVersion=t[e.user.nid]),t){var n=t[i];if(e.is_arr(n)&&(n=n[0]),e.is_num(n)){if(void 0!==r.versions[i]&&r.trackVersion[i])for(a in r.trackVersion[i]){var o=r.trackVersion[i][a];if(r.versions[i]!==n||"message"==o.trigger){var s=o.ref.resolve(),d={newVer:n,oldVer:r.versions[i]};if(o.listener&&o.listener(d),s){var l="xds-notif-version";"changed"!=o.trigger&&(l="xds-notif-version-".concat(o.trigger)),s.trigger(l,d)}else e.log.debug('notif.versionUpdate: listener "'.concat(a,'" no longer valid, removing')),delete r.trackVersion[i][a]}}r.versions[i]=n}}},update:function(e){r.updateFlags(e)},updateFlags:function(e){r.flags||(r.flags={});var t,a,i=r.nodetypes,n=r.track;for(t in e){if((e[t]!=i[t]||void 0===i[t])&&r.updateFlag(t,e[t]),n[t])for(a in n[t])(a=n[t][a]).build.get_version()!==r.versions[a.build.get_requestNid()]&&(e[t]>0||e[t]===i[t])&&(a.dom().trigger("xds-notif-new",e[t]),a.build.set_version(r.versions[a.build.get_requestNid()]));i[t]=e[t]}r.write()},updateFlag:function(e,t){r.flags||(r.flags={});var a,n,o=r.flags[e];if(o)for(a in o)i.flags[e]=t,r.nodetypes[e]=t,(n=o[a].resolve())&&n.parent_xdo()&&n.parent_xdo().update()},persist:function(e,t){i.persist||(i.persist={}),void 0===i.persist[e]&&(i.persist[e]=t),r.write()},write:function(t,a,n){if(t){if((!i[t]||i[t]&&!i[t][a])&&!n)return;i[t]||(i[t]={}),i[t][a]=n}e.localStorage("xds-notifcations",i)},cancelPolling:function(){e.notif.nodetag.stop()},triggerPoll:function(){e.notif.nodetag.fireAndStart()},messageNotification:function(t){e.notif.nodetag.background=!0,e.notif.nodetag.addCallback(function(a){if(o&&o.urc&&a.urc&&o.urc[3.8]<a.urc[3.8]){if(e.links.getxds()===t.arg("xdsLookup"))return;e.get_data({xds:t.arg("xdsLookup")},function(a){var i,n,o,s=e.sort({sortBy:"date",sortType:"date"},e.obj_to_arr(e.search("body-left-items-item",a))).pop();s&&s.lastnid!=e.gbl.uid&&!e.get_node(s.nid).length&&r.notify({title:"New Message From "+s.name,body:s.preview},(i=t.ref(),n=s.nid,o=t.arg("xds"),function(){var e=i.resolve();e&&e.event("lightbox",{nid:n,xds:o})}))})}o=a}),t.exit(!0)},notify:function(a,i){if("undefined"!=typeof Notification){var n=new Notification(a.title,{icon:e.gbl.server+"/static/xdl/images/favicon.ico",body:a.body?e.mlunescape(a.body):""});n.onclick=function(e,a){return function(){t.focus(),e.close(),a&&a()}}(n,i)}},push:{click:function(t){if("lightbox"===t.op);else if("offscreen"===t.op);else if(t.button_0_xds){t.ClientID=e.gbl.user.nid;var a=$.extend({},t.button_0_args||{});for(var i in a)"string"==typeof a[i]&&(a[i]=e.tpl(a[i],t));if($.extend(a,{target:e.gbl.page,xds:t.button_0_xds,nid:e.tpl(t.button_0_nid,t)||t.context}),a.nid)switch(t.button_0_action){case"page":case"window":case"new_window":e.xdsbuild(a);case"lightbox":default:e.get_obj($(".xdl-root")).newEvent("lightbox",a)}}else e.xdsbuild({target:e.gbl.page,nid:t.context,xds:t.xds||"View"})},notify:function(t){t.whoname=t.whoname||!1,t.cname=t.cname||"",t.whoname&&r.notify({title:e.tpl((e.settings.notifications[t.evType||t.evtype]||e.settings.notifications.default).title,t),body:t.body||""},function(){r.push.click(t)})},handle:function(t){t.who!==e.gbl.uid&&r.push.notify(t)},handleRaw:function(t,a){try{if(e.get("push").handled(t),a.what)r.push.handle(a);else if("object"==_typeof(a.payload))r.push.handle(a.payload);else{if(!a.data||!a.data.payload)throw new Error("notif.handleRaw: unexpected payload format ( "+JSON.stringify(a)+" ) ");r.push.handle(JSON.parse(a.data.payload))}}catch(t){e.log.debug(t)}},register:function(){if(e.gbl.user.nodesubtype!=e.nt.User.PublicUser(!0)){var t=e.get("push");t.registerDevice(),t.on.notif(r.push.handleRaw),t.on.click(function(e,t){r.push.click(t)})}}}};e.pageListen({priority:1e3,trigger:"mousemove click keydown"},function(){r.lastMovement=Date.now()}),e.xdo.unread_track=function(t){var a=!1;if(this.arg("urchannel")&&e.is_str(this.arg("urchannel"))&&(a=this.arg("urchannel")),e.is_num(t)||e.is_str(t)?(a&&(t+=a),r.versions[t]=1):(e.is_bool(t)&&(t=void 0),this.arg("urnid")&&(t=this.arg("urnid")),t||(t=this.nid()),a&&(t+=a)),t){var i={add:[t],unread:!0};r.track[t]&&0!==Object.keys(r.track[t]).length||d.subscribe(i),r.track[t]||(r.track[t]={}),r.track[t][this.path]=this}return this},e.xdo.unread_version=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"changed",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.is_num(t)||e.is_str(t)?r.versions[t]=1:t=this.nid(),this.build.vnid===t&&(!r.versions[t]||this.build.version>r.versions[t])&&(r.versions[t]=this.build.version);var s=r.trackVersion[t];return(!r.trackVersion[t]||r.trackVersion[t].length)&&d.subscribe({add:[t]},n,o),(r.trackVersion[t]||(r.trackVersion[t]={}))[this.path]={ref:this.ref(),trigger:a,listener:i},s&&n&&this.setTimeout(function(){n()},1),this},e.xdo.unread_get=function(e){var t,a=this,n=a.nid(),o=r.status[n],s=a.get_val(e);return" "===s&&(s=!0),i.persist||(i.persist={}),i.persist[n]?t=s||i.persist[n]:o&&void 0!==o[a.build.etag]?(t=o[a.build.etag],r.write(n,a.build.etag,t)):(t=s,r.write(n,a.build.etag,t)),a.set_val(e,t||!1),t},e.xdo.unread_clear=function(e){var t=this,a=t.nid();i.flags||(i.flags={}),i.flags[a]=0,r.write();var n=r.status[a];for(var o in i.persist||(i.persist={}),delete i.persist[a],n)n[o]=0;for(a in i)i[a][t.build.etag]&&(i[a][t.build.etag]=0);r.write()},e.types.clearUnread=function(e){return e.unread_clear(),!1},e.fn.clearUnread=function(t,a){t.unread_clear("unread"),a.parents(e.$css.unread).removeClass(e.css.unread),a.removeClass(e.css.unread)},e.notif=e.notifications=r,e.types.unreadFlag=function(e){var t=e.arg("register");if(!e.arg("noTrack")){var a;if(i||(i={}),i.flags||(i.flags={}),r.flags||(r.flags={}),t&&(e.sparse=!0),(!0===t||void 0===t)&&(e.arg("urnid")&&(a=e.arg("urnid")),a||(a=e.nid()),e.arg("urchannel")&&(a+=e.arg("urchannel")),void 0!==i.flags[a]?e.data=i.flags[a]:(i.flags[a]=e.data,r.write()),d.subscribe({add:[a]}),t=a,e.unread_track(),(r.flags[t]||(r.flags[t]={}))[e.path]=e.ref()),t&&!0!==t){for(var n=(t+"").split(","),o=0;t=n.pop();)o+=r.nodetypes[t]||0,(r.flags[t]||(r.flags[t]={}))[e.path]=e.ref();e.data=o||void 0}e.build.hasUnread=!0}e.attr("aria-hidden","true"),e.data&&"number"==typeof e.data&&e.data>=100&&(e.data="99+"),e.data||e.exitBlank(!0)};var o,s=function(t){var i=this;i.xdoRef=t.xdo&&t.xdo.ref(),i.beforeSend=t.beforeSend,i.dataOnly=t.dataOnly,i.interval=t.interval||6e5,i.initialInterval=i.interval,i.callback={},i.callback[t.callback.name||"default"]=t.callback,i.id=t.id,i.background=t.background||!1,e.is_obj(t.url)?i.url=e.gen_url(t.url):e.is_func(t.url)?(i.url=t.url,i.id||(i.id=i.url.name)):i.url=t.url,i.id||(i.id=i.url),r.pollers[i.id]&&r.pollers[i.id].kill(),r.pollers[i.id]=i,e.pageListen({xdsoArgs:{id:t.xdo&&t.xdo.path},trigger:"visibilitychange"},function(e){i.dead?e.off():"hidden"===a.visibilityState?i.background||i.stop():Date.now()-i.lastRequest>i.interval?i.fire(!1,!0,"vis"):i.start()}),i.start()};s.prototype={fireAndStart:function(){this.start(),this.fire(!1,!0,"fireAndStart")},start:function(){var e=this;if(clearTimeout(e.timer),!e.dead&&!e.poll){e.poll=!0;var t=(Date.now()-r.lastMovement)/1e3,a=1e3*(t*t/100+e.interval/1e3);a>10*e.interval&&(a=10*e.interval),e.timer=setTimeout(function(){!e.xdoRef||e.xdoRef.resolve()&&e.xdoRef.resolve().dom().length?e.fire(!1,!0,"start"):e.kill()},a)}},fire:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fire",n=this;if(!n.dead&&(!r.wsStatus||t)){clearTimeout(n.timer);var o=!1;e.is_arr(t)&&(o=t);var s=e.is_func(n.url)?n.url(i,o):n.url;return n.lastRequest=Date.now(),e.ajax({beforeSend:n.beforeSend,url:s,callback:function(t){var i,r=!1;if(t?t.error&&(r=!0,e.log.log("Poller Error: "+t.error+" "+(t.errorstr||""))):(r=!0,e.log.log("Poller No Response: "+s)),!r)try{for(i in n.dataOnly&&t.slices&&1===t.slices.length&&(t=t.slices[0].data),n.callback)n.callback[i](t)}catch(t){e.log.error({module:"notif",name:"poller callback error in "+i,exception:t})}n.poll&&a&&n.start()}})}},kill:function(){this.stop(),this.dead=!0,this.poll=!1,delete this.callback},stop:function(){clearTimeout(this.timer),this.poll=!1},resetInterval:function(){this.interval=this.initialInterval},addCallback:function(e){this.callback[e.name]=e},removeCallback:function(t){delete this.callback[e.is_str("cb")?t:t.name]}},r.Poller=function(e){return new s(e)},e.notif.nodetag=new s({beforeSend:function(t){var a=[],i=[],n=e.localStorage("xds-stats");e.is_arr(n)||(n=[]);var r=n.length;if(r<=5)a=n;else{for(var o=0;o<5;o++){var s=n.shift();e.is_obj(s)&&a.push(s)}i=n}for(r=a.length;r--;)e.is_obj(a[r])||(a[r]={});var d=e.localStorage("xds-stats-codes");(a.length||d)&&(n={stats:a,codes:d},(n=JSON.stringify(n)).length<=8192&&t.setRequestHeader("x-cf-analytics",n),e.localStorage("xds-stats",i),e.localStorage("xds-stats-codes",{}))},url:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fire",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];if(a)i=a;else{for(var o in r.track)i.push(o);for(var s in r.trackVersion)e.notif.wsStatus||i.push(s)}i.push(n.uid);var d=Date.now()-this.lastRequest;return isNaN(d)&&(d=0),n.nodetag+"?nids="+i.join(",")+"&r="+t+"&e="+d+"&t="+Date.now()},callback:function(t){if(r.poll.loggedin!==t.loggedin&&void 0!==r.poll.loggedin&&!t.loggedin)return e.get_func("broadcastUser")({unid:t.unid}),void e.notif.userChanged(void 0,!r.poll.loggedin&&t.loggedin,!1,!!r.poll.loggedin||!t.loggedin);r.poll.loggedin&&t.unid!==n.uid?e.notif.userChanged(void 0,!1,!1,!0):void 0!==r.poll.loggedin||null!==t.loggedin||"object"!=_typeof(t.loggedin)||t.unid===n.uid||e.notif._userChangedDisabled?(d.test().then(function(){},function(){}),r.poll.loggedin=t.loggedin,t&&r.versionUpdate(t),t&&t.urn&&r.update(t.urn),t&&t.urp&&r.update(t.urp),t&&void 0!==t.nc&&r.update({nc:t.nc}),r.polled=!0):e.links.reloadPage()},interval:6e5}),e.notif.nodetag.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=this;t.initTimer||(clearTimeout(t.timer),t.initTimer=setTimeout(function(){clearTimeout(t.initTimer),delete t.initTimer,t.fire(!0,!0,"init")},e))},e.init(function(){if("undefined"!=typeof Notification&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&e.gbl.user&&7!=e.gbl.user.nodesubtype)try{Notification.requestPermission().then(function(t){e.log.info("requestNotificationPermissions: ".concat(t))},function(t){e.log.info("requestNotificationPermissions.rejected: ".concat(t))}).catch(function(){})}catch(t){e.log.info("requestNotificationPermissons: notifications api unavailable or not working")}else"undefined"!=typeof Notification&&e.gbl.user&&7!=e.gbl.user.nodesubtype&&e.log.info("requestNotificationPermissions pre: ".concat(Notification.permission))});var d={_authenticated:!1,queue:{},sendQueue:[],retryCount:0,listeners:{},count:0,_sublist:{},_errorCount:0,_messageCount:0,reset:function(){d._initCalled=!1,d._sublist={},d._authenticated=!1,d.queue={},d.retryCount=0,d.count=0,r.wsStatus=0,d._messageCount=0},_pingCount:0,test:function(){return new Promise(function(e,t){d.ping(function(){e("connected")},function(){d.close(),d.init(),t("disconnected")})})},isactive:function(){if("object"===_typeof(e.settings.WebSockServerActive)){if(!((new Date).getTime()>=e.settings.WebSockServerActive.time.getTime()+3e5))return!1;e.settings.WebSockServerActive=e.settings.WebSockServerActive.old}return e.settings.WebSockServerActive},error:function(t){e.log.info({module:"notif.ws",method:"ws.error",name:"ws.error",message:"".concat(t)}),d._errorCount=d._errorCount+1,d._errorCount>5&&(e.settings.WebSockServerActive={time:new Date,old:e.settings.WebSockServerActive}),d.close()},close:function(){if(d.socket&&(0==d.socket.readyState||1==d.socket.readyState))try{d.socket&&d.socket.close(1e3)}catch(e){}delete d.socket,d.reset()},on:function(e,t){d.listeners[e]||(d.listeners[e]=[]),d.listeners[e].push(t)},send:function(t,a,i,n){if(d.isactive()&&d.socket){d.count++;try{var r=JSON.stringify({cmd:t,data:a,seq:d.count});d.socket.send(r),e.log.info({module:"notif",function:"ws.send",name:"ws.send",message:r}),i&&(d.queue[t+"-"+d.count]=i)}catch(t){e.log.error({module:"notif",name:"websocket message sending error",exception:t}),n&&n()}}},clearPingWatchdog:function(){e.log.info("ws.clearPingWatchdog called"),d._pingWatchdog&&(t.clearTimeout(d._pingWatchdog.timeout),delete d._pingWatchdog)},ping:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(clearTimeout(d.pingTimer),d.pingTimer=setTimeout(d.ping,3e5),d._lastMessageTime&&Date.now()-d._lastMessageTime<1e4)return e.log.info("ws.ping: called less than 10s after receiving a message"),void(t&&t());var i=Date.now();d.clearPingWatchdog(),d.canenable()&&d.isready()&&(d._pingWatchdog={sent:i,timeout:setTimeout(function(){e.diagnosticMessage({module:"notif",function:"ping.watchdog",message:"websocket ping watchdog expired."}),a()},1e4)},d.send("ping",{s:d._pingCount++},function(){var a=Date.now();e.notif.ws._pingTime=a-i,d.clearPingWatchdog(),t&&t()},function(e){d.clearPingWatchdog(),a(e)}))},subscribe:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;for(var r in t)if(e.is_arr(t[r])){for(var o=[],s=0;s<t[r].length;s++){var l=t[r][s];parseInt(l)==l&&(l=parseInt(l)),d._sublist[l]||(d._sublist[l]=!0,o.push(l))}t[r]=o,n+=o.length}n>0&&d.send("subscribe",t,a,i)},message:function(t){d._lastMessageTime=Date.now(),d._errorCount=0,d._messageCount=d._messageCount+1;try{var a=JSON.parse(t.data);if(e.log.info({module:"notif",function:"ws.message",name:"ws.message",message:t.data}),a.reply){var i=a.reply;"pong"===i&&(i="ping");var n=i+"-"+a.seq;d.queue[n]&&(d.queue[n](a.data),delete d.queue[n])}a.reply&&d.listeners[a.reply]&&d.listeners[a.reply].map(function(e){e(a.data,a.error)})}catch(t){e.log.error({module:"notif",name:"websocket message processing error",exception:t})}},collateAndSendQueuedPackets:function(t){d.socket._sendDecorated&&(delete d.socket.send,delete d.socket._sendDecorated);for(var a,i={};a=d.sendQueue.shift();){var n=JSON.parse(a);if("subscribe"==n.cmd&&n.data.add)if(i[n.cmd])for(var r=i[n.cmd],o=0;o<n.data.add.length;o++)r.data.add.push(n.data.add[o]),i[n.cmd].seqnos.push(n.seq);else i[n.cmd]=n,i[n.cmd].seqnos=[n.seq],delete n.seq;else d.socket.send(a)}var s=function(t){d.send(t.cmd,t.data,function(a,i){for(var n=0;n<t.seqnos.length;n++)try{var r=[t.cmd,t.seqnos[n]].join("-");d.queue[r]&&d.queue[r](a)}catch(t){e.log.debug("notif.collateAndSendQueuedPackets: exception ".concat(t.name," in sendCollatedPacket on packet at index ")+n)}})};for(var l in i)s(i[l])},canenable:function(){return d.isactive()&&e.gbl.user.roles.indexOf("Public")<=0&&!r._inUserChangedFlow},isready:function(){return(d._initCalled||r.wsStatus)&&d.isactive()},init:function(a){try{if(d._initCalled||r.wsStatus||!d.isactive()||e.gbl.user.roles.indexOf("Public")>=0||r._inUserChangedFlow)return;d._initCalled=1;var i="Edsby";void 0!==t.cfNative&&(i="mEdsby");var n="wss://{{host}}/ws/wsclient";e.settings.runtime.wssurl&&(n=e.settings.runtime.wssurl);var o=parseInt(e.settings.WebSockServerActive,10);isNaN(o)&&(o=0);var s=e.gbl.host;void 0===s&&e.gbl.server&&(s=e.gbl.server.split("://")[1]),o&&((s=s.split(":")).length>1&&s.pop(),s.push(o),s=s.join(":")),d.clearPingWatchdog(),d._sublist={};var l=e.tpl(n,{host:s});e.log.info("notif.init: connecting wss to ".concat(l));var c=new WebSocket(l);d.socket=c,c.addEventListener("error",d.error),c.addEventListener("message",d.message),c.addEventListener("close",function(t){e.log.error({module:"notif.ws",method:"ws.handler.close",name:"ws.handler.close",message:"Websocket connection closed with code: "+t.code,handler:"notif.ws.close",xds:"ws.close",noStrict:!0,aux:r.state()}),e.notif.wsStatus=0,delete e.notif.ws._initCalled,d.retryCount++;var a=1e4;d.retryCount>=2&&(a=6e5),setTimeout(d.init,a)}),c._sendDecorated=!0,c.send=function(e){d.sendQueue.push(e)},c.addEventListener("open",function(t){d.clearPingWatchdog(),e.log.info({module:"notif.ws",method:"ws.handler.open",name:"ws.handler.open",message:"Websocket Connection Opened Successfully"});try{d.reset();var a={unread:!0,clientid:i},n=c.send;delete c.send,d.send("auth",a,function(t){if(0==t.indexOf("authenticated"))try{d._authenticated=!0,e.notif.wsStatus=1,d.subscribe({add:Object.keys(r.trackVersion).concat([e.user.nid])}),d.collateAndSendQueuedPackets()}catch(t){e.log.error({module:"notif",name:"websocket post-auth processing error",exception:t})}else e.notif.userChanged(void 0,!1,!0)}),c.send=n,d._errorCount=0}catch(t){e.log.error({module:"notif",name:"websocket post-open processing error",exception:t})}})}catch(t){e.log.error({module:"notif",name:"websocket initialization error",exception:t})}}};e.init(d.init),e.init(function(){a.getElementById("cfnotif")||_$("body").append('<div id="cfnotif"></div>')});var l=10;d.on("auth",function(t,a){0==l?e.notif.userChanged(void 0,!1,!0,!0):a&&"invalid credentials"==a?l-=1:l=10}),d.on("update",r.versionUpdate),d.on("update",r.flagUpdate),d.on("logout",function(){e.notif.userChanged(void 0,!1,!0,!0)}),d.on("notify",function(e){r.push.handleRaw(e.id,e)}),e.notif.ws=d;return(t.cfNative||t.EdsbyReactBridge)&&a.addEventListener("resume",function(){t.FirebasePlugin&&t.FirebasePlugin.setBadgeNumber(0),t.setTimeout(function(){e.notif.nodetag.fire(!0,!1,"resume").then(function(){d.test().then(function(){},function(){var t=e.notif.nodetag.fire(!0,!1,"wsfail");t?t.then(function(){d.init()}):d.init()}).catch(function(){var t=e.notif.nodetag.fire(!0,!1,"wsfail");t?t.then(function(){d.init()}):d.init()})})},10)}),function(){var t,i;void 0!==a.hidden?(t="hidden",i="visibilitychange"):void 0!==a.msHidden?(t="msHidden",i="msvisibilitychange"):void 0!==a.webkitHidden&&(t="webkitHidden",i="webkitvisibilitychange"),void 0!==a.addEventListener&&void 0!==t&&a.addEventListener(i,function(){a[t]||(e.log.debug("notif.setupVisibilityHandler: became visible, checking session validity"),e.notif.checkSessionValidity()?e.log.debug("notif.setupVisibilityHandler: session should still be valid"):(e.log.debug("notif.setupVisibilityHandler: session may be invalid, polling server to find out"),e.notif.checkLoginState()))},!1)}(),r}),cf.module("performance",function(e,t,a){var i={},n=function(e){return Math.round(e/1024)/1024},r={log:function(a){a&&(e.settings.runtime.performance||e.settings.dev)&&(a.tabid=e.uuid,a.when=(new Date).toISOString(),e.broadcast({location:t.location.href,tabid:e.uuid,performance:a}))},init:function(){(e.settings.runtime.performance||e.settings.dev)&&t.performance.memory&&r.track()},track:function(){t.setInterval(function(){var e=t.performance.memory;r.log({memory:{ts:(new Date).getTime(),totalJSHeapSize:n(e.totalJSHeapSize),usedJSHeapSize:n(e.usedJSHeapSize)}})},5e3)},listen:function(t){var a;t.sparse=!0,t.data=t.state.get("listener"),e.get("broadcast").subscribe((a=t.ref(),function(e){var t=a.resolve();i[e.tabid]||(i[e.tabid]={eventslog:[]});var n=i[e.tabid];for(var r in e.performance)n[r]||(n[r]=[]);if("object"==_typeof(e)&&e&&e.performance){if(e.performance.memory&&(e.performance.memory.time=new Date(e.performance.memory.ts),n.memory.push(e.performance.memory),n.memory.length>500&&n.memory.shift(),1==n.memory.length)){var o=[];for(var s in i)o.push({tab:{tabid:s,location:e.location}});t.state.set("listener",{tabs:o})}e.performance.net&&n.eventslog.push(e.performance),t.state.set("samples-".concat(e.tabid),n)}}))},tab:function(e){e.state.top().watch("samples-".concat(e.data.tabid),function(t){e.state.set("samples",t.memory),e.state.set("eventslog-items",t.eventslog)})},eventlog:function(e){}};return e.perflog=r.log,e.init(r.init),r}),cf.module("pickers",function(e,t,a,i){e.css,e.$css;var n,r=e.html,o=e.gbl;function s(e){var t=e.picker,a=e.get_arg("items");e.get_arg("clear")&&t.clear_val(),a&&(t.picker=a,t.receivechoices(a),t.set_val(a)),e.trigger("xds-picker-picked",{value:e.get_arg("value"),item:a})}e.window.on("click",function(e){var t=$(e.target);if(l.active&&l.active.obj&&l.active.obj.has&&!l.active.obj.has(t).length&&l.active.obj[0]!==e.target){var a=l.active;a.multi&&a.combobox&&(a.dom.display.val()||a.dom.searchInput.val())&&a.select(),l.active.close()}});var d=function(t){var a,n=this;e.is_obj(t.obj)&&t.obj.addAttr("tabindex",0),n.dom={},$.extend(n,t),n.id=l.counter,n.disabled===i&&n.obj.addClass("xdl-has-picker"),e.is_str(t.choices)?(t.choices=e.is_xdo(n.obj)?n.obj.tpl(t.choices):e.tpl(t.choices),n.choiceshash=t.choices,n.xds&&(n.choiceshash+=n.xds)):e.is_func(t.choices)?n.choiceshash=t.choices.call(this,this):n.choiceshash=t.choices,n.status=-1,(a=e.is_arr(t.choices)?["array",t.choices]:e.is_obj(t.choices)?["object",t.choices]:e.is_func(t.choices)?["realFunc",t.choices]:t.choices.split(":")).length>1?(n.type=a.shift(),n.choices="object"===_typeof(a[0])||e.is_func(a[0])?a[0]:a.join(":")):"search"===a[0]?(n.type="search",n.searchLength=n.searchLength||1,n.noCache=!0):(n.choices=a[0],n.type="basic"),(e.is_obj(n.choiceshash)||e.is_arr(n.choiceshash))&&(n.choiceshash=JSON.stringify(n.choiceshash)),"dom"===n.type&&(n.noCache=!0),n.multi&&e.is_str(n.defaultValue)&&n.defaultValue&&(n.defaultValue=n.defaultValue.split(","),n.defaultValue.map(function(e,t){n.defaultValue[t]={value:e,display:e}})),!n.searchLength||n.typedown?n.getchoices():e.is_arr(n.defaultValue)&&n.handleDefault()};d.prototype={reset:function(){var e=this,t=e.defaultValue||e.get_val();return e.status=-1,delete e.picker,delete l.choices[e.choiceshash],delete l.pickers[e.choiceshash],e.getchoices(),e.obj.find(".xdl-picker").replaceWith(e.construct()),e.set_val(t),e},init:function(t){t||(t={});var a=this;if(function(e){return"focusin"===e.type&&($(e.target).hasClass("xdl-picker-display")||$(e.target).hasClass("xds-menu"))&&!a.combobox&&!a.typedown&&!a.searchLength}(t))return!1;if(-1===a.status){"focusin"===t.type&&(a.initFocus=!0),a.status=0,a.dom={picker:(e.is_xdo(a.obj)&&a.obj.id(1)||a.obj).hasClass("xdl-picker")?a.obj:a.obj.find(".xdl-picker"),display:a.obj.find(".xdl-picker-display"),value:a.obj.find(".xdl-picker-value"),searchInput:a.obj.find(".xdl-picker-search-input"),multi:a.obj.find(".xdl-picker-multi"),list:a.obj.find(".xdl-picker-list"),wrap:a.obj.find(".xdl-picker-wrap"),arrow:a.obj.find(".xdl-picker-arrow")},e.is_xdo(a.obj)&&(a.xdo=a.obj)&&(a.obj=a.obj.dom());var i=a.dom;i.searchInput.length?(i.userFocus=i.searchInput,a.obj.removeAttr("tabindex")):i.userFocus=a.obj,i.userFocus.on("mousedown",function(e){a.userFocusClick=!0}),i.userFocus.on("keydown",function(e){var t;9===e.which&&1===a.status&&((t=a).combobox?(t.set_val(t.dom.searchInput.val()),t.dom.searchInput.val("")):t.select(),t.close()),188!==e.which&&13!==e.which||!a.multi?40!=e.which&&38!=e.which||a.open():(e.preventDefault(),a.select(),a.focusMulti())}),a.obj.on("focus",function(){a.obj.find("input:visible").focus()}),i.userFocus.on("focus",function(){delete a.userFocusClick}),i.userFocus.on("change",function(){if(a.combobox){var e=$(this).val();e!=a.defaultValue&&a.triggerPicked(e)}}),a.obj.on("click",function(t){if(a.lightboxPicker)return a.getchoices(),void a.xdo.newEvent("lightbox",{url:e.gen_url(a.request)});a.listItemClick||a.toggle(),delete a.initFocus,delete a.listItemClick}),!a.searchLength&&a.insertChoices(),a.combobox&&(a.dom.display.on("focusin",function(e){e.stopPropagation()}),a.dom.display.on("keyup",function(t){if(!n||n===a.id){e.caretPos(this);var i=$(this).val();!a.multi&&!{27:1,9:1,38:1,40:1,91:1}[t.which]&&a.focusJump()&&$(this).focus()&&a.set_val(i,!0),(13==t.which||9==t.which)&&a.close()&&a.triggerPicked(i)}})),a.lightboxPicker&&(a.xdo.off("xds-lightbox-picker-set-items"),a.xdo.on("xds-lightbox-picker-set-items",s)),a.dom.multi.length&&a.bindMulti(a.dom.multi.find("li")),$(t.target).trigger(t.type)}return!a.searchLength&&!a.typedown||a.searchInit||(a.searchInit=!0,a.dom.searchInput.on("keyup",function(e){clearTimeout(a.searchTimer);var t=$(this);a.searchTimer=setTimeout(function(){var i=t.val();a.prevSearch!==i&&(a.choiceshashOrig||(a.choiceshashOrig=a.choiceshash),a.searchLength&&i.length>=a.searchLength&&("search"===a.type||!a.searchTerm||-1===i.indexOf(a.searchTerm))?a.typedown?13!=e.which&&a.filterchoices(i):(a.searchTerm=i,a.searchKey=a.searchKey||"name",a.choiceshash=a.choiceshashOrig+a.searchKey+a.searchTerm,"search"===a.type?a.getchoices(function(){a.insertChoices(),a.status=0,a.open()}):a.getchoices(function(){a.filterchoices("")})):(-1!==i.indexOf(a.searchTerm)||a.typedown)&&13!=e.which&&a.filterchoices(i)),a.prevSearch=i},500)}),a.obj.on("click",function(){a.dom.searchInput&&a.dom.searchInput.length>0&&a.dom.searchInput[0].focus()})),a},insertChoices:function(){var t=this;t.dom.focus=i,t.genhtml&&t.dom.list.html(t.picker&&t.picker.genhtml?t.picker.genhtml():t.genhtml()),t.dom.list.find("li").on("click",function(e){var a=$(this);t.focusListItem(a),t.select(!0),t.listItemClick=!0,!t.multi&&!t.keepOpen&&t.close()}),t.dom.list.find("a").each(function(){$(this).attr("tabindex",-1)}),t.dom.focus=t.dom.list.find(".xdl-picker-focus"),t.dom.focus.length||delete t.dom.focus;var a=e.search("build-bind",t);return"function"==typeof a&&a.call(t.build),t},filterchoices:function(e){var t=this;l.choices[t.choiceshash],JSON.stringify(t.picker),t.filter=e;var a=function(){t.insertChoices(),t.focusListItem(t.dom.list.find("li").first())};t.getchoices(a),a(),delete t.filter,t.status=0,t.open()},getchoices:function(e){var t=this;t.filter?t.get[t.type].call(t,t.choices,e):(!l.pickers[t.choiceshash]||l.choices[t.choiceshash]||t.noCache?l.pickers[t.choiceshash]&&l.choices[t.choiceshash]&&!t.noCache?(l.pickers[t.choiceshash].push(t),t.picker=l.choices[t.choiceshash],t.receivechoices(t.picker)):(t.noCache||(l.pickers[t.choiceshash]=[t]),t.get[t.type].call(t,t.choices,e)):(t._choiceshashindex=l.pickers[t.choiceshash].length,l.pickers[t.choiceshash].push(t)),l.pickers[t.choiceshash]&&!t.noCache&&(t._choiceshashindex=l.pickers[t.choiceshash].length-1))},get:{search:function(t,a){this.command=this.command||"search",this.get.nid.call(this,e.gbl.nid,a)},dom:function(e){var t=this,a=this.insertChoices;this.genhtml=!1,this.onloadInit=!0,this.insertChoices=function(){this.dom.list.remove();var e=t.obj.xds_full?t.obj.id(1):t.obj;e.find("ul").appendTo(t.dom.wrap).addClass("xdl-picker-list"),this.dom.list=e.find("ul"),a.call(t),this.receivechoices()}},object:function(t){var a,n,r,o=[],s=this;for(a in t)t.hasOwnProperty(a)&&("object"===_typeof(r=t[a])?r.value===i&&(r.value=a):(r={value:a,display:r},t[a]=r),t[a]&&(t[a].value===i&&(t[a].value=a),o.push(r)));for(o&&"object"!==_typeof(t[0])&&!1!==s.sort&&(o=e.sort("display",o)),s.filter&&(o=e.filter(s.filter,o,i,s.filterType)),n=o.length;n--;)o[n].index=n;s.picker=o,s.receivechoices(o)},array:function(t){var a,n=t.length,r=[],o=this;if(t.length&&"object"===_typeof(t[0]))o.sort===i&&(o.sort=!1),r=t;else for(var s=0;s<n;s++)a=t[s],e.is_obj(a)?(r.push(a),a.value=s):a!==i&&r.push({value:a,display:a});for(o.filter&&(r=e.filter(o.filter,r,i,o.filterType)),n=r.length;n--;)r[n]||r.splice(n,1);for(n=r.length;n--;)r[n].index=n;o.picker=r,o.receivechoices(r)},basic:function(t){var a,i=[],n=1,r=t;if(t=t.split("."),t=e.constant[t[0]]){var s={};!function t(n){for(var r=n.split("."),o=e.constant,d=0;d<r.length;d++)o=o[r[d]];for(d in o)if(o.hasOwnProperty(d)){a=e.constant.constants[r[0]][o[d]()];var l={};$.extend(l,a.params),l.value=a.val(),l.display=a.str(),s[l.display]||(s[l.display]=1,i.push(l))}e.constant.lookupextend[n]&&t(e.constant.lookupextend[n])}(r)}else for(n in t=r,t=o.sys[t])t.hasOwnProperty(n)&&(i[n]=t[n]);this.get.object.call(this,i)},realFunc:function(e){this.get.object.call(this,e.call(this,this))},func:function(t){this.get.object.call(this,e.get_func(t).call(this,this))},nid:function(t,a){var i=this.xds,n=this,r=e.is_xdo(n.obj)?n.obj:n.obj.xdo,o=n.lightboxPicker;if("nid"!==n.type&&"search"!==n.type||("caller"===t&&(t=e.is_xdo(n.obj)?n.obj.nid("caller"):this.obj.xdo.get_val("nid","caller")),n.request={xds:i,nid:t,command:n.command,combine:n.combine,noPath:n.noPath,basenodetype:n.basenodetype},n.pickerargs&&$.extend(!0,n.request,n.pickerargs),n.searchTerm&&(n.request[n.searchKey]=n.searchTerm)),n.request.caller=n.xdo,!o){n.request.full=!0,n.request.match=n.match||"multi";var s=function(t,i){if(!(t&&t.is_dead&&t.is_dead())){var n,o=performance.now();i=JSON.parse(i),!performance.lowRes&&(n=performance.now()-o);var s,l=JSON.stringify(i);t.picker=[],t.picker.genhtml=function(){return s},t.build=e.xdsbuild({caller:r&&r.path,picker:t,noTarget:!0,pickerlist:t.picker,pickerid:"xds-picker-"+t.id+"-",xds:i,target:t.obj&&t.obj.xds_full?t.obj.id(1):t.obj,datainsert:function(e){s=e},filter:"search"!==t.type&&t.dom.searchInput&&t.dom.searchInput.val(),filterType:"multi",func:function(){t.picker.choices=l,t.receivechoices(t.picker),"function"==typeof a&&a()}},{_start:d,timing:{network:performance.now()-d,jsonParse:n}})}};if(n.filter)l.choices[n.choiceshash]&&s(n,l.choices[n.choiceshash].choices);else{var d=performance.now();if(r&&r.get_setting("redrawPath")&&!r.is_child(r.get_setting("redrawPath")))return;e.get_data(n.request,function(e){if(!r||!r.is_dead())if(n.noCache)s(n,JSON.stringify(e));else if(l.pickers[n.choiceshash]){var t=l.pickers[n.choiceshash],a=t.length;e=JSON.stringify(e);for(var i=0;i<a;i++)t[i]&&s(t[i],e)}})}}},url:function(e,t){var a=this;a.request={full:!0,url:e+"&xds="+a.xds},a.searchTerm&&(a.request.url+="&"+a.searchKey+"="+a.searchTerm),a.get.nid.call(a,e,t)}},genhtml:function(){var t=this;if(t.picker){for(var a,i=0,n=t.picker,r=n.length,o=[];i<r;)a="",t.defaultValue==n[i].value&&(a="xdl-picker-focus"),n[i].css&&(a+=" "+n[i].css),n[i].disabled&&(a+=" "+e.css.hide),o.push('<li id = "'+t.listItemId(n[i])+'" class="'+a+'" tabindex="0">'+(n[i].html||n[i].display)+"</li>"),i++;return o.join("")}return""},listItemId:function(e){return"object"===_typeof(e)&&(e=e.index),"xds-picker-"+this.id+"-"+e},itemLookup:function(e,t){for(var a,i=(t=t||this.picker).length;i--;)if((a=t[i]).value==e)return a;for(i=t.length;i--;)if((a=t[i]).display==e)return a;return{}},clear_val:function(){this.multi?this.dom.multi.find("a").trigger("click"):this.set_val(!1)},setDisplayText:function(t){var a=this.obj.find(".xdl-picker-display");if(e.is_obj(t)){var i=t;t=a.is("input")&&i.inputDisplay||i.display}!this.noDisplay&&(a.is("input")&&a.val(t)||a.html(t))},set_val:function(t,a){var n,r,o,s,d,l=this.picker,c=this;if(t="object"===_typeof(t)||e.is_arr(t)?t:{value:t,display:t},l&&!1!==t.value?r=c.itemLookup(t.value):!1===t.value&&(r={value:"",display:""}),c.combobox&&r&&r.display==t.value&&!c.multi?t=r:r&&r.value!=t.value&&!c.multi?r={value:t.value,display:t.display||t.value,inputDisplay:t.inputDisplay}:r&&r.value==t.value&&r.display==t.value&&t.display&&!c.multi&&(r={value:t.value,display:t.display||t.value,inputDisplay:t.inputDisplay}),t.value===i||c.multi){if(t!==i&&c.multi){var u=!1;if(!e.is_arr(t.value)&&l&&t.value!==i&&t.value.length){for(t.value=t.value.split(","),n=t.value.length,d=[],s=0;s<n;)r=c.itemLookup(t.value[s]),d.push({value:t.value[s],display:r.display||t.value[s]}),s++;u=!0,t=d}if(c.constructed)e.is_arr(t)?t.map(function(e){u||(e=c.itemLookup(e.value)),c.addMultiValue(e)}):this.addMultiValue(t);else{var f;for(d=[],c.multiDisplay=[],n=t.length,s=0;s<n;)t[s].value&&this.picker&&(f=this.itemLookup(t[s].value))&&f.value===t[s].value&&(t[s]=f),c.multiDisplay.push(c.addMulti(t[s])),d.push(t[s].value),s++;c.multiDisplay=c.multiDisplay.join(""),t=d.join(","),c.defaultValue=t,c.onloadInit=!0}}}else if(r&&r.value==t.value)if(c.constructed){-1===c.status&&c.init(),o=c.typedown?c.dom.searchInput:c.obj.find(".xdl-picker-display");var g=r.inputDisplay||r.display;r.displayDom&&r.t&&(g=r.t.dom().html()),a||(o.is("input")?o.val(e.htmlentitiesdecode(r.inputDisplay||r.display)):o.html(g)),c.obj.find(".xdl-picker-value").val(e.htmlentitiesdecode(r.value))}else c.defaultValue=r.value,c.defaultDisplay=r.display,c.defaultInputDisplay=r.inputDisplay;return this},get_val:function(){var e=this.defaultValue===i?"":this.defaultValue+"";return-1===this.status?e:this.obj.find(".xdl-picker-value").val()},handleDefault:function(){e.is_xdo(this.obj)&&(this.obj._complete&&this.obj.trigger("xds-picker-ready")||this.obj.ready("trigger",{eventName:"xds-picker-ready"}));var t=this;return this.defaultSet?this:(this.defaultSet=!0,e.is_arr(this.defaultValue)||this.multi?(this.dom&&this.dom.value&&this.dom.value.val(""),e.is_arr(this.defaultValue)&&t.constructed?void this.defaultValue.map(function(e){t.addMultiValue(e)}):this.set_val(this.defaultValue)):this.set_val({value:this.defaultValue,display:this.defaultDisplay||this.defaultValue}))},receivechoices:function(e){l.choices[this.choiceshash]!==i||(l.choices[this.choiceshash]=e),this.handleDefault()},toggle:function(){var e=this;0===e.status?e.open():e.close()},close:function(t){var i=this;return t&&i.dom.userFocus&&i.dom.userFocus.focus(),i.combobox&&i.dom.searchInput&&a.activeElement===i.dom.searchInput[0]||delete l.active,e.window.trigger("xds-hoverbox-hide"),i.dom.picker&&i.dom.picker.removeClass("xdl-picker-open"),i.status=0,i.searchString="",i.dom.picker&&i.dom.picker.removeClass("xdl-picker-active"),i},open:function(){var t=this;if(!t.lightboxPicker&&(!t.searchLength||t.dom.searchInput.val().length)&&!this.disabled){if(l.active&&l.active!==this&&l.active.close(),l.active=t,this.noAdd)return this;if(0===t.status){t.dom.list.css("margin-top","").removeClass("xdl-picker-above"),t.dom.list.css("height",""),t.dom.picker.addClass("xdl-picker-open"),t.dom.picker.removeClass("xdl-picker-above-root"),t.pickerAbove=!1,t.status=1;var a=e.window.height(),i=e.window.scrollTop(),n=t.dom.list.offset()||{},r=t.forceDown||!1;t.dom.list.parents(".xds-scroll").length&&(r=!0);var o=a-32+i-n.top,s=n.top-i,d=t.dom.list.height(),c=t.obj&&t.obj.height();s>o&&d>o&&!r?(o=s,t.dom.list.css("max-height",o-2*c+"px"),d=t.dom.list.height(),t.dom.list.css("margin-top","-"+(d+c)+"px").addClass("xdl-picker-above"),t.dom.picker.addClass("xdl-picker-above-root"),t.pickerAbove=!0):t.dom.list.css("max-height",o+c+"px"),t.dom.picker.addClass("xdl-picker-active")}return t}},focusJump:function(e,t){this.open();var a,n,r=this.picker,o=r&&r.length,s=0,d=!1,l=this;if(l.combobox)a=l.dom.display.val();else{if(a=String.fromCharCode(e),(!l.lastMovement||Date.now()-l.lastMovement>1200||!l.searchString)&&(l.searchString=""),8===e)return t.preventDefault(),void(a=l.searchString="");a.length&&(a=l.searchString=l.searchString+a)}for(a=a.toUpperCase();s<o;){if(0===(""+(n=r[s]).display).toUpperCase().indexOf(a)){d=!0;break}s++}return d?!(n=$("#"+l.listItemId(n))).hasClass("xdl-picker-focus")&&n.length&&(l.focusListItem(n),l.dom.list.scrollTop(n.position().top)):l.combobox&&(l.dom.focus&&l.dom.focus.removeClass("xdl-picker-focus"),l.dom.focus=i),l},focusListItem:function(e,t){t||1===this.status||this.open();var a=this;"string"==typeof e&&(e=$("#"+e)),a.dom.focus&&a.dom.focus.removeClass("xdl-picker-focus"),a.dom.focus&&a.dom.focus.removeAttr("aria-selected"),a.dom.focus=e,!this.noFocus&&e.addClass("xdl-picker-focus"),e.attr("tabindex","-1"),e.attr("aria-label",e.text()),e.attr("aria-selected","true")},focusNext:function(){var e=this;if(e.searchString="",e.dom.focus){var t=e.dom.focus.next(".xds-pickers-item");t.length&&e.focusListItem(t)}else e.focusListItem(e.dom.list.find(".xds-pickers-item").first())},focusPrev:function(){var e=this;if(e.searchString="",e.open(),e.dom.focus){var t=e.dom.focus.prev(".xds-pickers-item");t.length&&e.focusListItem(t)}},bindMulti:function(e){var t=this;e.on("click",function(e){return e.stopPropagation(),t.focusMulti(e,$(this))}).find("a").on("click",function(e){return e.stopPropagation(),t.removeMulti(e,$(this))})},multiBackspace:function(e){var t=this,a=t.dom.multi,i=a.find(".xdl-picker-multi-focus");t.dom.searchInput&&t.dom.searchInput.is(":focus")&&0===t.dom.searchInput.val().length&&(e.preventDefault(),i.length?(t.focusMulti(e,i.prev()),t.removeMulti(e,i)):t.focusMulti(e,a.find("li").last()))},focusMulti:function(e,t){this.dom.multi.find(".xdl-picker-multi-focus").removeClass("xdl-picker-multi-focus"),t&&t.addClass("xdl-picker-multi-focus"),e&&e.stopPropagation()},addMultiValue:function(e){-1===this.status&&this.init();var t=this,a=e.value,n=this.dom.value,r=this.dom.multi,o=n.val();o===i&&(o="");var s=o.split(",");return a=""+a,-1===$.inArray(a,s)?(""===s[0]&&s.shift(),s.push(a),a=s.join(","),n.val(a),r.append(t.addMulti(e)),t.bindMulti(r.find(":last-child")),t.obj.find(".xdl-picker-placeholder").hide(),t.resizeMulti()):a=s.join(","),a},addMulti:function(t){return'<li data-value="'+e.mlescape(t.value)+'"><span>'+e.mlescape(t.display)+'</span><a class="far fa-times" tabindex="-1"></a></li>'},removeMulti:function(e,t){e.stopPropagation(),t=t.is("li")?t:t.parent();for(var a=this,i=t.attr("data-value"),n=a.dom.value,r=n.val().split(","),o=r.length;o--&&r[o]!=i;);-1!==o&&r.splice(o,1),0===r.length&&a.obj.find(".xdl-picker-placeholder").show(),n.val(r.join(",")),t.fadeOut(function(){a.resizeMulti(),t.remove()});var s={};s[a.pickerkey||"value"]=r.join(","),s.popped=i,a.obj.trigger("xds-picker-picked",[s])},resizeMulti:function(){var e=this,t=e.dom.picker.width()-e.dom.multi.outerWidth();t>100?e.dom.searchInput.css({width:t+"px",display:"inline-block","margin-right":0}):e.dom.searchInput.css({width:"",display:"","margin-right":""})},triggerPicked:function(e,t){var a=this;t||(t=a.itemLookup(e===i?a.get_val():e)),a.searchLength&&a.dom.list.empty();var n={};n[a.pickerkey||"value"]=e,n.item=t,a.obj.trigger("xds-picker-picked",[n])},select:function(t,a){var n,r=this.dom.display.is("input")||!this.dom.searchInput.length?this.dom.display:this.dom.searchInput,o=r.val(),s=this.dom.value,d=this;if(this.dom.focus&&this.dom.focus.length||t){if(e.is_bool(t)&&!this.picker)return;var l=this.dom.focus,c=$(l).xdo,u=(this.dom.multi,c&&c.temp&&c.temp.pickerID);u===i&&(u=d.dom.focus&&d.dom.focus.length&&(l.attr("id")||"").split("-").pop());var f="object"===_typeof(t)?t:this.picker&&this.picker[u];this.dom.focus||!0!==t||!r.length||e.is_obj(f)||(n=r.val(),f={value:(f=d.itemLookup(n)).value||n,display:f.display||n}),f!==i&&(n=f.value,this.multi?(n=this.addMultiValue(f),this.dom.searchInput.length?(this.dom.searchInput.val("").trigger("keyup"),this.dom.searchInput[0].blur(),this.dom.searchInput[0].focus(),this.close()):this.open()):(o=f.inputDisplay||f.display,f.displayDom&&f.t&&(o=f.t.dom(!0).html()),s.val(n),!this.noDisplay&&(r.is("input")&&r.val(e.htmlentitiesdecode(o))||r.html(o))),d.triggerPicked(n,f))}else this.combobox&&(n=r.val()).length&&(this.select({value:n,display:n}),d.triggerPicked(n))},disable:function(){this.obj.find("input").attr("disabled","disabled"),this.obj.find(".xdl-picker-arrow").hide(),this.obj.addClass("xdl-picker-disabled"),this.disabled="disabled",this.readonly="readonly"},enable:function(){this.obj.find("input").removeAttr("disabled"),this.obj.find(".xdl-picker-arrow").show(),this.obj.removeClass("xdl-picker-disabled"),delete this.disabled,delete this.readonly},construct:function(){function t(e){e.e&&(e=e.e),-1===a.status&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()),a.init.call(a,e)}var a=this,n=[];a.constructed=!0;var o,s=this.noInput?"":r.input({name:this.name,type:"hidden",disabled:this.disabled,value:e.is_arr(a.defaultValue)||e.is_obj(a.defaultValue)?"":a.defaultValue},"xdl-picker-value"),d=r.div(a.noList?"":'<ul class="xdl-picker-list" role="listbox"></ul>',"xdl-picker-wrap"),l="",c=a.multi?'<ul class="xdl-picker-multi">'+(a.multiDisplay||"")+"</ul>":"",u=["xdl-picker"],f=e.lang(a.arrowText)||"",g=(a.xdo||a.obj||{}).path,p=g?g+"__f__":"";return a.searchLength||a.typedown&&a.multi?(o=this.hideInput?c:c+r.input({type:"text",readonly:a.readonly,disabled:this.disabled,placeholder:a.placeholder,"aria-label":a.placeholder,id:p},"xdl-picker-search-input "+e.css.formInput),u.push("xdl-picker-search")):!a.combobox&&!a.typedown||a.multi?(o=r[a.displaytag?a.displaytag:"div"](c+(a.defaultInputDisplay||a.defaultDisplay||(a.placeholder?r.span(a.placeholder,"xdl-picker-placeholder"):i)||""),"xdl-picker-display",a.displaytagargs),l=r.span(f,["xdl-picker-arrow xds-fa-glyph e_fa fas fa-angle-down"])):(a.typedown&&n.push("xdl-picker-search-input"),n.push("xdl-picker-display"),n.push(e.css.formInput),o=r.input({type:"text",disabled:a.disabled,readonly:a.readonly,value:a.defaultInputDisplay||a.defaultDisplay||"",placeholder:a.placeholder,"aria-label":a.placeholder,id:p},n),l=r.span(f,["xdl-picker-arrow xds-fa-glyph e_fa fas fa-angle-down"])),(this.noAdd||this.noArrow)&&(l=""),this.noArrow||u.push("xdl-picker-hasArrow"),this.multi&&u.push("xdl-picker-has-multi"),this.noDisplayBlock&&(o=""),this.disabled?(u.push("xdl-picker-disabled"),l=""):this.onloadInit?this.onloadInit&&a.obj.on("onload",t):a.obj.on("focusin click keyup",t),s=s+o+d+l,this.noPicker?s:r.div(s,u)}};var l=function e(t){return e.counter++,new d(t)};l.choices={},l.pickers={},l.counter=0,e.pickers=l,e.pageListen({trigger:"keyup",priority:1e4},function(e){n&&e.preventDefault()}),e.pageListen({trigger:"keydown",priority:1e4},function(t){if(n=l.active&&l.active.id,l.active){if(l.active.obj.hasClass(e.css.dummy))return void delete l.active;if("keyup"===t.type)return;var a=l.active,i=t.which;switch(i){case 9:1!==a.status||a.combobox?a.combobox&&a.multi&&(a.dom.searchInput.val()||a.dom.display.val())&&a.select():(a.select(),a.multi&&t.preventDefault()),clearTimeout(a.searchTimer);break;case 27:a.close(!0),t.stopPropagation(),t.preventDefault();break;case 40:a.focusNext(),t.preventDefault();break;case 8:a.multi?a.multiBackspace(t):a.searchLength||a.combobox||a.typedown||t.preventDefault();break;case 38:a.focusPrev(),t.preventDefault();break;case 32:a.searchLength||a.combobox||a.typedown||(a.select(),t.preventDefault());break;case 13:1===a.status?a.dom.focus&&(a.dom.focus.find("a").length&&a.dom.focus.find("a").attr("href")?e.links.handleLoad(a.dom.focus.find("a").attr("href")):(a.dom.focus,a.dom.focus.trigger("click"))):a.open(),t.stopPropagation(),t.preventDefault();break;default:a.focusMulti(),!a.searchLength&&!a.combobox&&a.focusJump(i,t)}a.lastMovement=Date.now()}}),e.picker=l;var c={item:function(t){if(t.caller()&&t.caller().dd)t.inherit("dd.listItem");else{var a=t.get_setting("pickerlist")||[],n=t.get_setting("pickerid"),r=t.get_setting("picker");if(!n){for(var o=t;(o=o.parent_xdo())&&!o.picker;);(r=o&&o.picker)&&(r.picker||(r.picker=[]),a=r.picker,r.picker=a,n="xds-picker-"+r.id+"-")}t.get_val("disabled")&&t.addStyle("display","none"),t.temp.pickerID=a.length,t.attr("role","option");var s,d,l={};if(!t.xds.lookuponly){if(t.xds["data-value"]!==i)s=t.xds["data-value"],!(d=e.search("xds-fields-name-title",t))&&t.arg("title")&&(d=t.arg("title"));else{if(!t.data)return;s=t.data.value,d=t.data.name||t.data.display}(r||{}).defaultValue==s&&t.addClass("xdl-picker-focus"),l.value=s,l.display=d,l.inputDisplay=t.arg("inputDisplay"),l.index=a.length,l.t=this,l.disabled=t.get_val("disabled"),l.displayDom=t.arg("displayDom"),a.push(l),t.tag("li")}}},extendedItem:function(e){var t;if(e.caller()&&e.caller().dd)e.inherit("dd.listItem");else{t=e.get_setting("pickerlist")||[],e.get_setting("pickerid"),e.temp.pickerID=t.length;var a,n=$.extend(!1,{},e.data);if(!e.xds.lookuponly){if(e.xds["data-value"]!==i)n.value=e.xds["data-value"],n.display=e.xds.fields.name.title;else{if(!e.data)return;n.value=e.data.value,n.display=e.data.name||e.data.display}a=n.value,n.index=t.length,d&&d.defaultValue==a&&e.addClass("xdl-picker-focus"),t.push(n),e.tag("li")}}}};return e.types.pickerItem=function(e){e.animationDisable(),e.inherit("pickers.item")},e.types.pickerExtendedItem=function(e){e.animationDisable(),e.inherit("pickers.extendedItem")},e.types.menu=function(e){var t;if(e.animationDisable(),e.xds.noChoices||e.xds.fields&&e.xds.fields.dropdown){var a=!e.xds.choices;t=e.pickerSetup({choices:e.xds.fields.dropdown!==i?"dom:ul":e.xds.choices,nid:e.nid(),noInput:!0,noList:a,noPicker:a,onloadInit:a});var n=e.get_val()||e.xds.defaultValue,r=e.xds.fields.dropdown;if(n&&r&&r.fields)for(var o in r.fields)n==r.fields[o]["data-value"]&&(e.displayVal=r.fields[o].title,r.fields[o].css=(r.fields[o].css||"")+" xdl-picker-focus");e.addClass("xdl-picker")}else t=e.pickerSetup();var s=e.arg("mode");s&&(t.noDisplay=!0),"button"!==s&&"gear"!==s||(e.addClass("xds-button"),e.addClass("xds-menu-button")),"gear"===s&&(e.addClass("xds-menu-gear"),e.addClass("xds-menu-gear")),"simple"===s&&e.addClass("xds-menu-simple"),e.addAttr("role","menuitem"),e.posttag(t.construct()),e.ready(function(){e.find("li").attr("tabindex","-1")})},c}),cf.module("presence",function(e,t,a){var i={states:{inactive:"xds-presence-profpic-none",online:"xds-presence-profpic-online",recent:"xds-presence-profpic-recent"},transitions:{online:"xds-presence-profpic-online-transition"}},n=function(t){var a=t.target("repeat"),n=e.parseDate(t.get_val("presence-date"));if(n||(n=e.parseDate(t.get_val("date"))),n){var r=n.getTime();if(a.css("order")!=r){for(var o in a.xdo&&a.xdo.addStyle("order",r),a.css("order",r),i.states)t.parent_xdo().dom().removeClass(i.states[o]);t.parent_xdo().dom().addClass(i.states.online)}}};return{profpic:function(t){t.xds.sparse=!0,t.displayVal=" ";var a=t.state.global().get("presence",t),r=t.data;"string"!=typeof r&&"number"!=typeof r||(t.data={pic:r});var o=!1;if(a){var s=t.nid();"createid"==t.xds.dbid&&(s=t.get_val("createid"));var d=a.rowsByData("nid",s);d.length>0&&(o=d[0])}for(var l={id:"pic",type:"profpic",dbid:t.xds.dbid,sparse:!0},c=["xdshover","xdsclick","nid","profile","mode","nodetypeProxy","size","circle"],u=0;u<c.length;u++){var f=c[u];(t.arg(f)||t.get_arg(f))&&(l[f]=t.arg(f)||t.get_arg(f))}if(t.removeChild("pic"),t.addChild({xds:l,data:t.data.pic}),o&&t.arg("flag")){a.unsubscribe(t),o.detach(t),t.removeChild("lastseen"),t.addChild({xds:{id:"presence",type:"presence.monitor",sparse:!0,fields:[{id:"date",type:"shortFancyDate",tooltip:e.lang("Last seen here")}]},data:o});var g=new Date,p=e.parseDate(o.date);o.nid==e.gbl.user.nid&&(p=g,o.data.date=g,t.data.rid=0),p&&g.getTime()-p.getTime()<9e5?t.addClass(i.states.online):p&&g.getTime()-p.getTime()<36e5&&t.addClass(i.states.recent),n(t)}else a&&(a.subscribe(t,function(e){e.attach(t),e.version()}),t.addClass(i.states.inactive))},monitor:function(t){if(t.data instanceof DataRow){if(new Date,!e.parseDate(t.data.date))return void t.parent_xdo().dom().addClass(i.states.inactive);t.parent_xdo().dom().removeClass(i.states.inactive),n(t)}},container:function(e){e.on("xds-presence-changed",function(e){})}}}),cf.module("push",function(e,t,a,i){var n=function(e){return{notification:{body:e.message,title:e.title},data:e.payload||e.additionalData}},r={_gbl:{},_listeners:{},init:function(){},_inferDeviceInfo:function(e){var a={type:"browser",name:navigator.userAgent,version:1,platform:"browser"};return t.cfNative&&(a.type="app"),t.EdsbyReactBridge&&(a.type="app",a.version=2,a.platform=t.EdsbyReactBridge.device.platform?t.EdsbyReactBridge.device.platform:"ios"),a},_registerToken:function(a){var i=e.uuid;if(r._lastToken!=a)if(a){r._lastToken=a;var n=r._inferDeviceInfo();t.setTimeout(function(){e.post({url:{nid:e.gbl.user.nid,xds:"PushRegister"},data:{guid:i,token:a,device:n.type,name:n.name,version:n.version,platform:n.platform}})},4e3)}else e.log.debug("push._registerToken: No Push Token -- aborting registration.");else e.log.debug("push._registerToken: Push token has not changed from last registration.")},listen:function(t,a){var i=e.get("guid").rfc4122();return r._listeners[i]=t,i},on:{click:function(t){return r.listen(function(a,i,n){if(i&&n&&i.data){var o="";try{o=JSON.stringify(i,!1,4)}catch(e){}e.log.info({name:"notification.onclick",message:"Notification tapped",aux:o}),r._gbl.interacted||(r._gbl.interacted={});var s="".concat(i.data.when,"-").concat(i.data.who,"-").concat(i.data.item);r._gbl.interacted[s]||(r._gbl.interacted[s]=new Date,t(a,i.data))}})},notif:function(e){return r.listen(e)}},unregister:function(e){delete r._listeners[e]},notify:function(t,a){var i=t.payload||t;try{i.data&&i.data.payload&&"string"==typeof i.data.payload?i=JSON.parse(i.data.payload):i.data.payload&&(i=i.data.payload),t.title&&!i.whoname&&(i.whoname=t.title)}catch(a){e.log.debug("push.notify: error parsing payload, aborting");try{e.log.debug(t)}catch(e){}}var n=t.recipient||t.data&&t.data.recipient;if(n&&n!==e.gbl.user.nid)e.log.debug("push.notify: recipient is not the logged-in user, ignoring");else for(var o in r._listeners)try{r._listeners[o](e.get("guid").rfc4122(),i,a)}catch(t){e.log.debug("push.notify: error notifying listener:"+o)}},handled:function(e){},unregisterServiceWorkers:function(){return"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(function(e){var t=!0,a=!1,n=i;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.unregister()}catch(e){a=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}).catch(function(t){e.log.debug("push.unregisterServiceWorkers: Service Worker deregistration failed: ",t)}):Promise.resolve()},registerDevice:function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.EdsbyReactBridge&&t.EdsbyReactBridge.appControls&&t.EdsbyReactBridge.appControls.notifications&&t.EdsbyReactBridge.appControls.notifications.init?t.EdsbyReactBridge.appControls.notifications.init({registration:function(e){"string"==typeof e?r._registerToken(e):r._registerToken(e.registrationId||e)},notification:function(e,t){r.notify(n(e),e.wasTapped||t)},error:function(t){e.log.debug(t)}}):t.cfNative&&t.cfNative.initPushNotifications&&t.cfNative.initPushNotifications({registration:function(e){r._registerToken(e.registrationId||e)},notification:function(e,t){r.notify(n(e),e.wasTapped||t)},error:function(t){e.log.debug(t)}});case 1:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}()};return e.init(function(){(t.cfNative&&t.cfNative.initPushNotifications||t.EdsbyReactBridge&&t.EdsbyReactBridge.appControls&&t.EdsbyReactBridge.appControls.notifications&&t.EdsbyReactBridge.appControls.notifications.init)&&e.get("notif").push.register()},"after"),r}),cf.module("qr",function(e,t,a){return{code:function(a){a.sparse=!0,a.tag("div");var i=a.data=a.state.get(a.arg("codeSource"))||a.arg("payload")||a.data;a.arg("title",!1),i?e.get("resourceutils").xdoReady(a,{name:"qrcodejs",injectdirect:!0,initTest:function(e){return void 0!==e._qrcodejs||(e._qrcodejs=!0,!1)},loadedTest:function(){return!!t.QRCode},postFunc:function(){},main:[e.gbl.lib+"pkg/node_modules/qrcodejs2/qrcode.min.js"]}).then(function(e){var t=JSON.stringify(i);a.temp.qrcode?(a.temp.qrcode.clear(),a.temp.qrcode.makeCode(t)):(a.temp.qrcode=new QRCode(a.dom()[0],{text:t,width:a.arg("size")||a.get_arg("size")||175,height:a.arg("size")||a.get_arg("size")||175,correctLevel:QRCode.CorrectLevel.M}),a.dom().attr("title",a.get_val("name")))}):a.exitBlank()}}}),cf.module("queues",function(e,t,a){var i=!1;e.settings.runtime&&e.settings.runtime.queueDebug&&(i=!0);var n=function(){function a(e,t,i,n){_classCallCheck(this,a),this._name=e,this._queues={},this._handler=t,this._retain=i||!1,this._parallelism=Math.max(n||0,1)}return _createClass(a,[{key:"log",value:function(t){i&&e.log.debug("queue:"+this._name+" "+t)}},{key:"queue",value:function(e,t,a,i,n){return this.enqueue(e,t,a,i,n)}},{key:"enqueue",value:function(e,a,i,n,r){n||(n="main");var o=this._addToQueue(e,n,a,i),s=this;return this.log("queueing: "+e),!r||this._delay||this._delayed?this._delay&&!this._delayed||this._start():this._delay=t.setTimeout(function(){s._start(),delete this._delay,s._delayed=!0},r),o}},{key:"peek",value:function(e,t){var a=this._get(t);return!(!a.map[e]||!a.map[e].done)}},{key:"dequeue",value:function(e,t){var a,i,n=!1;for(i in this._queues)if((n=this._queues[i])&&n.map&&n.map[e]&&n.map[e].listeners){a=[];for(var r=0;r<n.map[e].listeners.length;r++)n.map[e].listeners[r].uuid==t?this.log("splice out "+t):a.push(n.map[e].listeners[r]);n.map[e].listeners.length!=a.length&&(n.map[e].listeners=a)}}},{key:"flush",value:function(e){for(var t in this.log("flushing"),this._queues)this.log("flushing: "+t),this.log(this._queues[t].fifo);delete this._queues,this._queues={},e&&this.pause()}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){delete this._paused}},{key:"_addToQueue",value:function(t,a,i,n){var r=this._get(a),o=e.get("guid").rfc4122();if(this._validateListeners(t),r.map[t]){if(r.map[t].done){var s={uuid:o,promise:r.map[t].failed?Promise.reject(new Error("item failed previously")):Promise.resolve(),done:!0};return r.map[t].failed&&(s.failed=!0),s}}else r.fifo.push(t),r.map[t]={extradata:n,listeners:[]};var d={uuid:o,extradata:n};return i&&(d.xdoref=i.ref()),r.map[t].listeners.push(d),{uuid:o,promise:new Promise(function(e,t){d.deferred={resolve:e,reject:t}})}}},{key:"_get",value:function(e){return this._queues[e]||(this._queues[e]={fifo:[],map:{}}),this._queues[e]}},{key:"_resolveValidListeners",value:function(e,t){var a,i=!1;for(var n in this._queues)if(i=this._queues[n].map&&this._queues[n].map[e]&&this._queues[n].map[e].listeners)for(a=0;a<i.length;a++)if(i[a].xdoref){var r=i[a].xdoref.resolve();this.log("notifying:"+JSON.stringify(i[a].xdoref)),r?i[a].deferred.resolve(t):this.log("unable to resolve listener:"+JSON.stringify(i[a].xdoref))}else i[a].deferred.resolve(t)}},{key:"_hasValidListeners",value:function(e,t){var a=!1;for(var i in this._queues)if(a=this._queues[i].map&&this._queues[i].map[e]&&this._queues[i].map[e].listeners)for(var n=0;n<a.length;n++){if(!a[n].xdoref)return!0;if(a[n].xdoref.resolve())return!0}return!1}},{key:"_validateListeners",value:function(e){var t=!1;for(var a in this._queues)if(t=this._queues[a].map&&this._queues[a].map[e]&&this._queues[a].map[e].listeners){for(var i=[],n=0;n<t.length;n++)t[n].xdoref?t[n].xdoref.resolve()&&i.push(t[n]):i.push(t[n]);0!=i.length||this._queues[a].map[e].done?this._queues[a].map[e].listeners=i:delete this._queues[a].map[e]}}},{key:"_queueLen",value:function(){var e=0;for(var t in this._queues)e+=this._queues[t].fifo.length;return this.log("queue length: "+e),e}},{key:"_processNext",value:function(e){var t,a=this;if((t=this._get(e)).fifo.length>0){var i=t.fifo.shift();if(this._hasValidListeners(i))return this.log("processed: "+i),a._handler({id:i,extradata:t.map[i].extradata}).then(function(e){a._resolveValidListeners(i,e),a._retain?t.map[i]={done:!0}:delete t.map[i]}).catch(function(e){a.log("failure:"+i+e),t.map[i].failed=!0;for(var n,r=t.map[i].listeners;r.length>0;)(n=r.shift())&&(n.deferred.reject(e),n.xdoref&&a.log("notifying:"+n.xdoref));a._retain?t.map[i]={done:!0,failed:!0}:delete t.map[i]});a.log("cancelling item: "+i)}return!1}},{key:"_start",value:function(){var e=this;if(!this._running){for(var a,i=[],n=0;i.length<e._parallelism&&this._queueLen()>0&&!this._paused;n++)(a=this._processNext("main"))&&i.push(a);i.length>0?(this._running=!0,Promise.all(i).finally(function(){e._running=!1,e._start()})):this._paused&&t.setTimeout(function(){e._start()},100)}}}]),a}(),r={},o={create:function(e,t,a,i){return r[e]||(r[e]=new n(e,t,a,i)),r[e]},get:function(e){return r[e]},flushAll:function(e){for(var t in r)("string"==typeof e&&"string"==typeof t&&0==t.indexOf(e)||void 0===e)&&r[t].flush()},pauseAll:function(e){for(var t in r)("string"==typeof e&&"string"==typeof t&&0==t.indexOf(e)||void 0===e)&&r[t].pause()},resumeAll:function(e){for(var t in r)("string"==typeof e&&"string"==typeof t&&0==t.indexOf(e)||void 0===e)&&r[t].resume()}};return o.create("net::imageCache",function(t){var a=t.id;if(i&&e.log.debug("queues[net::imageCache] fetching: "+a),a){if("string"==typeof a){var n=new Image;n.src=a;var o=function(){return new Promise(function(e,t){var i=function i(){n.removeEventListener("load",i),n.removeEventListener("error",i);try{n.naturalWidth?e(n):t(new Error("queue[net::imageCache] image complete with no available naturalWidth ".concat(a)))}catch(e){t(e)}};try{n.naturalWidth?e(n):n.complete?t(new Error("queue[net::imageCache] image complete with no available naturalWidth ".concat(a))):(n.addEventListener("load",i),n.addEventListener("error",i))}catch(e){t(e)}}).catch(function(t){t instanceof Error||(t=new Error(t)),e.log.info({message:"queue[net::imageCache] ".concat(t.name,": ").concat(t.message," loading ").concat(a),exception:t})})};if(e.settings.checkdefs&&t.extradata&&t.extradata.rescan){var s=r["net::imageCache"]._queues.main.map[a];if(s&&s.listeners&&s.listeners.length>0){var d=s.listeners[0].xdoref.resolve(),l=e.get("files").checkVirusScanState(d,!1,!0);return l.then(function(){return o()},function(){e.get("virus").warning(d)}),l}return o()}return o()}return Promise.reject(new Error("url is not a string"))}return Promise.reject(new Error("no url"))},!0,3),o}),cf.module("resourceutils",function(e,t,a){var i=function(e,t,a){return Promise.resolve($.ajax(e)).then(t,a)},n={},r={loadRawLib:function(i,r){return r=i.main,new Promise(function(o,s){var d=function e(){i.loadedTest()?(i.postFunc(),o(i)):t.setTimeout(e,100)};if(i.initTest(n))d();else{for(var l in r)if(r[l].indexOf(".js")>=0){var c=a.createElement("script");i.tagid&&c.setAttribute("id",i.tagid),c.setAttribute("type","text/javascript"),c.setAttribute("async","async"),c.setAttribute("src",e.tpl(r[l],e)),$("head")[0].appendChild(c)}t.setTimeout(d,100)}})},loadBowerLib:function(t,a){return new Promise(function(a,n){if(t.main)a(t);else{var r=function(){return i([e.gbl.lib,"bower_components",t.name,"package.json"].join("/"),function(e){e.main?(t.main=e.main,a(t)):n(t.name+" package.json invalid: does not identify main resources")},function(e){n(t.name+":unable to fetch either package.json or bower.json")})};i([e.gbl.lib,"bower_components",t.name,"bower.json"].join("/"),function(e){e.main?(t.main=e.main,a(t)):r()},function(e){r()})}}).then(function(t){Array.isArray(t.main)||(t.main=[t.main]);for(var i=0;i<t.main.length;i++)a.push([e.gbl.lib,"bower_components",t.name,t.main[i]].join("/"))})},load:function(t,a){Array.isArray(t)||(t=[t]);for(var i=[],n=[],o=0;o<t.length;o++){var s=t[o];if("string"==typeof s&&(s={name:s,bower:!0}),s.injectdirect)n.push(r.loadRawLib(s,i));else if(s.bower)n.push(r.loadBowerLib(s,i));else{var d=void 0;if(s.css)for(Array.isArray(s.css)||(s.css=[s.css]),d=0;d<s.css.length;d++){var l=s.css[d];Array.isArray(l)&&(l=l.join("/")),i.push(e.tpl(l,e))}if(s.js)for(Array.isArray(s.js)||(s.js=[s.js]),d=0;d<s.js.length;d++){var c=s.js[d];Array.isArray(c)&&(c=c.join("/")),i.push(e.tpl(c,e))}if(s.main)for(Array.isArray(s.main)||(s.main=[s.main]),d=0;d<s.main.length;d++){var u=s.main[d];Array.isArray(u)&&(u=u.join("/")),i.push(e.gbl.lib+u)}}}return Promise.all(n).then(function(t){return new Promise(function(t,n){e.resources.load(i,function(){a&&a.trigger("xds-resourceutils-loadComplete"),t("complete")})})})},xdoReady:function(e,t){return new Promise(function(a,i){e.ready(function(){r.load(t).then(a,i)})})},img:function(t){t.sparse=!0;var a=t.arg("filename"),i="".concat(e.gbl.modules).concat(t.arg("module"),"/images/").concat(a);t.tag("img"),t.addAttr("src",i),t.arg("alt")&&t.addAttr("alt",t.arg("alt"))}};if(t._resourceUtilsQueue){var o=t._resourceUtilsQueue;r.load(o),delete t._resourceUtilsQueue}return r}),cf.module("responsive",function(e,t,a){var i=function(){requestAnimationFrame(function(){var i=.01*t.innerHeight,n=.01*t.innerWidth;e.log.debug("responsive.updateViewportUnits"),a.documentElement.style.setProperty("--vh","".concat(i,"px")),a.documentElement.style.setProperty("--vw","".concat(n,"px")),"0px"==getComputedStyle(a.documentElement).getPropertyValue("--env-safe-area-bottom").trim()&&a.documentElement.style.setProperty("--env-safe-area-bottom","10px")})},n={};e.registerGlobalCSSClass({responsivePrimitive:"xds-responsive-primitive",responsiveBody:"xds-responsive-layout-body",responsivePage:"xds-responsive-page",responsivePageMode:"xds-responsive-page-mode",responsiveAware:"xds-responsive-aware"}),t.updateViewportUnits=i;var r={_defs:{full:{sidebar:{width:200,mode:"sidebar"}},tablet:{sidebar:{width:200,mode:"sidebar"}},phone:{sidebar:{width:200,mode:"inline"}}},primitives:{fullscreen:function(a){a.addClass(e.css.responsivePrimitive),i(),a.on(t,"resize",function(){!function(a,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;void 0===n[a]?(n[a]=t.setTimeout(function(){i(),e.log.debug("responsive.debounceTimers(".concat(a,"): settling")),delete n[a]},r),i(),e.log.debug("responsive.debounce(".concat(a,"): setting timeout"))):e.log.debug("responsive.debounce(".concat(a,"): locked out"))}("updateViewportUnits",i)}),a.arg("baseClass")&&a.inherit(a.arg("baseClass")),e.layout.isPhone()&&(a.inherit("touch.touchable"),a.on("xds-touchable-swipe-right",function(t){e.links.back()}))}},layout:{page:function(t){t.global("responsive.config",{mode:"full",defs:r._defs.mode}),t.addClass("".concat(e.css.responsivePageMode,"-").concat("full")),t.inherit("responsive.primitives.fullscreen"),t.ready(function(e){var a=t.dom();t.dom().length>0&&a[0].style.setProperty("--ui-lightbox-footer-height","0px")}),t.state.watch("lightbox-footer-height",function(e){var a=t.dom();t.dom().length>0&&a[0].style.setProperty("--ui-lightbox-footer-height","".concat(e,"px"))})},sidebar:function(e){e.global("responsive.config"),e.get_arg("suggestedWidth"),e.inherit("box")},footer:function(e){},body:function(t){t.sparse=!0,t.attr("role","main"),t.global("responsive.config"),t.arg("nohpad")&&t.addSubClass("nohpad"),t.arg("novpad")&&t.addSubClass("novpad"),t.arg("inherit")&&"responsive.layout.body"!=t.arg("inherit")&&t.inherit(t.arg("inherit"));var a=0;(a=t.get_setting("scrollTo")||e.history.getCurrentScroll())&&t.ready(function(e){if("string"==typeof a&&/^[a-z\-]+$/.test(a)){var t=e.target("*".concat(a));t.length>0&&(a=t.position().top)}"number"==typeof a&&e.dom().scrollTop(a)})},flow:function(e){},ncol:function(e){}},widgets:{saving:function(e){},expando:function(t){t.inherit("boxModel").ready(function(t){t.find(e.$css.boxModelInner).height()>t.dom().height()&&t.target("sibling:expand").show()}).on("expand",function(e){e.dom().css("max-height","initial"),e.target("sibling:expand").hide(),e.target("sibling:collapse").show()}).on("collapse",function(e){e.dom().css("max-height",""),e.target("sibling:expand").show(),e.target("sibling:collapse").hide()})},summary:function(e){}},fn:{inspect:function(t){t.find(e.$css.responsiveAware).trigger("xds-responsive-inspected"),t.siblings().newEvent("responsive.minimize")},release:function(t){t.find(e.$css.responsiveAware).trigger("xds-responsive-released")},minimize:function(t){t.find(e.$css.responsiveAware).trigger("xds-responsive-minimized")}}};return r}),cf.module("richforms",function(e,t,a,i){var n="x-richforms-mention-cache";return new e.classes.XDSModule("richforms",{f_extendedText:function(t){t.suppressAria=!0,t.removeChildren(),t.addChild({id:"editor",readonly:"readonly",type:"richforms.f_extendedTextEditor",sparse:!0,"aria-label":t.arg("aria-label"),"aria-role":"textarea"}),t.addChild({id:"sourceValue",type:"f_hidden",name:t.name()}),t.displayVal="";var a=t.data,i=t.data;"object"===_typeof(t.data)&&t.data.content&&(i=t.data.content),t.data={editor:e.nl2br(i),sourceValue:t.data},"object"===_typeof(a)&&a.mentions&&(t.data.mentions=a.mentions),t.on("xds-f_extendedText-changed",function(e,t,a){var i=a.value;i.toLowerCase().indexOf("xdl-mention")>0||i.toLowerCase().indexOf("xds-cont")>0||(e.target("*sourceValue").val(i),e.trigger("xds-forms-field-changed",{name:e.name(),value:i}),e.trigger("setFormDirty"))}),t.addClass(e.css.field),t.on("xds-forms-field-reconstituted",function(e,t,a){e.update(a.val)})},f_extendedTextEditor:function(r){var o=function(e,a){var i,n;t.getSelection&&(i=t.getSelection()).getRangeAt&&i.rangeCount&&((n=i.getRangeAt(0)).deleteContents(),n.insertNode(e),a||n.collapse(!1))},s=function(e){var t=e.dom().html(),i=a.createElement("div");i.innerHTML=t;for(var n=i.getElementsByClassName("xdl-mention"),r=[],o=0;o<n.length;o++)r.push(n[o]);for(var s=0;s<r.length;s++){var d=r[s];d.replaceWith("@u:".concat(d.getAttribute("data-mention"),"@"))}var l=i.innerHTML;return(l=(l=(l=(l=(l=(l=(l=l.replace(/\&nbsp\;/g," ")).replace(/<\/[dD][iI][vV]>\s*<[dD][iI][vV]>/g,"\n")).replace(/<[dD][iI][vV]>/g,"\n")).replace(/<\/[dD][iI][vV]>/g,"\n")).replace(/\n<[bB][Rr]\/?>/g,"\n")).replace(/<[bB][Rr]\/?>/g,"\n")).replace(/<[sS][pP][aA][nN][^>]*>/g,"\n")).replace(/<\/[sS][pP][aA][nN]>/g,"\n")},d=function(e,i){e.setAttribute("rt-removed",!0),"string"==typeof i&&(i=a.createTextNode(i));var n=i;if(Array.isArray(i)){for(var o=0;o<i.length;o++)"string"==typeof i[o]&&(i[o]=a.createTextNode(i[o]));e.replaceWith.apply(e,_toConsumableArray(i)),n=i[i.length-1]}else e.replaceWith(i);var d,l,c=a.createRange(),u=t.getSelection();c.selectNodeContents(n),c.collapse(!1),u.removeAllRanges(),u.addRange(c),l=s(d=r),d.trigger("xds-f_extendedText-changed",{value:l})},l=function(t,a){return new e.classes.CFTag("span",{contenteditable:!1,"data-mention":t},e.get("guid").rfc4122(),["xdl-mention"],"@".concat(a))},c=function(r){var s=new e.classes.CFTag("span",{contenteditable:!1},i,["xdl-mention-target"]).dom;o(s,!0);var c=function(e){return e.dd?e.dd.elements.display.resolve():e.dom().find("input[type=text]")},u=function(e){return e.dd?e.dd.inputValue:c(e).val()},f=[{trigger:"onload",func:function(t){e.platform.android||c(t).focus()}},{trigger:"xds-picker-picked",func:function(t,a,i){t.arg("parentref").resolve();var r=t.arg("parentDom"),o="",s=!1;t.dd?(o=t.dd.valueMap[i.value].display,s=i.value):(o=i.item.display,s=i.nid);var c=e.storage(n);c||(c={}),c[s]=o,e.storage(n,c);var u=l(s,o).dom;d(r,[u," "])}},{trigger:"keydown",bindif:"not:platform:android",func:function(e,t,a){var i=e.arg("parentref").resolve(),n=e.arg("parentDom");e.eventKeyIs("TAB")?(d(n,["@"+u(e)," "]),e.stopPropagation(),e.preventDefault(),i.dom().focus()):e.eventKeyIs("SPACE")&&""==u(e)?d(n,"@ "):e.eventKeyIs("BACKSPACE")&&""===u(e)?d(n,"@"):e.eventKeyIs("@")&&(d(n,"@"),e.preventDefault()),e.stopPropagation()}},{trigger:"keyup",bindif:"not:platform:android",func:function(e,t,a){e.arg("parentref").resolve();var i=e.arg("parentDom");e.eventKeyIs("ESC")&&d(i,"@"+u(e)),e.eventKeyIs("ENTER")?(d(i,"@"+u(e)),e.preventDefault()):e.eventKeyIs("@")&&(d(i,"@"),e.preventDefault()),e.stopPropagation()}},{trigger:"focusout",func:function(e,i,n){e.arg("parentref").resolve();var r=e.arg("parentDom"),o=u(e);t.setTimeout(function(){r.getAttribute("rt-removed")||$(a.activeElement).hasClass("xds-dd-listItem")||d(r,["@"+o," "])},100)}}];if(e.platform.android){f.push({trigger:"input",func:function(e){var t=e.arg("parentref").resolve(),a=e.arg("parentDom"),i=u(e);switch(e.e.originalEvent.inputType){case"insertCompositionText":case"insertCompositionText":""===i.trim()&&d(a,["@"," "]);break;case"deleteContentBackward":""===i&&d(a,["@"])}t.stopPropagation()}});for(var g=0;g<f.length;g++)f[g].trigger.startsWith("key")&&(f[g].trigger="x"+f[g].trigger)}var p={id:"mention",type:"dd.multiSearch",nid:e.gbl.user.nid,triggerLength:2,xds:"msgUserPicker",sparse:!0,parentref:r.ref(),parentDom:s,renderNoPerm:!0,tooltip:e.lang("Search for a user to mention"),placeholder:e.platform.android?e.lang("Tap here to mention a user"):e.lang("Mention a user"),events:f,_styles:[{styles:{margin:0}}]};e.layout.isPhone()&&!e.platform.android&&(p={id:"mention",type:"f_str",nid:e.gbl.user.nid,pickerxds:"msgUserPicker",renderNoPerm:!0,listChoicesOnly:!0,triggerLength:2,pickerkey:"nid",command:"node",choices:"search",searchKey:"pattern",forceDown:!0,parentref:r.ref(),parentDom:s,sparse:!0,tooltip:e.lang("Search for a user to mention"),events:f}),e.xdsbuild({target:$(s),append:!0,slice:{xds:{id:"mentionroot",_styles:[{styles:{display:"flex","flex-direction":"row","align-items":e.browser.firefox||e.layout.isPhone()?"center":"baseline"}}],fields:[{id:"stub",title:"@",_styles:[{styles:{flex:"0 0 auto"}}]},p,{id:"close",showif:"device:phone",type:"fa.glyph",icon:"close",parentDom:s,_styles:[{styles:{padding:"5px","align-self":"center","font-size":"24px"}}],events:[{trigger:"click",func:function(e){d(e.arg("parentDom"),"@"),r.dom().focus()}}]}]}}})};if(r.on("paste",function(e){e.e.preventDefault(),e.e.stopPropagation();var i=(e.e.originalEvent.clipboardData||t.clipboardData).getData("Text");if(""!==i){for(var n=i.split("\n"),d=new DocumentFragment,l=0;l<n.length;l++)d.appendChild(a.createTextNode(n[l])),l!==n.length-1&&d.appendChild(a.createElement("BR"));o(d),r.trigger("xds-f_extendedText-changed",{value:s(e)})}}),e.platform.android||r.on("keydown",function(e){switch(e.e.key){case"@":e.e.preventDefault(),o(a.createTextNode("⠀"),!0);var t=s(e),i=t.indexOf("⠀"),n=!0,d=!1;i>1&&(n=!1,t[i-1].match(/^\s$/)&&(n=!0,d=!0)),i>1&&!n&&o(a.createTextNode("@"),d),n&&c(e);break;default:r.trigger("xds-f_extendedText-changed",{value:s(e)})}}),r.on("input",function(n){var d=!0;if(e.platform.android&&["insertText","insertCompositionText"].includes(n.e.originalEvent.inputType)){var l=function(e){var t=arguments.length>1&&arguments[1]!==i?arguments[1]:1;arguments.length>2&&arguments[2]!==i&&arguments[2],o(a.createTextNode("⠀"),!0);var n=s(e),r=n.indexOf("⠀");o(a.createTextNode(""));for(var d="",l=0;l<t;l++)(r-=1)>=0&&(d=n[r]+d);return d}(n,2);if("@"==l||l.match(/\s\@/)){d=!1;var u=t.getSelection();u.modify("move","backward","character"),u.modify("extend","forward","character"),t.setTimeout(function(){c(n)},50)}}if(d){var f=s(n);r.trigger("xds-f_extendedText-changed",{value:f})}return!0}),r.data&&"string"==typeof r.data){var u=r.data.match(/@u:\d+@/g),f=r.get_val("mentions"),g=e.storage(n);if(g||(g={}),u&&(f||Object.keys(g).length>0))for(var p=0;p<u.length;p++){var h=u[p],m=parseInt(h.substring(3,h.length-1));if(!isNaN(m)){var v=f[m];v&&(r.data=r.data.replaceAll(h,l(m,v.name).tagStr)),(v=g[m])&&(r.data=r.data.replaceAll(h,l(m,v).tagStr))}}}else"string"===!_typeof(r.data)&&(r.data="");r.tag("div").attr("contentEditable","true")}})}),cf.module("richtext",function(e,t,a,i){var n=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),r=function(e,t,a){e.doc.getSelection(),n||a?(e.range.deleteContents(),e.range.insertNode($(t)[0])):e.execCmd("insertHTML","&nbsp;"+t),e.syncCode()},o=function(t){for(var i=t.find("img"),n=e.get("files"),r=0;r<i.length;r++){var o=i[r],s=new RegExp("^(data:image/[a-zA-Z]+;)","i"),d=new RegExp("^(?:[a-z]+:)?//","i"),l=o.getAttribute("src"),c=a.createElement("a");c.setAttribute("href",l),s.test(l)||(d.test(l)?0!==c.href.indexOf(e.gbl.p)&&(l=n.utils.generateExternalImageURI({nid:e.gbl.user.nid,uri:l,name:"sanitizer"}),o.setAttribute("src",l)):(c.host=e.gbl.host,c.protocol="https:",o.setAttribute("src",c.href)))}},s={_initPlugins:function(){s._plugins={langs:{en:{addResources:e.lang("Add Resources"),math:e.lang("Insert Equation"),code:e.lang("Insert Code Snippet"),formatImage:e.lang("Format Image"),displayInlineBlock:e.lang("Inline"),displayBlock:e.lang("Block"),insertLink:e.lang("Add/Edit Link"),spelling:e.lang("Spelling and Grammar")},fr:{addResources:e.lang("Add Resources"),math:e.lang("Insert Equation"),code:e.lang("Insert Code Snippet"),formatImage:e.lang("Format Image"),displayInlineBlock:e.lang("Inline"),displayBlock:e.lang("Block"),insertLink:e.lang("Add/Edit Link"),spelling:e.lang("Spelling and Grammar")}},plugins:{monkeypatches:{init:function(e){e.openModalInsert=function(e,t,a){var i=this,n=i.o.prefix,r=i.lang,o="";return $.each(t,function(e,t){var a=t.label,i=t.name||e,s=t.attributes||{};if("select"==t.type){var d=['<label><select name="'+i+'">'];for(var l in t.disallowNone||d.push('<option value=""'+(""==(t.value||"")?' selected="selected"':"")+">None</option>"),t.values){var c=t.values[l];"string"==typeof c&&(c={val:c,label:c}),d.push('<option value="'+c.val+'"'+((t.value||"")==c.val?' selected="selected"':"")+">"+c.label+"</option>")}d.push("</select>"),d.push('<span class="'+n+'input-infos"><span>'+(a?r[a]?r[a]:a:r[e]?r[e]:e)+"</span></span></label>"),o+=d.join("")}else{var u=Object.keys(s).map(function(e){return e+'="'+s[e]+'"'}).join(" ");o+='<label><input type="'+(t.type||"text")+'" name="'+i+'" value="'+(t.value||"").replace(/"/g,"&quot;")+'"'+u+'><span class="'+n+'input-infos"><span>'+(a?r[a]?r[a]:a:r[e]?r[e]:e)+"</span></span></label>"}}),i.openModal(e,o).on("tbwconfirm",function(){var e=$("form",$(this)),n=!0,r={};$.each(t,function(t,a){var o=$('input[name="'+t+'"],select[name="'+t+'"]',e);"checkbox"===(o.attr("type")||"").toLowerCase()?r[t]=o.is(":checked"):r[t]=$.trim(o.val()),a.required&&""===r[t]?(n=!1,i.addErrorOnModalField(o,i.lang.required)):a.pattern&&!a.pattern.test(r[t])&&(n=!1,i.addErrorOnModalField(o,a.patternError))}),n&&(i.restoreRange(),a(r,t)&&(i.syncCode(),i.$c.trigger("tbwchange"),i.closeModal(),$(this).off("tbwconfirm")))}).one("tbwcancel",function(){$(this).off("tbwconfirm"),i.closeModal()})}}},insertLink:{init:function(e){var t={fn:function(){for(var t,a,i,n=e,o=n.doc.getSelection(),s=o.focusNode;["A","DIV"].indexOf(s.nodeName)<0;)s=s.parentNode;if(s&&"A"===s.nodeName){var d=$(s);t=d.attr("href"),a=d.attr("title"),i=d.attr("target");var l=n.doc.createRange();l.selectNode(s),o.addRange(l)}n.saveRange(),n.openModalInsert(n.lang.createLink,{url:{label:"URL",required:!0,value:t},title:{label:n.lang.title,value:a},text:{label:n.lang.text,value:n.getRangeText()},target:{label:n.lang.target,value:i||"_blank"}},function(e){e.text||(e.title?e.text=e.title:e.text=e.url);var t=$(['<a href="',e.url,'">',e.text,"</a>"].join(""));return e.title.length>0&&t.attr("title",e.title),e.target.length>0&&t.attr("target",e.target),r(n,t[0].outerHTML),!0})},ico:"createLink"};e.addBtnDef("insertLink",t)},runtime:function(t){t.on("dblclick","a",function(){var a=e.get_obj(t).dom().find("textarea").data("trumbowyg");a.execCmd(a.btnsDef.insertLink.fn,"insertLink")})}},addResources:{init:function(t){var a={fn:function(){var a=t,i=e.get_obj(a.$ta);t.saveRange(),i.trigger("xds-wysiwyg-externalToolbarCommand",{toolbarItem:"*file",editor:i.temp.editor})}};t.addBtnDef("addResources",a)},runtime:function(e){}},math:{init:function(t){var a={fn:function(){var a=t,i=e.get_obj(a.$ta);t.saveRange(),i.trigger("xds-wysiwyg-externalToolbarCommand",{toolbarItem:"*math",editor:i.temp.editor})}};t.addBtnDef("math",a)},runtime:function(t){t.find(".xds-richtext-mathquill").attr("contenteditable","false"),t.find(".xds-richtext-mathml").attr("contenteditable","false");for(var a=t.find(".xds-richtext-mathml"),i=0;i<a.length;i++)MathJax.typeset();a=t.find(".xds-richtext-mathquill");for(var n=0;n<a.length;n++){var r=$(a[n]);r.html("$$"+r.attr("title")+"$$"),MathJax.typeset()}t.on("click",".xds-richtext-mathquill",function(a){var i=e.get_obj(t);i.temp.editor.saveSelection(),i.trigger("xds-wysiwyg-externalToolbarCommand",{toolbarItem:"*math",editor:i.temp.editor,mode:"edit",seedContent:{data:$(a.currentTarget).attr("title")}})}),t.on("click",".xds-richtext-mathml",function(a){var i=e.get_obj(t);i.temp.editor.saveSelection();var n=e.get("guid").rfc4122();localStorage[n]=$(a.currentTarget).html(),i.trigger("xds-wysiwyg-externalToolbarCommand",{toolbarItem:"*math",editor:i.temp.editor,mode:"edit",seedContent:n})})}},code:{init:function(t){var a={fn:function(){var a=t,i=e.get_obj(a.$ta);t.saveRange(),i.trigger("xds-wysiwyg-externalToolbarCommand",{toolbarItem:"*code",editor:i.temp.editor})}};t.addBtnDef("code",a)},runtime:function(t){t.find("code").attr("contenteditable","false"),t.on("click","code",function(a){var i=e.get_obj(t);i.temp.editor.saveSelection(),i.trigger("xds-wysiwyg-externalToolbarCommand",{toolbarItem:"*code",editor:i.temp.editor,mode:"edit",seedContent:{data:$(a.currentTarget).html()}})})}},spelling:{init:function(t){var a={ico:"blockquote",fn:function(){var a=t.$ed,i=[],n=a.find("p,div,span,td,th");$.each(n,function(e,t){var a=!1;if(t.childNodes.length>0)for(var n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType==t.childNodes[n].TEXT_NODE&&(a=!0);a&&i.push(t.innerText)}),i=i.join("\n\n"),e.get("neweditors").spellcheck.grammar(i,"auto").then(function(a){var n=a.errors;e.get("neweditors")._lastGrammarResult={original:i,processed:n,language:a.language},e.get_obj(t.$ta).event("lightbox",{xds:"RTErrorHighlight",nid:e.gbl.user.nid})})}};t.addBtnDef("spelling",a)}},customCSS:{init:function(e){var t=function(t){return{fn:function(){e.saveRange(),$(e.range.startContainer)}}};e.addBtnDef("displayInlineBlock",t()),e.addBtnDef("displayBlock",t())}}}},$.extend(!0,$.trumbowyg,s._plugins)},_specialContentPatches:{baseUrl:function(t,a){for(var i=function(e){return e.indexOf("://")<0&&"/"!=e.charAt(0)},n=e.tpl(a.global("baseUrl"),{cartridge:a.global("cartridge")}),r=$(t).find("*[src],*[href]"),o=0;o<r.length;o++){var s=$(r[o]);s.attr("src")&&i(s.attr("src"))?s.attr("src",n+"/"+s.attr("src")):s.attr("href")&&i(s.attr("href"))&&s.attr("href",n+"/"+s.attr("href"))}}},_contentPatches:{tables:function(e){for(var t=$(e).find("table"),a=0;a<t.length;a++)$(t[a]).attr("id","xds-richtext-table-"+(new Date).getTime()+"-"+a)},invalidImageUrls:function(e){for(var t=$(e).find("img"),a=0;a<t.length;a++){var i=$(t[a]);if(t[a].src.indexOf("http")>=0){var n=t[a].src.split("nodedl");n.length>1&&(t[a].src="/core/nodedl"+n[1])}i.attr("id","xds-richtext-image-"+(new Date).getTime()+"-"+a)}},codeTags:function(e){for(var t=$(e).find("code"),a=0;a<t.length;a++){var i=$(t[a]),n=i.attr("id");"PRE"!=i.parent().prop("tagName")&&i.replaceWith("<pre id='#"+n+"'>"+$("<div/>").append(i.clone()).html()+"</pre>")}for(var r=$(e).find("pre code"),o=0;o<r.length;o++){var s=$(r[o]);s.attr("contenteditable","false"),s.parent().attr("id","xds-richtext-code-"+(new Date).getTime()+"-"+o);var d=s.html();d.replace("<","&lt;").replace(">","&gt"),s.html(d)}},math:function(e){for(var t=$(e).find(".xds-richtext-mathquill"),a=0;a<t.length;a++){var i=$(t[a]);i.attr("contenteditable","false"),i.attr("id","xds-richtext-math-"+(new Date).getTime()+"-"+a)}}},_config:{resources:{basic:{css:["richText.css"]},mathquill:{css:["mathquill-0.10.1/mathquill.css"],js:"mathquill-0.10.1/mathquill.min.js"}}},types:{plugin:function(e){s._config.plugins||(s._config.plugins={});var t={buttons:e.arg("buttons")||[e.name()]};e.arg("js")&&(t.js=e.arg("js")),e.arg("css")&&(t.css=e.arg("css")),e.arg("svg")&&(t.svg=e.arg("svg")),s._config.plugins[e.name().split("-").pop()]=t,e.inherit("sys")},f_styledtext:function(i){var n=i;if(n.arg("saveRaw")&&(i.data=e.htmlentitiesdecode(i.data)),i.state.get(i.name())&&(n.data=i.state.get(i.name())),n.data){var d=a.createElement("div");for(var l in d.innerHTML=n.data,s._contentPatches)s._contentPatches.hasOwnProperty(l)&&(n.data=s._contentPatches[l](d));for(var c in s._specialContentPatches)s._specialContentPatches.hasOwnProperty(c)&&i.global(c)&&(n.data=s._specialContentPatches[c](d,i));n.data=d.innerHTML}n.data||(n.data=""),n.data=n.data.replace(/<!--xdl-rich-->/g,""),n.arg("saveRaw")||(i.data&&i.data.indexOf("xdl-rich")<0&&i.data.indexOf("&lt;")>=0&&i.data.indexOf("<")<0?i.data=e.get("sanitizer").sanitize(e.htmlentitiesdecode(i.data),i.get_arg("sanitizeRule")||"richtext"):e.get("sanitizer").sanitize(i,i.get_arg("sanitizeRule")||"richtext"));var u=atob("PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1ibG9ja3F1b3RlIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0yMS4zIDMxLjloLS42Yy44LTEuMiAxLjktMi4yIDMuNC0zLjIgMi4xLTEuNCA1LTIuNyA5LjItMy4zbC0xLjQtOC45Yy00LjcuNy04LjUgMi4xLTExLjcgNC0yLjQgMS40LTQuMyAzLjEtNS44IDQuOS0yLjMgMi43LTMuNyA1LjctNC41IDguNS0uOCAyLjgtMSA1LjQtMSA3LjUgMCAyLjMuMyA0IC40IDQuOCAwIC4xLjEuMy4xLjQgMS4yIDUuNCA2LjEgOS41IDExLjkgOS41IDYuNyAwIDEyLjItNS40IDEyLjItMTIuMnMtNS41LTEyLTEyLjItMTJ6TTQ5LjUgMzEuOWgtLjZjLjgtMS4yIDEuOS0yLjIgMy40LTMuMiAyLjEtMS40IDUtMi43IDkuMi0zLjNsLTEuNC04LjljLTQuNy43LTguNSAyLjEtMTEuNyA0LTIuNCAxLjQtNC4zIDMuMS01LjggNC45LTIuMyAyLjctMy43IDUuNy00LjUgOC41LS44IDIuOC0xIDUuNC0xIDcuNSAwIDIuMy4zIDQgLjQgNC44IDAgLjEuMS4zLjEuNCAxLjIgNS40IDYuMSA5LjUgMTEuOSA5LjUgNi43IDAgMTIuMi01LjQgMTIuMi0xMi4ycy01LjUtMTItMTIuMi0xMnoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctYm9sZCIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNNTEuMSAzNy44Yy0xLjEtMS40LTIuNS0yLjUtNC4yLTMuMyAxLjItLjggMi4xLTEuOCAyLjgtMyAxLTEuNiAxLjUtMy41IDEuNS01LjMgMC0yLS42LTQtMS43LTUuOC0xLjEtMS44LTIuOC0zLjItNC44LTQuMS0yLS45LTQuNi0xLjMtNy44LTEuM2gtMTZ2NDJoMTYuM2MyLjYgMCA0LjgtLjIgNi43LS43IDEuOS0uNSAzLjQtMS4yIDQuNy0yLjEgMS4zLTEgMi40LTIuNCAzLjItNC4xLjktMS43IDEuMy0zLjYgMS4zLTUuNy4yLTIuNS0uNS00LjctMi02LjZ6TTQwLjggNTAuMmMtLjYuMS0xLjguMi0zLjQuMmgtOVYzOC41aDguM2MyLjUgMCA0LjQuMiA1LjYuNiAxLjIuNCAyIDEgMi43IDIgLjYuOSAxIDIgMSAzLjMgMCAxLjEtLjIgMi4xLS43IDIuOS0uNS45LTEgMS41LTEuNyAxLjktLjguNC0xLjcuOC0yLjggMXptMi42LTIwLjRjLS41LjctMS4zIDEuMy0yLjUgMS42LS44LjMtMi41LjQtNC44LjRoLTcuN1YyMS42aDcuMWMxLjQgMCAyLjYgMCAzLjYuMXMxLjcuMiAyLjIuNGMxIC4zIDEuNy44IDIuMiAxLjcuNS45LjggMS44LjggMy0uMSAxLjMtLjQgMi4yLS45IDN6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWNsb3NlIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik01NyAyMC41bC01LjQtNS40LTE1LjUgMTUuNS0xNS42LTE1LjUtNS40IDUuNEwzMC43IDM2IDE1LjEgNTEuNWw1LjQgNS40IDE1LjYtMTUuNSAxNS41IDE1LjUgNS40LTUuNEw0MS41IDM2eiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1jcmVhdGUtbGluayIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNMzEuMSA0OC45bC02LjcgNi43Yy0uOC44LTEuNi45LTIuMS45cy0xLjQtLjEtMi4xLS45TDE1IDUwLjRjLTEuMS0xLjEtMS4xLTMuMSAwLTQuMmw2LjEtNi4xLjItLjIgNi41LTYuNWMtMS4yLS42LTIuNS0uOS0zLjgtLjktMi4zIDAtNC42LjktNi4zIDIuNkwxMSA0MS44Yy0zLjUgMy41LTMuNSA5LjIgMCAxMi43bDUuMiA1LjJjMS43IDEuNyA0IDIuNiA2LjMgMi42czQuNi0uOSA2LjMtMi42bDYuNy02LjdjMi41LTIuNiAzLjEtNi43IDEuNS0xMGwtNS45IDUuOXpNMzguNyAyMi41bDYuNy02LjdjLjgtLjggMS42LS45IDIuMS0uOXMxLjQuMSAyLjEuOWw1LjIgNS4yYzEuMSAxLjEgMS4xIDMuMSAwIDQuMmwtNi4xIDYuMS0uMi4yTDQyIDM4YzEuMi42IDIuNS45IDMuOC45IDIuMyAwIDQuNi0uOSA2LjMtMi42bDYuNy02LjdjMy41LTMuNSAzLjUtOS4yIDAtMTIuN2wtNS4yLTUuMmMtMS43LTEuNy00LTIuNi02LjMtMi42cy00LjYuOS02LjMgMi42bC02LjcgNi43Yy0yLjcgMi43LTMuMyA2LjktMS43IDEwLjJsNi4xLTYuMWMwIC4xIDAgLjEgMCAweiIvPjxwYXRoIGQ9Ik00NC4yIDMwLjVjLjItLjIuNC0uNi40LS45IDAtLjMtLjEtLjYtLjQtLjlsLTIuMy0yLjNjLS4zLS4yLS42LS40LS45LS40LS4zIDAtLjYuMS0uOS40TDI1LjkgNDAuNmMtLjIuMi0uNC42LS40LjkgMCAuMy4xLjYuNC45bDIuMyAyLjNjLjIuMi42LjQuOS40LjMgMCAuNi0uMS45LS40bDE0LjItMTQuMnpNNDkuOSA1NS40aC04LjV2LTVoOC41di04LjloNS4ydjguOWg4LjV2NWgtOC41djguOWgtNS4ydi04Ljl6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWRlbCIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNNDUuOCA0NWMwIDEtLjMgMS45LS45IDIuOC0uNi45LTEuNiAxLjYtMyAyLjFzLTMuMS44LTUgLjhjLTIuMSAwLTQtLjQtNS43LTEuMS0xLjctLjctMi45LTEuNy0zLjYtMi43LS44LTEuMS0xLjMtMi42LTEuNS00LjVsLS4xLS44LTYuNy42di45Yy4xIDIuOC45IDUuNCAyLjMgNy42IDEuNSAyLjMgMy41IDQgNi4xIDUuMSAyLjYgMS4xIDUuNyAxLjYgOS40IDEuNiAyLjkgMCA1LjYtLjUgOC0xLjYgMi40LTEuMSA0LjMtMi43IDUuNi00LjcgMS4zLTIgMi00LjIgMi02LjUgMC0xLjYtLjMtMy4xLS45LTQuNWwtLjItLjZINDRjMCAuMSAxLjggMi4zIDEuOCA1LjV6TTI5IDI4LjljLS44LS44LTEuMi0xLjctMS4yLTIuOSAwLS43LjEtMS4zLjQtMS45LjMtLjYuNy0xLjEgMS40LTEuNi42LS41IDEuNC0uOSAyLjUtMS4xIDEuMS0uMyAyLjQtLjQgMy45LS40IDIuOSAwIDUgLjYgNi4zIDEuNyAxLjMgMS4xIDIuMSAyLjcgMi40IDUuMWwuMS45IDYuOC0uNXYtLjljLS4xLTIuNS0uOC00LjctMi4xLTYuN3MtMy4yLTMuNS01LjYtNC41Yy0yLjQtMS01LjEtMS41LTguMS0xLjUtMi44IDAtNS4zLjUtNy42IDEuNC0yLjMgMS00LjIgMi40LTUuNCA0LjMtMS4yIDEuOS0xLjkgMy45LTEuOSA2LjEgMCAxLjcuNCAzLjQgMS4yIDQuOWwuMy41aDExLjhjLTIuMy0uOS0zLjktMS43LTUuMi0yLjl6bTEzLjMtNi4yek0yMi43IDIwLjN6TTEzIDM0LjFoNDYuMXYzLjRIMTN6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWVtIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0yNiA1N2wxMC4xLTQyaDcuMkwzMy4yIDU3SDI2eiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1mdWxsc2NyZWVuIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0yNS4yIDcuMUg3LjF2MTcuN2w2LjctNi41IDEwLjUgMTAuNSA0LjUtNC41LTEwLjQtMTAuNXpNNDcuMiA3LjFsNi41IDYuNy0xMC41IDEwLjUgNC41IDQuNSAxMC41LTEwLjQgNi43IDYuOFY3LjF6TTQ3LjcgNDMuMmwtNC41IDQuNSAxMC40IDEwLjUtNi44IDYuN2gxOC4xVjQ3LjJsLTYuNyA2LjV6TTI0LjMgNDMuMkwxMy44IDUzLjZsLTYuNy02Ljh2MTguMWgxNy43bC02LjUtNi43IDEwLjUtMTAuNXoiLz48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMC43IDI4LjhoMTguMVYxMS4ybC02LjYgNi40TDExLjYgNy4xbC00LjUgNC41IDEwLjUgMTAuNXpNNjAuOCAyOC44bC02LjQtNi42IDEwLjUtMTAuNi00LjUtNC41LTEwLjUgMTAuNS02LjctNi45djE4LjF6TTYwLjQgNjQuOWw0LjUtNC41LTEwLjUtMTAuNSA2LjktNi43SDQzLjJ2MTcuNmw2LjYtNi40ek0xMS42IDY0LjlsMTAuNS0xMC41IDYuNyA2LjlWNDMuMkgxMS4xbDYuNSA2LjZMNy4xIDYwLjR6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWgxIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik02LjQgMTQuOWg3LjR2MTYuN2gxOS4xVjE0LjloNy40VjU3aC03LjRWMzhIMTMuOHYxOUg2LjRWMTQuOXpNNDcuOCAyMi41YzEuNCAwIDIuOC0uMSA0LjEtLjQgMS4zLS4yIDIuNS0uNiAzLjYtMS4yIDEuMS0uNSAyLTEuMyAyLjgtMi4xLjgtLjkgMS4zLTEuOSAxLjUtMy4yaDUuNXY0MS4yaC03LjR2LTI5SDQ3Ljh2LTUuM3oiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctaDIiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTEuNSAxNC45aDcuNHYxNi43SDI4VjE0LjloNy40VjU3SDI4VjM4SDguOHYxOUgxLjVWMTQuOXpNNzAuMiA1Ni45SDQyYzAtMy40LjktNi40IDIuNS05czMuOC00LjggNi42LTYuN2MxLjMtMSAyLjctMS45IDQuMi0yLjkgMS41LS45IDIuOC0xLjkgNC0zIDEuMi0xLjEgMi4yLTIuMiAzLTMuNC44LTEuMiAxLjItMi43IDEuMi00LjMgMC0uNy0uMS0xLjUtLjMtMi40cy0uNS0xLjYtMS0yLjRjLS41LS43LTEuMi0xLjMtMi4xLTEuOC0uOS0uNS0yLjEtLjctMy41LS43LTEuMyAwLTIuNC4zLTMuMy44cy0xLjYgMS4zLTIuMSAyLjItLjkgMi0xLjIgMy4zYy0uMyAxLjMtLjQgMi42LS40IDQuMWgtNi43YzAtMi4zLjMtNC40LjktNi4zLjYtMS45IDEuNS0zLjYgMi43LTUgMS4yLTEuNCAyLjctMi41IDQuNC0zLjMgMS43LS44IDMuOC0xLjIgNi4xLTEuMiAyLjUgMCA0LjYuNCA2LjMgMS4yIDEuNy44IDMuMSAxLjkgNC4xIDMuMSAxIDEuMyAxLjggMi42IDIuMiA0LjEuNCAxLjUuNiAyLjkuNiA0LjIgMCAxLjYtLjMgMy4xLS44IDQuNS0uNSAxLjMtMS4yIDIuNi0yLjEgMy43LS45IDEuMS0xLjggMi4yLTIuOSAzLjEtMS4xLjktMi4yIDEuOC0zLjQgMi43LTEuMi44LTIuNCAxLjYtMy41IDIuNC0xLjIuNy0yLjMgMS41LTMuMyAyLjItMSAuNy0xLjkgMS41LTIuNiAyLjMtLjcuOC0xLjMgMS43LTEuNSAyLjZoMjAuMXY1Ljl6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWgzIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0xLjQgMTQuNWg3LjR2MTYuN2gxOS4xVjE0LjVoNy40djQyLjFoLTcuNHYtMTlIOC44djE5SDEuNFYxNC41ek01My4xIDMyLjRjMS4xIDAgMi4yIDAgMy4zLS4yIDEuMS0uMiAyLjEtLjUgMi45LTEgLjktLjUgMS42LTEuMiAyLjEtMiAuNS0uOS44LTEuOS44LTMuMiAwLTEuOC0uNi0zLjItMS44LTQuMi0xLjItMS4xLTIuNy0xLjYtNC42LTEuNi0xLjIgMC0yLjIuMi0zLjEuNy0uOS41LTEuNiAxLjEtMi4yIDEuOS0uNi44LTEgMS43LTEuMyAyLjctLjMgMS0uNCAyLS40IDMuMWgtNi43Yy4xLTIgLjUtMy45IDEuMS01LjYuNy0xLjcgMS42LTMuMiAyLjctNC40czIuNi0yLjIgNC4yLTIuOWMxLjYtLjcgMy41LTEuMSA1LjYtMS4xIDEuNiAwIDMuMi4yIDQuNy43IDEuNi41IDIuOSAxLjIgNC4yIDIuMSAxLjIuOSAyLjIgMi4xIDMgMy40LjcgMS40IDEuMSAzIDEuMSA0LjggMCAyLjEtLjUgMy45LTEuNCA1LjQtLjkgMS42LTIuNCAyLjctNC40IDMuNHYuMWMyLjQuNSA0LjIgMS42IDUuNSAzLjUgMS4zIDEuOSAyIDQuMSAyIDYuOCAwIDItLjQgMy43LTEuMiA1LjMtLjggMS42LTEuOCAyLjktMy4yIDMuOS0xLjMgMS4xLTIuOSAxLjktNC43IDIuNS0xLjguNi0zLjYuOS01LjYuOS0yLjQgMC00LjUtLjMtNi4zLTFzLTMuMy0xLjctNC41LTIuOWMtMS4yLTEuMy0yLjEtMi44LTIuNy00LjUtLjYtMS44LTEtMy43LTEtNS45aDYuN2MtLjEgMi41LjUgNC42IDEuOSA2LjMgMS4zIDEuNyAzLjMgMi41IDUuOSAyLjUgMi4yIDAgNC4xLS42IDUuNi0xLjkgMS41LTEuMyAyLjMtMy4xIDIuMy01LjQgMC0xLjYtLjMtMi45LS45LTMuOC0uNi0uOS0xLjUtMS43LTIuNS0yLjItMS0uNS0yLjItLjgtMy40LS45LTEuMy0uMS0yLjYtLjItMy45LS4xdi01LjJ6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWg0IiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0xLjUgMTQuOWg3LjR2MTYuN0gyOFYxNC45aDcuNFY1N0gyOFYzOEg4Ljl2MTlIMS41VjE0Ljl6TTcwLjUgNDcuMmgtNS4zVjU3aC02LjR2LTkuOEg0MS4ydi02LjdsMTcuNy0yNC44aDYuNHYyNi4yaDUuM3Y1LjN6bS0yNC4yLTUuM2gxMi41VjIzLjdoLS4xTDQ2LjMgNDEuOXoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctaG9yaXpvbnRhbC1ydWxlIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik05LjEgMzJoNTR2OGgtNTR6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWluc2VydC1pbWFnZSIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNNjQgMTd2MzhIOFYxN2g1Nm04LThIMHY1NGg3MlY5eiIvPjxwYXRoIGQ9Ik0xNy41IDIyQzE1IDIyIDEzIDI0IDEzIDI2LjVzMiA0LjUgNC41IDQuNSA0LjUtMiA0LjUtNC41LTItNC41LTQuNS00LjV6TTE2IDUwaDI3TDI5LjUgMzJ6TTM2IDM2LjJsOC45LTguNUw2MC4yIDUwSDQ1LjlTMzUuNiAzNS45IDM2IDM2LjJ6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWl0YWxpYyIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNMjYgNTdsMTAuMS00Mmg3LjJMMzMuMiA1N0gyNnoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctanVzdGlmeS1jZW50ZXIiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTkgMTRoNTR2OEg5ek05IDUwaDU0djhIOXpNMTggMzJoMzZ2OEgxOHoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctanVzdGlmeS1mdWxsIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik05IDE0aDU0djhIOXpNOSA1MGg1NHY4SDl6TTkgMzJoNTR2OEg5eiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1qdXN0aWZ5LWxlZnQiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTkgMTRoNTR2OEg5ek05IDUwaDU0djhIOXpNOSAzMmgzNnY4SDl6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWp1c3RpZnktcmlnaHQiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTkgMTRoNTR2OEg5ek05IDUwaDU0djhIOXpNMjcgMzJoMzZ2OEgyN3oiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctbGluayIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNMzAuOSA0OS4xbC02LjcgNi43Yy0uOC44LTEuNi45LTIuMS45cy0xLjQtLjEtMi4xLS45bC01LjItNS4yYy0xLjEtMS4xLTEuMS0zLjEgMC00LjJsNi4xLTYuMS4yLS4yIDYuNS02LjVjLTEuMi0uNi0yLjUtLjktMy44LS45LTIuMyAwLTQuNi45LTYuMyAyLjZMMTAuOCA0MmMtMy41IDMuNS0zLjUgOS4yIDAgMTIuN2w1LjIgNS4yYzEuNyAxLjcgNCAyLjYgNi4zIDIuNnM0LjYtLjkgNi4zLTIuNmw2LjctNi43QzM4IDUwLjUgMzguNiA0Ni4zIDM3IDQzbC02LjEgNi4xek0zOC41IDIyLjdsNi43LTYuN2MuOC0uOCAxLjYtLjkgMi4xLS45czEuNC4xIDIuMS45bDUuMiA1LjJjMS4xIDEuMSAxLjEgMy4xIDAgNC4ybC02LjEgNi4xLS4yLjItNi41IDYuNWMxLjIuNiAyLjUuOSAzLjguOSAyLjMgMCA0LjYtLjkgNi4zLTIuNmw2LjctNi43YzMuNS0zLjUgMy41LTkuMiAwLTEyLjdsLTUuMi01LjJjLTEuNy0xLjctNC0yLjYtNi4zLTIuNnMtNC42LjktNi4zIDIuNmwtNi43IDYuN2MtMi43IDIuNy0zLjMgNi45LTEuNyAxMC4ybDYuMS02LjF6Ii8+PHBhdGggZD0iTTQ0LjEgMzAuN2MuMi0uMi40LS42LjQtLjkgMC0uMy0uMS0uNi0uNC0uOWwtMi4zLTIuM2MtLjItLjItLjYtLjQtLjktLjQtLjMgMC0uNi4xLS45LjRMMjUuOCA0MC44Yy0uMi4yLS40LjYtLjQuOSAwIC4zLjEuNi40LjlsMi4zIDIuM2MuMi4yLjYuNC45LjQuMyAwIC42LS4xLjktLjRsMTQuMi0xNC4yeiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1vcmRlcmVkLWxpc3QiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTI3IDE0aDM2djhIMjd6TTI3IDUwaDM2djhIMjd6TTI3IDMyaDM2djhIMjd6TTExLjggMTUuOFYyMmgxLjh2LTcuOGgtMS41bC0yLjEgMSAuMyAxLjN6TTEyLjEgMzguNWwuNy0uNmMxLjEtMSAyLjEtMi4xIDIuMS0zLjQgMC0xLjQtMS0yLjQtMi43LTIuNC0xLjEgMC0yIC40LTIuNi44bC41IDEuM2MuNC0uMyAxLS42IDEuNy0uNi45IDAgMS4zLjUgMS4zIDEuMSAwIC45LS45IDEuOC0yLjYgMy4zbC0xIC45VjQwSDE1di0xLjVoLTIuOXpNMTMuMyA1My45YzEtLjQgMS40LTEgMS40LTEuOCAwLTEuMS0uOS0xLjktMi42LTEuOS0xIDAtMS45LjMtMi40LjZsLjQgMS4zYy4zLS4yIDEtLjUgMS42LS41LjggMCAxLjIuMyAxLjIuOCAwIC43LS44LjktMS40LjloLS43djEuM2guN2MuOCAwIDEuNi4zIDEuNiAxLjEgMCAuNi0uNSAxLTEuNCAxLS43IDAtMS41LS4zLTEuOC0uNWwtLjQgMS40Yy41LjMgMS4zLjYgMi4zLjYgMiAwIDMuMi0xIDMuMi0yLjQgMC0xLjEtLjgtMS44LTEuNy0xLjl6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLXAiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTQ3LjggMTUuMUgzMC4xYy00LjcgMC04LjUgMy43LTguNSA4LjRzMy43IDguNCA4LjQgOC40djI1aDdWMTkuOGgzdjM3LjFoNC4xVjE5LjhoMy43di00Ljd6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLXJlZG8iIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTEwLjggNTEuMmMwLTUuMSAyLjEtOS43IDUuNC0xMy4xIDMuMy0zLjMgOC01LjQgMTMuMS01LjRINDZ2LTEyTDYxLjMgMzYgNDUuOSA1MS4zVjM5LjFIMjkuM2MtMy4zIDAtNi40IDEuMy04LjUgMy41LTIuMiAyLjItMy41IDUuMi0zLjUgOC41aC02LjV6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLXJlbW92ZWZvcm1hdCIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNNTguMiA1NC42TDUyIDQ4LjVsMy42LTMuNiA2LjEgNi4xIDYuNC02LjQgMy44IDMuOC02LjQgNi40IDYuMSA2LjEtMy42IDMuNi02LjEtNi4xLTYuNCA2LjQtMy43LTMuOCA2LjQtNi40ek0yMS43IDUyLjFINTBWNTdIMjEuN3pNMTguOCAxNS4yaDM0LjF2Ni40SDM5LjV2MjQuMmgtNy40VjIxLjVIMTguOHYtNi4zeiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1zdHJpa2V0aHJvdWdoIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik00NS44IDQ1YzAgMS0uMyAxLjktLjkgMi44LS42LjktMS42IDEuNi0zIDIuMXMtMy4xLjgtNSAuOGMtMi4xIDAtNC0uNC01LjctMS4xLTEuNy0uNy0yLjktMS43LTMuNi0yLjctLjgtMS4xLTEuMy0yLjYtMS41LTQuNWwtLjEtLjgtNi43LjZ2LjljLjEgMi44LjkgNS40IDIuMyA3LjYgMS41IDIuMyAzLjUgNCA2LjEgNS4xIDIuNiAxLjEgNS43IDEuNiA5LjQgMS42IDIuOSAwIDUuNi0uNSA4LTEuNiAyLjQtMS4xIDQuMy0yLjcgNS42LTQuNyAxLjMtMiAyLTQuMiAyLTYuNSAwLTEuNi0uMy0zLjEtLjktNC41bC0uMi0uNkg0NGMwIC4xIDEuOCAyLjMgMS44IDUuNXpNMjkgMjguOWMtLjgtLjgtMS4yLTEuNy0xLjItMi45IDAtLjcuMS0xLjMuNC0xLjkuMy0uNi43LTEuMSAxLjQtMS42LjYtLjUgMS40LS45IDIuNS0xLjEgMS4xLS4zIDIuNC0uNCAzLjktLjQgMi45IDAgNSAuNiA2LjMgMS43IDEuMyAxLjEgMi4xIDIuNyAyLjQgNS4xbC4xLjkgNi44LS41di0uOWMtLjEtMi41LS44LTQuNy0yLjEtNi43cy0zLjItMy41LTUuNi00LjVjLTIuNC0xLTUuMS0xLjUtOC4xLTEuNS0yLjggMC01LjMuNS03LjYgMS40LTIuMyAxLTQuMiAyLjQtNS40IDQuMy0xLjIgMS45LTEuOSAzLjktMS45IDYuMSAwIDEuNy40IDMuNCAxLjIgNC45bC4zLjVoMTEuOGMtMi4zLS45LTMuOS0xLjctNS4yLTIuOXptMTMuMy02LjJ6TTIyLjcgMjAuM3pNMTMgMzQuMWg0Ni4xdjMuNEgxM3oiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctc3Ryb25nIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik01MS4xIDM3LjhjLTEuMS0xLjQtMi41LTIuNS00LjItMy4zIDEuMi0uOCAyLjEtMS44IDIuOC0zIDEtMS42IDEuNS0zLjUgMS41LTUuMyAwLTItLjYtNC0xLjctNS44LTEuMS0xLjgtMi44LTMuMi00LjgtNC4xLTItLjktNC42LTEuMy03LjgtMS4zaC0xNnY0MmgxNi4zYzIuNiAwIDQuOC0uMiA2LjctLjcgMS45LS41IDMuNC0xLjIgNC43LTIuMSAxLjMtMSAyLjQtMi40IDMuMi00LjEuOS0xLjcgMS4zLTMuNiAxLjMtNS43LjItMi41LS41LTQuNy0yLTYuNnpNNDAuOCA1MC4yYy0uNi4xLTEuOC4yLTMuNC4yaC05VjM4LjVoOC4zYzIuNSAwIDQuNC4yIDUuNi42IDEuMi40IDIgMSAyLjcgMiAuNi45IDEgMiAxIDMuMyAwIDEuMS0uMiAyLjEtLjcgMi45LS41LjktMSAxLjUtMS43IDEuOS0uOC40LTEuNy44LTIuOCAxem0yLjYtMjAuNGMtLjUuNy0xLjMgMS4zLTIuNSAxLjYtLjguMy0yLjUuNC00LjguNGgtNy43VjIxLjZoNy4xYzEuNCAwIDIuNiAwIDMuNi4xczEuNy4yIDIuMi40YzEgLjMgMS43LjggMi4yIDEuNy41LjkuOCAxLjguOCAzLS4xIDEuMy0uNCAyLjItLjkgM3oiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctc3Vic2NyaXB0IiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0zMiAxNWg3LjhMNTYgNTcuMWgtNy45TDQ0LjMgNDZIMjcuNGwtNCAxMS4xaC03LjZMMzIgMTV6bS0yLjUgMjUuNGgxMi45TDM2IDIyLjNoLS4ybC02LjMgMTguMXpNNTguNyA1OS45Yy42LTEuNCAyLTIuOCA0LjEtNC40IDEuOS0xLjMgMy4xLTIuMyAzLjctMi45LjgtLjkgMS4zLTEuOSAxLjMtMyAwLS45LS4yLTEuNi0uNy0yLjItLjUtLjYtMS4yLS45LTIuMS0uOS0xLjIgMC0yLjEuNS0yLjUgMS40LS4zLjUtLjQgMS40LS41IDIuNWgtNGMuMS0xLjguNC0zLjIgMS00LjMgMS4xLTIuMSAzLTMuMSA1LjgtMy4xIDIuMiAwIDMuOS42IDUuMiAxLjggMS4zIDEuMiAxLjkgMi44IDEuOSA0LjggMCAxLjUtLjUgMi45LTEuNCA0LjEtLjYuOC0xLjYgMS43LTMgMi42TDY2IDU3LjdjLTEgLjctMS43IDEuMi0yLjEgMS42LS40LjMtLjcuNy0xIDEuMUg3MlY2NEg1Ny44YzAtMS41LjMtMi44LjktNC4xeiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1zdXBlcnNjcmlwdCIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNMzIgMTVoNy44TDU2IDU3LjFoLTcuOWwtNC0xMS4xSDI3LjRsLTQgMTEuMWgtNy42TDMyIDE1em0tMi41IDI1LjRoMTIuOUwzNiAyMi4zaC0uMmwtNi4zIDE4LjF6TTQ5LjYgMjguOGMuNS0xLjEgMS42LTIuMyAzLjQtMy42IDEuNS0xLjEgMi41LTEuOSAzLTIuNC43LS43IDEtMS42IDEtMi40IDAtLjctLjItMS4zLS42LTEuOC0uNC0uNS0xLS43LTEuNy0uNy0xIDAtMS43LjQtMi4xIDEuMS0uMi40LS4zIDEuMS0uNCAyLjFINDljLjEtMS41LjMtMi42LjgtMy41LjktMS43IDIuNS0yLjYgNC44LTIuNiAxLjggMCAzLjIuNSA0LjMgMS41IDEuMSAxIDEuNiAyLjMgMS42IDQgMCAxLjMtLjQgMi40LTEuMSAzLjQtLjUuNy0xLjMgMS40LTIuNCAyLjJsLTEuMyAxYy0uOC42LTEuNCAxLTEuNyAxLjMtLjMuMy0uNi42LS44LjloNy40djNINDguOGMwLTEuMy4zLTIuNC44LTMuNXoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctdGFibGUiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTI1LjY4NiA1MS4zOHYtNi4zNDdxMC0uNDYyLS4yOTctLjc2LS4yOTgtLjI5Ny0uNzYxLS4yOTdIMTQuMDRxLS40NjMgMC0uNzYxLjI5Ny0uMjk4LjI5OC0uMjk4Ljc2djYuMzQ2cTAgLjQ2My4yOTguNzYuMjk4LjI5OC43Ni4yOThoMTAuNTg5cS40NjMgMCAuNzYtLjI5OC4yOTgtLjI5Ny4yOTgtLjc2em0wLTEyLjY5MnYtNi4zNDZxMC0uNDYzLS4yOTctLjc2LS4yOTgtLjI5OC0uNzYxLS4yOThIMTQuMDRxLS40NjMgMC0uNzYxLjI5OC0uMjk4LjI5Ny0uMjk4Ljc2djYuMzQ2cTAgLjQ2Mi4yOTguNzYuMjk4LjI5Ny43Ni4yOTdoMTAuNTg5cS40NjMgMCAuNzYtLjI5Ny4yOTgtLjI5OC4yOTgtLjc2em0xNi45NCAxMi42OTF2LTYuMzQ2cTAtLjQ2Mi0uMjk3LS43Ni0uMjk4LS4yOTctLjc2MS0uMjk3SDMwLjk4cS0uNDYzIDAtLjc2LjI5Ny0uMjk5LjI5OC0uMjk5Ljc2djYuMzQ2cTAgLjQ2My4yOTguNzYuMjk4LjI5OC43NjEuMjk4aDEwLjU4OHEuNDYzIDAgLjc2LS4yOTguMjk5LS4yOTcuMjk5LS43NnptLTE2Ljk0LTI1LjM4M3YtNi4zNDVxMC0uNDYzLS4yOTctLjc2LS4yOTgtLjI5OC0uNzYxLS4yOThIMTQuMDRxLS40NjMgMC0uNzYxLjI5Ny0uMjk4LjI5OC0uMjk4Ljc2djYuMzQ2cTAgLjQ2My4yOTguNzYuMjk4LjI5OC43Ni4yOThoMTAuNTg5cS40NjMgMCAuNzYtLjI5OC4yOTgtLjI5Ny4yOTgtLjc2em0xNi45NCAxMi42OTJ2LTYuMzQ2cTAtLjQ2My0uMjk3LS43Ni0uMjk4LS4yOTgtLjc2MS0uMjk4SDMwLjk4cS0uNDYzIDAtLjc2LjI5OC0uMjk5LjI5Ny0uMjk5Ljc2djYuMzQ2cTAgLjQ2Mi4yOTguNzYuMjk4LjI5Ny43NjEuMjk3aDEwLjU4OHEuNDYzIDAgLjc2LS4yOTcuMjk5LS4yOTguMjk5LS43NnptMTYuOTQgMTIuNjkxdi02LjM0NnEwLS40NjItLjI5Ny0uNzYtLjI5OC0uMjk3LS43Ni0uMjk3SDQ3LjkycS0uNDYzIDAtLjc2LjI5Ny0uMjk4LjI5OC0uMjk4Ljc2djYuMzQ2cTAgLjQ2My4yOTcuNzYuMjk4LjI5OC43NjEuMjk4aDEwLjU4OHEuNDYzIDAgLjc2MS0uMjk4LjI5OC0uMjk3LjI5OC0uNzZ6bS0xNi45NC0yNS4zODN2LTYuMzQ1cTAtLjQ2My0uMjk3LS43Ni0uMjk4LS4yOTgtLjc2MS0uMjk4SDMwLjk4cS0uNDYzIDAtLjc2LjI5Ny0uMjk5LjI5OC0uMjk5Ljc2djYuMzQ2cTAgLjQ2My4yOTguNzYuMjk4LjI5OC43NjEuMjk4aDEwLjU4OHEuNDYzIDAgLjc2LS4yOTguMjk5LS4yOTcuMjk5LS43NnptMTYuOTQgMTIuNjkydi02LjM0NnEwLS40NjMtLjI5Ny0uNzYtLjI5OC0uMjk4LS43Ni0uMjk4SDQ3LjkycS0uNDYzIDAtLjc2LjI5OC0uMjk4LjI5Ny0uMjk4Ljc2djYuMzQ2cTAgLjQ2Mi4yOTcuNzYuMjk4LjI5Ny43NjEuMjk3aDEwLjU4OHEuNDYzIDAgLjc2MS0uMjk3LjI5OC0uMjk4LjI5OC0uNzZ6bTAtMTIuNjkydi02LjM0NXEwLS40NjMtLjI5Ny0uNzYtLjI5OC0uMjk4LS43Ni0uMjk4SDQ3LjkycS0uNDYzIDAtLjc2LjI5Ny0uMjk4LjI5OC0uMjk4Ljc2djYuMzQ2cTAgLjQ2My4yOTcuNzYuMjk4LjI5OC43NjEuMjk4aDEwLjU4OHEuNDYzIDAgLjc2MS0uMjk4LjI5OC0uMjk3LjI5OC0uNzZ6bTQuMjM2LTEwLjU3NnYzNS45NnEwIDIuMTgtMS41NTUgMy43MzQtMS41NTUgMS41NTMtMy43MzkgMS41NTNIMTQuMDRxLTIuMTg0IDAtMy43MzktMS41NTMtMS41NTUtMS41NTMtMS41NTUtMy43MzVWMTUuNDJxMC0yLjE4MSAxLjU1NS0zLjczNSAxLjU1NS0xLjU1MyAzLjczOS0xLjU1M2g0NC40NjhxMi4xODQgMCAzLjczOSAxLjU1MyAxLjU1NSAxLjU1NCAxLjU1NSAzLjczNXoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctdW5kZXJsaW5lIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0zNiAzNXpNMTUuMiA1NS45aDQxLjZWNTlIMTUuMnpNMjEuMSAxMy45aDYuNHYyMS4yYzAgMS4yLjEgMi41LjIgMy43LjEgMS4zLjUgMi40IDEgMy40LjYgMSAxLjQgMS44IDIuNiAyLjUgMS4xLjYgMi43IDEgNC44IDEgMi4xIDAgMy43LS4zIDQuOC0xIDEuMS0uNiAyLTEuNSAyLjYtMi41LjYtMSAuOS0yLjEgMS0zLjQuMS0xLjMuMi0yLjUuMi0zLjdWMTMuOUg1MXYyMy4zYzAgMi4zLS40IDQuNC0xLjEgNi4xLS43IDEuNy0xLjcgMy4yLTMgNC40LTEuMyAxLjItMi45IDItNC43IDIuNi0xLjguNi0zLjkuOS02LjEuOS0yLjIgMC00LjMtLjMtNi4xLS45LTEuOC0uNi0zLjQtMS41LTQuNy0yLjYtMS4zLTEuMi0yLjMtMi42LTMtNC40LS43LTEuNy0xLjEtMy44LTEuMS02LjFWMTMuOXoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctdW5kbyIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNNjEuMiA1MS4yYzAtNS4xLTIuMS05LjctNS40LTEzLjEtMy4zLTMuMy04LTUuNC0xMy4xLTUuNEgyNi4xdi0xMkwxMC44IDM2bDE1LjMgMTUuM1YzOS4xaDE2LjdjMy4zIDAgNi40IDEuMyA4LjUgMy41IDIuMiAyLjIgMy41IDUuMiAzLjUgOC41aDYuNHoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctdW5saW5rIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0zMC45IDQ5LjFsLTYuNyA2LjdjLS44LjgtMS42LjktMi4xLjlzLTEuNC0uMS0yLjEtLjlsLTUuMi01LjJjLTEuMS0xLjEtMS4xLTMuMSAwLTQuMmw2LjEtNi4xLjItLjIgNi41LTYuNWMtMS4yLS42LTIuNS0uOS0zLjgtLjktMi4zIDAtNC42LjktNi4zIDIuNkwxMC44IDQyYy0zLjUgMy41LTMuNSA5LjIgMCAxMi43bDUuMiA1LjJjMS43IDEuNyA0IDIuNiA2LjMgMi42czQuNi0uOSA2LjMtMi42bDYuNy02LjdDMzggNTAuNSAzOC42IDQ2LjMgMzcgNDNsLTYuMSA2LjF6TTM4LjUgMjIuN2w2LjctNi43Yy44LS44IDEuNi0uOSAyLjEtLjlzMS40LjEgMi4xLjlsNS4yIDUuMmMxLjEgMS4xIDEuMSAzLjEgMCA0LjJsLTYuMSA2LjEtLjIuMi02LjUgNi41YzEuMi42IDIuNS45IDMuOC45IDIuMyAwIDQuNi0uOSA2LjMtMi42bDYuNy02LjdjMy41LTMuNSAzLjUtOS4yIDAtMTIuN2wtNS4yLTUuMmMtMS43LTEuNy00LTIuNi02LjMtMi42cy00LjYuOS02LjMgMi42bC02LjcgNi43Yy0yLjcgMi43LTMuMyA2LjktMS43IDEwLjJsNi4xLTYuMXoiLz48cGF0aCBkPSJNNDQuMSAzMC43Yy4yLS4yLjQtLjYuNC0uOSAwLS4zLS4xLS42LS40LS45bC0yLjMtMi4zYy0uMi0uMi0uNi0uNC0uOS0uNC0uMyAwLS42LjEtLjkuNEwyNS44IDQwLjhjLS4yLjItLjQuNi0uNC45IDAgLjMuMS42LjQuOWwyLjMgMi4zYy4yLjIuNi40LjkuNC4zIDAgLjYtLjEuOS0uNGwxNC4yLTE0LjJ6TTQxLjMgNTUuOHYtNWgyMi4ydjVINDEuM3oiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctdW5vcmRlcmVkLWxpc3QiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTI3IDE0aDM2djhIMjd6TTI3IDUwaDM2djhIMjd6TTkgNTBoOXY4SDl6TTkgMzJoOXY4SDl6TTkgMTRoOXY4SDl6TTI3IDMyaDM2djhIMjd6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLXZpZXctaHRtbCIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSI4IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0yNi45IDE3LjlMOSAzNi4yIDI2LjkgNTRNNDUgNTRsMTcuOS0xOC4zTDQ1IDE3LjkiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctYmFzZTY0IiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik02NCAxN3YzOEg4VjE3aDU2bTgtOEgwdjU0aDcyVjl6Ii8+PHBhdGggZD0iTTI5LjkgMjguOWMtLjUtLjUtMS4xLS44LTEuOC0uOHMtMS40LjItMS45LjdjLS41LjQtLjkgMS0xLjIgMS42LS4zLjYtLjUgMS4zLS42IDIuMS0uMS43LS4yIDEuNC0uMiAxLjlsLjEuMWMuNi0uOCAxLjItMS40IDItMS44LjgtLjQgMS43LS41IDIuNy0uNS45IDAgMS44LjIgMi42LjYuOC40IDEuNi45IDIuMiAxLjUuNi42IDEgMS4zIDEuMiAyLjIuMy44LjQgMS42LjQgMi41IDAgMS4xLS4yIDIuMS0uNSAzLS4zLjktLjggMS43LTEuNSAyLjQtLjYuNy0xLjQgMS4yLTIuMyAxLjYtLjkuNC0xLjkuNi0zIC42LTEuNiAwLTIuOC0uMy0zLjktLjktMS0uNi0xLjgtMS40LTIuNS0yLjQtLjYtMS0xLTIuMS0xLjMtMy40LS4yLTEuMy0uNC0yLjYtLjQtMy45IDAtMS4zLjEtMi42LjQtMy44LjMtMS4zLjgtMi40IDEuNC0zLjUuNy0xIDEuNS0xLjkgMi41LTIuNSAxLS42IDIuMy0xIDMuOC0xIC45IDAgMS43LjEgMi41LjQuOC4zIDEuNC42IDIgMS4xLjYuNSAxLjEgMS4xIDEuNCAxLjguNC43LjYgMS41LjcgMi41aC00YzAtMS0uMy0xLjYtLjgtMi4xem0tMy41IDYuOGMtLjQuMi0uOC41LTEgLjgtLjMuNC0uNS44LS42IDEuMi0uMS41LS4yIDEtLjIgMS41cy4xLjkuMiAxLjRjLjEuNS40LjkuNiAxLjIuMy40LjYuNyAxIC45LjQuMi45LjMgMS40LjMuNSAwIDEtLjEgMS4zLS4zLjQtLjIuNy0uNSAxLS45LjMtLjQuNS0uOC42LTEuMi4xLS41LjItLjkuMi0xLjQgMC0uNS0uMS0xLS4yLTEuNC0uMS0uNS0uMy0uOS0uNi0xLjItLjMtLjQtLjYtLjctMS0uOS0uNC0uMi0uOS0uMy0xLjQtLjMtLjQgMC0uOS4xLTEuMy4zek0zNi4zIDQxLjN2LTMuOGw5LTEyLjFINDl2MTIuNGgyLjd2My41SDQ5djQuOGgtNHYtNC44aC04Ljd6TTQ1IDMwLjdsLTUuMyA3LjJoNS40bC0uMS03LjJ6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLWJhY2stY29sb3IiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTM2LjUgMjIuM2wtNi4zIDE4LjFINDNsLTYuMy0xOC4xeiIvPjxwYXRoIGQ9Ik05IDguOXY1NC4yaDU0LjFWOC45SDl6bTM5LjkgNDguMkw0NSA0NkgyOC4ybC0zLjkgMTEuMWgtNy42TDMyLjggMTVoNy44bDE2LjIgNDIuMWgtNy45eiIvPjwvc3ltYm9sPjxzeW1ib2wgaWQ9InRydW1ib3d5Zy1mb3JlLWNvbG9yIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik0zMiAxNWg3LjhMNTYgNTcuMWgtNy45bC00LTExLjFIMjcuNGwtNCAxMS4xaC03LjZMMzIgMTV6bS0yLjUgMjUuNGgxMi45TDM2IDIyLjNoLS4ybC02LjMgMTguMXoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctZW1vamkiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTM2LjA1IDlDMjEuMDkgOSA4Ljk0OSAyMS4xNDEgOC45NDkgMzYuMTAxYzAgMTQuOTYgMTIuMTQxIDI3LjEwMSAyNy4xMDEgMjcuMTAxIDE0Ljk2IDAgMjcuMTAxLTEyLjE0MSAyNy4xMDEtMjcuMTAxUzUxLjAxIDkgMzYuMDUgOXptOS43NTcgMTUuMDk1YzIuNjUxIDAgNC40MTggMS43NjcgNC40MTggNC40MThzLTEuNzY3IDQuNDE4LTQuNDE4IDQuNDE4LTQuNDE4LTEuNzY3LTQuNDE4LTQuNDE4IDEuNzY3LTQuNDE4IDQuNDE4LTQuNDE4em0tMTkuNDc5IDBjMi42NTEgMCA0LjQxOCAxLjc2NyA0LjQxOCA0LjQxOHMtMS43NjcgNC40MTgtNC40MTggNC40MTgtNC40MTgtMS43NjctNC40MTgtNC40MTggMS43NjctNC40MTggNC40MTgtNC40MTh6bTkuNzIyIDMwLjQzNmMtMTQuMDkzIDAtMTYuMjYxLTEzLjAwOS0xNi4yNjEtMTMuMDA5aDMyLjUyMlM1MC4xNDMgNTQuNTMxIDM2LjA1IDU0LjUzMXoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctaW5zZXJ0LWF1ZGlvIiB2aWV3Qm94PSIwIDAgOCA4Ij48cGF0aCBkPSJNMy4zNDQgMEwyIDJIMHY0aDJsMS4zNDQgMkg0VjBoLS42NTZ6TTUgMXYxYy4xNTIgMCAuMzEzLjAyNi40NjkuMDYzSDUuNWMuODYuMjE1IDEuNS45OTUgMS41IDEuOTM4YTEuOTkgMS45OSAwIDAgMS0yIDIuMDAxdjFhMi45ODggMi45ODggMCAwIDAgMy0zIDIuOTg4IDIuOTg4IDAgMCAwLTMtM3ptMCAydjJsLjI1LS4wMzFDNS42ODMgNC44NTEgNiA0LjQ2MiA2IDRjMC0uNDQ2LS4zMjUtLjgxOS0uNzUtLjkzOHYtLjAzMWgtLjAzMUw1IDN6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLW5vZW1iZWQiIHZpZXdCb3g9IjAgMCA3MiA3MiI+PHBhdGggZD0iTTMxLjUgMzMuNlYyNWwxMSAxMS0xMSAxMXYtOC44eiIvPjxwYXRoIGQ9Ik02NCAxN3YzOEg4VjE3aDU2bTgtOEgwdjU0aDcyVjl6Ii8+PC9zeW1ib2w+PHN5bWJvbCBpZD0idHJ1bWJvd3lnLXByZWZvcm1hdHRlZCIgdmlld0JveD0iMCAwIDcyIDcyIj48cGF0aCBkPSJNMTAuMyAzMy41Yy40IDAgLjktLjEgMS41LS4yczEuMi0uMyAxLjgtLjdjLjYtLjMgMS4xLS44IDEuNS0xLjMuNC0uNS42LTEuMy42LTIuMVYxNy4xYzAtMS40LjMtMi42LjgtMy42czEuMi0xLjkgMi0yLjVjLjgtLjcgMS42LTEuMiAyLjUtMS41LjktLjMgMS42LS41IDIuMi0uNWg1LjN2NS4zaC0zLjJjLS43IDAtMS4zLjEtMS44LjQtLjQuMy0uOC42LTEgMS0uMi40LS40LjktLjQgMS4zLS4xLjUtLjEuOS0uMSAxLjR2MTEuNGMwIDEuMi0uMiAyLjEtLjcgMi45LS41LjgtMSAxLjQtMS43IDEuOC0uNi40LTEuMy44LTIgMS0uNy4yLTEuMy4zLTEuNy40di4xYy41IDAgMSAuMSAxLjcuMy43LjIgMS4zLjUgMiAuOS42LjUgMS4yIDEuMSAxLjcgMS45LjUuOC43IDIgLjcgMy40djExLjFjMCAuNCAwIC45LjEgMS40LjEuNS4yLjkuNCAxLjNzLjYuNyAxIDFjLjQuMyAxIC40IDEuOC40aDMuMlY2M2gtNS4zYy0uNiAwLTEuNC0uMi0yLjItLjUtLjktLjMtMS43LS44LTIuNS0xLjVzLTEuNC0xLjUtMi0yLjVjLS41LTEtLjgtMi4yLS44LTMuNlY0My41YzAtLjktLjItMS43LS42LTIuMy0uNC0uNi0uOS0xLjEtMS41LTEuNS0uNi0uNC0xLjItLjYtMS44LS43LS42LS4xLTEuMS0uMi0xLjUtLjJ2LTUuM3pNNjEuOCAzOC43Yy0uNCAwLTEgLjEtMS42LjItLjYuMS0xLjIuNC0xLjguNy0uNi4zLTEuMS43LTEuNSAxLjMtLjQuNS0uNiAxLjMtLjYgMi4xdjEyLjFjMCAxLjQtLjMgMi42LS44IDMuNnMtMS4yIDEuOS0yIDIuNWMtLjguNy0xLjYgMS4yLTIuNSAxLjUtLjkuMy0xLjYuNS0yLjIuNWgtNS4zdi01LjNoMy4yYy43IDAgMS4zLS4xIDEuOC0uNC40LS4zLjgtLjYgMS0xIC4yLS40LjQtLjkuNC0xLjMuMS0uNS4xLS45LjEtMS40VjQyLjNjMC0xLjIuMi0yLjEuNy0yLjkuNS0uOCAxLTEuNCAxLjctMS44LjYtLjQgMS4zLS44IDItMSAuNy0uMiAxLjMtLjMgMS43LS40di0uMWMtLjUgMC0xLS4xLTEuNy0uMy0uNy0uMi0xLjMtLjUtMi0uOS0uNi0uNC0xLjItMS4xLTEuNy0xLjktLjUtLjgtLjctMi0uNy0zLjRWMTguNWMwLS40IDAtLjktLjEtMS40LS4xLS41LS4yLS45LS40LTEuM3MtLjYtLjctMS0xYy0uNC0uMy0xLS40LTEuOC0uNGgtMy4yVjkuMWg1LjNjLjYgMCAxLjQuMiAyLjIuNS45LjMgMS43LjggMi41IDEuNXMxLjQgMS41IDIgMi41Yy41IDEgLjggMi4yLjggMy42djExLjZjMCAuOS4yIDEuNy42IDIuMy40LjYuOSAxLjEgMS41IDEuNS42LjQgMS4yLjYgMS44LjcuNi4xIDEuMi4yIDEuNi4ydjUuMnoiLz48L3N5bWJvbD48c3ltYm9sIGlkPSJ0cnVtYm93eWctdXBsb2FkIiB2aWV3Qm94PSIwIDAgNzIgNzIiPjxwYXRoIGQ9Ik02NCAyN3YyOEg4VjI3SDB2MzZoNzJWMjdoLTh6Ii8+PHBhdGggZD0iTTMyLjEgNi43aDh2MzMuNmgtOHoiLz48cGF0aCBkPSJNNDggMzUuOUwzNiA0OS42IDI0IDM2aDI0eiIvPjwvc3ltYm9sPjwvc3ZnPg=="),f=['<svg xmlns="http://www.w3.org/2000/svg">','<symbol id="trumbowyg-add-resources" viewBox="0 0 72 72"><path d="M64 17v38H8V17h56m8-8H0v54h72V9z"></path><path d="M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z"></path></symbol>','<symbol id="trumbowyg-code" viewBox="0 0 72 72"><path d="M21.3 31.9h-.6c.8-1.2 1.9-2.2 3.4-3.2 2.1-1.4 5-2.7 9.2-3.3l-1.4-8.9c-4.7.7-8.5 2.1-11.7 4-2.4 1.4-4.3 3.1-5.8 4.9-2.3 2.7-3.7 5.7-4.5 8.5-.8 2.8-1 5.4-1 7.5 0 2.3.3 4 .4 4.8 0 .1.1.3.1.4 1.2 5.4 6.1 9.5 11.9 9.5 6.7 0 12.2-5.4 12.2-12.2s-5.5-12-12.2-12zM49.5 31.9h-.6c.8-1.2 1.9-2.2 3.4-3.2 2.1-1.4 5-2.7 9.2-3.3l-1.4-8.9c-4.7.7-8.5 2.1-11.7 4-2.4 1.4-4.3 3.1-5.8 4.9-2.3 2.7-3.7 5.7-4.5 8.5-.8 2.8-1 5.4-1 7.5 0 2.3.3 4 .4 4.8 0 .1.1.3.1.4 1.2 5.4 6.1 9.5 11.9 9.5 6.7 0 12.2-5.4 12.2-12.2s-5.5-12-12.2-12z"/></symbol>','<symbol id="trumbowyg-math" viewBox="0 0 24 24">','<path id="left-bracket" d="M4,12v-1h1c1,0,1,0,1-1V7.614C6,7.1,6.024,6.718,6.073,6.472C6.127,6.22,6.212,6.009,6.33,5.839',"C6.534,5.56,6.803,5.364,7.138,5.255C7.473,5.14,8.01,5,8.973,5H10v1H9.248c-0.457,0-0.77,0.191-0.936,0.408","C8.145,6.623,8,6.853,8,7.476v1.857c0,0.729-0.041,1.18-0.244,1.493c-0.2,0.307-0.562,0.529-1.09,0.667","c0.535,0.155,0.9,0.385,1.096,0.688C7.961,12.484,8,12.938,8,13.665v1.862c0,0.619,0.145,0.848,0.312,1.062","c0.166,0.22,0.479,0.407,0.936,0.407L10,17l0,0v1H8.973c-0.963,0-1.5-0.133-1.835-0.248c-0.335-0.109-0.604-0.307-0.808-0.591",'c-0.118-0.165-0.203-0.374-0.257-0.625C6.024,16.283,6,15.9,6,15.387V13c0-1,0-1-1-1H4z"/>','<use transform="matrix(-1,0,0,1,24,0)" id="right-bracket" x="0" y="0" width="24" height="24" xlink:href="#left-bracket" />',"</symbol>"],g=[e.gbl.lib+"richText.css",e.gbl.lib+"bower_components/trumbowyg/dist/trumbowyg.js",e.gbl.lib+"bower_components/trumbowyg-table-editor/src/tablemanager.js",e.gbl.lib+"bower_components/trumbowyg/dist/plugins/colors/trumbowyg.colors.min.js",e.gbl.lib+"bower_components/trumbowyg/dist/plugins/pasteimage/trumbowyg.pasteimage.min.js",e.gbl.lib+"bower_components/trumbowyg/dist/ui/trumbowyg.min.css",e.gbl.lib+"bower_components/trumbowyg/dist/plugins/colors/ui/trumbowyg.colors.min.css",e.gbl.lib+"bower_components/trumbowyg/dist/langs/fr.min.js",e.gbl.lib+"mathquill-0.10.1/mathquill.css",e.gbl.lib+"highlight-9.7.0/styles/github.css"];if(i.arg("extraPlugins"))for(var p=i.arg("extraPlugins").split(","),h=0;h<p.length;h++)s._config.plugins[p[h]]&&(g.push(e.gbl.lib+"bower_components/"+s._config.plugins[p[h]].js),s._config.plugins[p[h]].svg&&f.push(s._config.plugins[p[h]].svg),s._config.plugins[p[h]].css&&g.push(e.gbl.lib+"bower_components/"+s._config.plugins[p[h]].css));f.push("</svg>"),f=f.join(""),i.pretag("<div id='trumbowyg-icons' style='display:none;'>"+u+f+"</div>"),i.displayVal="",i.tag("textarea").attr("name",i.name()).attr("placeholder",i.arg("placeholder")||e.lang("write something!"));var m=[["viewHTML","manipulation"],["textformat","formatting","justify","lists"],["foreColor","backColor"],["link","math","resources","tablemanager","spelling"],["fullscreen"]];i.arg("fullscreen")&&m.pop();var v=JSON.parse(JSON.stringify(m)),b=(i.arg("removeButtons")||"").split(",");"create"==n.get_setting("command")?b.push("resources"):b.push("math");for(var _={},y=0;y<b.length;y++)_[b[y]]=!0;v=function e(t,a){for(var i=[],n=0;n<a.length;n++)if("string"!=typeof a[n]||t[a[n]]){if("string"!=typeof a[n]){var r=e(t,a[n]);r.length>0&&i.push(r)}}else i.push(a[n]);return i}(_,v),i.arg("extraPlugins")&&v.push(i.arg("extraPlugins").split(",")),i.ready(function(i){n.data=e.get("sanitizer").sanitize(n.data,"richtext"),e.resources.load(g,function(){s._initPlugins();var n={btnsDef:{formatting:{dropdown:["p","blockquote","h1","h2","h3","h4","h5","h6"],ico:"p"},h5:{fn:"formatBlock",title:"Header 5"},h6:{fn:"formatBlock",title:"Header 6"},image:{dropdown:["insertImage","upload","base64","noembed"],ico:"insertImage"},manipulation:{dropdown:["undo","redo","removeformat","indent","outdent"],ico:"undo"},textformat:{dropdown:["bold","italic","underline","strikethrough"],ico:"bold"},justify:{dropdown:["justifyLeft","justifyCenter","justifyRight","justifyFull"],ico:"justifyLeft"},cssalignment:{dropdown:["bold","displayInlineBlock","displayBlock"],ico:"bold"},lists:{dropdown:["unorderedList","orderedList"],ico:"unorderedList"},color:{dropdown:["foreColor","backColor"],ico:"foreColor"},resources:{dropdown:["math","code"],ico:"addResources"},tablemanager:{dropdown:["insertTable","formatCell","formatRow","formatColumn","editTable","addRow","deleteRow","addColumn","deleteColumn","mergeDown","mergeRight"],ico:"table"},link:{dropdown:["insertLink","unlink"],ico:"link"}},btns:v,resetCss:!1,removeformatPasted:!1,semantic:!1,html:i.data,name:i.name(),autogrow:i.arg("autogrow")||!1,height:i.arg("height")||!1,tagsToRemove:["script","style","link"],imgDblClickHandler:function(){var t=i.dom().data("trumbowyg"),a=t.range||t.doc.createRange(),n={height:{type:"string",required:!1,e:{type:"css",attr:"height"}},width:{type:"string",required:!1,e:{type:"css",attr:"width"}},"max-width":{type:"string",required:!1,label:e.lang("Maximum Width"),e:{type:"css",attr:"max-width"}},border:{type:"string",required:!1,e:{type:"css",attr:"border"}},padding:{type:"string",required:!1,e:{type:"css",attr:"padding"}},align:{type:"select",required:!1,e:{type:"attr"},values:["left","right"]},alt:{type:"string",label:e.lang("Alternative Text"),required:!1,e:{type:"attr"}}},o=$(this),s=t.doc.getSelection();s.removeAllRanges(),a.selectNode(this),s.addRange(a),t.saveRange(),function(e){for(var t in function(e,t){for(var a in t)t[a].e&&("attr"==t[a].e.type?t[a].value=e.attr(a):"css"==t[a].e.type&&(t[a].value=e.css(a)))}(e.node,e.fields),e.fields)e.fields[t].label||(e.fields[t].label=t.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}));var a=JSON.parse(JSON.stringify(e.fields)),i=function(e,t){return e[t]!=(a[t].value||"")};e.trumbowyg.openModalInsert(e.title,e.fields,function(t){var a,n,o,s,d=e.replacenode.clone(),l=!1;for(var c in t)i(t,c)&&(a=e.fields[c],n=e.node,o=c,s=t[c],"attr"==a.e.type?n.attr(o,s):"css"==a.e.type&&n.css(a.e.attr,s),l=!0);if(l){e.trumbowyg.syncCode();var u=e.trumbowyg.doc.createRange(),f=e.trumbowyg.doc.getSelection();f.removeAllRanges(),e.replacenode.replaceWith(d),u.selectNode(d[0]),f.addRange(u),r(e.trumbowyg,e.replacenode[0].outerHTML,e.notundoable)}return!0})}({trumbowyg:t,title:t.lang.formatImage,fields:n,node:o,replacenode:o,notundoable:!1})}},d=!1;if(i.xds_full._lang)try{d=(d=i.xds_full._lang.split(",")[0]).indexOf("fr")>=0&&"fr"}catch(e){d=!1}(d||(t.navigator.userLanguage||t.navigator.language).indexOf("fr")>=0)&&(n.lang="fr"),i.temp.trumbowyg=i.dom().trumbowyg(n).on("tbwchange",function(){i.temp.dirty=!0,o(i.temp.trumbowyg.data("trumbowyg").$ed),i.set(i.dom().trumbowyg("html"))}).on("tbwinit",function(){var e,t;i.arg("fullscreen")&&i.dom().data("trumbowyg").fullscreen(),i.dom().trumbowyg("html",(e=i.data||"",(t=a.createElement("div")).innerHTML=e,o($(t)),t.innerHTML)),i.temp.editor={getData:function(){return i.dom().trumbowyg("html")},setData:function(e){i.dom().trumbowyg("html",e)},insertHTML:function(e){i.dom().trumbowyg("restoreRange");var t=i.dom().data("trumbowyg");r(t,e)},saveSelection:function(){i.dom().trumbowyg("saveRange")},getSelection:function(){return i.dom().trumbowyg("getRange")},restoreSelection:function(){i.dom().trumbowyg("restoreRange")},trigger:function(e,t){i.trigger(e,t)}},i.trigger("xds-wysiwyg-editorCreated",{editor:i.temp.editor}),i.trigger("onEditorReady");var n=i.target(".trumbowyg-box").find(".trumbowyg-editor");for(var d in s._plugins.plugins)s._plugins.plugins[d].runtime&&s._plugins.plugins[d].runtime(n)}),i.on("xds-delta",function(t){var i={table:{},code:{targetSelector:"pre code",parentSelector:"pre",replaceLambda:function(e,t){"PRE"==e.parent().prop("tagName")?e.parent().replaceWith(t):e.replaceWith(t)},idTemplate:"xds-richtext-code-{{date}}-{{num}}",template:'<pre class="xds-richtext-code" id="{{deltaID}}"><code lang="javascript" contenteditable="false">{{htmlValue}}</code></pre>',lambda:function(e){e.htmlValue=e.delta.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"})}},math:{targetSelector:".xds-richtext-mathquill",idTemplate:"xds-richtext-math-{{date}}-{{num}}",template:'<span class="xds-richtext-mathquill" id="{{deltaID}}"  contenteditable="false" title="{{delta}}">{{delta}}</span>',updateLambda:function(e,t){e.attr("title",t.delta)}},mathml:{targetSelector:".xds-richtext-mathml",idTemplate:"xds-richtext-mathml-{{date}}-{{num}}",template:'<span class="xds-richtext-mathml" id="{{deltaID}}"  contenteditable="false">{{delta}}</span>',updateLambda:function(e,t){e.html(t.delta)}}}[t.get_arg("deltaSource")],n={date:(new Date).getTime(),num:"1"},r={delta:t.get_arg("delta"),deltaID:e.tpl(i.idTemplate,n)};i.lambda&&i.lambda(r);var o="toremove-"+(new Date).getTime(),s="<br/>"+e.tpl(i.template,r)+"<p id='"+o+"'> </p>";t.temp.editor.restoreSelection();var d=t.temp.editor.getSelection();if(d){var l=$(d.startContainer).closest(i.parentSelector||i.targetSelector);if(l.length>0){var c=$("<div>"+t.temp.editor.getData()+"</div>"),u=c.find("#"+l.attr("id"));r.deltaID=l.attr("id");var f=e.tpl(i.template,r);i.replaceLambda?i.replaceLambda(u,f):u.replaceWith(f),t.temp.editor.setData(c.html())}else t.temp.editor.insertHTML(s)}else t.temp.editor.setData([t.temp.editor.getData(),"<p>",s,"</p>"].join(""));var g=a.getElementsByClassName("trumbowyg-editor")[0],p=g.ownerDocument||a,h=p.getElementById(o);$(g).contents().focus();var m=p.createRange(),v=p.getSelection();d.setStart(h,0),d.setEnd(h,0),d.deleteContents(),d.collapse(!0),v.removeAllRanges(),v.addRange(m),g.focus(),$(h).replaceWith("<br/>")})})})},richText:function(a){var i=[{name:"main css",test:function(){return!0},resources:[e.gbl.lib+"richText.css"]},{name:"highlight",test:function(){return!!(a.data&&a.data.indexOf("<code")>=0)},resources:[e.gbl.lib+"highlight-9.7.0/highlight.pack.js",e.gbl.lib+"highlight-9.7.0/styles/github.css"],processContents:function(e){var a=e.find("pre code");a.length>0&&function e(){if(t.hljs)for(var i=0;i<a.length;i++)t.hljs.highlightBlock(a[i]);else t.setTimeout(e,10)}()}},{name:"mathquill",test:function(){return!(!a.data||!(a.data.indexOf("xds-richtext-mathquill")>=0||a.data.indexOf("math-latex")>=0))},resources:[e.gbl.lib+"mathquill-0.10.1/mathquill.css",e.gbl.lib+"mathquill-0.10.1/mathquill.min.js"],processContents:function(t){!function(){var a=MathQuill.getInterface(2),i=t.find(".xds-richtext-mathquill");if(i.length>0)for(var n,r=0;r<i.length;r++)(n=$(i[r])).attr("title")&&n.html(e.mlescape(n.attr("title"))),a.StaticMath(n[0]).latex(n.attr("title"));if((i=t.find(".math-latex")).length>0)for(var o,s=0;s<i.length;s++)(o=$(i[s])).attr("data-latex")&&o.html(e.mlescape(o.attr("data-latex"))),a.StaticMath(o[0]).latex(o.attr("data-latex"))}()}},{name:"mathml",test:function(){return!(!a.data||!(a.data.indexOf("xds-richtext-mathml")>=0||a.data.indexOf("math-mathml")>=0))},resources:[],processContents:function(e){!function(){var t=e.find(".xds-richtext-mathml, .math-mathml");if(t.length>0)for(var a=0;a<t.length;a++)t[a].hasAttribute("data-mathml")&&(t[a].innerHTML=t[a].getAttribute("data-mathml").replace(/\&quot;/g,'"')),MathJax.typeset()}()}}],n=[];if(a.data)for(var r=0;r<i.length;r++)i[r].test()&&(i[r].doLoad=!0,n=n.concat(i[r].resources));e.resources.load(n,function(){for(var t=["fileThumbnail"],n=a.arg("linkTarget")||"_blank",r=a.id(1).find("a"),o=0;o<r.length;o++)r[o].target=n;for(var s=0;s<i.length;s++)i[s].doLoad&&i[s].processContents&&i[s].processContents(a);for(var d=0;d<t.length;d++)for(var l=t[d],c=a.find(".xds-placeholder-"+l),u=0;u<c.length;u++){var f=!1,g=!1,p=c[u].classList;if(8==e.platform.ie&&(p=c[u].className.split(" ")),p){for(var h=0;h<p.length;h++)0==p[h].indexOf("rid-")&&(f=parseInt(p[h].substr(4))),0==p[h].indexOf("nid-")&&(g=parseInt(p[h].substr(4)));f&&g&&function(){var t=$($(c[u]).find("img")),i=t.width(),n=t.height(),r=t.css("float"),o=e.nodePath([e.gbl.nid,f,g]),s=e.gbl.nid;$(c[u]).hasClass("xds-placeholder-contained")&&(o=e.nodePath([a.nid(),f,g]),s=a.cnid()),e.xdsbuild({xds:"embed_"+l,nid:o,pre_func:function(e){var t=e.slice,a=e.target;t.xds.fields.thumbnail.containerNid=s,i&&(t.xds.fields.thumbnail.width=i),n&&(t.xds.fields.thumbnail.height=n),r&&a.css("float",r)},target:$(c[u])})}()}}})}}};return s}),cf.module("richtext2",function(e,t,a,i){var n={_contentPatches:{invalidImageUrls:function(e){for(var t=$(e).find(".xds-placeholder-fileThumbnail img"),a=0;a<t.length;a++)if(t[a].src.indexOf("http")>=0){var i=t[a].src.split("nodedl");t[a].src="/core/nodedl"+i[1]}}},_config:{resources:{basic:{css:["richtext.css"]},mathquill:{css:["mathquill-0.10.1/mathquill.css"],js:"mathquill-0.10.1/mathquillmodule.js",contentjs:"mathquill-0.10.1/mathquill.min.js"},highlight:{css:"ckeditor/plugins/codesnippet/lib/highlight/styles/default.css",js:"ckeditor/plugins/codesnippet/lib/highlight/highlight.pack.js",script:"<script>var callhljs = function() {if (window.hljs && window.$) {$('pre code').each(function(i, block) {hljs.highlightBlock(block);});} else {window.setTimeout(callhljs, 100)}};window.setTimeout(callhljs, 100);<\/script>"}},CKEDITOR:{configs:{Full:{toolbar:"Full",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,toolbar_Full:[["Link","Unlink","Anchor","Table","HorizontalRule","SpecialChar","mathquill","EdsbyImages","CodeSnippet"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote"],["Bold","Italic","Underline","Strike","-","Subscript","Superscript"],["Source","-","Undo","Redo","RemoveFormat","Format","TextColor","BGColor","Toolbarswitch"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",bodyClass:"xds-richtext2-types-richtext2",indentOffset:20,contentsCss:[],resize_enabled:!1,skin:"lightweight",disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0},Fullscreen_E:{toolbar:"Fullscreen_E",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,toolbar_Fullscreen_E:[["Toolbarswitch","-","Undo","Redo","-","PasteFromWord","PasteText"],["Table","SpecialChar","mathquill","HorizontalRule"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["NumberedList","BulletedList","-","Outdent","Indent"],["TextColor","Bold","Italic","Underline","Strike","-","Subscript","Superscript","-","Format","RemoveFormat"],["Link","Unlink"],["Source"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",bodyClass:"xds-richtext2-types-richtext2",indentOffset:20,contentsCss:[e.gbl.lib+"richtext2.css"],skin:"lightweight",resize_enabled:!1,disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,startupFocus:!1,tabSpaces:4,allowedContent:!0},Expanded:{toolbar:"Expanded",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,toolbar_Expanded:[["Table","SpecialChar","mathquill","EdsbyImages","CodeSnippet"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["NumberedList","BulletedList","-","Outdent","Indent"],["Format","TextColor","BGColor","Bold","Italic","Underline","Strike","-","Link","Unlink","-","Subscript","Superscript"],["Undo","Redo","Toolbarswitch"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",bodyClass:"xds-richtext2-types-richtext2",indentOffset:20,contentsCss:[e.gbl.lib+"richtext2.css"],skin:"lightweight",resize_enabled:!1,disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0},Extended:{toolbar:"Extended",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,toolbar_Extended:[["Table","SpecialChar","mathquill","EdsbyImages","CodeSnippet"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["NumberedList","BulletedList","-","Outdent","Indent"],["Format","TextColor","BGColor","Bold","Italic","Underline","-","Link","Unlink"],["Undo","Redo","Toolbarswitch"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",bodyClass:"xds-richtext2-types-richtext2",indentOffset:20,contentsCss:[e.gbl.lib+"richtext2.css"],skin:"lightweight",resize_enabled:!1,disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0},Minimal:{toolbar:"Minimal",toolbarStartupExpanded:!1,toolbar_Minimal:[["Undo","Redo","Cut","Copy","Paste","Bold","Italic","Underline","EdsbyImages","Toolbarswitch"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",resize_enabled:!1,bodyClass:"xds-richtext2-types-richtext2",skin:"lightweight",disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,contentsCss:[e.gbl.lib+"richtext2.css"],startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0},Lightweight:{toolbar:"Lightweight",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,toolbar_Lightweight:[["TextColor","BGColor","Bold","Italic","Underline","NumberedList","BulletedList","Toolbarswitch","codesnippet","mathquill"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",resize_enabled:!1,bodyClass:"xds-richtext2-types-richtext2",contentsCss:[e.gbl.lib+"richtext2.css"],skin:"lightweight",disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,height:125,startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0},Flyweight:{toolbar:"Flyweight",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,toolbar_Flyweight:[["TextColor","BGColor","Bold","Italic","Underline","Link","mathquill","Toolbarswitch"]],removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",resize_enabled:!1,bodyClass:"xds-richtext2-types-richtext2",contentsCss:[e.gbl.lib+"richtext2.css"],skin:"lightweight",disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,height:125,startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0},NoToolbar:{toolbar:"NoToolbar",toolbarStartupExpanded:!1,toolbarCanCollapse:!0,toolbar_NoToolbar:[[]],removePlugins:"toolbar,elementspath,resize",extraPlugins:"tab,onchange,widgetize",resize_enabled:!1,bodyClass:"xds-richtext2-types-richtext2",contentsCss:[e.gbl.lib+"richtext2.css"],skin:"lightweight",disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,height:125,startupFocus:!1,maximizedToolbar:"Fullscreen_E",allowedContent:!0},Basic:{toolbar:"Basic",toolbarStartupExpanded:!0,removePlugins:"elementspath",extraPlugins:"onchange,leapimages,toolbarswitch,codesnippet,mathquill,dialog,widgetize",bodyClass:"xds-richtext2-types-richtext2",indentOffset:20,skin:"lightweight",disableNativeSpellChecker:!1,browserContextMenuOnCtrl:!0,contentsCss:[e.gbl.lib+"richtext2.css"],startupFocus:!1,maximizedToolbar:"Fullscreen_E",tabSpaces:4,allowedContent:!0}}}},types:{f_styledtext:function(a){a.data||(a.data=""),a.data=a.data.replace(/<!--xdl-rich-->/g,""),e.platform.mobile&&t.CoreMobile&&t.Core4Plugin&&t.Core4Plugin.edit&&t.MobileConfig&&"android"==t.MobileConfig.platform&&(a.xds.config="NoToolbar"),a.inherit("richtext2.types.f_styledtextDesktop")},f_styledtextMobileIOS:function(e){var t=e.data&&e.data;e.inherit("f_textarea").addClass("xds-ios-styledtext"),e.on("click",function(){try{Core4Plugin.checkpoint({checkpoint:"f_styledtext.edit"});var t="<html><body contentEditable='true'>"+e.find("textarea").val()+"</body></html>";Core4Plugin.edit(t,function(t){e.data=t,e.find(".richtext2_preview").html(t),e.find("textarea").val(t),e.id(1).addClass("xds-validator-modified")},function(e){})}catch(e){}}),t='<div class="richtext2_preview">'+(e.data?e.data:"")+'</div><div class="xds-button">Touch to edit</div>',e.preclosetag(t)},f_styledtextDesktop:function(a){var r=n._config.CKEDITOR.configs;for(var o in a.xds.config&&r[a.xds.config]||(a.xds.config="Extended"),r){var s=r[o];if(s.smallToolbar=s.toolbar,s.maximizedToolbar&&!s["toolbar_"+s.maximizedToolbar]){var d=r[s.maximizedToolbar];s["toolbar_"+s.maximizedToolbar]=d["toolbar_"+s.maximizedToolbar]}}if(a.xds.removeButtons&&"string"==typeof a.xds.removeButtons&&(a.xds.removeButtons=a.xds.removeButtons.split(",")),e.browser.ie<9&&(a.xds.removeButtons||(a.xds.removeButtons=[]),a.xds.removeButtons.push("TextColor"),a.xds.removeButtons.push("BGColor")),"create"==a.get_setting("command")){var l=a.xds.removeButtons;"string"==typeof l?(l.length>0&&(l+=","),l+="EdsbyImages"):a.xds.removeButtons==i?a.xds.removeButtons=["EdsbyImages"]:a.xds.removeButtons.push("EdsbyImages")}var c=r[a.xds.config];if(a.xds.removeButtons){var u={};for(var f in a.xds.removeButtons)u[a.xds.removeButtons[f]]=!0;var g={};for(var f in c)g[f]=c[f];c=g;var p=["toolbar_"+a.xds.config];a.xds.config.maximizedToolbar&&a.xds.config.toolbar!=a.xds.config.maximizedToolbar&&p.push("toolbar_"+a.xds.config.maximizedToolbar);for(var h=0;h<p.length;h++){var m=[],v=p[h],b=c[v];for(var f in b){var _=b[f],y=[];for(var x in _)u[_[x]]||y.push(_[x]);y.length>0&&m.push(y)}c[v]=m}}a.xds.startupFocus&&(c.startupFocus=!0),a.arg("height")&&(c.height=a.arg("height")),a.arg("resizeable")&&(c.resize_enabled=!0),c.contentsCss=[];var w=[e.gbl.lib+"ckeditor/ckeditor.js",e.gbl.lib+"ckeditor/plugins/mathquill/plugin.css"];for(var C in n._config.resources){if(n._config.resources.hasOwnProperty(C)&&n._config.resources[C].css)if("string"==typeof n._config.resources[C].css)c.contentsCss.push(e.gbl.lib+n._config.resources[C].css),w.push(e.gbl.lib+n._config.resources[C].css);else for(var k=0;k<n._config.resources[C].css.length;k++)c.contentsCss.push(e.gbl.lib+n._config.resources[C].css[k]),w.push(e.gbl.lib+n._config.resources[C].css[k]);n._config.resources.hasOwnProperty(C)&&n._config.resources[C].js&&w.push(e.gbl.lib+n._config.resources[C].js)}0!=a.data&&""!=a.data||(a.data="<p></p>"),a.arg("fullPage")&&(a.data.toLowerCase().indexOf("<html")>=0||e.htmlentitiesdecode(a.data).toLowerCase().indexOf("<html")>=0)&&(c.fullPage=!0,c.allowedContent=!0,a.global("baseUrl")&&(c.baseHref=e.tpl(a.global("baseUrl"),{cartridge:a.global("cartridge")}))),a.data,a.set_val(""),a.pretag('<div class="xds-f_styledtext_loadingPlaceholder">'+e.lang("Loading Rich Text Editor, please wait...")+"</div>"),a.inherit("f_textarea").ready(function(a){if(!a.find("form",1).hasClass("xdl-form-readonly")){var r=function(){a.dom().length&&(a.dom().removeClass("xds-display-none"),$(".xds-f_styledtext_loadingPlaceholder").remove(),CKEDITOR.on("instanceReady",function(){if(a.trigger("onEditorReady").trigger("xds-wysiwyg-editorCreated",{editor:CKEDITOR.instances[a.name()]}),a.dom().length&&(CKEDITOR.instances[a.name()].on("focus",function(){CKEDITOR.instances[a.name()].execCommand("leapimagepasterinit")}),CKEDITOR.instances[a.name()].on("change",function(){CKEDITOR.instances[a.name()].checkDirty()&&a.trigger("change")}),CKEDITOR.instances[a.name()].on("key",function(e){27==e.data.keyCode&&a.trigger("xds-esc")})),c.fullPage&&a.data&&(a.data.toLowerCase().indexOf("<html")>=0||e.htmlentitiesdecode(a.data).toLowerCase().indexOf("<html")>=0)){var t,i=CKEDITOR.instances[a.name()],r=$(i.window.getFrame().$).contents(),o=r.find("head"),s=(o=0==o.length?$("head").insertBefore(r.find("body")):$(o[0])).find("link"),d={};for(t=0;t<s.length;t++)d[$(s[t]).attr("href")]=!0;var l=o.find("script"),u={};for(t=0;t<l.length;t++)$(l).attr("src")&&(u[$(l).attr("src")]=!0);var f=function(e,t){return!d[t]&&(e.append("<link rel='stylesheet' type='text/css' href='"+t+"'/>"),!0)},g=function(e,t){if(!u[t]){var a="<script type='text/javascript' src='"+t+"'><\/script>";return e.append(a),!0}return!1},p={};for(var h in n._config.resources){if(n._config.resources.hasOwnProperty(h)&&n._config.resources[h].css)if("string"==typeof n._config.resources[h].css)f(o,e.gbl.lib+n._config.resources[h].css)||(p[h]=!0);else for(var m=0;m<n._config.resources[h].css.length;m++)f(o,e.gbl.lib+n._config.resources[h].css[m])||(p[h]=!0);if(n._config.resources.hasOwnProperty(h)&&n._config.resources[h].js&&!p[h]){var v=n._config.resources[h].js;n._config.resources[h].contentjs&&(v=n._config.resources[h].contentjs),g(o,e.gbl.lib+v)&&n._config.resources[h].script&&o.append(n._config.resources[h].script)}}}}),CKEDITOR.replace(a.name(),c),n._config.CKEDITOR.INSTANCES||(n._config.CKEDITOR.INSTANCES={}),n._config.CKEDITOR.INSTANCES[a.name()]=a)};n._config.CKEDITOR.Loaded!=i?r():(n._config.CKEDITOR.Loading==i&&(n._config.CKEDITOR.Loading=[],t.CKEDITOR_BASEPATH=e.gbl.lib+"ckeditor/",e.resources.load(w,function(){var e=function(){if(CKEDITOR){for(var a in n._config.CKEDITOR.Loaded=!0,n._config.CKEDITOR.Loading)n._config.CKEDITOR.Loading[a]();n._config.CKEDITOR.Loading=i}else t.setTimeout(e,100)};e()})),n._config.CKEDITOR.Loading.push(r))}}),"Lightweight"==a.xds.config&&a.xds.title&&a.pretag('<div class="xds-f_styledtext-title">'+a.xds.title+"</div>").addClass("xds-f_styledtext-hasTitle"),a.addClass("xds-f_styledtext-"+a.xds.config).on(e.css.removed,function(){"undefined"!=typeof CKEDITOR&&CKEDITOR&&CKEDITOR.instances&&(CKEDITOR.instances[a.name()].destroy(1),delete CKEDITOR.instances[a.name()])}).addClass(e.css.removed)},richtext2:function(a){var i=[{name:"main css",test:function(){return!0},resources:[e.gbl.lib+"richtext2.css"]},{name:"highlight",test:function(){return!!(a.data&&a.data.indexOf("<code")>=0)},resources:[e.gbl.lib+"ckeditor/plugins/codesnippet/lib/highlight/highlight.pack.js",e.gbl.lib+"ckeditor/plugins/codesnippet/lib/highlight/styles/default.css"],processContents:function(a){var i=a.find("code");i.length>0&&function a(){if(e.get("hljs"))for(var n=0;n<i.length;n++)t.hljs.highlightBlock(i[n]);else t.setTimeout(a,10)}()}},{name:"mathquill",test:function(){return!!(a.data&&a.data.indexOf("xds-richtext2-mathquill")>=0)},resources:[e.gbl.lib+"mathquill-0.9.4/mathquill.css",e.gbl.lib+"mathquill-0.9.4/mathquillmodule.js"],processContents:function(a){!function i(){var n=a.find(".xds-richtext2-mathquill");if(n.length>0)if(e.get("mathquill"))for(var r,o=0;o<n.length;o++)(r=e.get("mathquill")(n[o])).mathquill(),r.attr("title")&&r.mathquill("latex",r.attr("title"));else t.setTimeout(i,10)}()}}],n=[];if(a.data)for(var r=0;r<i.length;r++)i[r].test()&&(i[r].doLoad=!0,n=n.concat(i[r].resources));e.resources.load(n),a.ready(function(t,n){var r=["fileThumbnail"];if(a.arg("linkTarget"))for(var o=a.id(1).find("a"),s=0;s<o.length;s++)o[s].target=a.arg("linkTarget");for(s=0;s<i.length;s++)i[s].doLoad&&i[s].processContents&&i[s].processContents(a);for(s=0;s<r.length;s++)for(var d=r[s],l=a.find(".xds-placeholder-"+d),c=0;c<l.length;c++){var u=!1,f=!1,g=l[c].classList;if(8==e.platform.ie&&(g=l[c].className.split(" ")),g){for(var p=0;p<g.length;p++)0==g[p].indexOf("rid-")&&(u=parseInt(g[p].substr(4))),0==g[p].indexOf("nid-")&&(f=parseInt(g[p].substr(4)));if(u&&f){var h=$($(l[c]).find("img")),m=h.width(),v=h.height(),b=h.css("float"),_=e.nodePath([e.gbl.nid,u,f]),y=e.gbl.nid;$(l[c]).hasClass("xds-placeholder-contained")&&(_=e.nodePath([a.nid(),u,f]),y=a.cnid()),e.xdsbuild({xds:"embed_"+d,nid:_,pre_func:function(e){var t=e.slice,a=e.target;t.xds.fields.thumbnail.containerNid=y,m&&(t.xds.fields.thumbnail.width=m),v&&(t.xds.fields.thumbnail.height=v),b&&a.css("float",b)},target:$(l[c])})}}}})}}};return n}),cf.module("sanitizer",function(e,t,a){var i={},n=new RegExp("^(?:[a-z]+:)?//","i"),r=function(t,a){var i=t.attr("src"),n="&size=".concat(e.get("wysiwyg").getImageSize());if(a&&a.edsbyRuntimeParameters&&a.edsbyRuntimeParameters.files&&i&&(0==i.indexOf("/core/nodedl")||0==i.indexOf(e.gbl.dl))){var r=t.attr("data-embed-name")||t.attr("embed-name"),o=i.split("?")[0].split("/").pop();if(r&&a.edsbyRuntimeParameters.files&&a.edsbyRuntimeParameters.files.files&&a.edsbyRuntimeParameters.files.files[r]&&(o=a.edsbyRuntimeParameters.files.files[r].nid),a.edsbyRuntimeParameters.files.nidMap[o]){var s=a.edsbyRuntimeParameters.files.nidMap[o];t.attr("embed-name",s.name),t.attr("data-embed-name",s.name);var d=i.split("nodedl/")[0],l=i.split("?")[1];l.indexOf("size")<0&&(l+=n);var c=s.nid;s.rid&&(c=e.tpl("{{pnid}}/{{rid}}/{{nid}}",s));var u=e.tpl("{{p}}nodedl/{{cnid}}?{{args}}",{args:l,p:d,cnid:c});t.attr("src",u),t.attr("data-mce-src")&&t.attr("data-mce-src",u)}}return t},o=function(e,t){r($(e),t)},s=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=e.split("."),i=[],n=0;n<t;n++)i.unshift(a.pop());return i.join(".")},d=function(i,r,o){var d,l=e.get("files"),c=a.createElement("a");c.setAttribute("href",e.gbl.p);var u=c.host;if("src"in i&&"IMG"==i.tagName&&i.getAttribute("src")){var f=i.getAttribute("src");if(d=a.createElement("a"),"/"==f.charAt(0)&&t.cfNative&&(f=e.gbl.p+f.substr(1),i.setAttribute("src",f)),d.setAttribute("href",f),"blob:"==d.protocol)i.setAttribute("src",f);else if(n.test(f))d.href.indexOf("/load/embedimage")>=0?(f="/load/embedimage"+d.href.split("/load/embedimage")[1],t.cfNative&&(f=e.gbl.p+f.substr(1)),i.setAttribute("src",f)):d.host!=u&&s(d.host)==s(u)&&"www"!==d.host.split(".").shift()?(f=f.split(d.host)[1],i.setAttribute("src",f)):0!==d.href.indexOf(e.gbl.p)?(f=l.utils.generateExternalImageURI({nid:e.gbl.user.nid,uri:f,name:"sanitizer"}),i.setAttribute("src",f)):i.setAttribute("src",f.replace("&size=orig","&size=1024"));else if(r&&"/"!=f[0])i.setAttribute("src",f);else if("data:"!=d.protocol){var g=a.createElement("a");g.setAttribute("href",e.gbl.p),d.host=g.host,d.protocol=g.protocol,i.setAttribute("src",d.href),i.setAttribute("sanitizer-relative-src",!0),i.setAttribute("sanitizer-original-src",f)}}if("srcset"in i&&"IMG"==i.tagName){var p,h,m,v=i.getAttribute("srcset");if(v){for(v=v.split(","),p=0;p<v.length;p++)m=(h=v[p].trim().split(/\s/))[0],(d=a.createElement("a")).setAttribute("href",m),d.href.indexOf("/load/embedimage")>=0?h[0]="/load/embedimage"+d.href.split("/load/embedimage")[1]:0!==d.href.indexOf(e.gbl.p)&&(h[0]=l.utils.generateExternalImageURI({nid:e.gbl.user.nid,uri:m,name:"sanitizer"})),v[p]=h.join(" ");i.setAttribute("srcset",v.join(","))}}},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linkify";return{selector:"iframe",parser:function(i){var n=$(i),r="";if(0==n.attr("src").indexOf(a.location.origin)?e.diagnosticMessage("Sanitizer iframe security check ("+n.attr("src")+")","Sanitizer Security Alert"):r="allow-scripts allow-same-origin allow-presentation allow-popups","linkify"===t||e.platform.native){var o=a.createElement("a");o.href=n.attr("src"),o.innerHTML="external link: "+e.mlescape(o.hostname),i.replaceWith(o)}else i.sandbox=r,i.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen"}}},c={afterSanitizeAttributesWithImages:function(t,i,n){c.afterSanitizeAttributesNoImages(t,i,n),d(t),function(t){if("VIDEO"===t.tagName){var i=t.getElementsByTagName("source"),n=t.src;if(!n)for(var r in i)if(i[r].src){n=i[r].src;break}if(n){var o={"https://youtu.be/":function(e){var t=e.split("https://youtu.be/")[1].split("?")[0],i=a.createElement("IFRAME");return i.setAttribute("width",420),i.setAttribute("height",315),i.setAttribute("src","https://www.youtube.com/embed/".concat(encodeURI(t))),i},"https://www.youtube.com/":function(t){var a=t.split("/")[1].split("?")[0];return'<iframe width="420" height="315" src="https://www.youtube.com/embed/'.concat(e.mlescape(a),'"></iframe>')}};for(var s in o)if(n.startsWith(s)){var d=o[s](n);t.parentElement.replaceChild(d,t);break}}}}(t)},afterSanitizeAttributesNoImages:function(t,a,i){"target"in t&&(t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer")),"rel"in t&&t.setAttribute("rel","noopener noreferrer"),t.hasAttribute("target")||!t.hasAttribute("xlink:href")&&!t.hasAttribute("href")||t.setAttribute("xlink:show","new"),function(t){"string"==typeof t.className&&t.className&&t.className.indexOf("xds-richtext-mathquill")>=0&&(t.className="math-latex",t.setAttribute("data-latex",t.getAttribute("title")),t.removeAttribute("title"),t.removeAttribute("id"),t.removeAttribute("contenteditable"),t.innerHTML=e.tpl("$${{latex}}$$",{latex:t.getAttribute("title")})),t.hasAttribute("data-latex")&&(t.innerHTML=e.tpl("$${{latex}}$$",{latex:e.mlescape(t.getAttribute("data-latex"))})),t.hasAttribute("data-mathml")&&(t.innerHTML=e.tpl("{{mathml}}",{mathml:t.getAttribute("data-mathml").replace(/\&quot;/g,'"')})),t.hasAttribute("math-latex")&&t.addAttribute("contenteditable","false")}(t)}},u={textonly:{dompurify:{ALLOWED_TAGS:["#text"],ALLOWED_ATTR:[],ALLOW_DATA_ATTR:!1,SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!0}},strict:{dompurify:{ALLOWED_TAGS:["b","i","u"],ALLOWED_ATTR:[],FORBID_ATTR:["style","class","id"],FORBID_TAGS:["style","script"],SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!0}},feed:{dompurify:{ALLOWED_TAGS:["b","i","u"],ADD_ATTR:["data-latex","data-mathml","target"],FORBID_ATTR:["style","id"],FORBID_TAGS:["style","script"],SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!1,USE_PROFILES:{html:!0,mathMl:!0,svg:!0}},hooks:{afterSanitizeAttributes:c.afterSanitizeAttributesWithImages}},websby:{dompurify:{ADD_TAGS:["iframe"],ADD_ATTR:["data-latex","data-mathml"],FORBID_ATTR:["action"],FORBID_TAGS:["textarea","input","form"],SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!1,USE_PROFILES:{html:!0,mathMl:!0,svg:!0}},hooks:{afterSanitizeAttributes:c.afterSanitizeAttributesWithImages}},richtextpaste:{dompurify:{ADD_TAGS:["iframe"],ADD_ATTR:["data-latex","data-mathml","embed-name","data-embed-name"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|blob|data|cid|xmpp|xxx):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,FORBID_ATTR:["action","class","id"],FORBID_TAGS:["textarea","input","form","script","style"],SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!1,USE_PROFILES:{html:!0,mathMl:!0,svg:!0}},postfilters:[{selector:"img",parser:o},l("sandbox")],hooks:{afterSanitizeAttributes:c.afterSanitizeAttributesWithImages}},richtext:{dompurify:{ADD_TAGS:["iframe"],ADD_ATTR:["data-latex","data-mathml","embed-name","data-embed-name"],FORBID_ATTR:["action","onmouseover","","id"],FORBID_TAGS:["textarea","input","form","style","fieldset","script"],SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!1,USE_PROFILES:{html:!0,mathMl:!0,svg:!0}},postfilters:[{selector:"img",parser:o},l("sandbox")],hooks:{afterSanitizeAttributes:c.afterSanitizeAttributesWithImages}},richtextstrict:{dompurify:{ADD_TAGS:["iframe"],ADD_ATTR:["data-latex","data-mathml","embed-name","data-embed-name"],FORBID_ATTR:["action","onmouseover","class","onclick","onload","","id"],FORBID_TAGS:["textarea","input","form","style","fieldset","script"],SAFE_FOR_JQUERY:!0,ALLOW_DATA_ATTR:!1,SAFE_FOR_TEMPLATES:!1,USE_PROFILES:{html:!0,mathMl:!0,svg:!0}},postfilters:[{selector:"img",parser:o},l("sandbox")],hooks:{afterSanitizeAttributes:c.afterSanitizeAttributesWithImages}},richtextSave:{dompurify:{ADD_TAGS:["iframe"],ADD_ATTR:["data-latex","data-mathml","embed-name","data-embed-name"],FORBID_ATTR:["action"],FORBID_TAGS:["textarea","input","form"],SAFE_FOR_JQUERY:!0,SAFE_FOR_TEMPLATES:!1,USE_PROFILES:{html:!0,mathMl:!0,svg:!0}},postfilters:[{selector:"img",parser:function(e,t){var a=$(e);if(a.attr("src").indexOf("embedimage")){var i=a.attr("src").split("scrape=");2==i.length&&a.attr("src",decodeURIComponent(i[1]))}r(a,t)}},l("sandbox")],hooks:{afterSanitizeAttributes:c.afterSanitizeAttributesNoImages}}},f={stripStyles:{FORBID_ATTR:["style"],FORBID_TAGS:["style"]}},g=function(e,t){var a={},i=[],n=function(e){a[e]||(a[e]=!0,i.push(e))};return e.forEach(n),t.forEach(n),i};return{normalizeEmbeddedImage:function(e,t){return r(e,{edsbyRuntimeParameters:t})},sanitize_image_src:d,sanitize:function(e,t,a,n){if("raw"==t)return e;if(void 0===e)return e;var r=t||"object"==_typeof(e)&&e.get_arg&&e.get_arg("sanitizeRule")||"strict",o=!1;if("string"==typeof e)o=e;else if("object"==_typeof(e)&&"string"==typeof e.data)e.addClass(["sani",r].concat((a||"").split(",")).join("-")),o=e.data;else if("object"==_typeof(e)&&!1===e.data)return!1;return!!o&&function(e,t){var a,n,r=[e,t||""].join("-"),o=u[e]||u.strict;if(!i[r]){var s=JSON.parse(JSON.stringify(o)),d=[];if(o.dompurify.ALLOWED_URI_REGEXP&&(s.dompurify.ALLOWED_URI_REGEXP=o.dompurify.ALLOWED_URI_REGEXP),t)for(var l=t.split(","),c=0;c<l.length;c++)d.push(f[l[c]]);if(d.length>0)for(var p=0;p<d.length;p++){var h=d[p];for(var m in h)s.dompurify[m]?"boolean"==typeof h[m]?s.dompurify[m]=h[m]:Array.isArray(h[m])?s.dompurify[m]=g(s.dompurify[m],h[m]):"object"==_typeof(h[m])?s.dompurify[m]=(a=s.dompurify[m],n=h[m],$.extend(!0,{},a,n)):assert(!1,"attempting to override unknown type"):s.dompurify[m]=h[m]}if(s.hooks){for(var v in o.hooks)s.hooks[v]=o.hooks[v];s.prepare=function(){for(var e in this.hooks)DOMPurify.addHook(e,this.hooks[e])},s.unprepare=function(){for(var e in this.hooks)DOMPurify.removeHook(e)}}if(s.postfilters){s.dompurify.RETURN_DOM=!0;for(var b=0;b<s.postfilters.length;b++)s.postfilters[b].parser=o.postfilters[b].parser;s.postfilter=function(e){for(var t=function(e){return function(t,a){e(a,s)}},a=0;a<this.postfilters.length;a++){var i=t(this.postfilters[a].parser);$.each($(e).find(this.postfilters[a].selector),i)}return e.innerHTML}}s.sanitize=function(e,t){this.prepare&&this.prepare(),t&&(this.edsbyRuntimeParameters=t);var a=DOMPurify.sanitize(e,this.dompurify);return this.unprepare&&this.unprepare(),this.postfilter&&(a=this.postfilter(a)),this.edsbyRuntimeParameters&&(this.edsbyRuntimeParameters=void 0),a},i[r]=s}return i[r]}(r,a).sanitize(o,n)}}}),cf.module("seenby",function(e,t,a){return{counter:function(e){e.xds.sparse=!0}}}),cf.module("selectionmanager",function(e,t,a){var i="xds-selectable-selected",n=function(e){var t={nid:e.nid(),cnid:e.cnid(),rid:e.rid(),ref:e.ref(),nt:e.nt(),seltime:(new Date).getTime()};if(e.arg("selextfields")){var a=e.arg("selextfields");"string"==typeof a&&(a=a.split(","));for(var i=0;i<a.length;i++)t[a[i]]=e.get_val(a[i])}return t};return{construct:function(e){var t={};return{select:function(e,a){t[e]=a},exclusive:function(e,a){(t={})[e]=a},clear:function(e){delete t[e]},listen:function(e){}}},fn:{selectAll:function(t){for(var a=t.get_arg("selectionGroup")||"selections",i=t.get_arg("selectionsStateKey")||"selections",r=t.target(".xds-selectionmanager-selectable[data-selectionGroup=".concat(a,"]")),o={},s=0;s<r.length;s++){var d=e.get_obj(r[s]);o[d.nid()]=n(d)}t.state.set(i,o)},selectNone:function(e){e.get_arg("selectionGroup");var t=e.get_arg("selectionsStateKey")||"selections";e.state.set(t,{})}},types:{glyph:function(t){if(t.data){t.data=!1,t.sparse=!0;var a=e.get("files")._utils.getFileGlyph(t),i=e.get("files")._utils.getFileClass(t);a&&t.arg("icon",a),i&&t.arg("fa_class",i),t.inherit("fa.glyph")}else t.exitBlank()},checkbox:function(t){var a=t.arg("selectionStateKey")||"selected";t.proxyCSS="xds-selectionmanager-checkbox",t.state.get(a),t.on("click",function(e){e.state.get(a)?e.state.set(a,0):e.state.set(a,1),e.stopPropagation()}),t.data={box:{}};var i=t.arg("size")||"24px",n=t.arg("fontSize")||"16px",r=t.arg("lineHeight")||"20px";(e.layout.isPhone()||e.layout.isTablet())&&(i=t.arg("mobileSize")||t.arg("size")||"24px",n=t.arg("mobileFontSize")||t.arg("fontSize")||"16px",r=t.arg("mobileLineHeight")||t.arg("lineHeight")||"20px"),t.addStyles({width:i,height:i,"font-size":n,"line-height":r}),t.inherit("fa.glyph",{type:"fa.glyph",icon:"check",fa_class:"fas"})},itemroot:function(e){},selectable:function(t){var a=t.arg("selectionStateKey")||"selected",r=t.arg("selectionsStateKey")||"selections",o=t.arg("selectionGroup")||"selections";t.attr("data-selectionGroup",o);var s=t.state.get(a),d=t.state.top().get(r);d&&d[t.nid()]&&(s=1,t.state.set(a,1)),s&&t.addClass(i),t.on("click",function(t){s=s?0:1;var i=t.state.top().get(r);i||(i={});var o=n(t);if(t.e.shiftKey){var d=!1;for(var l in i)i.hasOwnProperty(l)&&(!d||d.seltime<i[l].seltime)&&(d=i[l]);if(d){for(var c=t.target(".xds-selectionmanager-itemroot"),u=-1,f=-1,g=0;g<c.length;g++)e.get_obj(c[g]).nid()==d.nid&&(f=g),e.get_obj(c[g]).nid()==t.nid()&&(u=g);if(u>=0&&f>=0)for(var p=Math.min(u,f),h=Math.max(u,f),m=p;m<=h;m++){var v=e.get_obj(c[m]);i[v.nid()]=n(v)}}}else t.e.ctrlKey?i[t.nid()]=o:s?(i={})[t.nid()]=o:delete i[t.nid()];t.state.set(a,s),t.state.top().set(r,$.extend({},i))}),t.state.watch(a,function(e){s=e,1==e?t.dom().addClass(i):t.dom().removeClass(i);var a=t.state.top().get(r);a||(a={}),s?a[t.nid()]=n(t):delete a[t.nid()],t.state.top().set(r,$.extend({},a))}),t.state.top().watch(r,function(e){var n=t.state.get(a)||0;0==n&&e[t.nid()]?(t.state.set(a,1),t.dom().addClass(i)):1!=n||e[t.nid()]||(t.state.set(a,0),t.dom().removeClass(i))}),t.arg("inherit")&&t.inherit(t.arg("inherit"))}}}}),cf.module("st",function(e,t,a){var i=function(e){var t={command:e.params.command||"create"};e.params.xds&&(t.xds=e.params.xds),e.params.nt&&(t.nt=e.params.nt,t.nodetype=e.params.nt);var a=[];return null==e.params.mode||"lightbox"==e.params.mode?a.push({trigger:"click",func:"lightbox.open",args:t}):void 0!==e.params.mode&&"page"==e.params.mode?a.push({trigger:"click",func:"loadPage",args:t}):void 0!==e.params.mode&&"func"==e.params.mode&&a.push({trigger:"click",func:e.params.jsfunc,args:e.params.args}),a};return{_processAvailableIf:function(e){},lightbox:function(t){t.args={nid:t.nid(),xds:t.arg("xds")||t.get_arg("xds")},e.get("lightbox").open(t).then(function(){t.trigger("xds-smarttoolbar-action-complete")})},types:{toolbar:function(e){e.sparse=1,e._st={funcs:{addGroup:function(e){},removeGroup:function(e){}}};var t=e.global("toolbars")||{};t[e.name()]=e.ref(),e.global("toolbars",t)},contextGroup:function(e){},group:function(t){if(t.addStyles({display:"flex",padding:"0 5px"}),t.arg("wrappable")&&t.addSubClass("wrappable"),t.arg("state")&&t.state.get(t.arg("state")),t.arg("commandLookup")){var a=e.lookup(t.arg("commandLookup"));for(var n in a)if(a.hasOwnProperty(n)&&"_reverse"!=n){var r=a[n];if(t.has_write(r.params.xds)){var o=i(r);t.addChild({xds:{id:n,sparse:1,type:"st.command",icon:r.params.icon||"file-alt",title:r.params.title,events:o,minSelections:0}})}}}},colour:function(e){var t=e.arg("colourValue");e.arg("nocont",!0),e.inherit("st.command"),e.addChild({xds:{id:"swatch",type:"st.colourSwatch",sparse:!0,_styles:[{styles:{"background-color":t,"border-radius":"12px",width:"24px",height:"24px"}}]}})},submenu:function(t){t.arg("showTitle",!1),t.addClass("xds-st-submenu-type-"+(t.arg("menutype")||"inline"));var a={xds:{id:"activator",css:"xds-smartoolbar-submenu-primarycommand",type:"st.command",icon:t.arg("icon"),title:t.arg("title"),minSelections:0,events:[{trigger:"click",func:"trigger",stopPropagation:!0,args:{eventName:"menu-toggle"}}]}};t.addClass("xds-st-command");var n=[];if(t.arg("commandLookup")){var r=e.lookup(t.arg("commandLookup"));for(var o in r)if(r.hasOwnProperty(o)&&"_reverse"!=o){var s=r[o];if(s.params.nopermcheck||t.has_write(s.params.xds)){var d=i(s),l={id:o,sparse:1,icon:s.params.icon||"file-alt",title:s.params.title,events:d,minSelections:0};s.params.showif&&(l.showif=s.params.showif),n.push(l)}}}0==n.length&&t.exitBlank(),t.addChild(a,0),t.addChild({xds:{id:"list",fields:n}}),t.inherit("dd.menu",{noArrow:!0})},command:function(t){var a=t.state.get("selections");t.removeChild("cont"),t.showTitle=!1;var i=!0,n=function(t,a,n,r){var o,s=[],d=[];for(o in r)r.hasOwnProperty(o)&&(s.push(r[o].cnid),d.push(r[o].rid));if(t.temp.selections=r,t.temp.selectionNids=s,t.temp.selectionRids=d,t.arg("requiresPerms")){var l=t.arg("requiresPerms").split(","),c=t.arg("xds")||void 0;for(o=0;o<l.length;o++){var u=!1,f=l[o];"delete"==f?u=t.has_delete(c):"write"==f?u=t.has_write(c):"read"==f&&(u=t.has_read(c)),i=i&&u}}i&&(t.arg("requiresPerms")||!t.arg("xds")||t.has_write(t.arg("xds")))?0!==t.arg("minSelections")&&(void 0===t.arg("minSelections")?1:t.arg("minSelections"))>s.length?a(t):(t.arg("maxSelections")||-1)>0&&s.length>(t.arg("maxSelections")||-1)?a(t):t.arg("availableIf")&&!e.get_func(t.arg("availableIf"))(t)?a(t):n(t):a(t);var g=!1;if(t.get_setting("active")?t.get_setting("active")==t.xds.id&&(g=!0):t.arg("default")&&(g=!0),g&&t.ready(function(e){e.runOnce(function(e){e.trigger("click")})}),t.arg("activatedIf")){var p=t.arg("activatedIf").split(":");if("state"===p[0]){var h=p[2];t.state.watch(p[1],function(e){p[1],"false"===h&&(h=!1),"string"==typeof h&&(h=t.tpl(h)),void 0===_typeof(h)||h!==e&&("boolean"!=typeof h||h||void 0!==e)?void 0===_typeof(h)&&e?t.addSubClass("active"):t.removeSubClass("active"):t.addSubClass("active")},"always")}}};n(t,function(){t.addStyle("display","none")},e.noop,a),t.state.watch("selections",function(e){n(t,function(e){e.dom().css("display","none")},function(e){e.dom().css("display","inline-block")},e)}),t.data={cont:{}},t.arg("nocont")||t.addChild({xds:{id:"cont",css:"xds-st-command-cont",sparse:1,fields:[{id:"glyph",type:"fa.glyph",sparse:1,icon:t.arg("icon")||"plus",fa_class:t.arg("fa_class")||"fal",_styles:[{styles:{"font-size":"24px"}}]},{id:"text",css:"xds-st-command-cont-text",_styles:[{styles:{"margin-top":"5px"}}]}],_styles:[{styles:{width:"84px",display:"flex","flex-direction":"column","text-align":"center"}}],_responsive:[{p:{_styles:[{styles:{display:"flex","flex-direction":"column","text-align":"center"}}],sparse:1},c:{cols:3}}]},data:{text:null==t.arg("showTitle")||t.arg("showTitle")?t.arg("title")||"command":"&nbsp;"}}),t.arg("action")&&t.on("click",function(t){t.arg("selectable")&&(t.parent_xdo().find(".".concat("xds-st-command-active")).removeClass("xds-st-command-active"),t.dom().addClass("xds-st-command-active"));var a=t.temp.selectionNids,i=t.temp.selectionRids,n={selected:a.length},r={xds:t.arg("xds")};if(t.arg("confirm"))e.confirm({message:e.tpl(t.arg("confirm"),n)}).then(function(){var n=e.get_func(t.arg("action"));if(t.arg("nids",a),t.arg("rids",i),"function"==typeof n&&n._returnsPromise)n(t).then(function(){t.trigger("xds-smarttoolbar-action-complete")});else if("function"==typeof n){var r=n(t);r&&r.then?r.then(function(){t.trigger("xds-smarttoolbar-action-complete")}):t.trigger("xds-smarttoolbar-action-complete")}}).catch(function(e){});else if("lightbox"==t.arg("action"))1==a.length?(r.nid=a[0],r.rid=i[0]):r.nid=a,t.args=r,e.get_func("lightbox.open")(t).then(function(){t.trigger("xds-smarttoolbar-action-complete")});else if("loadxds"==t.arg("action"))r.target=t.arg("target"),t.arg("stateChannel")&&(r.channel=e.get("guid").rfc4122(),t.state.global().watch(r.channel,function(e){t.state.top().set(t.arg("stateChannel"),e)})),1==a.length?(r.nid=a[0],r.rid=i[0]):0==a.length?r.nid=t.nid():r.nid=a,t.args=r,e.get_func("loadxds")(t);else if(t.arg("action")){var o=e.get_func(t.arg("action"));if(t.arg("nids",a),t.arg("rids",i),"function"==typeof o&&o._returnsPromise)o(t).then(function(){t.trigger("xds-smarttoolbar-action-complete")});else if("function"==typeof o){var s=o(t);s&&s.then?s.then(function(){t.trigger("xds-smarttoolbar-action-complete")}):t.trigger("xds-smarttoolbar-action-complete")}}})}}}}),cf.module("system",function(e,t,a){var i,n,r,o,s=e.css,d=e.$css,l=e.html,c=e.gbl,u={events:{setTimeout:function(t){t.setTimeout(e.get_func(t.get_arg("func")),t.get_arg("timeout")||1e3)},login:function(t){e.notif.userChanged(void 0,!0).then(function(){e.get("broadcast").send({userChanged:!0,isLogin:!0,base:e.gbl.user.base})})},languageChanged:function(t){var a=$(".xdl-root"),i=!0,n=!1,r=void 0;try{for(var o,s=a[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var d=o.value;e.get_obj(d).newEvent("reloadThis")}}catch(e){n=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}},broadcastUser:function(t){var a=e.gbl.user.nid;t&&t.arg&&t.arg("unid")?a=t.arg("unid"):t&&t.unid&&(a=t.unid),e.get("broadcast").send({userChanged:!0,unid:a,base:e.gbl.user.base})},clearServer:function(a){e.storage("xds-history",-1),t.EdsbyReactBridge&&t.EdsbyReactBridge.appControls?t.EdsbyReactBridge.appControls.changeServer():e.get("native").clearServer()},logout:function(a){var i=e.tpl("{{gbl_p}}core/logout");e.notif.nodetag.stop(),e.get("queues").flushAll("net::"),e.notif.disableUserChanged(),e.get("broadcast").disable(),t.cfNative?(i+="?noredirect=1",e.ajax({xdo:a,url:i,callback:function(a){var i=function(){e.get("broadcast").send({userChanged:!0,isLogin:!1,isLogout:!0}),t.cfNative?(e.notif.enableUserChanged(),e.notif.userChanged().then(function(){e.get("broadcast").send({userChanged:!0,isLogin:!1})})):t.location=e.gbl.p};a&&"object"===_typeof(a)&&a.linked_logout&&a.post_logout_url?(e.links.openUrl(a.post_logout_url),t.setTimeout(i,2e3)):i()}})):t.location=i},loadBase:function(e){e.newEvent("loadPage",{xds:c.user.base,nid:c.uid})},update:function(e){var t=e.get_arg("target"),a=t?e.get_xdo(t):e,i=e.get_arg("value");a&&a.update(i)},updateFromDomThenUpdate:function(e){var t=e.get_arg("target"),a=t?e.get_xdo(t):e;e.get_arg("value"),a.updatefromdom(),a.update()},noop:function(){},eval:function(t,a,i){t.deprecate("eval","eval events are deprecated, and will be removed: (".concat(t.id(),", ").concat(t.e.type,")"));var n=t.args,r=n._func;n.__originalfunc&&(r=n.__originalfunc);var o=e.common.processPotentialEvalField("_func",r);return o&&o.func&&(r=o.func),r?r(t,a,i):(e.log.debug("system.eval: unable to find eval event ".concat(""," for ").concat(t.cssPath," in ").concat(t.xds_full.id)),!1)},removeNode:function(t){e.removeNode(t.nid())},focus:function(e,t){e&&e.e&&e.e.stopPropagation&&e.e.stopPropagation();var a=e.target();a.show(),a.hasClass(s.focus)&&a.removeClass(s.focus).css("display","")||a.addClass(s.focus),a.find('input:not([type="hidden"])').length?a.find('input:not([type="hidden"])').focus():a.xdo&&a.xdo.dd&&a.xdo.dd.elements.display?a.xdo.dd.elements.display.resolve().focus():a.focus()},trigger:function(){function e(e,t,a){"xds-event-triggering"!==e.args.eventName&&t.trigger("xds-event-triggering",e.args.eventName),t.trigger(e.args.eventName,a)}return function(t,a,i){var n=t.get_args(),r=parseInt(n.delay,10);n.trigger_altprops=i,n.triggerTarget=n.target,delete n.target,delete n.delay;var o=t.target();n.triggerTarget&&(o=t.target(n.triggerTarget)),isNaN(r)?e(t,o,n):(delete n.delay,setTimeout(function(){e(t,o,n)},r))}}(),jquery:function(e){e.target()[e.args.method](e.args.args)},scrollTo:function(e){e.target().offset()&&$("html, body").animate({scrollTop:e.target().offset().top-55},e.get_arg("duration"))},empty:function(e){e.target().empty()},show:function(e){var t=e.target();e.args.fadeIn&&t.fadeIn(parseInt(e.args.fadeIn,10)||300)||t.show()},hide:function(e){var t=e.target();e.args.fadeOut&&t.fadeOut(parseInt(e.args.fadeOut,10)||300)||t.hide()},remove:function(e){e.target().safeRemove()},toggle:function(e,t){e.target().toggle(e.args.speed)},toggleClass:function(e,t){var a=e.target();a.hasClass(e.args.className)&&a.removeClass(e.args.className)||a.addClass(e.args.className)},toggleSubClass:function(e,t){var a=e.genSubClass(e.arg("className")),i=e.target();i.hasClass(a)&&i.removeClass(a)||i.addClass(a),e.arg("clearSiblings")&&e.target().siblings().removeClass(a)},addClass:function(e,t){e.target().addClass(e.args.className)},removeClass:function(e,t){e.target().removeClass(e.args.className)},alert:function(t,a){e.dialog({message:t.get_arg("message"),css:"xds-dialog-alert",buttons:[{name:"ok",text:e.lang("Ok")}]})},redraw:function(t,a,i){var n=t.get_setting(),r=$.extend({},n);if(i=i||{},delete r.transition,r.redraw=!0,!t.get_arg("noProps")&&$.extend(r,i),$.extend(r,t.get_args()),r.redrawPath&&"*"===r.redrawPath.substr(0,1)){var o=t.get_xdo(r.redrawPath);o&&(r.redrawPath=o.redrawPath(),r._redrawPath=o.path_include)}if(t.get_arg("reset")&&(r.redrawPath=r.redrawPath?r.redrawPath.split("-").slice(0,1).join("-"):t.build.xdsid,delete r.filter,delete r.filterGlobal,delete r.func,delete r._redrawPath,delete r.reset,delete r.sortBy,delete r.sortCol,delete r.sortDirection,delete r.sortReverse,delete r.sortType,delete r.sort,e.links.setHash("")),i&&r.redrawPath&&t.path_include){var s=r.redrawPath.split("-"),d=t.cssPath.split("-"),l=t.path_include.split("-");d[0]!==s[0]&&(r._redrawPath=r.redrawPath,r.redrawPath=d.slice(0,d.length-l.length+1).concat(s.slice(1)).join("-"))}e.xdsbuild(r,{slice:e.memory.slices[t.build.hash],hash:t.build.hash})},redrawThis:function(e){e.event("redraw",{redrawPath:e.path_include||e.cssPath})},reload:function(t,a){var i=$.extend({},t.get_setting());if($.extend(i,t.args),i.target&&(i.target=t.get_target(i.target,!0)),"create"===t.get_setting("command")&&"ajax_post"==t.e.type&&t.get_arg("nid")&&(i.command="open",i.nid=t.get_arg("nid"),delete i.url),i.redrawPath&&"*"===i.redrawPath.substr(0,1)){var n=t.get_xdo(i.redrawPath);n&&(i.redrawPath=n.redrawPath(),i._redrawPath=n.path_include)}i.noCache=!0,delete i.spage,i.__virtual&&(i.xds=i.__virtual,delete i.__virtual),e.xdsbuild(i)},reloadParent:function(t,a){var i,n=t.caller();!n&&t&&t.build&&t.build.s&&t.build.s.caller&&(n=e.get_obj(t.build.s.caller.split("-")[0])),n&&((i=n.get_setting()).redrawPath=i.xds,delete i._redrawPath,i.redraw=!1,i.noCache=!0,delete i.spage,$.extend(i,t.get_args(!0)),e.xdsbuild(i),n.dom().parents(d.cont).first().parent().hasClass(s.lightbox)&&!t.args.noLightboxClose&&e.get("lightbox.close")(!0))},reloadThis:function(e,t){e.args.redrawPath=e.cssPath,e.args._redrawPath=e.path_include,e.args.noProps=!0,e.event("reload")},reloadPage:function(t,a){e.links.reloadPage(!0)},fetchAndUpdate:function(e){e.fetch(function(t){e.update(t)})},loadPage:function(a,i,n){if("back"!==a.get_arg("mode"))if("nativeBack"!==a.get_arg("mode")){var r,o=a.get_arg("href");r=a.get_arg("includePath")?a.cnid():n&&n.nid||a.args.nid||a.arg("nid")||a.get_val("nid")||a.nid();var s=a.args.xds||a.xds_full.id;e.layout.isPhone()&&a.get_arg("xdsPhone")&&(s=a.get_arg("xdsPhone"));var d=o||e.tpl(e.gbl.loadPage,{nid:r,xds:s});a.args.permaLink&&(d=d+"/"+a.nid());var l=e.reservedKeys,c=a.get_args();if(c){var u,f=!1;for(var g in c)"xds"===g||"xdsPhone"===g||"nid"===g||"loadPage"===g||void 0!==l[g]&&("command"!=g||"node"===c[g])||e.is_obj(c[g])||e.is_arr(c[g])||(u=g+"="+c[g],f?d+="&"+u:(d+="?"+u,f=!0))}a.get_arg("targetNID")&&(d=d+"#/"+a.get_arg("targetNID")),a.get_arg("appendParams")&&(d.indexOf("#")<0&&(d+="#"),d+=a.get_arg("appendParams")),a.get_arg("target")?e.links.openUrl(d,a.get_arg("target")):e.links.handleLoad(d,a.get_args())}else t.history.back();else e.history.up()},loadxds:function(t,a,i){e.is_obj(t.args)&&e.is_str(t.args.nid)&&"func:"===t.args.nid.substr(0,5)&&(t.args.nid=e.get_func(t.args.nid.substr(5))(t));var n=void 0!==t.args?$.extend({},t.args):t;a=a||!1,void 0===(n=e.tpl(n,i)).nid&&t.get_val?n.nid=!n.nidSource&&t.get_val("_loadxds")||t.get_val("nid",n.nidSource):t&&t.tpl&&n.nid&&(n.nid=t.tpl(n.nid)),n.noProps||$.extend(n,i),n.target=void 0!==t.get_target?t.get_target(n.target):$(n.target);var r=e.is_obj(n.target)?n.target:$(n.target);if(r.parents("form").length&&e.is_str(n.xds)&&!t.get_arg("noForm")&&!t.arg("noForm")){var o=r.parents("form"),s=o.attr("action").split("xds=");e.get_obj(o),s[1]=s[1].split("&"),s[1][0]+=","+n.xds,s[1]=s[1].join("&"),s=s.join("xds="),o.attr("action",s)}if(void 0===n.xds&&(n.xds=$(n.target).xds&&$(n.target).xds.arg("include")),void 0===n.xds&&(n.xds=e.get_setting($(n.target).find(".xds-cont").attr("id"),"xds")),n.permaLink&&!e.layout.isPhone()&&e.links.setHash(void 0===n.permaLinkKey?n.nid:n.permaLinkKey),n.target&&n.target instanceof jQuery&&n.target.parent().hasClass(e.css.lightbox)&&(t.args=n,e.get("lightbox").prepOpen(t)),t.get_arg("loadPage")&&e.layout.isPhone())return delete n.target,delete n.permaLink,void t.newEvent("loadPage",n);t.xdsbuild(n)},preload:(r={},o={},function(t){var a=t.get_arg("xds"),i=t.nid(),n=i+"/"+a;o[n]||(o[n]=1,r[a]||(r[a]={nids:[]}),r[a].nids.push(i),clearTimeout(r[a].timer),r[a].timer=t.setTimeout(function(){var i=r[a].nids;e.ajax({xdo:t,url:{command:"multinode",nids:i,xds:a,noUnreadClear:!0},callback:function(t,i){if(t&&t.slices){for(var n=t.slices,r=n.length;r--;){var o=n[r];o.xds=n[0].xds;var s=o.nid,d={unid:e.user.nid,slices:[o]},l={s:{url:e.gen_url({command:"node",xds:a,nid:s})}};e.build.saveFromServer.call(l,d,i)}e.xdsbuild({slice:n[0]},{datainsert:e.noop})}}}),delete r[a]},100))}),hideConfirmDelete:function(t,a,i){t.target().addClass("hidden"),e.get_func("system.hide")(t,a,i)}},types:{inheritifsetting:function(e){var t=!1;e.get_setting(e.arg("setting"))&&(t=!0),e.arg("negate")&&(t=!t),t&&e.inherit(e.arg("parenttype"))},intValueBasedTitle:function(t){var a=t.arg("numberSource"),i=t.val();if(a){var n=!1;switch((a=a.split(":"))[0]){case"data":n=t.get_val(a[1]);break;case"state":n=t.state.get(a[1])}n&&(i=Array.isArray(n)?n.length:"object"===_typeof(n)?Object.keys(n).length:n)}var r,o=parseInt(i);r=o?isNaN(o)?t.arg("titleNaN")||i:1===o?t.arg("titleSingle"):t.arg("titleMulti"):t.arg("titleNone")||t.arg("titleMulti"),t.set(e.tpl(r,{num:o}))},datalookup:function(t){var a=e.lookup(t.arg("lookup"),t.data).str();t.displayVal=a},link:function(a){if(a.xds.target,e.platform.native&&void 0!==a.xds.target&&(a.xds.target="_system"),void 0!==a.xds.target&&a.addAttr("target",a.xds.target),a.addAttr("rel","noopener noreferrer"),a.tag("a",!1),void 0!==a.xds.href||null!=a.arg("linkData")&&a.data){var i="";a.arg("linkData")?(i=e.tpl(a.tpl(a.data)),a.arg("showData")||(a.data="")):i="this"!==a.xds.href&&-1===a.xds.href.indexOf(":")||null!==a.xds.href.match(/^[A-Za-z][0-9A-Za-z\+\-\.]*:\/\//)?e.tpl(a.tpl(a.xds.href),a.xds):a.get_val(a.xds.href),"www."===i.substr(0,4).toLowerCase()&&(i="http://"+i),a.addAttr({href:i,title:a.xds.linktitle||a.get_val()||a.arg("title")})}else a.arg("titleNoHref")&&(a.xds.linktitle||a.get_val()||a.arg("title"))&&a.addAttr({title:a.xds.linktitle||a.get_val()||a.arg("title")});t.EdsbyReactBridge&&!a.arg("noMobileDefaultHandler")&&a.on("click",function(t){var a=t.dom().attr("href");a&&!a.startsWith(e.gbl.loadP)&&(e.links.openUrl(t.dom().attr("href"),t.dom().attr("target")),t.stopPropagation(),t.preventDefault())})},loadPage:function(a){var i=!0;if(a.arg("linkif")){var n=e.get_func(a.arg("linkif"));n&&(i=n(a))}a.attr("role","link"),a.addSubClass("variant-".concat(a.arg("variant")||a.state.get("loadPageVariant")||a.global("loadPageVariant")||"default")),a.tag("a");var r=a.arg("mode");if("back"!==r)if("lightbox.close"!==r)if("nativeBack"!==r){if(i){var o=a.tpl(a.arg("nid")||a.get_val("nid")||c.nid),s={nid:a.arg("fullPath")?a.cnid():a.tpl(a.arg("nid")||a.get_val("nid")||c.nid),xds:a.arg("xds")},d=a.arg("testlist");if(d||(d=[]),d.push(a.arg("xds")),d.includes(e.links.getxds())){var l=!0;if(o!=(e.links.getnid()||e.gbl.nid)&&(l=!1),l&&a.arg("add_args")&&!a.arg("activeCheckIgnoreArgs"))for(var u=a.arg("add_args").split(","),f=0;f<u.length&&l;f++)a.watch_setting(u[f]),a.get_setting(u[f])!==a.arg(u[f])&&(l=!1);l&&a.addSubClass("is-active-page")}var g=function(e,t){h.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))),s[e]=t},p=a.arg("add_args"),h=[];if(p){p=p.split(",");var m=!0,v=!1,b=void 0;try{for(var _,y=p[Symbol.iterator]();!(m=(_=y.next()).done);m=!0){var x=_.value;a.arg(x)&&g(x,a.arg(x))}}catch(e){v=!0,b=e}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}}if(a.arg("copySettings")){var w=a.get_settings();for(var C in w)e.reservedKeys[C]||["slice","data","noCont"].includes(C)||g(C,w[C])}var k=e.tpl(e.tpl(c.loadPage,s));h.length>0&&(k="".concat(k,"?").concat(h.join("&"))),a.arg("targetNid")&&(k+="#/"+a.arg("targetNid")),a.addAttr({href:a.arg("href")||k,title:a.arg("title"),"xds-direction":a.arg("direction")}),a.arg("target")&&a.addAttr({target:a.arg("target")}),!a.arg("target")&&e.platform.mobile&&a.on("click",function(e){a.dom().addClass("xds-loadPage-active"),a.event("loadPage",s),a.stopPropagation(),a.preventDefault()})}e.platform.mobile&&a.on("click",function(e){a.dom().addClass("xds-loadPage-active")});var S=a.root_xdo();a.get_redirect_parent()&&(S=a.get_redirect_parent().root_xdo()),a.arg("tabset")&&a.arg("xds")===S.xds_full.id?a.on("click",function(t){var i=e.get("tabbedform");i&&(i.open_tab(t,a.arg("tabset"),a.arg("".concat(a.arg("tabset"),"_active"))),t.stopPropagation(),t.preventDefault())}):a.arg("stopPropagation")&&a.on("click",function(e){e.stopPropagation()})}else a.on("click",function(i){e.get("lightbox").isInLightbox(a)?a.newEvent("lightbox.close",{isCancel:!0}):t.history.back()});else a.on("click",function(e){a.newEvent("lightbox.close",{isCancel:!0})});else a.on("click",function(t){e.get("lightbox").isInLightbox(t)?t.newEvent("lightbox.close",{isCancel:!0}):e.history.up()})},loadBase:function(e){e.args||(e.args={}),e.xds.direction="backwards",e.arg("xds",c.user.base).arg("nid",c.uid).inherit("loadPage")},logout:function(e){e.tag("a"),e.on("click","logout")},spinner:function(t){t.sparse=!0,t.preclosetag(e.html.loading(t.arg("icon")))},mobileoauthredirect:function(t){var i=e.storage("oauth-postlogout-redirect",void 0,"sessionStorage");if(i){t.inherit("spinner"),sessionStorage.clear();var n=a.createElement("a");if(n.href=i,"edsby:"===n.protocol&&0===i.substr(n.protocol.length+2).indexOf(e.gbl.host+"/")&&i.indexOf("?xds=CompleteIntegrationLogin&")>0){var r=$(a.createElement("meta"));r.attr("http-equiv","refresh"),r.attr("content",e.tpl("1;URL={{url}}",{url:i})),$("head").append(r)}}else t.exitBlank()},eval:function(t){try{var a=t.arg("_func"),i=e.common.processPotentialEvalField("_func",a);if(i&&i.func&&(a=i.func),a)return a(t)}catch(a){e.log.error({module:"system",name:"JS eval runtime error",exception:a,aux:t.arg("_func"),xdo:t})}},html:function(t){t.tag("nowrap"),t.displayVal=e.htmlentitiesdecode(t.get_val()||""),t.noLinks=!0},sys:function(e){e.exit(!0)},def:function(e){return e.global(e.arg("name")||e.arg("id"),e.data||e.arg("title")||e.arg("xds")||e.arg("value")),!1},var:function(e){return e.inherit("def"),!1},set_setting:function(e){e.set_setting(e.arg("setting")||e.name(),e.arg("value")),e.exitBlank()},xdsvar:function(e){e.sparse=1;var t=e.xds.fields,a=e.xds.id,i={};for(var n in t){var r=t[n],o=[];for(var s in r.fields){var d={};$.extend(d,r.fields[s]),delete d._i,o.push(d)}i[n]=o}return"state"==e.arg("mode")?e.state.set(a,i):e.global(a,i),!1},state:function(e){return e.state.set(e.arg("name")||e.arg("id"),e.data||e.arg("title")||e.arg("xds")),!1},img:function(e){(e.get_val()||e.arg("src"))&&(e.tag("img").addAttr("src",e.get_val()||e.arg("src")),e.close=!1,e.displayVal=" ")},image:function(e){e.inherit("img")},alias:function(){return!1},basic:function(e){e.tag(e.xds.type,!1)},loader:function(e){if(e.arg("xds")){var t={xds:e.arg("xds")};e.arg("noPath")&&(t.noPath=e.arg("noPath")),e.ready("loadxds",t)}e.tag("div",!1).sparse=!0},simpleTabRow:function(){var t,a,i=0,n="xds-simpleTab-selected",r="."+n,o=0;function s(e){var t=e.parent_xdo();if(t&&(0===t.dom().length&&(t=e.parents("."+e.parent_xdo().cssPath).xdo),t))return t.find(r)}function d(e,t){var a=e.scrollLeft(),i=e.outerWidth(),n=(t.offset()||{}).left,r=i+a,o=n+t.outerWidth();return r<o+a?a=o-r:n<0&&(a+=n),a}return e.types.simpleTabMarker=function(e){e.addStyle({left:(i||0)+o+"px",width:t+"px"})},e.types.simpleTab=function(e){var a=!1;if(e.arg("selected"))a=!0;else if(e.parent_xdo().arg("autoselect")){var r=e.arg("xds");if(!r)for(var l=e.xds.events,c=0;c<l.length&&!r;c++)l[c].args&&l[c].args.xds&&(r=l[c].args.xds);e.xds_full.id==r&&(a=!0)}a&&e.addClass(n),e.arg("noFocus")||e.on("click",function(a,r){var l=s(e);l&&l.offset()&&(i=l.offset().left,t=l.width(),l.removeClass(n)),r.addClass(n);var c=e.parent_xdo().dom();c.is(".xds-simpleTabRow")&&(o=d(c,r),c.animate({scrollLeft:o},300))}),e.arg("default")&&e.ready(function(e){var t=s(e);t&&!t.length&&e.addClass(n)}),e.attr("role","navigation")},function(e){e.attr("role","tabpanel"),a!==e.nid()&&(a=e.nid(),i=0,t=0,o=0),e.addChild({id:"stMarker",type:"simpleTabMarker",sparse:1,events:[{func:function(e){var t=s(e);e.dom().css({left:(t&&t.offset()&&t.offset().left||0)+o+"px",width:t.width()+"px"})},trigger:"onload"}]}),e.ready(function(){e.dom().scrollLeft(o);var t=s(e);if(t){var a=d(e.dom(),t);a!==o&&(o=a,e.dom().scrollLeft(a))}})}}(),baseframe:function(a){var i=a.arg("src");a.tag("iframe"),a.addAttr({frameborder:"0",border:"0",sandbox:a.arg("sandbox")||"allow-forms allow-scripts allow-same-origin"});var n=function(e){e.dom().css({width:"auto"});var t=e.arg("height")||"300px";if(e.arg("sizeToContent")){var a=e.dom()[0].contentDocument.getElementsByTagName("body")[0].scrollHeight;t="".concat(a,"px"),e.dom().css("flex","0 0 ".concat(t))}var i={width:e.dom().parent().width()+"px",height:t};e.dom().css(i)};a.on(t,"resize",n),a.ready(n),a.on("load",function(e){e.trigger("xds-iframe-loaded")}),a.on("xds-iframe-loaded",function(e){n(e)}),a.sparse=1,e.platform.native&&!t.EdsbyReactBridge&&(i.startsWith("/")&&!i.startsWith("//:")||i.startsWith(e.gbl.p))?e.ajax({xdo:a,url:i}).then(function(t){var n=a.dom(),r=n.contents().find("html"),o=n[0].contentDocument.getElementsByTagName("head");0==o.length&&(o=n[0].contentDocument.createElement("head"),r[0].appendChild(o),o=n[0].contentDocument.getElementsByTagName("head"));var s=n[0].contentDocument.createElement("base");s.setAttribute("href",i),o[0].appendChild(s);var d=function(t,a){for(var i=r.find("".concat(t,"[").concat(a,"]")),n=0;n<i.length;n++){var o=i[n].getAttribute(a);if(o){if("/"==o.charAt(0))o=e.gbl.server+o;else if(o.indexOf("http")<0){var s=lo.split("/");s.pop(),s.push(o),s.unshift(e.gbl.server),o=s.join("/")}i[n].setAttribute(a,o),o.indexOf(e.gbl.server)<0&&"A"==i[n].tagName.toUpperCase()&&i[n].setAttribute("target","_blank")}}};d("script","src"),d("style","src"),d("*","href"),r.html(t),a.trigger("xds-iframe-loaded"),n.css("height","".concat(n.contents().find("html").height(),"px"))}).catch(function(){a.dom().contents().find("html").html(e.lang("Could not load frame content"))}):a.attr("src",i),(i.startsWith("//:")||i.startsWith(e.gbl.p))&&a.on("load",function(t){var a=t.dom()[0].contentDocument.getElementsByTagName("HEAD")[0],i=t.dom()[0].contentDocument.createElement("STYLE");i.innerHTML=e.get("cssvar").getCSS(),a.appendChild(i)})},simpleFrame:function(a){a.tag("iframe");var i=a.tpl(a.arg("src"));"/"==i.charAt(0)&&(i=a.tpl("{{p}}{{src}}",{p:e.gbl.p,src:i.substr(1)})),a.addAttr({src:i,frameborder:"0",border:"0",sandbox:a.arg("sandbox")||"allow-forms allow-scripts allow-same-origin"});var n=function(e){e.dom().css({width:e.dom().parent().width()+"px",height:e.arg("height")||"300px"})};a.on(t,"resize",n),a.ready(n),a.sparse=1},nowrap:function(e){e.tag("nowrap")},block:function(e){e.tag(1,!1)},print:function(e){e.title="Print",e.inherit("button"),e.addClass("xds-mode-"+(e.arg("mode")||"icon")),e.on("click",function(){t.print()})},button:function(e){var t=e.arg("title");if(e.attr("role","button"),e.noLinks=!0,e.tag("button").addClass(s.defaultButton).addAttr("type","button"),e.arg("mode")){var a=e.arg("mode").split(",");e.addClass("xds-button-has-mode");var i=!0,n=!1,r=void 0;try{for(var o,d=a[Symbol.iterator]();!(i=(o=d.next()).done);i=!0){var l=o.value;e.addClass("xds-button-".concat(l))}}catch(e){n=!0,r=e}finally{try{i||null==d.return||d.return()}finally{if(n)throw r}}}e.arg("width")&&e.addStyle("width",e.arg("width")),t&&-1!==t.substr("{{")&&(t=e.tpl(t)),e.attr("title",t);for(var c,u,f=1,g=e.next(f++);g&&("sys"===g.type||void 0===g.type);)g=e.next(f++);if(g&&"button"===g.type&&e.addClass("xds-button-next"),c=e.arg("pad"))for(!0===c&&(c="right"),u=(c=c.split(",")).length;u--;)e.addClass("xds-button-pad-"+c[u]);var p=function(e){var t=e.ref();e.addClass("xds-button-active"),e.setTimeout(function(){var e=t.resolve();e&&e.removeClass("xds-button-active")},200)};if(e.on("click",function(e){p(e)}),e.on("keyup",function(e){e.eventKeyIs(["ENTER"])&&p(e)}),e.arg("icon")&&!["fa.glyph","fa.icon"].includes(e.arg("inherit"))&&void 0===e.arg("fa_class")){e.showTitle=!1;var h=e.arg("iconMode")||"stacked";e.addSubClass("mode-icon-".concat(h)),e.addChild({xds:{id:"icon",type:"fa.glyph",icon:e.arg("icon"),size:e.arg("size")||32}},0),e.arg("title")&&e.addChild({xds:{id:"title",title:e.arg("title"),sparse:!0}},1)}},setTitle:function(t){var i=(!t.arg("appendTitle")&&t.arg("title")||"")+" "+(t.get_val()||"")+(t.arg("appendTitle")&&" "+t.arg("title")||"");return e.settings.title=i,a.title=e.htmlentitiesdecode(e.settings.appname+": "+i),!1},boxModel:function(t){var a=t.arg("width");a&&t.addStyle("width",a),t.arg("pad")&&t.addClass("xds-boxModel-pad");var i=new e.classes.CFTag("div",{},!1,["xds-boxModel-inner"]);t.posttag(new e.classes.CFTagWrapper(i,"open")).preclosetag(new e.classes.CFTagWrapper(i,"close"))},box:function(e){},collapserTitle:function(e){if(e.displayVal="",e.temp.collapsed=e.arg("collapsed")||!1,"string"==typeof e.temp.collapsed){var t=e.temp.collapsed.split(":");"data"===t[0]?e.temp.collapsed=e.data[t[1]]:"state"===t[0]?e.temp.collapsed=e.state.get(t[1]):"parent_data"===t[0]&&(e.temp.collapsed=e.parent_xdo().data[t[1]])}e.removeChildren(),e.addChild({xds:{id:"collapser",type:"fa.glyph",icon:"chevron-right",fa_class:"fas",sparse:!0,css:e.temp.collapsed?"":"fa-rotate-90"}}),e.addChild({xds:{id:"title",title:e.data||e.arg("title"),sparse:!0}})},container:function(t){if(t.arg("transparent")&&t.addSubClass("transparent"),t.arg("mode")&&t.addSubClass("mode-".concat(t.arg("mode"))),t.arg("contentMode")&&t.addSubClass("contentMode-".concat(t.arg("contentMode"))),t.arg("variant")&&t.addSubClass("variant-".concat(t.arg("variant"))),t.arg("layout")&&t.addSubClass("layout-".concat(t.arg("layout"))),t.arg("collapsible")&&(t.xds&&t.xds.fields&&t.xds.fields.title||t.arg("title"))){t.temp.hash=["container",t.selector(),t.arg("key")||t.nid()].join("_"),t.addSubClass("collapsible");var a=e.clone(t.xds.fields),i=e.storage(t.temp.hash);t.arg("noSave")&&(i=void 0);var n={1:!0,2:!1};if(i=void 0===i||!1===i?t.arg("collapsed")||!1:n[i],t.temp.collapsed=i,"string"==typeof t.temp.collapsed){var r=t.temp.collapsed.split(":");"data"===r[0]&&(t.temp.collapsed=t.data[r[1]])}void 0===t.temp.collapsed&&(t.temp.collapsed=!1),t.removeChildren();var o=!1;a.title?(o=e.clone(a.title)).css="".concat(o.css||""," xds-container-title"):(o={id:"title",type:"sectionTitle",title:t.arg("title"),css:"xds-container-title"},t.arg("showTitle",!1)),o.suppressAria=!0,o.css=t.genSubClass("collapse-title-title");var s=function(a){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.temp.collapsed=a,i&&!t.arg("noSave"))for(var r in n)if(n[r]===t.temp.collapsed){e.storage(t.temp.hash,r);break}a?(t.target("*body").addClass("hidden"),t.target("*collapser").removeClass("fa-rotate-90")):(t.target("*body").removeClass("hidden"),t.target("*collapser").addClass("fa-rotate-90"))},d=function(e){s(!t.temp.collapsed)},l={id:"title","__system.container":"true",css:t.genSubClass("collapse-title"),sparse:!0,tabindex:0,fields:[{id:"collapser",type:"fa.glyph",icon:"chevron-right",fa_class:"fas",sparse:!0,css:t.temp.collapsed?"":"fa-rotate-90",size:t.arg("caretSize",void 0,"larger")},o],"aria-label":e.tpl(e.lang("Toggle section {{title}}"),{title:o.title}),role:"header",events:[{trigger:"click",func:d},{trigger:"keyup",func:function(e){(e.eventKeyIs(["SPACE"])||t.temp.collapsed&&e.eventKeyIs(["RIGHT"])||!t.temp.collapsed&&e.eventKeyIs(["LEFT"]))&&d()}}]};if(a&&a.title&&a.title["__system.container"]){var c=l;(l=e.clone(a.title)).events=c.events}if(t.addChild(l),delete a.title,1===Object.keys(a).length&&a.body){var u=t.data;u instanceof Object&&u.body&&(u=u.body),t.addChild({xds:a.body,data:u})}else t.addChild({xds:{id:"body",type:function(e){t.temp.collapsed?e.addClass("hidden"):e.removeClass("hidden")},sparse:!0,fields:Object.values(a),proxyCSS:"xds-container-collapse-body"},data:t.data});t.arg("suppressAria",!0),t.arg("openifcontains")&&t.ready(function(e){e.find(e.arg("openifcontains")).length>0&&s(!1,!1)})}else if(t.arg("title"))if(t.arg("showTitle",!1),t.arg("suppressAria",!0),t.arg("hideTitle"))t.arg("suppressAria",!1);else{var f={id:"containertitle",type:"titlebar",title:t.arg("title"),css:"xds-container-title"};if(t.arg("xds")&&t.has_read(t.arg("xds"))){var g=t.arg("mode")||"loadPage";["lightbox","loadPage"].includes(g)&&(f.events=[{trigger:"click",args:{xds:t.arg("xds")},func:g}])}t.removeChild("containertitle"),t.addChild(f,0)}},containerTitle:function(e){e.inherit("pageTitle")},containerFooter:function(e){},page:function(t){if("fullscreen"===t.arg("mode"))t.inherit("responsive.layout.page");else if(e.layout.isPhone()||e.layout.isTablet()){t.tag("div",!1);var a=t.arg("_layout");a&&(a.g||(a.g={}),a.g.e="n",a.g.l="n",a.g.r="n")}else{var i=t.arg("width");i&&t.addStyle("width",i);var n=new e.classes.CFTag("div",{},!1,["xds-page-inner"]);t.posttag(new e.classes.CFTagWrapper(n,"open")).preclosetag(new e.classes.CFTagWrapper(n,"close"))}},fluidPage:function(e){},mainHeader:function(t){var a=t.build.insertIndex;t.get_setting("__inNativeModal")?t.exitBlank():(e.layout.isPhone()?t.inherit("sectionHeader",{main:!0}):(t.arg("showTitle",!1),t.postclosetag(new e.classes.CFTag("div",{},!1,"xds-mainHeader-placeholder")),t.tag("header"),t.ready(function(e){e.dom().parents(".xl").show()})),t.finishedBuild=function(){t.state.set("HeaderIndex",[a,t.output.length])})},sectionHeader:function(t){if(e.layout.isPhone()){var a=t.state.get("lightboxTitleOverride");a&&a.title&&(t.removeChild("center"),t.arg("title",a.title))}t.attr("role","navigation");var i=t.arg("mode")||"back";t.sparse=1;var n=t.state.get("HeaderIndex");if(n&&e.layout.isPhone())for(var r=n[0];r<n[1];r++)t.output[r]="";1!==e.history.active.stack.length&&0!==e.history.active.index&&0!==e.history.active.stack.length||["nativeBack","none","lightbox.close","form","none"].includes(i)||(i="home");var o=t.xds.fields||{};e.is_obj(t.get_val())||(t.set({center:t.get_val()}),t.displayVal="");var s=o.left||{id:"left",sparse:1};s.css="xds-sectionHeader-left",delete s.layout;var d=o.right||{id:"right",sparse:1,type:"div"},l=d;"div"!==d.type&&(d={id:"right",sparse:1,type:"div",fields:[d]},o.right=d),d.css="xds-sectionHeader-right",delete d.layout;var c=o.centre||o.center||{id:"center",type:"h2",sparse:1,title:t.arg("title")};delete c.layout,t.arg("title")&&(c.title||(c.title=t.arg("title"))),c.css="xds-sectionHeader-center",c.title||t.get_val("center")||t.get_val("centre")||t.get_val("middle")||t.ready(function(t){var a=t.child("center",1).xdo||t.child("centre",1).xdo;a&&!a.dom().text().length&&a.update(e.settings.title)});var u=function(){s["aria-label"]=s.title||e.lang("Back"),s.noTitle=!0,s.type="fa.icon",s.icon="fa-chevron-left",s.inherit="loadPage",s.css="xds-sectionHeader-back","base"===i?(s.xds=e.user.base,s.nid=e.user.nid):"lightbox.close"===i?s.mode=i:t.arg("xds")?(s.xds=t.arg("xds"),s.nid=t.arg("nid")):s.mode="nativeBack"===i?"nativeBack":"back"};e.layout.isPhone()&&("form"===i&&(l.title=l.title||e.lang("Post"),l.events=l.events||[{trigger:"click",func:function(e){e.find("form",1).trigger("submit")}}],l.type=l.type||"a",i="cancel"),"cancel"===i||"close"===i?(s.title="cancel"===i?e.lang("Cancel"):e.lang("Close"),s.type="loadPage",s.mode="back"):"back"===i||"base"===i||"nativeBack"===i?s.mode||u():"none"===i?(s.type="div",s.title=""):"lightbox.close"===i?s.type||u():"none"===i?s={id:"left",type:"sys"}:s.type||(i="base",u()),(s&&s.title&&!s.noTitle||l&&l.title&&!l.noTitle||t.arg("textbuttons"))&&t.addClass("xds-sectionHeader-textbuttons")),s.css=(s.css||"")+" xds-sectionHeader-left",d.css=(d.css||"")+" xds-sectionHeader-right",e.layout.isPhone()&&t.removeChildren();var f=Object.keys(o),g=f.indexOf("left"),p=f.indexOf("centre"),h=f.indexOf("right");-1===g&&(g=0,t.addChild(s,g)),-1===p&&(p=g+1,t.addChild(c,p)),-1===h&&(h=p+1,t.addChild(d,h)),t.showTitle=!1},sectionTitle:function(t){var a=t.arg("mode");a&&t.addClass("xds-sectionTitle-"+a),t.xds.title&&t.addClass("xds-hasTitle"),t.tag("h2"),e.platform.phone&&t.preclosetag('<div class="xds-sectionTitle-navArrow"></div>').posttag('<div class="xds-sectionTitle-icon"></div>')},sectionTitleRow:function(e){e.tag("h2")},pageTitle:function(e){e.tag("h1")},titlebar:function(e){e.addChild(e.get_children()||{id:"title",type:"sectionTitle",title:e.arg("title"),suppressAria:!0,fields:[{id:"popout",type:"fa.glyph",icon:"angle-right",sparse:1,"aria-hidden":!0,css:"xds-titlebar-popout"}]}).showTitle=!1,e.attr("aria-label",e.arg("title")),e.attr("role","button"),e.attr("tabindex","0")},success:function(e){e.posttag(l.div("",s.sprite))},cancel:function(t,a){t.arg("title")||t.arg("title",e.lang("Cancel")),t.inherit("button",{mode:t.arg("mode")||"grey"}).on("click","trigger",{eventName:"xds-cancel"})},beta:function(t){t.arg("mode","red"),t.arg("title",e.lang("BETA")),t.inherit("button"),t.on("click",function(t){e.dialog(t.arg("message")||e.lang("This is a preview of an upcoming feature and may be incomplete.")),t.stopPropagation(),t.preventDefault()})},newContent:function(t){t.attr("aria-hidden","true"),t.attr("tabindex",-1),t.addClass(e.css.hide).on("click","hide")},noContent:function(t){var a=t.arg("data");if(a&&(a=t.get_val(a,"siblings"))&&(e.is_arr(a)&&a.length||!e.is_arr(a)))return!1;t.tag("div")},shortFancyDate:function(t){var a=new Date,i=e.parseDate(t.data);if(i){var n=(a.getTime()-i.getTime())/1e3;if(n<60)t.displayVal="now";else if(n<3600){var r=Math.floor(n/60);t.displayVal="".concat(r,"m")}else if(n<86400){var o=Math.floor(n/3600);t.displayVal="".concat(o,"h")}else{var s=Math.floor(n/86400);t.displayVal="".concat(s,"d")}t.innertag(new e.classes.CFTag("span",{"aria-hidden":"true"}))}else t.exitBlank()},fancyDate:function(t){var a=t.get_val(),i=e.dateFormat(a,t.arg("dateFormat")||"elapsed",t.xds.defaultValueText),n=e.dateFormat(a,e.lang("h:MM TT · mmm dd, yyyy",e.settings.constants.lang.tags.dateFormat));!1!==n&&!1!==t.arg("tooltip")?t.arg("tooltip",n):!1===n&&!1!==t.arg("tooltip")&&t.clear_arg("tooltip"),t.xds.tooltipLocation=t.xds.tooltipLocation||t.global("fancyDate-tooltip-pos-".concat(t.xds.id))||"below",t.displayVal=i,t.innertag(new e.classes.CFTag("span",{"aria-hidden":"false"}))},smartDate:function(t){var a=e.parseDate(t.get_val()),i="mmm dd";(new Date).getFullYear()!==a.getFullYear()&&(i="mmm dd/yy"),t.arg("dateFormat",i),t.inherit("fancyDate")},NavButton:function(t){t.animationDisable();var a=t.arg("set")||"default";t.arg("inherit")||(t.arg("xds")?t.inherit("loadPage"):(t.inherit("a"),t.on("click",function(){t.state.set("NavButton-"+a,t.xds.id)}))),!1!==t.arg("active")&&(t.state.get("NavButton-"+a)===t.xds.id||!t.state.get("NavButton-"+a)&&t.arg("active")||t.arg("xds")===e.links.getxds())&&(t.addClass("xds-NavButton-active"),t.state.set("NavButton-"+a,t.xds.id))},hoverboxTitle:function(e){e.tag(1,"xds-hbox-title xds-hoverbox-title")},hoverbox:function(e){e.arg("includeArrow")&&e.addClass("xds-hoverbox-hasArrow"),e.inherit("hbox"),e.arg("disableHoverboxHide")||e.on(t,"xds-hoverbox-hide","hide")},hbox:function(e){},hoverIntent:function(){var a=10,i=200,n={},r=0,o=!1;function s(t){e.log.debug({module:"hoverIntent",message:"showHover"}),$(".xds-hbox:visible").trigger("mouseleave",{force:!0}),Date.now()-r>1500&&!o&&t.addClass("xds-hoverbox-visible"),t.removeClass("xds-hoverbox-hide"),o=!1,t.show(),r=Date.now()}function d(t,a,i){e.log.debug({module:"hoverIntent",message:"mouseleaveHover"}),c(),l(),clearTimeout(n.slowloadTimer),delete n.hoverbox;var r=function(){e.log.debug({module:"hoverIntent",message:"mouseleaveHover.leave"});var i=t.temp.hoverbox,r=function(){e.log.debug({module:"hoverIntent",message:"mouseleaveHover.leave.hideHoverBox"}),$(".xds-hoverbox-visible").hide(),$(".xds-hoverbox-visible").removeClass("xds-hoverbox-visible"),i&&i.hide()};e.isHover(a)||i&&e.isHover(i)||!i?n.dismissTimer=setTimeout(r,150):(e.log.debug({module:"hoverIntent",message:"mouseleaveHover.dismiss"}),i.removeClass("xds-hoverbox-visible"),o?(r(),i.addClass("xds-hoverbox-hide")):(i.addClass("xds-hoverbox-hide"),n.dismissTimer=setTimeout(r,150)),o=!1)};i&&i.force?r():n.leaveTimer=setTimeout(r,300)}function l(){o=!1,n.leaveTimer&&(t.clearTimeout(n.leaveTimer),delete n.leaveTimer),n.timer&&(t.clearTimeout(n.timer),delete n.timer),n.dismissTimer&&(t.clearTimeout(n.dismissTimer),delete n.dismissTimer)}function c(){n.moveTimeout&&(t.clearTimeout(n.moveTimeout),delete n.moveTimeout)}function u(e){c(),n.moveTimeout=t.setTimeout(function(){f(e)},i)}function f(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=t.dom();o=!0,n.timer=setTimeout(function(){o=!1;var a=t.temp.hoverbox||i.find(".xds-hbox");if(t.temp.hoverbox||a.on("mouseleave",function(e,a){d(t,i,a)}),t.temp.hoverbox=a,e.isHover(i)&&!a.hasClass("xds-hoverbox-visible"))if(!t.arg("noDisconnect")&&a.appendTo(t.get_target("xds-cont")),!a.length&&i.hasClass("xds-hbox")&&(a=i),n.hoverbox=a,a.trigger("hoverbox",[a,i]),t.arg("xdshover")||a.css("width",a.width()+"px"),e.hoverboxPosition(i,a),a.hide(),a.on("mouseenter",g),t.arg("xdshover")){n.slowloadTimer=setTimeout(function(){a.fadeIn()},1e3);var r=t.arg("nid");t.args={xds:t.arg("xdshover"),renderNoPerm:!0,serveFromCache:!0,target:a,noForm:!0,transition:!1,func:function(){clearTimeout(n.slowloadTimer),n.lastContext=t,(e.isHover(i)||e.isHover(a))&&(s(a),e.hoverboxPosition(i,a))}},r&&(t.args.nid=r);var l=t.arg("nid");l&&"string"==typeof l&&(l&&"func:"===l.substr(0,5)?l=e.get(l.substr(5))(t):l&&-1!==l.indexOf("{{")?l=t.tpl(l):isNaN(parseInt(l,10))&&(l=l&&t.get_val(l,t.arg("nidSource"))||t.get_val("_loadxds")||t.get_val("nid"))),t.args.nid=l,a.attr("data-from",t.id()),t.arg("noPath")&&(t.args.noPath=!0),e.get_func("loadxds")(t,i)}else s(a)},a)}function g(e){l(),e.stopPropagation()}function p(e){var t=[e.e.clientX,e.e.clientY];n.lastPos&&(Math.abs(t[0]-n.lastPos[0])<a&&Math.abs(t[1]-n.lastPos[0]),u(e)),n.lastPos=t}function h(e,t){u(e)}function m(e){var t=e.temp.hoverbox||e.dom().find(".xds-hbox");t.attr("data-from")==e.id()&&t.hasClass("xds-hoverbox-visible")?d(e,t,{force:!0}):f(e,0),e.e.stopPropagation(),e.e.preventDefault()}return function(t){n.t=t,t.arg("addBox")&&t.preclosetag(new e.classes.CFTag("div",{},!1,["xds-hbox","xds-hoverbox"])),e.browser.touch?t.on("click",m):e.layout.isPhone()||t.on("mouseenter",h).on("mouseleave",d).on("click",d).on("mousemove",p)}}(),miniprofile:function(){function t(t,a,i){t.e.stopPropagation(),t.e.preventDefault(),e.links.handleLoad(t.temp.url)}return function(a){var i=a.arg("xdsclick"),n=a.arg("ttag"),r=!0;e.layout.isPhone()&&a.arg("xdstouch")&&(i=a.arg("xdstouch")),a.arg("addBox",!0);var o=!0;if("not:platform:mobile"===a.arg("linkif")&&e.platform.mobile&&(o=!1),"data"!==a.arg("hoverif")||a.data||(r=!1),o&&(!e.browser.touch||!a.arg("xdshover")||a.arg("xdshover")&&i&&e.browser.touch)&&i&&(a.has_read(i)||a.arg("renderNoPerm"))&&void 0===a.arg("link")){var s=a.arg("nid");if(s&&"string"==typeof s&&"func:"===s.substr(0,5)?s=e.get(s.substr(5))(a):s&&"string"==typeof s&&-1!==s.indexOf("{{")?s=a.tpl(s):isNaN(parseInt(s,10))&&(s=s&&a.get_val(s,a.arg("nidSource"))||a.get_val("_loadxds")||a.get_val("nid")),a.temp.url=e.tpl(c.loadPage,{nid:s,xds:i}),a.on("click",t),a.addAttr("role","link"),!a.attr("aria-label")){var d=a.get_val();"string"!=typeof d&&(d=a.get_val("name")),d&&a.addAttr("aria-label",d)}n?a.tag(n):a.addAttr("href",a.temp.url).tag("a")}else a.tag(n||"div");void 0===a.arg("renderNoPerm")&&a.arg("renderNoPerm",!0),r&&a.arg("xdshover")&&o&&a.inherit("hoverIntent"),o||a.addSubClass("noLink")}}(),name:function(e){e.inherit("miniprofile")},pin:function(t){var a=t.nid("node"),i=t.nid();a==i&&t.caller()&&(a=t.caller().nid()),t.arg("forceNid")&&(a=t.arg("forceNid").includes("state:")?t.state.get(t.arg("forceNid").split("state:")[1]):t.arg("forceNid"));var n=t.arg("xds");if(!t.has_write(n))return!1;t.tag(t.arg("ttag")||"a").on("click",function(t,i){var n=t,r=void 0!==n.arg("value")?n.arg("value"):1;if(n.arg()){var o=n.arg("pinid");e.post({url:{command:"putfield",xds:n.arg("xds"),nid:a},data:{rid:n.get_val("rid")||n.state.get("rid"),field:o,value:r},callback:function(e){var t=void 0!==n.arg("value")?n.arg("value"):1,a=n.get_val(void 0,"rnode")?"rnode":"node",i=n[a].pin,r=n[a].pin|n.arg("pinid");t||(r=n[a].pin&~n.arg("pinid")),n[a].pin=r;var s={pin:{pinid:o,value:t,from:i,to:r}};t?n.trigger("xds-pinned",s):(n.trigger("xds-unpinned",s),n.arg("master")||n.parent_xdo()&&n.parent_xdo().dom()&&n.parent_xdo().dom().safeRemove())}})}else e.log.error({module:"system",name:"XDS Misconfiguration",message:"no xds on pin",xdo:n})}).on("posted",function(){void 0===t.arg("value")||t.arg("value")?t.trigger("xds-pinned"):(t.trigger("xds-unpinned"),t.arg("master")||t.parent_xdo()&&t.parent_xdo().dom()&&t.parent_xdo().dom().safeRemove())}),t.arg("inherit")&&t.inherit(t.arg("inherit"))},multipin:function(a){var i=a.nid("node"),n=a.nid();i==n&&a.caller()&&(i=a.caller().nid());var r=a.arg("xds");if(!a.has_write(r))return!1;a.tag(a.arg("ttag")||"a").on("click",function(a){var n=a;if(void 0!==a.arg("value")&&a.arg("value"),a.arg()){var r=function(t){return new Promise(function(a,i){e.post({url:{command:"putfield",xds:t.xds,nid:t.nid},data:{rid:t.rid,field:t.field,value:t.value},callback:function(e){a()}})})},o=(""+n.arg("pinid")).split(","),s=(""+(void 0!==n.arg("value")?n.arg("value"):1)).split(",")||[];if(o.length!=s.length)for(var d=s.length;d<=o.length;d++)s.push(1);for(var l=[],c=0;c<o.length;c++)l.push(r({nid:i,xds:a.arg("xds"),rid:a.get_val("rid"),field:o[c],value:s[c]}));Promise.all(l).then(function(){t.setTimeout(function(){for(var e={},t=0;t<o.length;t++)e[o[t]]=s[t];a.trigger("xds-multipin-complete",{pins:e,nid:i,rid:a.get_val("rid")})},100)})}else e.log.error({module:"system",name:"XDS Misconfiguration",message:"no xds on multipin",xdo:n})}),a.arg("inherit")&&a.inherit(a.arg("inherit"))},scroll:function(t){var a,i,n,r,o,s,d,l=!1;function c(t,a){if(e.layout[a]){var i=e.layout[a];if("wHeight"===a){var n=t.temp.bottomGutter||0;if(void 0===t.temp.bottomGutter){var r=t.dom().parents(".xl-row-g-b-l").length,o=t.dom().parents(".xl-row-g-b-m").length,s=t.dom().parents(".xl-row-g-b-s").length;t.temp.bottomGutter=n=r*e.layout.gutterMap.l+o*e.layout.gutterMap.m+s*e.layout.gutterMap.s}t.temp.init=!0,i=i-1-(n||0)}return i}return"offsetTop"===a?t.dom().offset().top:isNaN(parseInt(a))?(t.temp.scrolling||(t.temp.scrolling={}),t.target(a).outerHeight()):parseInt(a)}function u(t,u){r=t.element.getScrollObj();var f=function(t,a){if(t.arg("formula")){for(var i,n=t.arg("formula").split("-"),r=c(t,n.shift());i=n.pop();)r-=c(t,i);return r}return r=t.arg("max-height")||t.arg("height")||"",e.is_num(r)?r+"":e.is_func(r)?r(t,a):parseFloat(-1==r.indexOf(".")?r:e.get_func(r)(t,a))}(t,u),g=t.element.getScrollHeight();if(a!==f||g!==o){var p=t.find(".xds-scroll-bar");if(clearTimeout(i),a=f,o=g,t.arg("max-height")){if(g<f)return void p.addClass("xds-scroll-bar-hidden");u.css("max-height",f+"px")}else u.css("height",f+"px");var h=f/g,m=h*f;p.css("height",h*f+"px"),r.css("height",f+"px"),1==s?n&&r.scrollTop(parseFloat(g)):n&&r.scrollTop(parseFloat(d));var v=function e(){if(r.length){d=r.scrollTop(),(s=d/(g-f))>1&&(s=1);var t=s*(f-m)+"px";p.css("top",t),n=t}return i=setTimeout(e,10),!0};t.get_arg("scrollBottom")&&!t.temp.scrollB&&(t.temp.scrollB=!0,t.element.scrollBottom()),t.element.scroll=v,g>f&&v()?p.removeClass("xds-scroll-bar-hidden"):p.addClass("xds-scroll-bar-hidden");var b,_=function(e){var t;t=(e.pageY-b)/a,t+=r.scrollTop()/o,t*=o,r.scrollTop(t),b=e.pageY};t.dom().trigger("xds-scroll-recalculated"),l||(u.find(".xds-scroll-bar").on("mousedown",function(t){b=t.pageY,t.preventDefault(),t.stopPropagation(),e.window.on("mousemove",_)}),e.window.on("mouseup",function(){e.window.off("mousemove",_)})),l=!0}}t.element={reset:function(){t.dom().css("height",""),r.css("height","")},getScrollHeight:function(){return(t.element.getScrollObj()[0]||{}).scrollHeight},getScrollObj:function(){return t.find(".xds-scroll-content")||t.dom()},scrollBottom:function(){t.element.getScrollObj().scrollTop(t.element.getScrollHeight())},resetCurScrollPercent:function(){s=void 0},getScrollPercent:function(){return s},currentScrollTop:function(){return t.element.getScrollObj().scrollTop()},scrollTop:function(e){return t.element.getScrollObj().scrollTop(e)},scroll:!0};var f=t.arg("scrollBottom");t.on("xds-scroll-recalculate",u).ready(function(t,a){setTimeout(function i(){e.memory.setDOMTrackingOffForTimer(),t.dom().length&&(u(t,a),setTimeout(i,200))},200),t.args.scrollBottom=f,u(t,a)});var g=e.platform.mobile?"":e.html.div("","xds-scroll-bar");t.posttag(g+'<div class="xds-scroll-content">').preclosetag("</div>"),e.platform.mobile&&t.addClass("xds-scroll-showScrollbar")},confirmDelete:function(t){if(!t.arg("unpin")&&!t.arg("write")&&!t.has_delete(t.arg("xds"))||(t.arg("unpin")||t.arg("write"))&&!t.has_write(t.arg("xds")))return!1;var a="xds-confirmDelete-";t.runOnce(function(t){var i;if(t.xds.fields&&t.xds.fields.confirm)(i=e.clone(t.xds.fields.confirm)).id="del",i.type||(i.type=t.arg("del")||"del"),t.xds.fields.confirm.id="_confirm",t.xds.fields.confirm.type="sys",delete t.xds.fields.confirm;else if(i={id:"del",type:t.arg("del")||"del",title:t.arg("titleConfirm")||"Delete",command:t.arg("command"),xds:t.arg("xds")||t.root_xds,forceNid:t.arg("forceNid")},t.arg("force")&&(i.force=1),t.arg("nidSource")&&0==t.arg("nidSource").indexOf("func:")&&(i.forceNid=e.get_func(t.arg("nidSource").split(":")[1])(t)),t.arg("unpin")&&!isNaN(parseInt(t.global(t.arg("unpin"))||t.arg("unpin")))){i.value=0,i.pinid=t.global(t.arg("unpin"))||t.arg("unpin"),i.type="pin",i.master=!0,i.inherit="button",i.mode="red";var n={func:function(e){t.newEvent("trigger",{eventName:"deleted"}),t.arg("deleteTarget")&&t.newEvent("trigger",{eventName:"deleted",triggerTarget:t.arg("deleteTarget")}),t.parent_xdo()&&t.parent_xdo().dd&&t.parent_xdo().dd.close()},args:{eventName:"deleted"},trigger:"xds-unpinned"};i.events=[n],delete i.command}t.addChild({id:"confirm","aria-role":"dialog",css:"hidden "+a+"confirm",sparse:!0,fields:[{id:"message",type:"text",title:t.arg("confirm"),css:a+"message"},{id:"footer",type:"lightbox.footer",sparse:!0,fields:[{id:"cancel",type:"cancel",title:e.lang("Cancel"),events:[{func:"system.hideConfirmDelete",args:{target:"parent:xds-confirmDelete-confirm",stopPropagation:!0,preventDefault:!0},trigger:"click"}],css:a+"cancel"},i]}]})});var i={"aria-label":t.arg("aria-label")||t.arg("label")||t.arg("titleConfirm")||e.lang("Delete"),title:t.arg("aria-label")||t.arg("label")||t.arg("titleConfirm")||e.lang("Delete"),role:"button"};if("button"===t.arg("mode")){var n=t.arg("buttonStyle")||"xds-button-red",r=l.span(t.arg("title"),["xds-default-button",n],i,!0);t.innertag(r)}else"text"===t.arg("mode")?t.posttag(l.span(e.lang("Delete"),void 0,void 0,!0)):"span"===t.arg("mode")?t.posttag(l.span("","xds-confirmDelete-icon fal fa-trash-alt",i,!0)):t.posttag(l.span("","xds-confirmDelete-icon xds-confirmDelete-aMode fal fa-trash-alt",i,!0));t.on("click",function(t,a){function i(){t.target("*footer-del").trigger("click")}if($(".xds-confirmDelete-confirm").css("display","").removeClass(s.focus),e.layout.isPhone())t.eventSource().xdo.path===t.path&&(navigator.notification?navigator.notification.confirm(t.tpl(t.arg("confirm")),function(e){1===e?i():t.parent_xdo()&&t.parent_xdo().dd&&t.parent_xdo().dd.close()},null,[t.tpl(t.arg("titleConfirm"))||"Delete",e.lang("Cancel")]):(t.addSubClass("useNativeConfirm"),e.confirm({message:t.tpl(t.arg("confirm")),cancelButton:e.lang("Cancel"),continueButton:e.lang("Ok")}).then(i).catch(function(){t.parent_xdo()&&t.parent_xdo().dd&&t.parent_xdo().dd.close()})));else{a.css("visibility","visible"),e.hoverboxPosition(a,a.find(".xds-confirmDelete-confirm")),t.e.stopPropagation(),t.e.preventDefault();var n=a.css("display");a.css("display","none"),setTimeout(function(){t.target("*footer-del").focus(),a.css("display",n),a.find(".xds-confirmDelete-confirm").removeClass("hidden")},1)}}).on("click","focus",{target:"children:confirm"}),t.showTitle=!1,t.attr("aria-label",e.lang("Delete"))},dataTableRow:function(e){if(e.arg("hideIfNoData")&&!e.data)return!1;var t;e.arg("isLink")?(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.data)&&(t="mailto:"),e.showTitle=!1,e.posttag(l.p(e.arg("title"),"xds-dataTableRow-title")+'<div class="xds-dataTableRow-data xds-dataTableRow-data-link"><a class="xds-dataTableRow-data-link-link" title="'+e.data+'" href="'+t+e.data+'">').preclosetag("</a></div>")):(e.showTitle=!1,e.posttag(l.p(e.arg("title"),"xds-dataTableRow-title")+'<div class="xds-dataTableRow-data">').preclosetag("</div>"))},badge:function(e){e.inherit("miniprofile")},badgeBody:function(e){if(!e.get_val())return!1;var t="badgeBody-"+(e.rid()||e.nid());if(e.global(t))return!1;e.global(t,!0),setTimeout(function(){e.deleteGlobal(t)});var a=e.xds.fields;e.runOnce(function(){var e=a.picture;e&&(e.css=(e.css||"")+" xds-badgeBody-picture",(e=a.text).fields.line1&&(e.fields.line1.css=(e.fields.line1.css||"")+" xds-badgeBody-line1"),e.fields.line2&&(e.fields.line2.css=(e.fields.line2.css||"")+" xds-badgeBody-line2")),a.text&&(a.text.css=(a.text.css||"")+" xds-badgeBody-text")})},commalist:function(e){e.tag("div")},commalistitem:function(e){e.tag("span")},sepList:(i={},n=function(e){var t,a,n,r;if(e.data||e.xds.sparse)for(e.tag(e.xds.ttag||"div"),n=i[e.path]={first:!0,count:0},e.xds.separator&&(n.sep=e.xds.separator),t=0;t<e.xds._children.length;t++)("item"===(r=(a=e.xds._children[t]).type.split(".")).pop()&&"sepList"===r.pop()||a.sepListItem)&&(a.sparse||e.data&&e.data[a.id])&&++n.count},n.item=function(e){var t,a,n,r="p";if(!e.data&&!e.xds.sparse)return e.showTitle=!1,!1;t=e.get_parent(),(n=i[t])&&n.first?delete n.first:e.pretag('<p class="xds-display-inline xds-sepList-item">'+(n&&n.sep?n.sep:", ")+"</p>"),n&&(--n.count<=0||!n.sep)&&delete i[t],e.xds.ttag&&((r=(a=e.xds.ttag).split(";")).length>1?e.xds.ttag=r.slice(1).join(";"):e.xds.ttag=void 0,r=r[0]),e.inherit(r),a&&(e.xds.ttag=a)},n)}};for(var f in u.types)e.types[f]=u.types[f];for(var f in u.events)e.fn[f]=u.events[f];return u},{default:{foo:"bar"}}),cf.module("tables",function(e,t,a,i){var n=e.classes.CFTag,r=e.classes.CFTagWrapper;e.init(function(){if(e.browser.safari===i){var a=navigator.userAgent;e.browser.safari=-1===a.indexOf("Chrome")&&(a.indexOf("Safari")>=0||a.indexOf("Mobile/")>=0&&(a.indexOf("iPad")>=0||a.indexOf("iPhone")>=0))}void 0!==t.EdsbyReactBridge&&t.EdsbyReactBridge.device&&t.EdsbyReactBridge.device.platform&&"ios"===t.EdsbyReactBridge.device.platform&&(e.browser.safari=!0)});for(var o={thClicked:function(e){$(this).attr("data-sortby")&&$(this).trigger("xds-sortcol-clicked",{"data-sortby":$(this).attr("data-sortby"),"data-sorttype":$(this).attr("data-sorttype"),"data-sortdirection":$(this).attr("data-sortdirection"),"data-sortreverse":"1"===$(this).attr("data-sortreverse"),"data-sortcol":$(this).attr("data-sortcol")})},events:{thClicked:function(e){e.trigger("xds-sortcol-clicked",{"data-sortby":e.arg("sortBy")||e.xds.id,"data-sorttype":e.arg("sortType"),"data-sortdirection":e.arg("sortDirection"),"data-sortcol":e.xds.id})},colClicked:function(e){var t=e.get_args(),a=e.temp.row,i={sort:t["data-sortby"],sortType:t["data-sorttype"]||"",sortCol:t["data-sortcol"]||"",sortDirection:t["data-sortdirection"]||"",sortReverse:t["data-sortreverse"]};if(i.sort){for(var n=i.sort.split(","),r=i.sortType.split(","),o=i.sortCol===(a.sortCol||a.sort||"").split(",")[0]&&!e.get_setting("sortCol"),s=n.length,d=r.length;s<d;)s++,n.push("");for(s=n.length,d=r.length;d<s;)d++,r.push("basic");if(o||(n.push(a.sort),r.push(a.sortType||"basic")),i.sort=n.join(","),i.sortBy=n.join(","),i.sortType=r.join(","),delete e.args,e.get_setting("sortCol")===i.sortCol||o){for(var l=i.sortDirection.split(","),c=l.length;c--;)l[c]="reverse"!==l[c]?"reverse":"forward";i.sortDirection=l.join(",")}i.redrawPath=e.path_include||e.cssPath,e.newEvent("redraw",i)}}},thead:function(e){e.posttag(new r("tr","open")).preclosetag(new r("tr","close")),e.tag("thead"),e.sparse=!0},updateFixedWidths:function(e){if(e.dom().length){var t=e.dom().parent("table").next().find("thead").find("th");e.dom().parent().css("width",e.dom().parents(".xds-simpleTable").find(".xds-simpleTable-body").outerWidth()+"px"),e.find("th").each(function(e){var a=$(t[e]);$(this).css({width:a.outerWidth()+"px",height:a.outerHeight()+"px"})})}},simpleTableFixedHead:function(){function a(t,n){if(t&&!t.is_dead()&&t.temp){var r=e.window.scrollTop(),o=e.window.scrollLeft();if(t.temp.lb){var s=t.dom().parents(".lightbox-wrap");r=s.scrollTop(),o=s.scrollLeft()}var d=t.temp.table.height();if(t.dom().length){if(t.temp.show_fixed&&t.temp.prevLeft!==o&&(t.dom().parent().css("margin-left",-o+"px"),t.temp.prevLeft=o),t.temp.lb===i&&(t.temp.lb=t.dom().parents(".lightbox").length,t.temp.lb)){var l=t.ref();t.dom().parents(".lightbox-wrap").on("scroll",function(){a(l.resolve())})}if(r!==t.temp.prevTop){var c=t.temp.table.offset();t.temp.lb?c.top<0?(t.temp.show_fixed||t.temp.table.addClass("xds-simpleTable-fixHeader"),t.temp.show_fixed=!0):(t.temp.show_fixed&&t.temp.table.removeClass("xds-simpleTable-fixHeader"),t.temp.show_fixed=!1):t.temp.offset.top-t.temp.thHeight-8<r&&r<t.temp.offset.top+d-(t.temp.lb?-20:25)-t.temp.thHeight-t.temp.lastTrHeight?(t.temp.show_fixed||t.temp.table.addClass("xds-simpleTable-fixHeader"),t.temp.show_fixed=!0):t.temp.show_fixed&&(t.temp.show_fixed&&t.temp.table.removeClass("xds-simpleTable-fixHeader"),t.temp.show_fixed=!1)}}}}function s(e,t,a){e.dom().parent().addClass("xds-simpleTable-fixed"),e.dom().parent().removeClass("xds-simpleTable-body"),e.dom().parent().attr("aria-hidden",!0),e.temp.table=e.dom().parents(".xds-simpleTable"),e.temp.table.height()<200&&!e.arg("forceFixed")?e.dom().parent().remove():(e.temp.offset=e.temp.table.offset(),e.temp.thHeight=e.dom().find("th").height(),e.temp.lastTrHeight=e.dom().parent().next().find("tr").last().height())}return function(e){e.temp.offset={},e.postclosetag(new r("table","close")),e.postclosetag(new r(new n("table",{},!1,["xds-simpleTable-body"]),"open")),e.on(t,"scroll",a),e.on(t,"resize",o.updateFixedWidths),e.ready(a),e.inherit("tables.simpleTableHead"),e.ready(o.updateFixedWidths),e.ready(s)}}(),simpleTableHead:function(t){t.tag("thead"),t.innertag(new n("tr")),t.arg("notbody")||t.postclosetag(new r(new n("tbody",{},!1,["".concat(e.parent_from_path(t.cssPath),"-tbody")]),"open")),t.sparse=!0},simpleTableTH:function(e){var t,a;e.tag("th"),e.arg("minWidth")&&(t="min-width:".concat(e.arg("minWidth"),"px;")),a=new n("div",t?{style:t}:{},!1,["xds-simpleTableTH-inner"]),e.innertag(a),e.sparse=!0;var i=e.global("simpleTableRow")||{},r=(e.get_setting("sortCol")||i.sortCol||i.sort||"").split(",").shift();e.xds.id===r&&(e.addClass("xds-simpleTableTH-currentSortCol"),e.get_setting("sortDirection")&&e.arg("sortDirection",e.get_setting("sortDirection"))),"reverse"===(e.arg("sortDirection")||"").split(",")[0]&&e.addClass("xds-simpleTableTH-sortCol-reverse"),e.arg("align")&&e.addStyle("text-align",e.arg("align")),e.arg("colspan")&&e.attr("colspan",e.arg("colspan")),e.arg("rowspan")&&e.attr("rowspan",e.arg("rowspan")),e.arg("titlefunc")&&e.inherit(e.arg("titlefunc")),e.arg("noSorting")||(e.preclosetag(new n("div",{},!1,["xds-tables-simpleTableTH-dir"])),e.on("click",o.events.thClicked))},simpleTable:function(t){var a,s,d,l,c=t.temp.row=t.findChildType(t.arg("rowType")||"simpleTableRow"),u=!1;t.calculateResponsiveChildren(c._children),t.arg("cellpadding")&&t.posttag(new n("style",{},!1,[],".".concat(t.selector()," td{padding:").concat(t.arg("cellpadding"),";}"))),c.limit=c.limit||50,a=new n("table",{},!1,["xds-simpleTable-body"]),t.innertag(a),t.colTypes={col:!0,colhead:!0,td:!0,th:!0},t.ignoreTypes={sys:!0},t.ignoreFlags={};for(var f=[["ignoreTypes",t.ignoreTypes],["colTypes",t.colTypes],["ignoreFlags",t.ignoreFlags]],g=0;g<f.length;g++){var p=_slicedToArray(f[g],2),h=p[0],m=p[1];if(d=t.arg(h)){var v=!0,b=!1,_=i;try{for(var y,x=d.split(",").values()[Symbol.iterator]();!(v=(y=x.next()).done);v=!0)m[y.value]=!0}catch(e){b=!0,_=e}finally{try{v||null==x.return||x.return()}finally{if(b)throw _}}}}t.xds.noSorting&&t.addClass("xds-table-noSort"),c.sort&&!t.get_setting("sortCol")&&t.global("simpleTableRow",c);var w,C=[];t.temp.sum_flex=t.temp.sum_width=0,t.temp.sum_percent=0;var k=!0,S=!1,T=i;try{for(var M,I=c._children.values()[Symbol.iterator]();!(k=(M=I.next()).done);k=!0){var A=M.value;if(!t.ignoreTypes[A.type])if(A.showif&&!1===t.pre.showif(t,A))A.type="sys";else{l=!1;for(var D=Object.keys(t.ignoreFlags),L=0;L<D.length;L++)if(A[D[L]]){l=!0;break}if(!l&&(w={id:A.id,type:"tables.simpleTableTH",title:A.title,noSpaceTitle:!0,showif:A.showif,noSorting:A.noSorting||t.arg("noSorting"),sortType:A.sortType,sortBy:A.sortBy,sortDirection:A.sortDirection,align:A.align,titlefunc:A.titlefunc,col:A},t.temp.cols||(t.temp.cols={}),t.temp.cols[A.id]=!0,s=["".concat(t.path_include||t.cssPath,"-").concat(c.id,"-").concat(A.id,"-th")],A.proxyCSS&&s.push("".concat(A.proxyCSS,"-th")),A.flex&&(w.flex=!0===A.flex?1:!1===A.flex?0:parseInt(A.flex,10)),A.width!==i?"string"==typeof A.width&&-1!==A.width.indexOf("%")?(w.pct_width=parseFloat(A.width),w.flex=0):(w.width=parseInt(A.width,10),w.flex&&(w.minWidth=w.width)):w.flex===i&&(w.width=50,w.flex=1),w.pct_width&&(t.temp.sum_percent+=w.width),t.temp.sum_width+=w.width,w.flex&&(t.temp.sum_flex+=w.flex),C.push(w),(u=!t.colTypes[A.type]&&!A.cellType)&&(A.wrap="td"),A.sparse=!0,A.showTitle=A.showTitle||!1,A.align)){var E=u?"wrapCSS":"css";A[E]=[A[E],"xds-colalign-".concat(A.align)].join(" ")}}}}catch(e){S=!0,T=e}finally{try{k||null==I.return||I.return()}finally{if(S)throw T}}var N=!0,P=!1,j=i;try{for(var O,R=C.values()[Symbol.iterator]();!(N=(O=R.next()).done);N=!0){var F=O.value;F.pct_width&&t.temp.sum_percent<=100?F.style="width: ".concat(F.width,"%"):F.flex?e.browser.safari?F.style="min-width: ".concat(F.width,"px;"):F.style="width: calc(".concat(F.width,"px + (").concat(100-t.temp.sum_percent,"% - ").concat(t.temp.sum_width,"px) * ").concat(Math.round(100*F.flex/t.temp.sum_flex)/100,");"):F.style="width: ".concat(F.width||50,"px")}}catch(e){P=!0,j=e}finally{try{N||null==R.return||R.return()}finally{if(P)throw j}}var B=e.clone(C);t.arg("newMobileMode")&&e.layout.isPhone()?t.addSubClass("mobileMode"):(t.addChild({id:"header",type:"tables.simpleTableHead",notbody:t.arg("notbody"),fields:C},0),t.addChild({id:"fixedHeader",type:"tables.simpleTableFixedHead",notbody:!0,forceFixed:t.arg("forceFixed"),fields:B},0)),t.addStyle("min-width","".concat(t.temp.sum_width,"px")),t.infiniteScroll(function(){var e;(e=t).nextPage(function(t){return function(e,t){delete e.temp.infiniteScrollWaiting,e.dead||e.is_dead()||(e.arg("notbody")?e.find("thead,tbody").last().after(t):e.find("tbody."+e.cssPath+"-tbody").append(t),e.data[e.temp.row.id]=e.data[e.temp.row.id].concat(e._paging[e.temp.row.id].pages[e._paging[e.temp.row.id].currentPage]),e.trigger("xds-table-page-advanced"))}(e,t)})}),t.on("xds-sortcol-clicked",o.events.colClicked),t.arg("notbody")||t.preclosetag(new r(new n("tbody"),"close"))},simpleTableRow:function(t){if(t.arg("newMobileMode")&&e.layout.isPhone()){t.xds._originalFields||(t.xds._originalFields=e.clone(t.xds.fields));for(var a=e.clone(t.xds._originalFields),i=Object.keys(t.xds._originalFields),n=0;n<i.length;n++){var r=i[n];t.xds.fields[r].type="sys",delete a[r].wrap,delete a[r].showTitle,a[r].wrapTitle=!0,a[r].showif="data"}var o=[{id:"body",css:"xds-simpleTableMobileRow-body",sparse:!0,fields:Object.values(a)}];if(a.delete){var s=e.clone(a.delete);delete s.showif,a.delete.type="sys",o.push({id:"accessory",css:"xds-simpleTableMobileRow-accessory",sparse:!0,fields:[s]})}t.addChild({xds:{id:"mobilerow",type:"simpleTableMobileRow",wrap:"td",sparse:!0,fields:o}}),t.data.mobilerow={body:e.clone(t.data)}}t.tag("tr")},simpleTableMobileRow:function(e){e.tag("div")},table:function(e){e.tag("table")},head:function(e){e.tag("thead").posttag("<tr>").preclosetag("</tr>")},colhead:function(e){e.tag("th",!1),e.arg("colspan")&&e.addAttr("colspan",e.arg("colspan")),e.arg("rowspan")&&e.addAttr("rowspan",e.arg("rowspan")),e.arg("valign")&&e.addAttr("valign",e.arg("valign"))},row:function(e){e.tag("tr",!1)},col:function(e){e.tag("td",!1),e.arg("colspan")&&e.addAttr("colspan",e.arg("colspan")),e.arg("rowspan")&&e.addAttr("rowspan",e.arg("rowspan"))},column:function(e){e.tag("col",!1),e.arg("_align")&&e.addAttr("align",e.arg("_align")),e.arg("valign")&&e.addAttr("valign",e.arg("valign"))}},s=Object.entries(o),d=0;d<s.length;d++){var l=_slicedToArray(s[d],2),c=l[0],u=l[1];"events"!==c&&(e.types[c]=u)}return o}),cf.module("touch",function(e){return{touchable:function(e){var t={_defs:{touchedClass:"xds-touch-touchable-touched",hoverApplyClassTimeout:80,touchHoldLowerThreshold:300,touchHoldUpperThreshold:1e3,touchSwipeUpperThreshold:500,touchMoveThreshold:10,events:{touchHold:"xds-touchable-held",touchSwipeRight:"xds-touchable-swipe-right",touchSwipeLeft:"xds-touchable-swipe-left"},modes:{SINGLE:1,MULTI:2}},_vars:{},init:function(e){for(var a in t.handlers)t.handlers.hasOwnProperty(a)&&e.on(a,t.handlers[a])},vars:function(e,a){return a&&(t._vars[e.id()]=a),t._vars[e.id()]},handlers:{touchstart:function(e){var a={touchStartTime:new Date};t.vars(e,a),window.setTimeout(function(){a.breakClick||e.id(1).addClass(t._defs.touchedClass)},t._defs.hoverApplyClassTimeout),window.setTimeout(function(){a.touchEnded||a.breakClick||a.touchHoldTriggered||(a.touchHoldTriggered=!0,a.breakClick=!0,e.trigger(t._defs.events.touchHold).trigger("touchend"))},t._defs.touchHoldUpperThreshold);var i=e.e.originalEvent.changedTouches;if(1==i.length){var n=i[0];a.mode=t._defs.modes.SINGLE,a.startPos={x:n.pageX,y:n.pageY}}else i.length>1&&(a.mode=t._defs.modes.MULTI,a.startTouches=i)},touchmove:function(e){var a=e.e.originalEvent.changedTouches,i=t.vars(e);if(new Date,i&&(i||{}).mode==t._defs.modes.SINGLE&&1==a.length){var n=a[0].pageX,r=a[0].pageY,o=i.startPos.x,s=i.startPos.y;Math.sqrt((o-n)*(o-n)+(s-r)*(s-r))>t._defs.touchMoveThreshold&&(e.id(1).removeClass(t._defs.touchedClass),i.breakClick=!0)}},touchend:function(a){var i,n=new Date,r=t.vars(e);if(r)if(i=n.getTime()-r.touchStartTime.getTime(),r.touchEnded=!0,e.id(1).removeClass(t._defs.touchedClass),r.breakClick){if(a.e.stopPropagation(),a.e.preventDefault(),a.e&&a.e.originalEvent&&a.e.originalEvent.changedTouches){var o=a.e.originalEvent.changedTouches[0];i<t._defs.touchSwipeUpperThreshold&&Math.abs(o.pageY-r.startPos.y)<30&&(o.pageX-r.startPos.x<200?e.trigger(t._defs.events.touchSwipeLeft):o.pageX-r.startPos.x>200&&e.trigger(t._defs.events.touchSwipeRight))}}else r.touchHoldTriggered?a.e.preventDefault():i>t._defs.touchHoldLowerThreshold&&(a.e.stopPropagation(),a.e.stopImmediatePropagation(),a.e.preventDefault(),e.trigger(t._defs.events.touchHold))}}};t.init(e)}}}),cf.module("upload",function(e,t,a){return new e.classes.XDSModule("upload",{f_video:function(t){e.platform.mobile||!this.utils.detectSupportedVideoMimeType()?(t.arg("inputArgs",{accept:"video/*",capture:"camcorder"}),t.inherit("f_file")):(t.addSubClass("recorder"),t.posttag(new e.classes.CFTag("video",{muted:!0,height:300})),t.addChild({xds:{id:"controls",css:t.genSubClass("controls"),sparse:!0,fields:[{id:"recordButton",type:"upload.recordButton",sparse:!0}]}}),t.ready("upload.setupVideoRecording"),t.on("xds-video-record","upload.startRecording"),t.on("xds-video-stop","upload.stopRecording")),t.on(e.css.removed,function(t){e.get_func("upload.events.closeCamera")(t)}),t.state.watch("mode",function(e){})},recordButton:function(t){var a=t.genSubClass("recording").trim();t.on("click",function(t){if(t.temp.countdownActive)return t.temp.countdownActive=!1,t.clearTimeout(t),void t.dom().html("");t.hasClass(a)?(t.removeClass(a),t.clearTimeout(),t.dom().html('<i class="fa-solid fa-rotate-left"></i>'),t.trigger("xds-video-stop"),e.get_func("upload.events.closeCamera")(t.parent_xdo().parent_xdo())):(t.temp.countdownActive=!0,t.dom().html("3"),t.setTimeout(function(e){e.dom().html("2")},1e3),t.setTimeout(function(e){e.dom().html("1")},2e3),t.setTimeout(function(e){e.temp.countdownActive=!1,e.dom().html(""),e.addClass(a),e.trigger("xds-video-record")},3e3))})}},{filePicked:function(e){var t=e.dom().find("input"),a=!1;if("file"===t[0].type&&t[0].files&&t[0].files.length&&(a=t[0].files[0].name,e.state.set("filename")),e.state.set("filename",a),a){var i=e.target("*title");i.length>0&&(""!==i.find("input").val()&&i.find("input").val()||e.state.set("title",a))}},doBrowse:function(e){e.target("*browseInput",1).find("input").trigger("click")},setupVideoRecording:function(t,a){t.state.peek("uploading")||("function"!=typeof a&&(a=void 0),t.target("*recordButton").hide(),navigator.mediaDevices.getUserMedia({audio:!0,video:{width:1280,height:720}}).then(function(e){var i=t.find("video"),n=i[0];n&&(n.srcObject=e,t.state.set("mediaStream",e),t.temp.stream=e,n.onloadedmetadata=function(e){i.css({width:i.width()+"px"}),n.play(),t.target("*recordButton").show()},a&&a(e))},function(t){e.log.info("Unable to get permission to record video"),e.dialog(e.lang("Unable to get permission to record video."))}))},startRecording:function(e){var t=this,a=e.state.peek("mediaStream"),i=function(a){var i=e.find("video");i[0].srcObject=a,i.attr("controls",!1);var n=t.utils.detectSupportedVideoMimeType(),r=new MediaRecorder(a,{mimeType:n});r.ondataavailable=function(t){e.temp.chunks||(e.temp.chunks=[]),e.temp.chunks.push(t.data)},r.onstop=function(){var t=new Blob(e.temp.chunks,{type:n});e.temp.chunks=[],t.lastModifiedDate=new Date;var a="webm";"video/mp4"===n&&(a="mp4"),t.name="videorecording-".concat(t.lastModifiedDate.getTime(),".").concat(a),e.temp._blob=t,e.find("video").attr("controls","controls"),e.find("video")[0].src=URL.createObjectURL(t),e.find("video")[0].srcObject=void 0},r.start(),e.temp.mediaRecorder=r};a?i(a):this.events.setupVideoRecording(e,i)},stopRecording:function(e){e.temp.mediaRecorder.stop()},closeCamera:function(e){if(e.temp.mediaRecorder&&"inactive"!==e.temp.mediaRecorder.state)try{e.temp.mediaRecorder.stop()}catch(e){}e.state.peek("mediaStream")&&e.state.peek("mediaStream").getTracks().forEach(function(e){try{e.stop()}catch(e){}}),delete e.temp.mediaRecorder,delete e.temp.stream,e.state.set("mediaStream",!1)},upload:function(t){var a=t.get_arg("sources");if(e.validate(t)){t.state.set("uploading",!0);var i={};if(t.find("input:not(.xds-forms-field-virtual):not(input[type=file]), textarea").each(function(){var e=$(this).attr("name");e&&(i[e]=$(this).val())}),a){a=a.split(",");for(var n=!1,r=0;r<a.length;r++){var o=t.target(a[r]);if(o&&o.xdo&&o.xdo.temp&&o.xdo.temp._blob)n=o.xdo.temp._blob;else if(o&&o.xdo&&o.xdo.dom()&&o.xdo.dom().find("input").length>0){var s=o.xdo.dom().find("input");"file"===s[0].type&&s[0].files&&s[0].files.length>0&&(n=s[0].files[0])}}if(n){var d=Promise.resolve();"new"===t.build.buildMode&&(d=e.post({url:{command:"commit",nid:t.cnid()},callback:function(){t.is_dead()||(t.build.buildMode="newCreated")}})),d.then(function(){e.get("addresources").upload(n,i,{action:t.dom().attr("action")},function(e){t.state.set("uploadProgress",e)},"upload",!1,!0,e.nt.File.Upload()).then(function(e,a,i){t.trigger("ajax_post")},function(){})})}}}}},{detectSupportedMediaType:function(e){if(!t.MediaRecorder)return!1;for(var a=0;a<e.length;a++)try{if(MediaRecorder.isTypeSupported(e[a]))return e[a]}catch(e){}return!1},detectSupportedVideoMimeType:function(){return this.utils.detectSupportedMediaType(["video/webm;codecs=vp9,opus","video/webm;codecs=avc1","video/webm;codecs=vp9.0","video/webm;codecs=vp9","video/webm;codecs=vp8,opus","video/webm;codecs=h264","video/webm;codecs=h264,opus","video/webm","video/mp4"])},videoRecordingSupported:function(e){return!!this.utils.detectSupportedVideoMimeType()}})}),cf.module("url",function(e,t,a){var i=0,n=["http","https"],r='<a href="{{href}}" target="_blank" class="'+e.css.link+'" data-linkified="true" id="xdl-url-{{counter}}">{{visible}}</a>',o=/\b(((http|https):\/\/)?)+([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?(\s+|$)/g,s=/(\s+|^)+([A-Z0-9\+_-]+\.?)+@[A-Z0-9.-]+\.[A-Z0-9.-]+\b/gi,d=function(e,t){for(var a={},i=(e||"").match(t)||[],n=0;n<i.length;n++){var r=i[n].trim(),o=a[r]||0;a[r]=++o}return a},l=function(e){if(e.length<10)return!1;e.indexOf("://")<0&&(e="https://"+e);var t,i=a.createElement("a");return i.setAttribute("href",e),""!==i.host&&(t=i.host,!/^[0-9\.]+$/.test(t)&&!!function(e){return/^(((?!-))(xn--|_{1,1})?[a-z0-9-]{0,61}[a-z0-9]{1,1}\.)*(xn--)?([a-z0-9\-]{1,61}|[a-z0-9-]{1,30}\.[a-z]{2,})$/.test(e)}(i.host)&&"local"!=i.host.split(".").pop()&&("https:"===i.protocol||"http:"===i.protocol||void 0))},c={reset:function(){i=0},find:function(e){var t=d(e,o),a={};for(var i in t)l(i)&&(a[i]=t[i]);return a},emails:function(e){var t=d(e,s),a={};for(var i in t)1==i.match(/\@/g).length&&(a[i]=t[i]);return a},linkify:function(t){if("string"!=typeof t||-1===t.indexOf("."))return t;var a,o,s,d,l,u,f=c.find(t),g=n.length,p=new RegExp(/<a/gi),h=new RegExp(/<\/a>/gi),m=c.emails(t);for(var v in f){for(o=v,a=g,v=v.replace("&#58;",":");a--;)"www."===(v=v.replace(n[a]+"://","")).substr(0,4)&&(v=v.substr(4)),v.length>46&&(v=v.substr(0,46)+"&hellip;");s=t.indexOf(o),d=t.substr(0,s),l=p.exec(d),u=h.exec(d),(l=l&&l.length||0)===(u=u&&u.length||0)&&(t=t.replace(o,e.tpl(r,{href:o,counter:++i,visible:v})))}for(var b in m)t=t.replace(b,e.tpl(r,{href:"mailto:".concat(b),counter:++i,visible:e.mlescape(b)}));return t}};return e.url=c,c}),cf.module("virus",function(e){var t=function(){return e.lang("Security scans have flagged this file as potentially malicious. We have quarantined it for your protection.")};return{warning:function(a){e.dialog(t())},state:function(a){var i=a.state.get("Content").Scan,n=e.lang("Not yet scanned for malware"),r="info-circle",o="var(--ui-body-foreground-colour)",s="fad";"Virus"==i?(r="exclamation-triangle",o="#FFCC00",n=t(),s="fas"):"Scanned"==i&&(r="fa-shield-check",o="#006600",n=e.lang("No Malware detected")),a.arg("fa_class",s),a.arg("icon",r),a.addStyle("color",o),a.inherit("fa.glyph"),a.on("click",function(t){e.dialog(n),t.stopPropagation()}),a.attr("aria-label",e.lang(n))}}}),cf.module("windows",function(e,t,a){if(null!=t.Windows&&null!=Windows.UI&&null!=Windows.UI.Notifications){var i=Windows.UI.Notifications;if(cordova&&cordova.inAppBrowser)cordova&&cordova.InAppBrowser&&(e.links.openUrl=cordova.InAppBrowser.open);else{var n=e.links.openUrl;e.links.openUrl=function(e,t,a){"_system"==t?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(e)):n(e,t,a)}}var r={_available:!0,_content:{badge:!1},_utils:{patchXML:function(e,t,a){var i,n=e.getElementsByTagName("image");for(i=0;i<n.length;i++)t[i]&&n[i].setAttribute("src",t[i]);for(i=0;i<a.length;i++){var r=e.selectSingleNode('//text[@id="'+(i+1)+'"]');r&&r.appendChild(e.createTextNode(a[i]))}}},get_binary:function(t){return new Promise(function(a,i){var n=new XMLHttpRequest;n.open("GET",e.tpl(t,{size:"310"}),!0),n.responseType="blob",n.onload=function(e){200==this.status?a(this.response):i(this.response)},n.send()})},cacheFile:function(e,t){var a=Windows.Storage.ApplicationData.current.localFolder;return t||(t=[btoa(e),".jpg"].join("")),new Promise(function(i,n){return r.get_binary(e).then(function(e){return a.createFolderAsync("notifCache",Windows.Storage.CreationCollisionOption.openIfExists).then(function(e){return e.createFileAsync(t,Windows.Storage.CreationCollisionOption.failIfExists)}).then(function(e){return e.openTransactedWriteAsync()},function(e){i("ms-appdata:///local/notifCache/"+t)}).then(function(a){var r=new FileReader;r.onload=function(){try{var e=new Windows.Storage.Streams.DataWriter(a.stream);new Uint8Array(this.result).forEach(function(t){e.writeByte(t)}),e.storeAsync().then(function(){a.commitAsync().then(function(){a.close(),i("ms-appdata:///local/notifCache/"+t)})},function(e){n(e)})}catch(e){n(e)}},r.readAsArrayBuffer(e)})},function(e){n(e)})})},launchFile:function(e,t){r.cacheFile(e,t).then(function(e){Windows.Storage.StorageFile.getFileFromApplicationUriAsync(new Windows.Foundation.Uri(e)).then(function(e){Windows.System.Launcher.launchFileAsync(e)})},function(e){})},precacheFile:function(t){var a=Windows.Storage.ApplicationData.current.localFolder,i=[btoa(t),".jpg"].join("");return new Promise(function(n,o){return a.createFolderAsync("notifCache",Windows.Storage.CreationCollisionOption.openIfExists).then(function(e){return e.createFileQuery().getFilesAsync()}).then(function(a){var o=!1;if(a.forEach(function(e){e.name==i&&(o=!0)}),!o)return e.log.debug("windows.precacheFile: file not cached, downloading"),r.getDownloadFilePromise(t);e.log.debug("windows.precacheFile: file already cached, aborting download"),n("ms-appdata:///local/notifCache/"+i)})})},batch:function(e){r.clearQueue();var t=function(e,t,a){r.cacheFile(e).then(function(e){r.tile(e,t,a)},function(e){})};i.TileUpdateManager.createTileUpdaterForApplication().enableNotificationQueue(!0);for(var a=0;a<e.length;a++)t(e[a].uri,["Edsby",e[a].text],e[a].tag)},toast:function(e,t){var n=i.ToastNotificationManager.getTemplateContent(i.ToastTemplateType.toastImageAndText02);"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),r._utils.patchXML(n,e,t),n.selectSingleNode("//toast").setAttribute("launch",a.location.search.replace("?",""));var o=new i.ToastNotification(n);i.ToastNotificationManager.createToastNotifier().show(o)},clearQueue:function(){i.TileUpdateManager.createTileUpdaterForApplication().clear(),i.TileUpdateManager.createTileUpdaterForApplication().enableNotificationQueue(!1)},badge:function(e){if(r._content.badge=e,e){var t=i.BadgeUpdateManager.getTemplateContent(i.BadgeTemplateType.BadgeNumber);t.selectSingleNode("/badge").setAttribute("value",e);var a=new i.BadgeNotification(t);i.BadgeUpdateManager.createBadgeUpdaterForApplication().update(a)}else i.BadgeUpdateManager.createBadgeUpdaterForApplication().clear()},tile:function(e,t,n){var o=[i.TileTemplateType.tileSquare150x150PeekImageAndText01,i.TileTemplateType.tileWide310x150PeekImage05,i.TileTemplateType.tileSquare310x310ImageAndTextOverlay02,i.TileTemplateType.tileSquare71x71Image];"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]);for(var s=!1,d=!1,l=0;l<o.length;l++)o[l]=i.TileUpdateManager.getTemplateContent(o[l]),s=o[0],d=o[l],r._utils.patchXML(d,e,t),l>0&&s.selectSingleNode("//visual").appendChild(s.importNode(d.selectSingleNode("//binding"),!0));s.selectSingleNode("//tile").setAttribute("launch",a.location.search.replace("?",""));var c=new i.TileNotification(s);n&&(c.tag=n),i.TileUpdateManager.createTileUpdaterForApplication().update(c)}};return r}return{_available:!1}}),cf.module("wysiwyg",function(e,t,a){var i=function(e,t){return"<span data-embed-name='"+e+"' embed-name='"+e+"' embed-style='"+t+"'>"+e+"</span>"},n=function(t){var i=e.lookup("embeddableSitesWhitelist")._reverse,n=a.createElement("a");n.setAttribute("href",t);for(var r=n.host,o=Object.values(i),s=0;s<o.length;s++){var d=o[s];if(!d.params.disabled){if("domain"==d.params.dnsfilter&&(r.endsWith(".".concat(d.params["data-value"]))||r===d.params["data-value"]))return!0;if("fqdn"==d.params.dnsfilter&&r===d.params["data-value"])return!0;d.params.dnsfilter}}return!1},r=function(e,t){var a=e.global("registeredFiles")||{},i=e.global("registeredFilesByNID")||{},n=function(n,r){for(var o in r||(r=t.nid),n)if(n.hasOwnProperty(o)){var s=n[o],d=s.name;!d&&s.Content&&(d=s.Content.ContentName,s.ContentType&&(s.ContentType=s.Content.ContentType)),s.pnid=r,e.arg("fileField")&&(s.field=e.arg("fileField")),a[d]=s,i[s.nid]=s}};t&&t.Content&&n([{name:t.Content.ContentName,ContentType:t.Content.ContentType,nid:t.nid}],e.nid("node")),t&&t.file&&n(t.file),t&&t.legacyfile&&n(t.legacyfile);var r=e.cssPath.split("-");if(r.shift(),r.pop(),r.length>0){for(var o=t,s=0;s<r.length&&("object"===_typeof(o)&&o[r[s]]);s++)o=o[r[s]];"object"===_typeof(o)&&o.files&&o.files.file&&n(o.files.file)}e.global("registeredFilesByNID",i),e.global("registeredFiles",a)},o=function(t,a,i,n,r){try{var o=!1,d=!1;"string"==typeof i?o=i:(i.style&&(o=i.style),i.alt&&(d=i.alt),i.width&&!e.platform.phone&&(o||(o=""),o+="width:".concat(i.width,"px;")),i.height&&!e.platform.phone&&(o||(o=""),o+="height:".concat(i.height,"px;")));var l=!1;if(t.nid){var c={dl:e.gbl.dl.replace(e.gbl.p,""),nid:a.rid?[a.pnid||t.nid(),a.rid,a.nid].join("/"):a.nid,p:e.gbl.p};!a.rid&&a.pnid&&(c.nid=[a.pnid,a.nid].join("/")),l=e.tpl("{{p}}{{dl}}{{nid}}",c)}var u=n||l,f=t.arg("xdsThumbnail")||"fileThumbnail";if("img"==r||function(e){if(e&&e.file&&e.file.ContentType&&0===e.file.ContentType.indexOf("image/"))return!0;if(e&&e.ContentType&&0===e.ContentType.indexOf("image/"))return!0;var t=["jpg","gif","png","jpeg"];if(e&&e.name&&e.name.indexOf)for(var a=0;a<t.length;a++)if(e.name.indexOf("."+t[a])>=0||e.name.indexOf("."+t[a].toUpperCase())>=0)return!0;return!1}(a)){u+="?xds=".concat(f,"&field=").concat(a.field||"file","&size=").concat(s.getImageSize());var g={name:a.name,align:i.align?e.tpl("align='{{align}}'",i):"",style:o?e.tpl("style='{{style}}'",{style:o}):"",alt:d?e.tpl("alt='{{alt}}'",{alt:e.mlescape(d)}):"",src:u};return n&&(g.url=n),e.tpl("<img data-embed-name='{{name}}' embed-name='{{name}}' {{align}} {{style}} {{alt}} src='{{src}}'>",g)}if(a.file&&"video/mp4"==a.file.ContentType||a.file&&0==a.file.ContentType.indexOf("audio/"))return e.tpl("<span embed-type='{{tag}}' data-embed-name='{{name}}' embed-name='{{name}}'><{{tag}} controls width='{{width}}'><source src='{{src}}' type='{{type}}'></{{tag}}></span>",{tag:0===a.file.ContentType.indexOf("audio/")?"audio":"video",name:a.name,src:u,type:a.file.ContentType,width:500});if(a.url){var p=function(t){var a;if(2==t.embedVersion){var i=t;t={},"video"==i.type&&(t.video=i.html),t.title=i.title,t.description=i.description,t.url=i.url,t.href=i.href,t.thumbnail=i.thumbnail_url}if(t.video){var n=btoa("<center>"+e.htmlentitiesdecode(t.video)+"</center>");a=e.tpl("<div style='border: 1px solid #cecece; border-radius: 5px; padding: 5px; text-align: center; position: relative; box-shadow: 0px 0px 15px -2px rgba(0,0,0,0.7);' embedCode='{{embedCode}}' onclick='$(this).html(atob($(this).attr(\"embedCode\")));'><div style='margin-left: -64px; position: absolute; left: 50%; top: 100px; background-image: url({{playicondata}}); background-repeat: no-repeat; height: 128px; width: 128px;'></div><div style='background-image:url({{thumbnail}});width: 480px; height: 320px; display: inline-block;'></div><div style='padding-bottom: 5px;'><span style='padding:5px; border: 1px solid #cecece; border-radius: 5px; font-size: 10px; background-color: #eee;'><a target='_blank' href='{{url}}'>{{url}}</a></span></div></div>",{thumbnail:t.thumbnail,embedCode:n,url:t.url,playicondata:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAYAAADnoNlQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACBZJREFUeNrsnU9oG0cUxmcXldCGJm5JTXtoIh8NLcj00ktriR56cm33FjDEgtCrrat7SAxNrrKvISCZGnKrY+fSHIplesklRKGFHLPxpTSUICd1QmhpO0+ZddfKrrQj7e782e+DRbZjEWvfb7/33szsrMMs1v7MQll86b+e5kcpxlvb/DgQX7f40Tl7a7Nt63lyLAn2mAguBXuaH0VxJC1PAHJfwNHmcHQAgbrAz4mAl2Ne3WmpLYDY5kC0AEE2gZ/lB72OafgnkivcFEDcBATJBZ6u8iWNA98PiCY/1jkQHiAYLviLIvglZr4oTWxwGJqAIF6B5we/yOwTOcKqbjA4ml35dcMs3woYHA2CPyeCX2T5E8FQVd1VOAqDT0FvsP8HcvIs6iRqqgpIVxEAl/nLQwBwJHLDe/y8LFvvBKLda1hS8afZSVSzdAU3QwCI8l0AMFBl4QqL1jiBaPsawvIgOTW5I1SNhgD2n4hobqKS5kSVkzIAuznp+9NWR4CQynS2mxIAlM/uAYDEROdxV4yp6O8EAoAG4paaqkmPNDoAACA4AAAgOAAAIDgAwHhVRp2AckYEoCS6AMjg9tEZAYAi2kBt5PFjatgBJXdIACjwWwBAG9EFuTvsm4cdLKJFIBgK1kslfnHWM0kHKAS117zscndHEgDUAWYUihMy9YFsOmgAAO01JuvUroQL0KKQMs6xEZqTmWxyYgKANGBxWojrBHUAYGRaqCfiBOIe/12cU2M1NWg00Y3pApC5qo/kBDqOCZz84jNWGH+P/XN4yA5/+pm/PkeYB6vvJFNhwJsvaZXkLi6wt7/68uj7U+e/Zn/u3GbPdn4EDIPj2JJ2Ah1d4MOd70N/TgB0rm92nQGSdwPXFBfoW9icfIu9u/QN++B6vZsuILl4OhEuQAMNW7p9iign6NXLXx+wgxtb7OUvDxD6GJ1ClBMsmfxJT3w0ycavrLDxqyu8iDyD0A+IqxPiAkX26o5hZqoT9Ipqhac3fmB/P/4DGDD2Tu8oomubC0S1lVQvnObdBNUPOddinHRg7Y2jp87PAwbGLvRNB7ovHB02HYSJUgOliJy2lRPB/Q/cQZTYKioY/bbyzU8/yRsEc/3SQe72ECAYzqwsdzuJEx9P5jIlOKakgqTTQb8xhidr1/LQSRylhKATlNE9vRpjoBRBqcLyMYZyWDqYBQK5aiunwyCAEwxoK612AlEPQBEiJ/BhsGiCqihGh4+cAC4g2VZa0kmUghCcQ4jlYPAnqAyHoQtBIfgNJN9JjF+ZZC/u3O0uajGwrZwOQoB0MIJoxJEOA2cru7cRFMRt5lBCbSXBYNC6x6OaAKkgpU7ChLaSOgQXYct9W9mFAPVABm3l++vfadtJwAky0hsT53RtK8uAQElbuaLVBBUgUNhJ+LOVqieoXBaYTYLUwaCyeIQTaNJJqEwPgEArV/gcEORdz+/cVdPGsld720AK5d9V/dfDR8oguM/wpDJlokknAkDlPEMBYVAXfF1mHAFBxtLwtvkOQeAhNOmLrvgn69d03DOhDQgyCL7u9zyiO0ix4qfFJQccAM3V7t6Gtj+z8K8JJzaL29CSCr4pO6qdvbXp+IUhpYQirl97Kv6YagW7A0AwggxebewFIdhjWGFkQ7snq0dBCNoIqRXt3kjpABBY0u5JFoVdCFzxjYfxgv4V/1Nu+79drNm0x1E7OE4QtIZFhPy4KPiWbqDdCoNgDxAY3e7Jai/KCVDx52TPouCzEwuBH3r7MwuUJ0p5DX6ONsU+9vDM3qnkjbxBQFc8DfS8ULS0S5G2+0FAhNTzEvwc72h6zAncnjzh2T5m4Ld7vy99m1sAenc5D1tZtM4sfSC2xe2ejDZ6f1CIsAqrHoaJ5x0cyQt7orob0jp0enOGyRU/jfLROD8ACHeBKCcgrTKDB47wDKRIrYX90I0YSPBMdAN/du/xylUA8LqaUQ/P7rfknApEI25KwXMRY2k16h8i70UU04wtnT7Fs53boe2eZbN7abmAF/WPhRj0lHX5JP79enhWcnIuQHIGvXt/ZqHBMLtodDHIXaDW7xfcmBTh3gQz1RnkArEgELlkHefTzDQQ1RFIpYNAWqCnphZxXo1RiwNQifOLMjuVVHFejVIt7i/GhkC0jGs4t8akgXbiEASKRCxP1z8NXJZ5gxQEosioolvQuhuQTtvSu5cJm6nhfGupar+RwcQgECA0+UsT51y7OmCoST9nlP+Vt430WF08NEO9aMnY/LBvHnUzywoKReVqj9q+O6P+BeIBi+QIeJaSGgAqcUYFU4VAgEApYRcgZN4JTA1TCCadDoIdQwWtY6YAVJIAIDEngCMoASCxWizRXc7hCJnUAFNJApC4EwQcYUw4AtpHzYrA1J0g4Agd4QgtxC4RNdMCIDUn6HEFuptpGXEcWquyE0LaQSBAoKXrDRSM0gXgvL+5lPEQCBCK/GULdUIstQQAmRTYTtafjsNA1nYJcY68+sn+M12846j4pGI8gWqFMuJ+7OqvJjUApD0EARiWhSvkuVbwxNXfVPUHOKrPgBhTWM5hiiDrp6X8a1nlfm0h6CkcCYTFnPT9NdXB1w6CEBjmLEsT/pXfVJH3jYKgJ02QKywxs2966eZ8FrJhFCCQA4K6iAsGuYO/5c9GFoM9uYCgBwgCYVZDIPzAbw+74BMQDD/eQDBMKxhz6IjenjaKbiU9vQsIRoOiJGqIaeEUSQxTt0XQ98TXnslBtxqCAUVmEIZ+rhHM4W1di7kk9Z8AAwDeb3V6Q1bp/AAAAABJRU5ErkJggg=="})}else{var r=e.tpl("<img src='{{thumbnail}}' style='display: inline-block;max-width: 488px;'>",t)||"";a=e.tpl(["<div style='border: 1px solid #cecece; border-radius: 5px; padding: 5px; box-shadow:0px 0px 15px -2px rgba(0,0,0,0.7);;'>","<div style='text-align:center;padding-bottom: 5px;'>{{img}}</div><div style='border-top: 1px solid #cecece;margin: 0px -5px 5px -5px; text-align: center; '>","<div style='padding:5px; margin-bottom: 5px; font-size: 12px;'>{{description}}</div>","<div><span style='padding:5px; border: 1px solid #cecece; border-radius: 5px; font-size: 10px; background-color: #eee;'>","<a target='_blank' href='{{url}}'>{{url}}</a></span></div></div></div>"].join(""),{url:t.url,img:r,description:t.description})}return a}(a.url);return e.tpl("<div contenteditable='false' data-embed-name='{{name}}'embed-name='{{name}}' embed-type='embed' class='xds-wysiwyg-embeddedLink'>{{html}}</div>",{name:a.name,html:p})}if(n)return"<a data-embed-name='"+a.name+"'embed-name='"+a.name+"' href='"+n+"'>"+a.name+"</a>";a.nodetype,e.nt.File(!0),u.indexOf("xds=")<0&&(u=u+"?xds="+f+"&field=file&size=1024");var h={name:a.name,url:u,target:" target='_blank'"};return e.tpl("<a data-embed-name='{{name}}' embed-name='{{name}}' href='{{url}}'{{target}}>{{name}}</a>",h)}catch(e){}return!1},s={getImageSize:function(){return e.layout.isPhone()?1024:"1024"},_contentPatches:{invalidImageUrls:function(e){for(var t=$(e).find(".xds-placeholder-fileThumbnail img"),a=0;a<t.length;a++)if(t[a].src.indexOf("http")>=0){var i=t[a].src.split("nodedl");t[a].src="/core/nodedl"+i[1]}}},_config:{resources:{basic:{css:[e.gbl.lib+"richText.css"]},mathquill:{css:[e.gbl.lib+"pkg/node_modules/mathquill/build/mathquill.css"],js:e.gbl.lib+"pkg/node_modules/mathquill/build/mathquill.js"}},Quill:{}},types:{bookmarkInit:function(t){t.animationDisable();var a=e.get("sanitizer");t.tag("div"),t.data&&t.data.data&&(t.data=t.data.data);var i=function(e){return e&&"string"==typeof e?e.replace(/\\u([\d\w]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}):""},r=e.mlescape(t.data.url||"");"/"==r.charAt(r.length-1)&&(r=r.substr(0,r.length-1));var o=t.data.href||"";"/"==o.charAt(o.length-1)&&(o=o.substr(0,o.length-1)),r=r.split("#")[0],o=o.split("#")[0];var s={theUrl:e.mlescape(t.data.href)||a.sanitize(e.mlescape(t.data.url||""))};t.data.embedVersion||(t.data.embedVersion=1);var d=t.data;d.description||(d.description=""),2==t.data.embedVersion&&(d={},("video"===t.data.type||n(t.data.url)&&"rich"===t.data.type)&&(d.video=t.data.html),"string"==typeof t.data.description?d.description=i(t.data.description):d.description="",d.thumbnail=t.data.thumbnail_url,d.thumbnail||"photo"!=t.data.type||(d.thumbnail=t.data.href),d.title=t.data.title=i(t.data.title)),d.description.length>280&&(d.description=d.description.substring(0,280)),t.data.cached_thumbnail?t.arg("noThumbnail")?delete d.thumbnail:t.get_val("embedprofpic")?d.thumbnail=e.get("files")._getFilePublicThumbnailUrl(t,!1,t.get_val("embedprofpic")):d.thumbnail=e.tpl("{{dl}}{{nid}}?xds=fileThumbnail&field=file&size=1024",{dl:e.gbl.dl,nid:t.data.NID||t.cnid()}):d.thumbnail&&(d.thumbnail=e.get_func("files.utils.embedExternalImageURI")(t,d.thumbnail)),d.video&&d.thumbnail?(s.videoThumbnailUrl=d.thumbnail,s.videoDescription=d.description):d.video&&n(t.data.href)?(s.videoThumbnailUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAAD/CAQAAACUAchBAAABmklEQVR42u3RAQEAAAiDsD+51S1gA0cE1kz0tuLHL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCL/zCj98E/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/PiFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/jx48cv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MIv/MKPX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX/iFX0cLtTd/gVGGAXAAAAAASUVORK5CYII=",t.data.thumbnail_url=s.videoThumbnailUrl,d.thumbnail=t.data.thumbnail_url,s.videoDescription=d.description):(s.textDescription=d.description,d.thumbnail&&(s.textThumbnailUrl=d.thumbnail)),d.description||d.thumbnail||d.video||(s.noContentText=" "),t.map(s)},bookmark:function(i){var r=i.data;if(r&&r.field)try{(r=JSON.parse(e.mlunescape(r.field))).rid=i.data.rid,r.NID=i.data.NID}catch(e){try{(r=JSON.parse(r.field)).rid=i.data.rid,r.NID=i.data.NID}catch(e){}}if(r&&r.url){try{(r=JSON.parse(e.mlunescape(r.url))).rid=i.data.rid,r.NID=i.data.NID}catch(e){try{(r=JSON.parse(r.url)).rid=i.data.rid,r.NID=i.data.NID}catch(e){}}if(r.url.includes(e.gbl.server+"/p/PermaLink/")){var o=String(r.url).split("/").pop();return o=o.split(/[?=&]/),void i.ready(function(){i.newEvent("loadxds",{xds:"PermaLinkEmbed",nid:o[0],thread:o[2],targetNid:o[4],isolateTarget:"True",noPath:!0,noForm:!0,noLightbox:!0})})}}if(r&&"string"!=typeof r&&("object"!==_typeof(r)||r.href)){r.nid=i.nid();var s=function(i){var r=i.data,o=i;2==i.data.embedVersion?(r={},"video"!==i.data.type&&"rich"!==i.data.type||(i.data.html.indexOf("<")>=0?r.video=i.data.html:r.video=e.htmlentitiesdecode(i.data.html)),r.url=i.data.url,r.description=i.data.description,r.thumbnail=i.data.thumbnail_url,r.title=i.data.title):1==i.data.embedVersion&&(r.video=e.get("sanitizer").sanitize(e.htmlentitiesdecode(r.video)));var s=n(r.url);if(e.platform.mobile||!r.video||r.video&&!r.thumbnail||t.cfNative||t.EdsbyReactBridge||r.video.indexOf("embed.js")>0&&!s){if("onload"==i.e.type)return;e.links.openUrl(r.url)}else if(r.video){var d=a.createElement("div");d.innerHTML=r.video;var l=!1;$.each($(d).find("iframe"),function(e,t){t.sandbox="allow-scripts allow-forms allow-same-origin allow-presentation",l=t}),l?o.target("*videoPlayer-thumbnail").replaceWith('<div class="xds-wysiwyg-embed-container">'.concat(l.outerHTML,"</div>")):o.target("*videoPlayer-thumbnail").replaceWith(d.innerHTML.split("&lt;script")[0]),o.target("*videoPlayer-playicon").remove(),o.target("*videoPlayer-overlay").remove()}i.stopPropagation()},d={"text-align":"center",position:"relative","background-color":"var(--ui-container-subsidiary-background-colour)",color:"var(--ui-body-foreground-colour)","max-width":"100%",display:"flex","flex-direction":"column",border:"1px solid var(--ui-container-sep-secondary-border-colour)","border-radius":"var(--ui-container-border-radius)",overflow:"hidden"};if(i.arg("addstyles")){var l=i.arg("addstyles");for(var c in l)d[c]=l[c]}i.addChild({id:"bookmark",xds:{id:"EmbedRender",_desc:"Render Embedded Rich Object",type:"wysiwyg.bookmarkInit",noThumbnail:i.arg("noThumbnail"),"aria-label":e.lang("Link to {{url}}"),_styles:[{styles:d},{condition:".embedly-embed",styles:{"max-width":"100%"}}],fields:[{id:"lightbox.title",sparse:!0,_styles:[{styles:{flex:1}}]},{id:"videoPlayer",fields:[{id:"overlay",_styles:[{styles:{position:"absolute",width:"100%",height:"100%","background-color":"rgba(0,0,0,0.5)"}}],sparse:"1"},{id:"playicon",_styles:[{styles:{"margin-left":"-45px",left:"50%",top:"50%","margin-top":"-55px","font-size":"30px",color:"white",position:"absolute",width:"90px",height:"90px",border:"6px solid #fff","z-index":"10","border-radius":"200px",display:"flex","align-items":"center",transition:"all 0.4s cubic-bezier(0.19,1,0.22,1) 0s","box-shadow":"0 0 5px rgba(0, 0, 0,.5)","text-shadow":"0 0 5px rgba(0, 0, 0,.5)"}},{condition:"> span",styles:{margin:"0 auto"}}],sparse:"1",type:"fa.icon",icon:"play",fa_class:"fas"},{id:"thumbnail",css:"xds-wysiwyg-bookmark-thumbnail",_styles:[{styles:{display:"inline-block",width:"100%","max-width":"1000px","max-height":"100%!important","object-fit":"cover!important"}}],type:"files.image",sparse:1,tag:"img",aspect:"16:9",cdid:"videoThumbnailUrl"}],sparse:"1",_styles:[{styles:{position:"relative","min-height":"64px",flex:1,overflow:"hidden"}},{condition:":hover .xds-fa-icon",styles:{transform:"scale(1.3)"}}],showif:"data"},{id:"imageLink",fields:[{id:"thumbnail",type:"files.image",aspect:"16:9",tag:"div",_styles:[{styles:{width:"100%",display:"inline-block","background-repeat":"no-repeat","background-size":"contain","background-position":"center","align-content":"center"}}],cdid:"textThumbnailUrl"}],type:"eval",_styles:[{styles:{display:"inline-block",flex:1}}],showif:"data"},{id:"title",_styles:[{styles:{"text-align":"left","font-size":"16px","font-weight":"bold",flex:"0 0 auto","text-overflow":"ellipsis",overflow:"hidden",padding:"7px 10px 5px"}}],sparse:"1",showif:"data",noLinks:!0},{id:"tdescription",_styles:[{styles:{padding:"0 10px 5px","text-align":"left"}},{condition:":nth-child(3)",styles:{width:"calc(100%-20px)"}}],cdid:"textDescription",noLinks:"rue",type:"eval",_func:function(e){e.data.length>280&&(e.data=e.data.substring(0,280)+"...")}},{id:"vdescription",_styles:[{styles:{padding:"0 10px 5px","text-align":"left"}}],cdid:"videoDescription",noLinks:!0,type:"eval",_func:function(e){e.data.length>280&&(e.data=e.data.substring(0,280)+"...")}},{id:"noContent",type:"noContent",showif:"data",title:e.lang("No link preview is available, please click here to view the original page."),cdid:"noContentText"},{id:"link",_styles:[{styles:{"margin-top":"5px",flex:1,"background-color":"#eee","text-align":"left","max-width":"100%"}}],fields:[{id:"link",type:"span",_styles:[{styles:{"font-size":"10px","white-space":"nowrap",display:"block",padding:"5px 10px"}}],sparse:"1",fields:[{id:"link",type:"link",target:"_blank",sparse:"1",cdid:"theUrl",title:"Source:",linkData:!0,showData:!0,_styles:[{styles:{"text-overflow":"ellipsis",overflow:"hidden",display:"block"}}]}]}],sparse:"1",events:[{args:{stopPropagation:1},func:"noop"}]}],sparse:"1",_owner:"Timon",events:[{args:{},func:s,trigger:"click",stopPropagation:!0,preventDefault:!0}],showif:"data",perm:{nodetypes:"6.67",roles:"Authenticated:R"}},data:r}),i.arg("autoinject")&&i.ready(function(e){s(e)})}else i.exitBlank()},permalink:function(e){},toolbar:function(e){e.sparse=!0,e.tag("div")},header:function(e){e.sparse=!0,e.inherit("block")},embeddedFiles:function(e){r(e,e.data),e.inherit("sys")},separator:function(e){e.sparse=!0,e.tag("span").addClass("ql-format-separator")},group:function(e){e.sparse=!0,e.tag("span").addClass("ql-format-group")},button:function(e){e.sparse=!0,e.tag("span").addClass("ql-format-button"),e.arg("button")&&e.addClass("ql-"+e.arg("button")),e.on("mousedown",function(){e.trigger("xds-wysiwyg-saveCursor")})},menu:function(e){e.sparse=!0,e.tag("select")},option:function(e){e.sparse=!0,e.tag("option").attr("value",e.arg("value")).attr("label",e.arg("label"))},hiddenInput:function(e){var t=e.data;e.data="",e.inherit("f_hidden"),e.ready(function(){e.data=t})},detect:function(t){if(t.attr("role","document"),t.data){var a;t.data,"object"===_typeof(t.data)&&t.data&&(a=t.data.mentions||{},t.data=t.data.content||"",t.temp.mentions=a);var i=!1;t.arg("allowedTags")&&(i=t.arg("allowedTags").toUpperCase().split(",")),t.data=e.mlescape(e.mlunescape(t.data),i),t.data=function(t,a){var i=t.match(/\@u\:-?\d+\@/g),n=t;if(a=a||{},i){var r=!0,o=!1,s=void 0;try{for(var d,l=i[Symbol.iterator]();!(r=(d=l.next()).done);r=!0){var c=d.value,u=parseInt(c.substring(3,c.length-1));if(!isNaN(u)&&a[u]){var f=new e.classes.CFTag("span",{"data-mention":u},void 0,["xdl-mention"],"@".concat(e.mlescape(a[u].name)));n=n.replace(c,f.tagStr)}else if(-1===u){var g=new e.classes.CFTag("span",{"data-mention":-1},void 0,["xdl-mention"],"@".concat(e.lang("Hidden for Privacy Reasons")));n=n.replace(c,g.tagStr)}else if(!a[u]){var p=new e.classes.CFTag("span",{"data-mention":-1},void 0,["xdl-mention"],"@".concat(e.lang("Invalid User")));n=n.replace(c,p.tagStr)}}}catch(e){o=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}return n}(t.data,a),t.data.indexOf("\x3c!--xdl-rich--\x3e")>=0?(void 0===t.arg("feedSafe")&&t.arg("feedSafe",!0),t.inherit("wysiwyg.draw")):(t.data.indexOf(".")>=0&&!t.processURLS&&!t.arg("processURLS")&&(t.data=e.processURLS(t.data)),t.data=e.get("sanitizer").sanitize(t,t.global("sanitizer-rule")||"feed")||"",(void 0===t.arg("feedSafe")||t.arg("feedSafe")||t.global("wysiwyg-feedSafe"))&&(t.data=t.data.replace(/\r\n|\n\r/g,"\n").replace(/[\n]{2,}/g,"\n\n").replace(/^\s+|\s+$/g,"")),t.data=e.nl2br2(t.data)),""===t.data.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|[\ud83c[\ude50\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"").trim()&&t.addSubClass("isOnlyEmoji"),a&&t.ready(function(t){for(var i=t.dom().find("span.xdl-mention[data-mention]"),n=0;n<i.length;n++){var r=$(i[n]),o=r.html();r.html("");var s=r.attr("data-mention"),d=a[s];d&&d.valid&&e.xdsbuild({target:r,append:!0,slice:{xds:{id:"mention",type:"miniprofile",nid:s,xdsclick:"Profile",xdshover:"miniprofile",xdstouch:"MiniprofileMobile",sparse:!0,renderNoPerm:!0,"aria-label":e.tpl(e.lang("User mention: {{user}}"),{user:d.name}),fields:[{id:"mention",sparse:!0,_styles:[{styles:{display:"inline"}}]}]},data:{mention:o}}})}})}},simple:function(t){t.arg("sanitizeRule","feed");var a=!1;t.arg("allowedTags")&&(a=t.arg("allowedTags").toUpperCase().split(",")),t.data&&(t.data=e.mlescape(e.mlunescape(t.data),a)),t.displayVal=t.data},draw:function(t){t.attr("role","document");var a=function(t){return t.arg("sanitizeRule")?t.arg("sanitizeRule"):t.nt()==e.nt.Message.LessonSummary()||t.nt()==e.nt.Document.Lesson()||t.nt()==e.nt.Document.Assignment()||t.nt()==e.nt.Document.Form()?"richtext":t.global("sanitizer-rule")||"feed"};t.xds.noLinks=!0,t.arg("hideMultiNewLines")&&t.addClass("xds-wysiwyg-draw-hideMultiNewLines");var i=void 0;if(t.arg("feedSafe")&&(i="stripStyles"),t.data&&t.data.indexOf("xdl-rich")<0&&t.data.indexOf("&lt;")>=0&&t.data.indexOf("<")<0||t.data&&t.data.indexOf("&lt;")>=0&&t.arg("forceUnescape")){t.data=e.get("sanitizer").sanitize(e.htmlentitiesdecode(t.data),a(t),i,{files:e.get_func("wysiwyg.getKnownFiles")(t)});try{e.gbl.p.indexOf("central")<0&&e.gbl.p.indexOf("cfol")<0&&e.diagnosticMessage("Found Legacy RichText In need of upgrade","RichText Sanity Check")}catch(e){}}else t.data=e.get("sanitizer").sanitize(t,a(t),i,{files:e.get_func("wysiwyg.getKnownFiles")(t)});t.data||(t.data=""),t.arg("hideMultiNewLines")&&t.addClass("xds-wysiwyg-draw-hideMultiNewLines"),t.inherit("richtext.types.richText").ready(function(t){"create"!=t.get_setting("command")&&(e.get_func("wysiwyg.replacePlaceholdersIfAny")(t),e.get_func("wysiwyg.renderExternalImagesIfAny")(t))})},drawSource:function(t){var i=a.createElement("p");i.textContent=t.data,t.data=e.get("sanitizer").sanitize(i.innerHTML),t.tag("div")},container:function(t){var a=t;t.xds.sparse=!0,a.arg("xdsUpload")&&a.state.set("xdsUpload",a.arg("xdsUpload")),a.arg("xdsDirectUpload")&&a.state.set("xdsDirectUpload",a.arg("xdsDirectUpload")),t.on("tbwchange","trigger",{eventName:"change"}),a.arg("fullscreen")&&a.addClass("xds-wysiwyg-container-alwaysFullscreen"),t.on("xds-wysiwyg-editorCreated",function(t){t.temp.editor=t.get_arg("editor"),e.get_func("wysiwyg.replacePlaceholders")(t)}).on("xdo-wysiwyg-saveSelection",function(e){e.temp.selectionRange=e.get_arg("selectionRange")}).on("xds-uploader-fileComplete",function(e){var a=e.get_arg("fileItem").name;t.trigger("xds-wysiwyg-injectHTML",{snippet:i(a)})}).on("xds-uploader-uploadComplete",function(a){e.log.debug("wyswiwyg.container[xds-uploader-uploadComplete]"),t.global("registeredFiles",void 0),e.get_func("wysiwyg.replacePlaceholders")(a)}).on("xds-wysiwyg-injectHTML",function(e){var t=e.get_arg("snippet");!function(e,t){e.temp.editor.insertHTML(t)}(e,t)}).on("xds-wysiwyg-externalToolbarCommand",function(e){var a=void 0;t.get_arg("seedContent")&&(a={seedContent:t.get_arg("seedContent")}),t.target("*toolbar").xdo.target(e.get_arg("toolbarItem")).trigger("launchPicker",a)}),a.on("tbwchange",function(e){e.newEvent("wys-change")}),a.on("tbwpaste",function(e){e.newEvent("wys-paste")}),a.on("tbwfocus",function(e){e.newEvent("wys-focus")}),a.on("tbwblur",function(e){e.newEvent("wys-blur")}),a.on("tbwresize",function(e){e.newEvent("wys-resize")})},fileSource:function(e){var t=e.global("wysiwygFileSources")||[],a={nid:e.nid(),xds:e.arg("xdsList")};t.push(a),e.global("wysiwygFileSources",t)}},fn:{open:function(e){var t=e.parent_xdo().parent_xdo().parent_xdo().temp,a="";e.get_arg("seedContent")&&(a=e.get_arg("seedContent")),e.event("lightbox.open",{seedContent:a,editor:t.editor})},processHTMLForSave:function(e){var t=e.temp.editor,a=e.global("registeredFiles"),n=t.getData(),r=n;if(void 0===e.arg("saveDenormalized")||e.arg("saveDenormalized")){var o=$("<iframe></iframe>");$(n).appendTo(o);for(var s=o.find("img, a"),d=0;d<s.length;d++){var l=$(s[d]),c=l.attr("src")||l.attr("href");if(c){var u=l.attr("style"),f=c.split("?")[0].split("/"),g=f[f.length-1];for(var p in a)if(a[p].nid==g){l.replaceWith(i(p,u));break}}}r=o.html()}return r},getFormattedHTML:function(e){return s.fn.processHTMLForSave(e.parent_xdo())},isEditor:function(e){return e.parent_xdo()&&e.parent_xdo().temp&&void 0!==e.parent_xdo().temp.editor},injectFile:function(t){var a=t.get_arg("file"),i=!1,n=e.tpl("{{nodetype}}.{{nodesubtype}}",a);if(a.file||n==e.nt.Document.Content()||n==e.nt.Document.Link()){if(e.tpl("{{nodetype}}.{{nodesubtype}}",a)==e.nt.Document.Link()&&!(a=t.global("registeredFiles")[a.name]))return;var r=t.get_val("baseUrl").split("/").length-1,s=[];if(0==r)s="./";else{for(var d=0;d<r;d++)s.push("..");s=s.join("/")+"/"}i=a.file&&0==a.file.ContentType.indexOf("image/")?o(t,a,"",s+a.name,"img"):o(t,a,"",s+a.name,"href")}i&&t.trigger("xds-wysiwyg-injectHTML",{snippet:i})},parseplaceholders:function(e,t){for(var a=0;a<e.length;a++){var i=$(e[a]),n=i.attr("data-embed-name")||i.attr("embed-name")||i.attr("resource-name");if(n&&"undefined"!=n){var r=i.attr("embed-style"),s=i.attr("align");if("undefined"!=r&&void 0!==r||(r="max-width: 100%;"),s&&(r={style:r,align:s}),t){if(t[n]){var d=t[n];i.replaceWith(o(xdo,d,r))}}else{var l=o({},{name:n},r,i.attr("src")||i.attr("href"));l&&i.replaceWith(l)}}}},replacePlaceholdersIfAny:function(t){t.dom().find("*[data-embed-name],*[embed-name],*[resource-name],.xds-placeholder-contained,img[sanitizer-relative-src]").length>0&&e.get_func("wysiwyg.replacePlaceholders")(t)},renderExternalImagesIfAny:function(t){for(var i=t.dom().find("img"),n=0;n<i.length;n++){var r=i[n];if(void 0!==r.src){var o=a.createElement("a");o.href=r.src,o.host!=e.gbl.host&&"data:"!=o.protocol&&e.get("files.utils.embedExternalImageTag")(t,r)}}},updateKnownFiles:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i,n){e.get_data({url:e.gen_url({nid:a.nid||t.nid(),xds:a.xds||"RichTextEmbeddedFiles"})},function(e){r(t,e),i(e)}).catch(function(e){n(e)})})},getKnownFiles:function(e){return{files:e.global("registeredFiles"),nidMap:e.global("registeredFilesByNID")||{}}},replacePlaceholders:function(t){t.global("wysiwygFileSources");var a=t.global("registeredFiles"),n=t.global("registeredFilesByNID")||{},r=function(){var n=t;if(t.temp.editor){var r=t.temp.editor.getData(),d="<div/>";r.toLowerCase().indexOf("<html")>=0&&(d="<iframe></iframe>"),n=$(d).html(r)}!function(e){for(var t=e.find(".xds-placeholder-contained"),n=0;n<t.length;n++){var r=t[n],o=!1,s=r.className.split(" "),d=void 0;for(d=0;d<s.length;d++)if(0==s[d].indexOf("nid-")){o=s[d].split("-").pop();break}for(d in a)if(a[d].nid==parseInt(o)){$(r).replaceWith(i(a[d].name));break}}}(n),function(e){for(var i=t.arg("xdsThumbnail")||"fileThumbnail",n=["width","height","align","alt"],r=0;r<e.length;r++){var s=$(e[r]),d=s.attr("data-embed-name")||s.attr("embed-name")||s.attr("resource-name");if(d&&"undefined"!=d){var l=s.attr("style")||s.attr("embed-style");"undefined"!=l&&void 0!==l||(l="max-width: 100%;");for(var c={style:l},u=0;u<n.length;u++){var f=s.attr(n[u]);f&&(c[n[u]]=f)}if(a[d]){var g=a[d];s.replaceWith(o(t,g,c))}else s.attr("src")&&"fileThumbnail"!=i&&s.attr("src",s.attr("src").replace("xds=fileThumbnail","xds="+i))}}}(n.find("*[data-embed-name],*[embed-name],*[resource-name]")),function(){for(var i,r=n.find("img[sanitizer-relative-src]"),o=t.arg("xdsThumbnail")||"fileThumbnail",d=0;d<r.length;d++)if(i=a[r[d].getAttribute("sanitizer-original-src").replace("../","")]){var l={dl:"/"+e.gbl.dl.replace(e.gbl.p,""),nid:i.rid?[i.pnid||t.nid(),i.rid,i.nid].join("/"):i.nid};r[d].src=e.tpl("{{dl}}{{nid}}?field=file&size=".concat(s.getImageSize(),"&xds=").concat(o),l)}}(),t.temp.editor&&t.temp.editor.setData(n.html()),t.target("*rich-file").trigger("xds-uploader-resetQueue")};void 0===a&&(a={});var d=[];t.arg("noFetchAttachList"),d.length>0?Promise.all(d).finally(function(){t.global("registeredFiles",a),t.global("registeredFilesByNID",n),r()}):r()}}};return s}),cf.module("wysiwyg2",function(e,t,a,i){var n=function(e,t){return"<span embed-name='"+e+"' embed-style='"+t+"'>"+e+"</span>"},r=function(t,i,n,r,o){try{var s=!1,d=!1;if(t.nid){var l={p:e.gbl.p,nid:[i.pnid||t.nid(),i.rid,i.nid].join("/")};s=e.tpl("{{p}}core/nodedl/{{nid}}",l),d=e.tpl("{{p}}p/LOPageView/{{nid}}",l)}var c=!1;if(a.location.href.indexOf("/lo/get/")>=0&&(c="/lo/get/"+a.location.href.split("/lo/get/")[1].split("/").shift()+"/"+i.name),t.global("cartridge")){var u=t.global("cartridge"),f={};f[e.nt.Document.Resource()]=!0,f[e.nt.Document.Content()]=!0,f[e.nt.File.Upload()]=!0,f[e.nt.File.Attachment()]=!0,i.pnid==u&&f[i.nodetype+"."+i.nodetype]&&(r=c="/lo/get/"+u+"/"+i.name)}var g=r||c||s;if(t.nt()==e.nt.Document.Resource()&&t.global("baseUrl")&&t.global("baseUrl").indexOf("/lo/get")>=0){var p=t.global("baseUrl").split("{{cartridge}}/")[1].split("/");for(var h in p)p[h]="..";p[p.length-1]=i.name,g=p.join("/")}if("img"==o||function(e){if(e&&e.file&&e.file.ContentType&&0===e.file.ContentType.indexOf("image/"))return!0;var t=["jpg","gif","png"];if(e&&e.name&&e.name.indexOf)for(var a=0;a<t.length;a++)if(e.name.indexOf("."+t[a])>=0||e.name.indexOf("."+t[a].toUpperCase())>=0)return!0;return!1}(i))return g+="?xds=fileThumbnail&field=file",e.platform.phone?g+="&size=400":g+="&size=1024",r?"<img embed-name='"+i.name+(n?"' style='"+n:"")+"' src='"+r+"'>":"<img embed-name='"+i.name+(n?"' style='"+n:"")+"' src='"+g+"'>";if(i.file&&"video/mp4"==i.file.ContentType||i.file&&0==i.file.ContentType.indexOf("audio/"))return e.tpl("<span embed-type='{{tag}}' embed-name='{{name}}'><{{tag}} controls width='{{width}}'><source src='{{src}}' type='{{type}}'></{{tag}}></span>",{tag:0===i.file.ContentType.indexOf("audio/")?"audio":"video",name:i.name,src:g,type:i.file.ContentType,width:500});if(i.url){var m=function(t){var a;if(t.video){var i=btoa("<center>"+e.htmlentitiesdecode(t.video)+"</center>");a=e.tpl("<div style='border: 1px solid #cecece; border-radius: 5px; padding: 5px; text-align: center; position: relative; box-shadow: 0px 0px 15px -2px rgba(0,0,0,0.7);' embedCode='{{embedCode}}' onclick='$(this).html(atob($(this).attr(\"embedCode\")));'><div style='margin-left: -64px; position: absolute; left: 50%; top: 100px; background-image: url({{playicondata}}); background-repeat: no-repeat; height: 128px; width: 128px;'></div><div style='background-image:url({{thumbnail}});width: 480px; height: 320px; display: inline-block;'></div><div style='padding-bottom: 5px;'><span style='padding:5px; border: 1px solid #cecece; border-radius: 5px; font-size: 10px; background-color: #eee;'><a target='_blank' href='{{url}}'>{{url}}</a></span></div></div>",{thumbnail:t.thumbnail,embedCode:i,url:t.url,playicondata:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAYAAADnoNlQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACBZJREFUeNrsnU9oG0cUxmcXldCGJm5JTXtoIh8NLcj00ktriR56cm33FjDEgtCrrat7SAxNrrKvISCZGnKrY+fSHIplesklRKGFHLPxpTSUICd1QmhpO0+ZddfKrrQj7e782e+DRbZjEWvfb7/33szsrMMs1v7MQll86b+e5kcpxlvb/DgQX7f40Tl7a7Nt63lyLAn2mAguBXuaH0VxJC1PAHJfwNHmcHQAgbrAz4mAl2Ne3WmpLYDY5kC0AEE2gZ/lB72OafgnkivcFEDcBATJBZ6u8iWNA98PiCY/1jkQHiAYLviLIvglZr4oTWxwGJqAIF6B5we/yOwTOcKqbjA4ml35dcMs3woYHA2CPyeCX2T5E8FQVd1VOAqDT0FvsP8HcvIs6iRqqgpIVxEAl/nLQwBwJHLDe/y8LFvvBKLda1hS8afZSVSzdAU3QwCI8l0AMFBl4QqL1jiBaPsawvIgOTW5I1SNhgD2n4hobqKS5kSVkzIAuznp+9NWR4CQynS2mxIAlM/uAYDEROdxV4yp6O8EAoAG4paaqkmPNDoAACA4AAAgOAAAIDgAwHhVRp2AckYEoCS6AMjg9tEZAYAi2kBt5PFjatgBJXdIACjwWwBAG9EFuTvsm4cdLKJFIBgK1kslfnHWM0kHKAS117zscndHEgDUAWYUihMy9YFsOmgAAO01JuvUroQL0KKQMs6xEZqTmWxyYgKANGBxWojrBHUAYGRaqCfiBOIe/12cU2M1NWg00Y3pApC5qo/kBDqOCZz84jNWGH+P/XN4yA5/+pm/PkeYB6vvJFNhwJsvaZXkLi6wt7/68uj7U+e/Zn/u3GbPdn4EDIPj2JJ2Ah1d4MOd70N/TgB0rm92nQGSdwPXFBfoW9icfIu9u/QN++B6vZsuILl4OhEuQAMNW7p9iign6NXLXx+wgxtb7OUvDxD6GJ1ClBMsmfxJT3w0ycavrLDxqyu8iDyD0A+IqxPiAkX26o5hZqoT9Ipqhac3fmB/P/4DGDD2Tu8oomubC0S1lVQvnObdBNUPOddinHRg7Y2jp87PAwbGLvRNB7ovHB02HYSJUgOliJy2lRPB/Q/cQZTYKioY/bbyzU8/yRsEc/3SQe72ECAYzqwsdzuJEx9P5jIlOKakgqTTQb8xhidr1/LQSRylhKATlNE9vRpjoBRBqcLyMYZyWDqYBQK5aiunwyCAEwxoK612AlEPQBEiJ/BhsGiCqihGh4+cAC4g2VZa0kmUghCcQ4jlYPAnqAyHoQtBIfgNJN9JjF+ZZC/u3O0uajGwrZwOQoB0MIJoxJEOA2cru7cRFMRt5lBCbSXBYNC6x6OaAKkgpU7ChLaSOgQXYct9W9mFAPVABm3l++vfadtJwAky0hsT53RtK8uAQElbuaLVBBUgUNhJ+LOVqieoXBaYTYLUwaCyeIQTaNJJqEwPgEArV/gcEORdz+/cVdPGsld720AK5d9V/dfDR8oguM/wpDJlokknAkDlPEMBYVAXfF1mHAFBxtLwtvkOQeAhNOmLrvgn69d03DOhDQgyCL7u9zyiO0ix4qfFJQccAM3V7t6Gtj+z8K8JJzaL29CSCr4pO6qdvbXp+IUhpYQirl97Kv6YagW7A0AwggxebewFIdhjWGFkQ7snq0dBCNoIqRXt3kjpABBY0u5JFoVdCFzxjYfxgv4V/1Nu+79drNm0x1E7OE4QtIZFhPy4KPiWbqDdCoNgDxAY3e7Jai/KCVDx52TPouCzEwuBH3r7MwuUJ0p5DX6ONsU+9vDM3qnkjbxBQFc8DfS8ULS0S5G2+0FAhNTzEvwc72h6zAncnjzh2T5m4Ld7vy99m1sAenc5D1tZtM4sfSC2xe2ejDZ6f1CIsAqrHoaJ5x0cyQt7orob0jp0enOGyRU/jfLROD8ACHeBKCcgrTKDB47wDKRIrYX90I0YSPBMdAN/du/xylUA8LqaUQ/P7rfknApEI25KwXMRY2k16h8i70UU04wtnT7Fs53boe2eZbN7abmAF/WPhRj0lHX5JP79enhWcnIuQHIGvXt/ZqHBMLtodDHIXaDW7xfcmBTh3gQz1RnkArEgELlkHefTzDQQ1RFIpYNAWqCnphZxXo1RiwNQifOLMjuVVHFejVIt7i/GhkC0jGs4t8akgXbiEASKRCxP1z8NXJZ5gxQEosioolvQuhuQTtvSu5cJm6nhfGupar+RwcQgECA0+UsT51y7OmCoST9nlP+Vt430WF08NEO9aMnY/LBvHnUzywoKReVqj9q+O6P+BeIBi+QIeJaSGgAqcUYFU4VAgEApYRcgZN4JTA1TCCadDoIdQwWtY6YAVJIAIDEngCMoASCxWizRXc7hCJnUAFNJApC4EwQcYUw4AtpHzYrA1J0g4Agd4QgtxC4RNdMCIDUn6HEFuptpGXEcWquyE0LaQSBAoKXrDRSM0gXgvL+5lPEQCBCK/GULdUIstQQAmRTYTtafjsNA1nYJcY68+sn+M12846j4pGI8gWqFMuJ+7OqvJjUApD0EARiWhSvkuVbwxNXfVPUHOKrPgBhTWM5hiiDrp6X8a1nlfm0h6CkcCYTFnPT9NdXB1w6CEBjmLEsT/pXfVJH3jYKgJ02QKywxs2966eZ8FrJhFCCQA4K6iAsGuYO/5c9GFoM9uYCgBwgCYVZDIPzAbw+74BMQDD/eQDBMKxhz6IjenjaKbiU9vQsIRoOiJGqIaeEUSQxTt0XQ98TXnslBtxqCAUVmEIZ+rhHM4W1di7kk9Z8AAwDeb3V6Q1bp/AAAAABJRU5ErkJggg=="})}else{var n=e.tpl("<img src='{{thumbnail}}' style='display: inline-block;max-width: 488px;'>",t)||"";a=e.tpl("<div style='border: 1px solid #cecece; border-radius: 5px; padding: 5px; box-shadow:0px 0px 15px -2px rgba(0,0,0,0.7);;'><div style='text-align:center;padding-bottom: 5px;'>{{img}}</div><div style='border-top: 1px solid #cecece;margin: 0px -5px 5px -5px; text-align: center; '><div style='padding:5px; margin-bottom: 5px; font-size: 12px;'>{{description}}</div><div><span style='padding:5px; border: 1px solid #cecece; border-radius: 5px; font-size: 10px; background-color: #eee;'><a target='_blank' href='{{url}}'>{{url}}</a></span></div></div></div>",{url:t.url,img:n,description:t.description})}return a}(i.url);return e.tpl("<div contenteditable='false' embed-name='{{name}}' embed-type='embed' class='xds-wysiwyg2-embeddedLink'>{{html}}</div>",{name:i.name,html:m})}if(r)return"<a embed-name='"+i.name+"' href='"+r+"'>"+i.name+"</a>";var v=" target='_blank'";i.nodetype!=e.nt.File(!0)&&(g=d,v="");var b={name:i.name,url:g,target:v};return e.tpl("<a embed-name='{{name}}' href='{{url}}'{{target}}>{{name}}</a>",b)}catch(e){}return!1},o={_contentPatches:{invalidImageUrls:function(e){for(var t=$(e).find(".xds-placeholder-fileThumbnail img"),a=0;a<t.length;a++)if(t[a].src.indexOf("http")>=0){var i=t[a].src.split("nodedl");t[a].src="/core/nodedl"+i[1]}}},_config:{resources:{basic:{css:[e.gbl.lib+"richText.css"]},mathquill:{css:[e.gbl.lib+"mathquill-0.9.4/mathquill.css"],js:e.gbl.lib+"mathquill-0.9.4/mathquillmodule.js"}},Quill:{}},types:{bookmark:function(e){e.ready(function(){e.xdsbuild({target:e.dom(),slice:{xds:{id:"EmbedRender",_desc:"Render Embedded Rich Object",type:"eval",_styles:[{styles:{border:"1px solid #cecece","border-radius":"5px",padding:"5px","text-align":"center",position:"relative","box-shadow":"0px 0px 15px -2px rgba(0,0,0,0.7);","margin-top":"5px"}},{condition:".embedly-embed",styles:{"max-width":"100%"}}],fields:[{id:"title",_styles:[{styles:{"text-align":"center","font-size":"16px","font-weight":"bold","padding-bottom":"5px"}}],sparse:"1",showif:"data"},{id:"videoPlayer",fields:[{id:"playicon",_styles:[{styles:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAYAAADnoNlQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACBZJREFUeNrsnU9oG0cUxmcXldCGJm5JTXtoIh8NLcj00ktriR56cm33FjDEgtCrrat7SAxNrrKvISCZGnKrY+fSHIplesklRKGFHLPxpTSUICd1QmhpO0+ZddfKrrQj7e782e+DRbZjEWvfb7/33szsrMMs1v7MQll86b+e5kcpxlvb/DgQX7f40Tl7a7Nt63lyLAn2mAguBXuaH0VxJC1PAHJfwNHmcHQAgbrAz4mAl2Ne3WmpLYDY5kC0AEE2gZ/lB72OafgnkivcFEDcBATJBZ6u8iWNA98PiCY/1jkQHiAYLviLIvglZr4oTWxwGJqAIF6B5we/yOwTOcKqbjA4ml35dcMs3woYHA2CPyeCX2T5E8FQVd1VOAqDT0FvsP8HcvIs6iRqqgpIVxEAl/nLQwBwJHLDe/y8LFvvBKLda1hS8afZSVSzdAU3QwCI8l0AMFBl4QqL1jiBaPsawvIgOTW5I1SNhgD2n4hobqKS5kSVkzIAuznp+9NWR4CQynS2mxIAlM/uAYDEROdxV4yp6O8EAoAG4paaqkmPNDoAACA4AAAgOAAAIDgAwHhVRp2AckYEoCS6AMjg9tEZAYAi2kBt5PFjatgBJXdIACjwWwBAG9EFuTvsm4cdLKJFIBgK1kslfnHWM0kHKAS117zscndHEgDUAWYUihMy9YFsOmgAAO01JuvUroQL0KKQMs6xEZqTmWxyYgKANGBxWojrBHUAYGRaqCfiBOIe/12cU2M1NWg00Y3pApC5qo/kBDqOCZz84jNWGH+P/XN4yA5/+pm/PkeYB6vvJFNhwJsvaZXkLi6wt7/68uj7U+e/Zn/u3GbPdn4EDIPj2JJ2Ah1d4MOd70N/TgB0rm92nQGSdwPXFBfoW9icfIu9u/QN++B6vZsuILl4OhEuQAMNW7p9iign6NXLXx+wgxtb7OUvDxD6GJ1ClBMsmfxJT3w0ycavrLDxqyu8iDyD0A+IqxPiAkX26o5hZqoT9Ipqhac3fmB/P/4DGDD2Tu8oomubC0S1lVQvnObdBNUPOddinHRg7Y2jp87PAwbGLvRNB7ovHB02HYSJUgOliJy2lRPB/Q/cQZTYKioY/bbyzU8/yRsEc/3SQe72ECAYzqwsdzuJEx9P5jIlOKakgqTTQb8xhidr1/LQSRylhKATlNE9vRpjoBRBqcLyMYZyWDqYBQK5aiunwyCAEwxoK612AlEPQBEiJ/BhsGiCqihGh4+cAC4g2VZa0kmUghCcQ4jlYPAnqAyHoQtBIfgNJN9JjF+ZZC/u3O0uajGwrZwOQoB0MIJoxJEOA2cru7cRFMRt5lBCbSXBYNC6x6OaAKkgpU7ChLaSOgQXYct9W9mFAPVABm3l++vfadtJwAky0hsT53RtK8uAQElbuaLVBBUgUNhJ+LOVqieoXBaYTYLUwaCyeIQTaNJJqEwPgEArV/gcEORdz+/cVdPGsld720AK5d9V/dfDR8oguM/wpDJlokknAkDlPEMBYVAXfF1mHAFBxtLwtvkOQeAhNOmLrvgn69d03DOhDQgyCL7u9zyiO0ix4qfFJQccAM3V7t6Gtj+z8K8JJzaL29CSCr4pO6qdvbXp+IUhpYQirl97Kv6YagW7A0AwggxebewFIdhjWGFkQ7snq0dBCNoIqRXt3kjpABBY0u5JFoVdCFzxjYfxgv4V/1Nu+79drNm0x1E7OE4QtIZFhPy4KPiWbqDdCoNgDxAY3e7Jai/KCVDx52TPouCzEwuBH3r7MwuUJ0p5DX6ONsU+9vDM3qnkjbxBQFc8DfS8ULS0S5G2+0FAhNTzEvwc72h6zAncnjzh2T5m4Ld7vy99m1sAenc5D1tZtM4sfSC2xe2ejDZ6f1CIsAqrHoaJ5x0cyQt7orob0jp0enOGyRU/jfLROD8ACHeBKCcgrTKDB47wDKRIrYX90I0YSPBMdAN/du/xylUA8LqaUQ/P7rfknApEI25KwXMRY2k16h8i70UU04wtnT7Fs53boe2eZbN7abmAF/WPhRj0lHX5JP79enhWcnIuQHIGvXt/ZqHBMLtodDHIXaDW7xfcmBTh3gQz1RnkArEgELlkHefTzDQQ1RFIpYNAWqCnphZxXo1RiwNQifOLMjuVVHFejVIt7i/GhkC0jGs4t8akgXbiEASKRCxP1z8NXJZ5gxQEosioolvQuhuQTtvSu5cJm6nhfGupar+RwcQgECA0+UsT51y7OmCoST9nlP+Vt430WF08NEO9aMnY/LBvHnUzywoKReVqj9q+O6P+BeIBi+QIeJaSGgAqcUYFU4VAgEApYRcgZN4JTA1TCCadDoIdQwWtY6YAVJIAIDEngCMoASCxWizRXc7hCJnUAFNJApC4EwQcYUw4AtpHzYrA1J0g4Agd4QgtxC4RNdMCIDUn6HEFuptpGXEcWquyE0LaQSBAoKXrDRSM0gXgvL+5lPEQCBCK/GULdUIstQQAmRTYTtafjsNA1nYJcY68+sn+M12846j4pGI8gWqFMuJ+7OqvJjUApD0EARiWhSvkuVbwxNXfVPUHOKrPgBhTWM5hiiDrp6X8a1nlfm0h6CkcCYTFnPT9NdXB1w6CEBjmLEsT/pXfVJH3jYKgJ02QKywxs2966eZ8FrJhFCCQA4K6iAsGuYO/5c9GFoM9uYCgBwgCYVZDIPzAbw+74BMQDD/eQDBMKxhz6IjenjaKbiU9vQsIRoOiJGqIaeEUSQxTt0XQ98TXnslBtxqCAUVmEIZ+rhHM4W1di7kk9Z8AAwDeb3V6Q1bp/AAAAABJRU5ErkJggg==)","margin-left":"-64px",position:"absolute",left:"50%","background-repeat":"no-repeat",height:"128px",width:"128px",top:"50%","margin-top":"-64px"}}],sparse:"1"},{id:"thumbnail",_styles:[{styles:{display:"inline-block",width:"100%","max-width":"480px","background-position":"center center"}}],type:"files.image",sparse:"1",tag:"div",aspect:"16:9",cdid:"videoThumbnailUrl"}],sparse:"1",showif:"data",_styles:[{styles:{position:"relative"}}]},{id:"text",fields:[{id:"thumbnail",type:"files.image",_styles:[{styles:{width:"100%",display:"inline-block"}}],tag:"img",cdid:"textThumbnailUrl"}],showif:"data",type:"eval",_func:"t.addAttr('href', t.get_val('url')).addAttr('target', '_blank').tag('a');"},{id:"description",_styles:[{styles:{padding:"10px","font-size":"10px"}}]},{id:"link",_styles:[{styles:{"padding-bottom":"5px","margin-top":"5px"}}],fields:[{id:"link",type:"span",_styles:[{styles:{padding:"5px",border:"1px solid #cecece","border-radius":"5px","font-size":"10px","background-color":"#eee"}}],sparse:"1",fields:[{id:"link",type:"link",target:"_blank",sparse:"1",cdid:"theUrl",title:"source:"}]}],sparse:"1"}],sparse:"1",_owner:"Timon",events:[{args:{bindif:"data:video"},func:"eval",_func:"xdo.target('*thumbnail').replaceWith(\"\" + cf.htmlentitiesdecode(xdo.data.video) + \"\");\nxdo.target('*playicon').remove();"}],_func:"t.tag('div');\nvar map = {\n    theUrl: t.data.url\n};\nif (t.data.video) {\n    map.videoThumbnailUrl = t.data.thumbnail\n} else {\n    map.textDescription = t.data['description'];\n    map.textThumbnailUrl = t.data.thumbnail;\n}\nt.map(map);",cdid:"videoThumbnailUrl"},data:e.data}})})},toolbar:function(e){e.sparse=!0,e.tag("div")},header:function(e){e.sparse=!0,e.inherit("block")},embeddedFiles:function(e){var t=e.global("registeredFiles")||{},a=e.global("registeredFilesByNID")||{};if(e.data&&e.data.file)for(var i in e.data.file)if(e.data.file.hasOwnProperty(i)){var n=e.data.file[i];t[n.name]=n,a[n.nid]=n}e.global("registeredFilesByNID",a),e.global("registeredFiles",t),e.inherit("sys")},separator:function(e){e.sparse=!0,e.tag("span").addClass("ql-format-separator")},group:function(e){e.sparse=!0,e.tag("span").addClass("ql-format-group")},button:function(e){e.sparse=!0,e.tag("span").addClass("ql-format-button"),e.arg("button")&&e.addClass("ql-"+e.arg("button")),e.on("mousedown",function(){e.trigger("xds-wysiwyg2-saveCursor")})},menu:function(e){e.sparse=!0,e.tag("select")},option:function(e){e.sparse=!0,e.tag("option").attr("value",e.arg("value")).attr("label",e.arg("label"))},hiddenInput:function(e){var t=e.data;e.data="",e.inherit("f_hidden"),e.ready(function(){e.data=t})},detect:function(t){t.data.indexOf("\x3c!--xdl-rich--\x3e")>=0?t.inherit("wysiwyg2.draw"):(t.data=e.nl2br(t.data),t.inherit("div"))},draw:function(t){t.xds.noLinks=!0,t.data||(t.data=""),(t.nt()==e.nt.Document.Resource()||t.data.indexOf("\x3c!--xdl-rich--\x3e")<0)&&(t.data=e.htmlentitiesdecode(t.data)),t.inherit("richtext2.types.richText").ready(function(t){"create"!=t.get_setting("command")&&e.get_func("wysiwyg2.replacePlaceholdersIfAny")(t)})},container:function(a){var r=a;if(a.xds.sparse=!0,a.arg("xdsUpload")&&a.state.set("xdsUpload",a.arg("xdsUpload")),r.arg("xdsAutoSave")){var o=r.get_val("autosave-body");r.set_val("autosave-body",""),o&&e.confirm({message:e.lang("Recover autosaved edit?"),subload:{caller:r,nid:r.nid(),xds:r.arg("xdsAutoSave"),css:{width:"400px",height:"400px","overflow-y":"auto",border:"1px solid #6e6e6e","text-align":"left"}},cancelButton:e.lang("Discard"),continueButton:e.lang("Recover")}).then(function(){r.temp.editor.setContent(o)}).catch(function(){e.get("cfnp").put(r,{xds:r.arg("xdsAutoSave"),postData:{body:""}})}),r.on("setFormDirty",function(){if(!r.temp.autoSaveTimeout){var a=r.arg("autoSaveFrequencyMS")||3e4;e.log.debug("wysiwyg2.container[setFormDirty]: auto-saving in ".concat(a/1e3," seconds")),r.temp.autoSaveTimeout=t.setTimeout(function(){var t=e.get("neweditors").prepareMCETextArea(r.temp.editor.id);e.get("cfnp").put(r,{xds:r.arg("xdsAutoSave"),postData:{body:t}}),delete r.temp.autoSaveTimeout},a)}})}a.on("xds-wysiwyg2-editorReady",function(e){e.temp.editor=e.get_arg("editor")}).on("xds-wysiwyg2-editorCreated",function(t){t.temp.editor=t.get_arg("editor"),e.get_func("wysiwyg2.replacePlaceholders")(t)}).on("xdo-wysiwyg2-saveSelection",function(e){e.temp.selectionRange=e.get_arg("selectionRange")}).on("xds-uploader-fileComplete",function(e){var t=e.get_arg("fileItem").name;a.trigger("xds-wysiwyg2-injectHTML",{snippet:n(t)})}).on("xds-uploader-uploadComplete",function(t){t.target("*rich-file").trigger("xds-uploader-resetQueue"),a.global("registeredFiles",i),e.get_func("wysiwyg2.replacePlaceholders")(t)}).on("xds-wysiwyg2-injectHTML",function(e){e.target("*rich-file").trigger("xds-uploader-resetQueue");var t=e.get_arg("snippet");!function(e,t){var a=CKEDITOR.dom.element.createFromHtml(t);e.temp.editor.insertElement(a)}(e,t)}).on("xds-wysiwyg2-externalToolbarCommand",function(e){a.target("*toolbar").xdo.target(e.get_arg("toolbarItem")).trigger("launchPicker")})},fileSource:function(e){var t=e.global("wysiwyg2FileSources")||[],a={nid:e.nid(),xds:e.arg("xdsList")};t.push(a),e.global("wysiwyg2FileSources",t)}},fn:{open:function(e){e.parent_xdo().parent_xdo().parent_xdo().temp,e.event("lightbox.open",{seedContent:""})},processHTMLForSave:function(e){var t=e.temp.editor,a=e.global("registeredFiles"),r=t.getData(),o=r;if(e.arg("saveDenormalized")===i||e.arg("saveDenormalized")){var s=$("<iframe></iframe>");$(r).appendTo(s);for(var d=s.find("img, a"),l=0;l<d.length;l++){var c=$(d[l]),u=c.attr("src")||c.attr("href");if(u){var f=c.attr("style"),g=u.split("?")[0].split("/"),p=g[g.length-1];for(var h in a)if(a[h].nid==p){c.replaceWith(n(h,f));break}}}o=s.html()}return o},getFormattedHTML:function(e){return o.fn.processHTMLForSave(e.parent_xdo())},isEditor:function(e){return e.parent_xdo()&&e.parent_xdo().temp&&e.parent_xdo().temp.editor!==i},injectFile:function(t){var a=t.get_arg("file"),i=!1,n=e.tpl("{{nodetype}}.{{nodesubtype}}",a);if(a.file||n==e.nt.Document.Content()||n==e.nt.Document.Link()){if(e.tpl("{{nodetype}}.{{nodesubtype}}",a)==e.nt.Document.Link()&&!(a=t.global("registeredFiles")[a.name]))return;var o=t.get_val("baseUrl").split("/").length-1,s=[];if(0==o)s="./";else{for(var d=0;d<o;d++)s.push("..");s=s.join("/")+"/"}i=a.file&&0==a.file.ContentType.indexOf("image/")?r(t,a,"",s+a.name,"img"):r(t,a,"",s+a.name,"href")}i&&t.trigger("xds-wysiwyg2-injectHTML",{snippet:i})},parseplaceholders:function(e,t){for(var a=0;a<e.length;a++){var n=$(e[a]),o=n.attr("embed-name")||n.attr("resource-name");if(o&&"undefined"!=o){var s=n.attr("embed-style");if("undefined"!=s&&s!==i||(s="max-width: 100%;"),t){if(t[o]){var d=t[o];n.replaceWith(r(xdo,d,s))}}else{var l=r({},{name:o},s,n.attr("src")||n.attr("href"));l&&n.replaceWith(l)}}}},replacePlaceholdersIfAny:function(t){t.dom().find("*[embed-name],*[resource-name],.xds-placeholder-contained").length>0&&e.get_func("wysiwyg2.replacePlaceholders")(t)},replacePlaceholders:function(t){var a=t.global("wysiwyg2FileSources")||[],o=t.global("registeredFiles"),s=t.global("registeredFilesByNID")||{},d=function(a,i){return new Promise(function(n,r){e.ajax({url:{nid:a,xds:i},xdo:t,callback:function(e){var t={},i=e.slices[0].data.file;for(var r in i){var o=i[r];o.pnid=a,t[o.name]=o}n(t)},error:function(e){r(e)}})}).then(function(e){for(var t in e)o[t]||(o[t]=e[t],s[e[t].nid]=e[t])})},l=function(){var e=t;if(t.temp.editor){var a=t.temp.editor.getData(),s="<div/>";a.toLowerCase().indexOf("<html")>=0&&(s="<iframe></iframe>"),e=$(s),$(a).appendTo(e)}!function(e){for(var t=e.find(".xds-placeholder-contained"),a=0;a<t.length;a++){var i,r=t[a],s=!1,d=r.className.split(" ");for(i=0;i<d.length;i++)if(0==d[i].indexOf("nid-")){s=d[i].split("-").pop();break}for(i in o)if(o[i].nid==parseInt(s)){$(r).replaceWith(n(o[i].name));break}}}(e),function(e){for(var a=0;a<e.length;a++){var n=$(e[a]),s=n.attr("embed-name")||n.attr("resource-name");if(s&&"undefined"!=s){var d=n.attr("embed-style");if("undefined"!=d&&d!==i||(d="max-width: 100%;"),o[s]){var l=o[s];n.replaceWith(r(t,l,d))}}}}(e.find("*[embed-name],*[resource-name]")),t.temp.editor&&t.temp.editor.setData(e.html())};o===i&&(o={});for(var c=[d(t.cnid(),"RichTextEmbeddedFiles")],u=0;u<a.length;u++){var f=a[u];c.push(d(f.nid,f.xds))}c?Promise.all(c).done(function(){t.global("registeredFiles",o),t.global("registeredFilesByNID",s),l()}):l()}}};return o}),cf.module("zendesk",function(e){var t={_apikey:"89321209-8a66-478e-bd47-a49142e35098",_loaded:!1,widget:function(a){if(a.attr("role","button"),e.platform.mobile)return!1;var i="zendesk",n=a.get_val("apikey"),r=e.get_func("currentUserIsStaffType")(a);if(a.get_val("config"))try{var o=a.get_val("config");if(o)for(var s in o)if(a.has_role(s)){i=o[s].mode,n=o[s].opts||n,r=!0;break}}catch(e){}if(!r)return!1;a.tag("div").preclosetag("?"),"zendesk"==i?(a.sparse=!0,a.on("click",function(){var a,i=function(){zE.activate({hideOnClose:!0})};t._loaded?i():(a=i,window.zESettings={webWidget:{color:{theme:"#FFF"}}},e.get("resourceutils").load([{name:"zendesk",injectdirect:!0,tagid:"ze-snippet",initTest:function(e){return void 0!==e._zendeskrsrc||(e._zendeskrsrc=!0,!1)},loadedTest:function(){return!!window.zE},main:["https://static.zdassets.com/ekr/snippet.js?key=".concat(n)],postFunc:function(){}}]).then(function(){zE(function(){t._loaded=!0,zE.hide(),zE.identify({name:e.gbl.user.name,email:e.gbl.user.email||"",externalId:(e.gbl.user.guid||"NID_"+e.gbl.user.nid+"_"+document.location.hostname).replace(/ /g,"_")}),a&&a()})}))})):"link"==i&&a.on("click",function(){e.links.openUrl(n,"_blank").opener=null}),a.ready(function(){a.dom().show()})}};return t}),cf.module("zoomable",function(e,t,a){var i={injectdirect:!0,initTest:function(e){return void 0!==e._hammer||(e._hammer=!0,!1)},loadedTest:function(){return!!t.Hammer},main:["{{gbl_lib}}pkg/node_modules/hammerjs/hammer.min.js"],postFunc:function(){}};return{image:function(t){t.addChild({xds:{id:"image",tag:"img",disallowCanvas:!0,type:"files.standardimage",noPath:t.arg("noPath")||!1,_styles:[{styles:{position:"relative",left:"0px",top:"0px",width:"var(--viewport-width)"}}]},data:t.data}),e.get("resourceutils").xdoReady(t,i).then(function(a){var i,n,r=t.target("*image"),o=r[0].width,s=r[0].height,d=r[0].offsetLeft,l=r[0].offsetTop;r.css({width:o+"px",position:"absolute",top:l+"px",left:d+"px"});var c=new Hammer(t.dom()[0],{domEvents:!0});c.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL,threshold:10})),c.get("pinch").set({enable:!0}),c.on("pan",function(t){e.log.debug("zoomable.image:pan"),r[0].style.left=d+t.deltaX+"px",r[0].style.top=l+t.deltaY+"px",t.isFinal&&(d=r[0].offsetLeft,l=r[0].offsetTop)}),c.on("pinch",function(t){e.log.debug("zoomable.image[pinch]"+t.scale),e.log.debug("zoomable.image[pinch]: initial=(".concat(o,",").concat(s,")")),0==s&&(s=r[0].height);var a=o*t.scale,c=a-o,u=s*t.scale-s;e.log.debug("zoomable.image[pinch]: newWidth="+a),r[0].style.width=a+"px",i=d-c/2,n=l-u/2,e.log.debug("zoomable.image[pinch]: new offset: ".concat(i,", ").concat(n)),r[0].style.left=i+"px",r[0].style.top=n+"px"}),c.on("pinchend",function(t){e.log.debug("zoomable.image[pinchend]"),o*=t.scale,s*=t.scale,d=i,l=n})}),t.addStyle("width","var(--viewport-width)").addStyle("overflow","hidden")}}});